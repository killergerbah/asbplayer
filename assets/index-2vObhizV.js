function FN(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Eg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function BN(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Pb={exports:{}},sf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qC;function $N(){if(qC)return sf;qC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:n,key:l,ref:i!==void 0?i:null,props:a}}return sf.Fragment=e,sf.jsx=r,sf.jsxs=r,sf}var WC;function DN(){return WC||(WC=1,Pb.exports=$N()),Pb.exports}var m=DN(),_b={exports:{}},lf={},Mb={exports:{}},jb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KC;function zN(){return KC||(KC=1,function(t){function e(U,X){var q=U.length;U.push(X);e:for(;0<q;){var Z=q-1>>>1,F=U[Z];if(0<i(F,X))U[Z]=X,U[q]=F,q=Z;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var X=U[0],q=U.pop();if(q!==X){U[0]=q;e:for(var Z=0,F=U.length,D=F>>>1;Z<D;){var J=2*(Z+1)-1,ee=U[J],te=J+1,ie=U[te];if(0>i(ee,q))te<F&&0>i(ie,ee)?(U[Z]=ie,U[te]=q,Z=te):(U[Z]=ee,U[J]=q,Z=J);else if(te<F&&0>i(ie,q))U[Z]=ie,U[te]=q,Z=te;else break e}}return X}function i(U,X){var q=U.sortIndex-X.sortIndex;return q!==0?q:U.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],h=1,g=null,p=3,S=!1,b=!1,v=!1,k=!1,T=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function R(U){for(var X=r(f);X!==null;){if(X.callback===null)n(f);else if(X.startTime<=U)n(f),X.sortIndex=X.expirationTime,e(d,X);else break;X=r(f)}}function O(U){if(v=!1,R(U),!b)if(r(d)!==null)b=!0,M||(M=!0,z());else{var X=r(f);X!==null&&G(O,X.startTime-U)}}var M=!1,j=-1,$=5,V=-1;function N(){return k?!0:!(t.unstable_now()-V<$)}function W(){if(k=!1,M){var U=t.unstable_now();V=U;var X=!0;try{e:{b=!1,v&&(v=!1,A(j),j=-1),S=!0;var q=p;try{t:{for(R(U),g=r(d);g!==null&&!(g.expirationTime>U&&N());){var Z=g.callback;if(typeof Z=="function"){g.callback=null,p=g.priorityLevel;var F=Z(g.expirationTime<=U);if(U=t.unstable_now(),typeof F=="function"){g.callback=F,R(U),X=!0;break t}g===r(d)&&n(d),R(U)}else n(d);g=r(d)}if(g!==null)X=!0;else{var D=r(f);D!==null&&G(O,D.startTime-U),X=!1}}break e}finally{g=null,p=q,S=!1}X=void 0}}finally{X?z():M=!1}}}var z;if(typeof w=="function")z=function(){w(W)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,B=I.port2;I.port1.onmessage=W,z=function(){B.postMessage(null)}}else z=function(){T(W,0)};function G(U,X){j=T(function(){U(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var q=p;p=X;try{return U()}finally{p=q}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var q=p;p=U;try{return X()}finally{p=q}},t.unstable_scheduleCallback=function(U,X,q){var Z=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Z+q:Z):q=Z,U){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=q+F,U={id:h++,callback:X,priorityLevel:U,startTime:q,expirationTime:F,sortIndex:-1},q>Z?(U.sortIndex=q,e(f,U),r(d)===null&&U===r(f)&&(v?(A(j),j=-1):v=!0,G(O,q-Z))):(U.sortIndex=F,e(d,U),b||S||(b=!0,M||(M=!0,z()))),U},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(U){var X=p;return function(){var q=p;p=X;try{return U.apply(this,arguments)}finally{p=q}}}}(jb)),jb}var GC;function UN(){return GC||(GC=1,Mb.exports=zN()),Mb.exports}var Nb={exports:{}},Qr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC;function HN(){if(YC)return Qr;YC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function p(F){return F===null||typeof F!="object"?null:(F=g&&F[g]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,v={};function k(F,D,J){this.props=F,this.context=D,this.refs=v,this.updater=J||S}k.prototype.isReactComponent={},k.prototype.setState=function(F,D){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,D,"setState")},k.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function T(){}T.prototype=k.prototype;function A(F,D,J){this.props=F,this.context=D,this.refs=v,this.updater=J||S}var w=A.prototype=new T;w.constructor=A,b(w,k.prototype),w.isPureReactComponent=!0;var R=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function j(F,D,J,ee,te,ie){return J=ie.ref,{$$typeof:t,type:F,key:D,ref:J!==void 0?J:null,props:ie}}function $(F,D){return j(F.type,D,void 0,void 0,void 0,F.props)}function V(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function N(F){var D={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(J){return D[J]})}var W=/\/+/g;function z(F,D){return typeof F=="object"&&F!==null&&F.key!=null?N(""+F.key):D.toString(36)}function I(){}function B(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(I,I):(F.status="pending",F.then(function(D){F.status==="pending"&&(F.status="fulfilled",F.value=D)},function(D){F.status==="pending"&&(F.status="rejected",F.reason=D)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function G(F,D,J,ee,te){var ie=typeof F;(ie==="undefined"||ie==="boolean")&&(F=null);var oe=!1;if(F===null)oe=!0;else switch(ie){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(F.$$typeof){case t:case e:oe=!0;break;case h:return oe=F._init,G(oe(F._payload),D,J,ee,te)}}if(oe)return te=te(F),oe=ee===""?"."+z(F,0):ee,R(te)?(J="",oe!=null&&(J=oe.replace(W,"$&/")+"/"),G(te,D,J,"",function(Q){return Q})):te!=null&&(V(te)&&(te=$(te,J+(te.key==null||F&&F.key===te.key?"":(""+te.key).replace(W,"$&/")+"/")+oe)),D.push(te)),1;oe=0;var ke=ee===""?".":ee+":";if(R(F))for(var ve=0;ve<F.length;ve++)ee=F[ve],ie=ke+z(ee,ve),oe+=G(ee,D,J,ie,te);else if(ve=p(F),typeof ve=="function")for(F=ve.call(F),ve=0;!(ee=F.next()).done;)ee=ee.value,ie=ke+z(ee,ve++),oe+=G(ee,D,J,ie,te);else if(ie==="object"){if(typeof F.then=="function")return G(B(F),D,J,ee,te);throw D=String(F),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return oe}function U(F,D,J){if(F==null)return F;var ee=[],te=0;return G(F,ee,"","",function(ie){return D.call(J,ie,te++)}),ee}function X(F){if(F._status===-1){var D=F._result;D=D(),D.then(function(J){(F._status===0||F._status===-1)&&(F._status=1,F._result=J)},function(J){(F._status===0||F._status===-1)&&(F._status=2,F._result=J)}),F._status===-1&&(F._status=0,F._result=D)}if(F._status===1)return F._result.default;throw F._result}var q=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function Z(){}return Qr.Children={map:U,forEach:function(F,D,J){U(F,function(){D.apply(this,arguments)},J)},count:function(F){var D=0;return U(F,function(){D++}),D},toArray:function(F){return U(F,function(D){return D})||[]},only:function(F){if(!V(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Qr.Component=k,Qr.Fragment=r,Qr.Profiler=i,Qr.PureComponent=A,Qr.StrictMode=n,Qr.Suspense=d,Qr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Qr.__COMPILER_RUNTIME={__proto__:null,c:function(F){return O.H.useMemoCache(F)}},Qr.cache=function(F){return function(){return F.apply(null,arguments)}},Qr.cloneElement=function(F,D,J){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ee=b({},F.props),te=F.key,ie=void 0;if(D!=null)for(oe in D.ref!==void 0&&(ie=void 0),D.key!==void 0&&(te=""+D.key),D)!M.call(D,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&D.ref===void 0||(ee[oe]=D[oe]);var oe=arguments.length-2;if(oe===1)ee.children=J;else if(1<oe){for(var ke=Array(oe),ve=0;ve<oe;ve++)ke[ve]=arguments[ve+2];ee.children=ke}return j(F.type,te,void 0,void 0,ie,ee)},Qr.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:a,_context:F},F},Qr.createElement=function(F,D,J){var ee,te={},ie=null;if(D!=null)for(ee in D.key!==void 0&&(ie=""+D.key),D)M.call(D,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(te[ee]=D[ee]);var oe=arguments.length-2;if(oe===1)te.children=J;else if(1<oe){for(var ke=Array(oe),ve=0;ve<oe;ve++)ke[ve]=arguments[ve+2];te.children=ke}if(F&&F.defaultProps)for(ee in oe=F.defaultProps,oe)te[ee]===void 0&&(te[ee]=oe[ee]);return j(F,ie,void 0,void 0,null,te)},Qr.createRef=function(){return{current:null}},Qr.forwardRef=function(F){return{$$typeof:c,render:F}},Qr.isValidElement=V,Qr.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:X}},Qr.memo=function(F,D){return{$$typeof:f,type:F,compare:D===void 0?null:D}},Qr.startTransition=function(F){var D=O.T,J={};O.T=J;try{var ee=F(),te=O.S;te!==null&&te(J,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Z,q)}catch(ie){q(ie)}finally{O.T=D}},Qr.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Qr.use=function(F){return O.H.use(F)},Qr.useActionState=function(F,D,J){return O.H.useActionState(F,D,J)},Qr.useCallback=function(F,D){return O.H.useCallback(F,D)},Qr.useContext=function(F){return O.H.useContext(F)},Qr.useDebugValue=function(){},Qr.useDeferredValue=function(F,D){return O.H.useDeferredValue(F,D)},Qr.useEffect=function(F,D,J){var ee=O.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(F,D)},Qr.useId=function(){return O.H.useId()},Qr.useImperativeHandle=function(F,D,J){return O.H.useImperativeHandle(F,D,J)},Qr.useInsertionEffect=function(F,D){return O.H.useInsertionEffect(F,D)},Qr.useLayoutEffect=function(F,D){return O.H.useLayoutEffect(F,D)},Qr.useMemo=function(F,D){return O.H.useMemo(F,D)},Qr.useOptimistic=function(F,D){return O.H.useOptimistic(F,D)},Qr.useReducer=function(F,D,J){return O.H.useReducer(F,D,J)},Qr.useRef=function(F){return O.H.useRef(F)},Qr.useState=function(F){return O.H.useState(F)},Qr.useSyncExternalStore=function(F,D,J){return O.H.useSyncExternalStore(F,D,J)},Qr.useTransition=function(){return O.H.useTransition()},Qr.version="19.1.0",Qr}var XC;function Gg(){return XC||(XC=1,Nb.exports=HN()),Nb.exports}var Ib={exports:{}},io={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC;function VN(){if(ZC)return io;ZC=1;var t=Gg();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:f,implementation:h}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return io.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,io.createPortal=function(d,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,h)},io.flushSync=function(d){var f=l.T,h=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=h,n.d.f()}},io.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},io.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},io.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var h=f.as,g=c(h,f.crossOrigin),p=typeof f.integrity=="string"?f.integrity:void 0,S=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:p,fetchPriority:S}):h==="script"&&n.d.X(d,{crossOrigin:g,integrity:p,fetchPriority:S,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},io.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=c(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},io.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,g=c(h,f.crossOrigin);n.d.L(d,h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},io.preloadModule=function(d,f){if(typeof d=="string")if(f){var h=c(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},io.requestFormReset=function(d){n.d.r(d)},io.unstable_batchedUpdates=function(d,f){return d(f)},io.useFormState=function(d,f,h){return l.H.useFormState(d,f,h)},io.useFormStatus=function(){return l.H.useHostTransitionStatus()},io.version="19.1.0",io}var QC;function KP(){if(QC)return Ib.exports;QC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ib.exports=VN(),Ib.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC;function qN(){if(JC)return lf;JC=1;var t=UN(),e=Gg(),r=KP();function n(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var s=o,u=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(u=s.return),o=s.return;while(o)}return s.tag===3?u:null}function l(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(n(188))}function d(o){var s=o.alternate;if(!s){if(s=a(o),s===null)throw Error(n(188));return s!==o?null:o}for(var u=o,y=s;;){var E=u.return;if(E===null)break;var _=E.alternate;if(_===null){if(y=E.return,y!==null){u=y;continue}break}if(E.child===_.child){for(_=E.child;_;){if(_===u)return c(E),o;if(_===y)return c(E),s;_=_.sibling}throw Error(n(188))}if(u.return!==y.return)u=E,y=_;else{for(var K=!1,ne=E.child;ne;){if(ne===u){K=!0,u=E,y=_;break}if(ne===y){K=!0,y=E,u=_;break}ne=ne.sibling}if(!K){for(ne=_.child;ne;){if(ne===u){K=!0,u=_,y=E;break}if(ne===y){K=!0,y=_,u=E;break}ne=ne.sibling}if(!K)throw Error(n(189))}}if(u.alternate!==y)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?o:s}function f(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=f(o),s!==null)return s;o=o.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),w=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function z(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var I=Symbol.for("react.client.reference");function B(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===I?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case b:return"Fragment";case k:return"Profiler";case v:return"StrictMode";case O:return"Suspense";case M:return"SuspenseList";case V:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case S:return"Portal";case w:return(o.displayName||"Context")+".Provider";case A:return(o._context.displayName||"Context")+".Consumer";case R:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case j:return s=o.displayName||null,s!==null?s:B(o.type)||"Memo";case $:s=o._payload,o=o._init;try{return B(o(s))}catch{}}return null}var G=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},Z=[],F=-1;function D(o){return{current:o}}function J(o){0>F||(o.current=Z[F],Z[F]=null,F--)}function ee(o,s){F++,Z[F]=o.current,o.current=s}var te=D(null),ie=D(null),oe=D(null),ke=D(null);function ve(o,s){switch(ee(oe,s),ee(ie,o),ee(te,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?vC(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=vC(s),o=SC(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}J(te),ee(te,o)}function Q(){J(te),J(ie),J(oe)}function de(o){o.memoizedState!==null&&ee(ke,o);var s=te.current,u=SC(s,o.type);s!==u&&(ee(ie,o),ee(te,u))}function we(o){ie.current===o&&(J(te),J(ie)),ke.current===o&&(J(ke),tf._currentValue=q)}var ue=Object.prototype.hasOwnProperty,rt=t.unstable_scheduleCallback,ye=t.unstable_cancelCallback,Le=t.unstable_shouldYield,ut=t.unstable_requestPaint,Be=t.unstable_now,bt=t.unstable_getCurrentPriorityLevel,Ot=t.unstable_ImmediatePriority,Mt=t.unstable_UserBlockingPriority,et=t.unstable_NormalPriority,ht=t.unstable_LowPriority,Bt=t.unstable_IdlePriority,_t=t.log,it=t.unstable_setDisableYieldValue,je=null,qe=null;function Oe(o){if(typeof _t=="function"&&it(o),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(je,o)}catch{}}var ot=Math.clz32?Math.clz32:Pt,Se=Math.log,vt=Math.LN2;function Pt(o){return o>>>=0,o===0?32:31-(Se(o)/vt|0)|0}var se=256,le=4194304;function st(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function $e(o,s,u){var y=o.pendingLanes;if(y===0)return 0;var E=0,_=o.suspendedLanes,K=o.pingedLanes;o=o.warmLanes;var ne=y&134217727;return ne!==0?(y=ne&~_,y!==0?E=st(y):(K&=ne,K!==0?E=st(K):u||(u=ne&~o,u!==0&&(E=st(u))))):(ne=y&~_,ne!==0?E=st(ne):K!==0?E=st(K):u||(u=y&~o,u!==0&&(E=st(u)))),E===0?0:s!==0&&s!==E&&(s&_)===0&&(_=E&-E,u=s&-s,_>=u||_===32&&(u&4194048)!==0)?s:E}function Xt(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function Et(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yr(){var o=se;return se<<=1,(se&4194048)===0&&(se=256),o}function fe(){var o=le;return le<<=1,(le&62914560)===0&&(le=4194304),o}function xe(o){for(var s=[],u=0;31>u;u++)s.push(o);return s}function dt(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function qt(o,s,u,y,E,_){var K=o.pendingLanes;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=u,o.entangledLanes&=u,o.errorRecoveryDisabledLanes&=u,o.shellSuspendCounter=0;var ne=o.entanglements,me=o.expirationTimes,ze=o.hiddenUpdates;for(u=K&~u;0<u;){var pt=31-ot(u),xt=1<<pt;ne[pt]=0,me[pt]=-1;var Ge=ze[pt];if(Ge!==null)for(ze[pt]=null,pt=0;pt<Ge.length;pt++){var Xe=Ge[pt];Xe!==null&&(Xe.lane&=-536870913)}u&=~xt}y!==0&&ir(o,y,0),_!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=_&~(K&~s))}function ir(o,s,u){o.pendingLanes|=s,o.suspendedLanes&=~s;var y=31-ot(s);o.entangledLanes|=s,o.entanglements[y]=o.entanglements[y]|1073741824|u&4194090}function zt(o,s){var u=o.entangledLanes|=s;for(o=o.entanglements;u;){var y=31-ot(u),E=1<<y;E&s|o[y]&s&&(o[y]|=s),u&=~E}}function Jt(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function jt(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function hr(){var o=X.p;return o!==0?o:(o=window.event,o===void 0?32:$C(o.type))}function At(o,s){var u=X.p;try{return X.p=o,s()}finally{X.p=u}}var Tt=Math.random().toString(36).slice(2),St="__reactFiber$"+Tt,kt="__reactProps$"+Tt,Ut="__reactContainer$"+Tt,Ft="__reactEvents$"+Tt,Nr="__reactListeners$"+Tt,Vr="__reactHandles$"+Tt,$r="__reactResources$"+Tt,wr="__reactMarker$"+Tt;function Pr(o){delete o[St],delete o[kt],delete o[Ft],delete o[Nr],delete o[Vr]}function Hr(o){var s=o[St];if(s)return s;for(var u=o.parentNode;u;){if(s=u[Ut]||u[St]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(o=CC(o);o!==null;){if(u=o[St])return u;o=CC(o)}return s}o=u,u=o.parentNode}return null}function Kr(o){if(o=o[St]||o[Ut]){var s=o.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return o}return null}function Ue(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(n(33))}function We(o){var s=o[$r];return s||(s=o[$r]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ct(o){o[wr]=!0}var cr=new Set,dr={};function Tr(o,s){Lr(o,s),Lr(o+"Capture",s)}function Lr(o,s){for(dr[o]=s,o=0;o<s.length;o++)cr.add(s[o])}var br=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bn={},Sn={};function xr(o){return ue.call(Sn,o)?!0:ue.call(bn,o)?!1:br.test(o)?Sn[o]=!0:(bn[o]=!0,!1)}function mr(o,s,u){if(xr(s))if(u===null)o.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var y=s.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+u)}}function ei(o,s,u){if(u===null)o.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+u)}}function ar(o,s,u,y){if(y===null)o.removeAttribute(u);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttributeNS(s,u,""+y)}}var an,Ir;function gn(o){if(an===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);an=s&&s[1]||"",Ir=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+an+o+Ir}var lt=!1;function Er(o,s){if(!o||lt)return"";lt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(s){var xt=function(){throw Error()};if(Object.defineProperty(xt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xt,[])}catch(Xe){var Ge=Xe}Reflect.construct(o,[],xt)}else{try{xt.call()}catch(Xe){Ge=Xe}o.call(xt.prototype)}}else{try{throw Error()}catch(Xe){Ge=Xe}(xt=o())&&typeof xt.catch=="function"&&xt.catch(function(){})}}catch(Xe){if(Xe&&Ge&&typeof Xe.stack=="string")return[Xe.stack,Ge.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=y.DetermineComponentFrameRoot(),K=_[0],ne=_[1];if(K&&ne){var me=K.split(`
`),ze=ne.split(`
`);for(E=y=0;y<me.length&&!me[y].includes("DetermineComponentFrameRoot");)y++;for(;E<ze.length&&!ze[E].includes("DetermineComponentFrameRoot");)E++;if(y===me.length||E===ze.length)for(y=me.length-1,E=ze.length-1;1<=y&&0<=E&&me[y]!==ze[E];)E--;for(;1<=y&&0<=E;y--,E--)if(me[y]!==ze[E]){if(y!==1||E!==1)do if(y--,E--,0>E||me[y]!==ze[E]){var pt=`
`+me[y].replace(" at new "," at ");return o.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",o.displayName)),pt}while(1<=y&&0<=E);break}}}finally{lt=!1,Error.prepareStackTrace=u}return(u=o?o.displayName||o.name:"")?gn(u):""}function Wt(o){switch(o.tag){case 26:case 27:case 5:return gn(o.type);case 16:return gn("Lazy");case 13:return gn("Suspense");case 19:return gn("SuspenseList");case 0:case 15:return Er(o.type,!1);case 11:return Er(o.type.render,!1);case 1:return Er(o.type,!0);case 31:return gn("Activity");default:return""}}function Ke(o){try{var s="";do s+=Wt(o),o=o.return;while(o);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function mt(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function $t(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Yt(o){var s=$t(o)?"checked":"value",u=Object.getOwnPropertyDescriptor(o.constructor.prototype,s),y=""+o[s];if(!o.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var E=u.get,_=u.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return E.call(this)},set:function(K){y=""+K,_.call(this,K)}}),Object.defineProperty(o,s,{enumerable:u.enumerable}),{getValue:function(){return y},setValue:function(K){y=""+K},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Ar(o){o._valueTracker||(o._valueTracker=Yt(o))}function Dr(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var u=s.getValue(),y="";return o&&(y=$t(o)?o.checked?"true":"false":o.value),o=y,o!==u?(s.setValue(o),!0):!1}function en(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var ji=/[\n"\\]/g;function xn(o){return o.replace(ji,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function po(o,s,u,y,E,_,K,ne){o.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?o.type=K:o.removeAttribute("type"),s!=null?K==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+mt(s)):o.value!==""+mt(s)&&(o.value=""+mt(s)):K!=="submit"&&K!=="reset"||o.removeAttribute("value"),s!=null?ho(o,K,mt(s)):u!=null?ho(o,K,mt(u)):y!=null&&o.removeAttribute("value"),E==null&&_!=null&&(o.defaultChecked=!!_),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?o.name=""+mt(ne):o.removeAttribute("name")}function ko(o,s,u,y,E,_,K,ne){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),s!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||s!=null))return;u=u!=null?""+mt(u):"",s=s!=null?""+mt(s):u,ne||s===o.value||(o.value=s),o.defaultValue=s}y=y??E,y=typeof y!="function"&&typeof y!="symbol"&&!!y,o.checked=ne?o.checked:!!y,o.defaultChecked=!!y,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(o.name=K)}function ho(o,s,u){s==="number"&&en(o.ownerDocument)===o||o.defaultValue===""+u||(o.defaultValue=""+u)}function Ni(o,s,u,y){if(o=o.options,s){s={};for(var E=0;E<u.length;E++)s["$"+u[E]]=!0;for(u=0;u<o.length;u++)E=s.hasOwnProperty("$"+o[u].value),o[u].selected!==E&&(o[u].selected=E),E&&y&&(o[u].defaultSelected=!0)}else{for(u=""+mt(u),s=null,E=0;E<o.length;E++){if(o[E].value===u){o[E].selected=!0,y&&(o[E].defaultSelected=!0);return}s!==null||o[E].disabled||(s=o[E])}s!==null&&(s.selected=!0)}}function ii(o,s,u){if(s!=null&&(s=""+mt(s),s!==o.value&&(o.value=s),u==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=u!=null?""+mt(u):""}function Ra(o,s,u,y){if(s==null){if(y!=null){if(u!=null)throw Error(n(92));if(G(y)){if(1<y.length)throw Error(n(93));y=y[0]}u=y}u==null&&(u=""),s=u}u=mt(s),o.defaultValue=u,y=o.textContent,y===u&&y!==""&&y!==null&&(o.value=y)}function Co(o,s){if(s){var u=o.firstChild;if(u&&u===o.lastChild&&u.nodeType===3){u.nodeValue=s;return}}o.textContent=s}var tn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oa(o,s,u){var y=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?y?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":y?o.setProperty(s,u):typeof u!="number"||u===0||tn.has(s)?s==="float"?o.cssFloat=u:o[s]=(""+u).trim():o[s]=u+"px"}function Io(o,s,u){if(s!=null&&typeof s!="object")throw Error(n(62));if(o=o.style,u!=null){for(var y in u)!u.hasOwnProperty(y)||s!=null&&s.hasOwnProperty(y)||(y.indexOf("--")===0?o.setProperty(y,""):y==="float"?o.cssFloat="":o[y]="");for(var E in s)y=s[E],s.hasOwnProperty(E)&&u[E]!==y&&oa(o,E,y)}else for(var _ in s)s.hasOwnProperty(_)&&oa(o,_,s[_])}function Oa(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(o){return Vi.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Ve=null;function Ht(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var sr=null,Gt=null;function _r(o){var s=Kr(o);if(s&&(o=s.stateNode)){var u=o[kt]||null;e:switch(o=s.stateNode,s.type){case"input":if(po(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=o;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+xn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var y=u[s];if(y!==o&&y.form===o.form){var E=y[kt]||null;if(!E)throw Error(n(90));po(y,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(s=0;s<u.length;s++)y=u[s],y.form===o.form&&Dr(y)}break e;case"textarea":ii(o,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&Ni(o,!!u.multiple,s,!1)}}}var rn=!1;function he(o,s,u){if(rn)return o(s,u);rn=!0;try{var y=o(s);return y}finally{if(rn=!1,(sr!==null||Gt!==null)&&(hh(),sr&&(s=sr,o=Gt,Gt=sr=null,_r(s),o)))for(s=0;s<o.length;s++)_r(o[s])}}function Je(o,s){var u=o.stateNode;if(u===null)return null;var y=u[kt]||null;if(y===null)return null;u=y[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(u&&typeof u!="function")throw Error(n(231,s,typeof u));return u}var at=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gr=!1;if(at)try{var fr={};Object.defineProperty(fr,"passive",{get:function(){gr=!0}}),window.addEventListener("test",fr,fr),window.removeEventListener("test",fr,fr)}catch{gr=!1}var sn=null,Pe=null,ce=null;function ge(){if(ce)return ce;var o,s=Pe,u=s.length,y,E="value"in sn?sn.value:sn.textContent,_=E.length;for(o=0;o<u&&s[o]===E[o];o++);var K=u-o;for(y=1;y<=K&&s[u-y]===E[_-y];y++);return ce=E.slice(o,1<y?1-y:void 0)}function nt(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function Rt(){return!0}function Gr(){return!1}function Zr(o){function s(u,y,E,_,K){this._reactName=u,this._targetInst=E,this.type=y,this.nativeEvent=_,this.target=K,this.currentTarget=null;for(var ne in o)o.hasOwnProperty(ne)&&(u=o[ne],this[ne]=u?u(_):_[ne]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Rt:Gr,this.isPropagationStopped=Gr,this}return h(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Rt)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Rt)},persist:function(){},isPersistent:Rt}),s}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=Zr(Gn),aa=h({},Gn,{view:0,detail:0}),Qs=Zr(aa),Ka,Js,Ga,Ss=h({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ga&&(Ga&&o.type==="mousemove"?(Ka=o.screenX-Ga.screenX,Js=o.screenY-Ga.screenY):Js=Ka=0,Ga=o),Ka)},movementY:function(o){return"movementY"in o?o.movementY:Js}}),$c=Zr(Ss),dd=h({},Ss,{dataTransfer:0}),Rp=Zr(dd),Dc=h({},aa,{relatedTarget:0}),el=Zr(Dc),zc=h({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),Op=Zr(zc),Vm=h({},Gn,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Uc=Zr(Vm),fd=h({},Gn,{data:0}),Hc=Zr(fd),pd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ii={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jl(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=Ii[o])?!!s[o]:!1}function xs(){return Jl}var Pp=h({},aa,{key:function(o){if(o.key){var s=pd[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=nt(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?hd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(o){return o.type==="keypress"?nt(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?nt(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Vc=Zr(Pp),_p=h({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gd=Zr(_p),qc=h({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),md=Zr(qc),ws=h({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),yd=Zr(ws),bd=h({},Ss,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Wc=Zr(bd),vd=h({},Gn,{newState:0,oldState:0}),Mp=Zr(vd),qm=[9,13,27,32],ec=at&&"CompositionEvent"in window,Ya=null;at&&"documentMode"in document&&(Ya=document.documentMode);var Wm=at&&"TextEvent"in window&&!Ya,Kc=at&&(!ec||Ya&&8<Ya&&11>=Ya),Gc=" ",jp=!1;function Sd(o,s){switch(o){case"keyup":return qm.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Np(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ks=!1;function Ip(o,s){switch(o){case"compositionend":return Np(s);case"keypress":return s.which!==32?null:(jp=!0,Gc);case"textInput":return o=s.data,o===Gc&&jp?null:o;default:return null}}function Km(o,s){if(ks)return o==="compositionend"||!ec&&Sd(o,s)?(o=ge(),ce=Pe=sn=null,ks=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Kc&&s.locale!=="ko"?null:s.data;default:return null}}var Lp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yc(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!Lp[o.type]:s==="textarea"}function xd(o,s,u,y){sr?Gt?Gt.push(y):Gt=[y]:sr=y,s=Sh(s,"onChange"),0<s.length&&(u=new Pa("onChange","change",null,u,y),o.push({event:u,listeners:s}))}var tl=null,tc=null;function Gm(o){hC(o,0)}function Xc(o){var s=Ue(o);if(Dr(s))return o}function rc(o,s){if(o==="change")return s}var sa=!1;if(at){var Vn;if(at){var rl="oninput"in document;if(!rl){var go=document.createElement("div");go.setAttribute("oninput","return;"),rl=typeof go.oninput=="function"}Vn=rl}else Vn=!1;sa=Vn&&(!document.documentMode||9<document.documentMode)}function Fp(){tl&&(tl.detachEvent("onpropertychange",Zc),tc=tl=null)}function Zc(o){if(o.propertyName==="value"&&Xc(tc)){var s=[];xd(s,tc,o,Ht(o)),he(Gm,s)}}function Bp(o,s,u){o==="focusin"?(Fp(),tl=s,tc=u,tl.attachEvent("onpropertychange",Zc)):o==="focusout"&&Fp()}function Cs(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Xc(tc)}function wd(o,s){if(o==="click")return Xc(s)}function nl(o,s){if(o==="input"||o==="change")return Xc(s)}function Xa(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var ro=typeof Object.is=="function"?Object.is:Xa;function C(o,s){if(ro(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var u=Object.keys(o),y=Object.keys(s);if(u.length!==y.length)return!1;for(y=0;y<u.length;y++){var E=u[y];if(!ue.call(s,E)||!ro(o[E],s[E]))return!1}return!0}function P(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function L(o,s){var u=P(o);o=0;for(var y;u;){if(u.nodeType===3){if(y=o+u.textContent.length,o<=s&&y>=s)return{node:u,offset:s-o};o=y}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=P(u)}}function H(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?H(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function Y(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=en(o.document);s instanceof o.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)o=s.contentWindow;else break;s=en(o.document)}return s}function re(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var ae=at&&"documentMode"in document&&11>=document.documentMode,pe=null,Te=null,Ae=null,Me=!1;function be(o,s,u){var y=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Me||pe==null||pe!==en(y)||(y=pe,"selectionStart"in y&&re(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Ae&&C(Ae,y)||(Ae=y,y=Sh(Te,"onSelect"),0<y.length&&(s=new Pa("onSelect","select",null,s,u),o.push({event:s,listeners:y}),s.target=pe)))}function Ie(o,s){var u={};return u[o.toLowerCase()]=s.toLowerCase(),u["Webkit"+o]="webkit"+s,u["Moz"+o]="moz"+s,u}var Ce={animationend:Ie("Animation","AnimationEnd"),animationiteration:Ie("Animation","AnimationIteration"),animationstart:Ie("Animation","AnimationStart"),transitionrun:Ie("Transition","TransitionRun"),transitionstart:Ie("Transition","TransitionStart"),transitioncancel:Ie("Transition","TransitionCancel"),transitionend:Ie("Transition","TransitionEnd")},_e={},Fe={};at&&(Fe=document.createElement("div").style,"AnimationEvent"in window||(delete Ce.animationend.animation,delete Ce.animationiteration.animation,delete Ce.animationstart.animation),"TransitionEvent"in window||delete Ce.transitionend.transition);function Re(o){if(_e[o])return _e[o];if(!Ce[o])return o;var s=Ce[o],u;for(u in s)if(s.hasOwnProperty(u)&&u in Fe)return _e[o]=s[u];return o}var He=Re("animationend"),Ze=Re("animationiteration"),Qe=Re("animationstart"),ft=Re("transitionrun"),Lt=Re("transitionstart"),Vt=Re("transitioncancel"),Nt=Re("transitionend"),Dt=new Map,Kt="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kt.push("scrollEnd");function It(o,s){Dt.set(o,s),Tr(s,[o])}var Zt=new WeakMap;function kr(o,s){if(typeof o=="object"&&o!==null){var u=Zt.get(o);return u!==void 0?u:(s={value:o,source:s,stack:Ke(s)},Zt.set(o,s),s)}return{value:o,source:s,stack:Ke(s)}}var Rr=[],zr=0,qi=0;function Fr(){for(var o=zr,s=qi=zr=0;s<o;){var u=Rr[s];Rr[s++]=null;var y=Rr[s];Rr[s++]=null;var E=Rr[s];Rr[s++]=null;var _=Rr[s];if(Rr[s++]=null,y!==null&&E!==null){var K=y.pending;K===null?E.next=E:(E.next=K.next,K.next=E),y.pending=E}_!==0&&Li(u,E,_)}}function pi(o,s,u,y){Rr[zr++]=o,Rr[zr++]=s,Rr[zr++]=u,Rr[zr++]=y,qi|=y,o.lanes|=y,o=o.alternate,o!==null&&(o.lanes|=y)}function vi(o,s,u,y){return pi(o,s,u,y),la(o)}function _a(o,s){return pi(o,null,null,s),la(o)}function Li(o,s,u){o.lanes|=u;var y=o.alternate;y!==null&&(y.lanes|=u);for(var E=!1,_=o.return;_!==null;)_.childLanes|=u,y=_.alternate,y!==null&&(y.childLanes|=u),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(E=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,E&&s!==null&&(E=31-ot(u),o=_.hiddenUpdates,y=o[E],y===null?o[E]=[s]:y.push(s),s.lane=u|536870912),_):null}function la(o){if(50<Kd)throw Kd=0,eb=null,Error(n(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var Za={};function wj(o,s,u,y){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lo(o,s,u,y){return new wj(o,s,u,y)}function Ym(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ts(o,s){var u=o.alternate;return u===null?(u=Lo(o.tag,s,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=s,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&65011712,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,s=o.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u.refCleanup=o.refCleanup,u}function J1(o,s){o.flags&=65011714;var u=o.alternate;return u===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,s=u.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function $p(o,s,u,y,E,_){var K=0;if(y=o,typeof o=="function")Ym(o)&&(K=1);else if(typeof o=="string")K=CN(o,u,te.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case V:return o=Lo(31,u,s,E),o.elementType=V,o.lanes=_,o;case b:return nc(u.children,E,_,s);case v:K=8,E|=24;break;case k:return o=Lo(12,u,s,E|2),o.elementType=k,o.lanes=_,o;case O:return o=Lo(13,u,s,E),o.elementType=O,o.lanes=_,o;case M:return o=Lo(19,u,s,E),o.elementType=M,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case T:case w:K=10;break e;case A:K=9;break e;case R:K=11;break e;case j:K=14;break e;case $:K=16,y=null;break e}K=29,u=Error(n(130,o===null?"null":typeof o,"")),y=null}return s=Lo(K,u,s,E),s.elementType=o,s.type=y,s.lanes=_,s}function nc(o,s,u,y){return o=Lo(7,o,y,s),o.lanes=u,o}function Xm(o,s,u){return o=Lo(6,o,null,s),o.lanes=u,o}function Zm(o,s,u){return s=Lo(4,o.children!==null?o.children:[],o.key,s),s.lanes=u,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var Qc=[],Jc=0,Dp=null,zp=0,ca=[],ua=0,ic=null,Es=1,As="";function oc(o,s){Qc[Jc++]=zp,Qc[Jc++]=Dp,Dp=o,zp=s}function ew(o,s,u){ca[ua++]=Es,ca[ua++]=As,ca[ua++]=ic,ic=o;var y=Es;o=As;var E=32-ot(y)-1;y&=~(1<<E),u+=1;var _=32-ot(s)+E;if(30<_){var K=E-E%5;_=(y&(1<<K)-1).toString(32),y>>=K,E-=K,Es=1<<32-ot(s)+E|u<<E|y,As=_+o}else Es=1<<_|u<<E|y,As=o}function Qm(o){o.return!==null&&(oc(o,1),ew(o,1,0))}function Jm(o){for(;o===Dp;)Dp=Qc[--Jc],Qc[Jc]=null,zp=Qc[--Jc],Qc[Jc]=null;for(;o===ic;)ic=ca[--ua],ca[ua]=null,As=ca[--ua],ca[ua]=null,Es=ca[--ua],ca[ua]=null}var mo=null,oi=null,wn=!1,ac=null,Qa=!1,ey=Error(n(519));function sc(o){var s=Error(n(418,""));throw Td(kr(s,o)),ey}function tw(o){var s=o.stateNode,u=o.type,y=o.memoizedProps;switch(s[St]=o,s[kt]=y,u){case"dialog":dn("cancel",s),dn("close",s);break;case"iframe":case"object":case"embed":dn("load",s);break;case"video":case"audio":for(u=0;u<Yd.length;u++)dn(Yd[u],s);break;case"source":dn("error",s);break;case"img":case"image":case"link":dn("error",s),dn("load",s);break;case"details":dn("toggle",s);break;case"input":dn("invalid",s),ko(s,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),Ar(s);break;case"select":dn("invalid",s);break;case"textarea":dn("invalid",s),Ra(s,y.value,y.defaultValue,y.children),Ar(s)}u=y.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||y.suppressHydrationWarning===!0||bC(s.textContent,u)?(y.popover!=null&&(dn("beforetoggle",s),dn("toggle",s)),y.onScroll!=null&&dn("scroll",s),y.onScrollEnd!=null&&dn("scrollend",s),y.onClick!=null&&(s.onclick=xh),s=!0):s=!1,s||sc(o)}function rw(o){for(mo=o.return;mo;)switch(mo.tag){case 5:case 13:Qa=!1;return;case 27:case 3:Qa=!0;return;default:mo=mo.return}}function kd(o){if(o!==mo)return!1;if(!wn)return rw(o),wn=!0,!1;var s=o.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=o.type,u=!(u!=="form"&&u!=="button")||mb(o.type,o.memoizedProps)),u=!u),u&&oi&&sc(o),rw(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,s=0;o;){if(o.nodeType===8)if(u=o.data,u==="/$"){if(s===0){oi=ja(o.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;o=o.nextSibling}oi=null}}else s===27?(s=oi,vl(o.type)?(o=Sb,Sb=null,oi=o):oi=s):oi=mo?ja(o.stateNode.nextSibling):null;return!0}function Cd(){oi=mo=null,wn=!1}function nw(){var o=ac;return o!==null&&(Ao===null?Ao=o:Ao.push.apply(Ao,o),ac=null),o}function Td(o){ac===null?ac=[o]:ac.push(o)}var ty=D(null),lc=null,Rs=null;function il(o,s,u){ee(ty,s._currentValue),s._currentValue=u}function Os(o){o._currentValue=ty.current,J(ty)}function ry(o,s,u){for(;o!==null;){var y=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,y!==null&&(y.childLanes|=s)):y!==null&&(y.childLanes&s)!==s&&(y.childLanes|=s),o===u)break;o=o.return}}function ny(o,s,u,y){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var _=E.dependencies;if(_!==null){var K=E.child;_=_.firstContext;e:for(;_!==null;){var ne=_;_=E;for(var me=0;me<s.length;me++)if(ne.context===s[me]){_.lanes|=u,ne=_.alternate,ne!==null&&(ne.lanes|=u),ry(_.return,u,o),y||(K=null);break e}_=ne.next}}else if(E.tag===18){if(K=E.return,K===null)throw Error(n(341));K.lanes|=u,_=K.alternate,_!==null&&(_.lanes|=u),ry(K,u,o),K=null}else K=E.child;if(K!==null)K.return=E;else for(K=E;K!==null;){if(K===o){K=null;break}if(E=K.sibling,E!==null){E.return=K.return,K=E;break}K=K.return}E=K}}function Ed(o,s,u,y){o=null;for(var E=s,_=!1;E!==null;){if(!_){if((E.flags&524288)!==0)_=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var K=E.alternate;if(K===null)throw Error(n(387));if(K=K.memoizedProps,K!==null){var ne=E.type;ro(E.pendingProps.value,K.value)||(o!==null?o.push(ne):o=[ne])}}else if(E===ke.current){if(K=E.alternate,K===null)throw Error(n(387));K.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(tf):o=[tf])}E=E.return}o!==null&&ny(s,o,u,y),s.flags|=262144}function Up(o){for(o=o.firstContext;o!==null;){if(!ro(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function cc(o){lc=o,Rs=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function no(o){return iw(lc,o)}function Hp(o,s){return lc===null&&cc(o),iw(o,s)}function iw(o,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Rs===null){if(o===null)throw Error(n(308));Rs=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else Rs=Rs.next=s;return u}var kj=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(u,y){o.push(y)}};this.abort=function(){s.aborted=!0,o.forEach(function(u){return u()})}},Cj=t.unstable_scheduleCallback,Tj=t.unstable_NormalPriority,Ai={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function iy(){return{controller:new kj,data:new Map,refCount:0}}function Ad(o){o.refCount--,o.refCount===0&&Cj(Tj,function(){o.controller.abort()})}var Rd=null,oy=0,eu=0,tu=null;function Ej(o,s){if(Rd===null){var u=Rd=[];oy=0,eu=sb(),tu={status:"pending",value:void 0,then:function(y){u.push(y)}}}return oy++,s.then(ow,ow),s}function ow(){if(--oy===0&&Rd!==null){tu!==null&&(tu.status="fulfilled");var o=Rd;Rd=null,eu=0,tu=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function Aj(o,s){var u=[],y={status:"pending",value:null,reason:null,then:function(E){u.push(E)}};return o.then(function(){y.status="fulfilled",y.value=s;for(var E=0;E<u.length;E++)(0,u[E])(s)},function(E){for(y.status="rejected",y.reason=E,E=0;E<u.length;E++)(0,u[E])(void 0)}),y}var aw=U.S;U.S=function(o,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Ej(o,s),aw!==null&&aw(o,s)};var uc=D(null);function ay(){var o=uc.current;return o!==null?o:zn.pooledCache}function Vp(o,s){s===null?ee(uc,uc.current):ee(uc,s.pool)}function sw(){var o=ay();return o===null?null:{parent:Ai._currentValue,pool:o}}var Od=Error(n(460)),lw=Error(n(474)),qp=Error(n(542)),sy={then:function(){}};function cw(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Wp(){}function uw(o,s,u){switch(u=o[u],u===void 0?o.push(s):u!==s&&(s.then(Wp,Wp),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,fw(o),o;default:if(typeof s.status=="string")s.then(Wp,Wp);else{if(o=zn,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=s,o.status="pending",o.then(function(y){if(s.status==="pending"){var E=s;E.status="fulfilled",E.value=y}},function(y){if(s.status==="pending"){var E=s;E.status="rejected",E.reason=y}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,fw(o),o}throw Pd=s,Od}}var Pd=null;function dw(){if(Pd===null)throw Error(n(459));var o=Pd;return Pd=null,o}function fw(o){if(o===Od||o===qp)throw Error(n(483))}var ol=!1;function ly(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cy(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function al(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function sl(o,s,u){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(Rn&2)!==0){var E=y.pending;return E===null?s.next=s:(s.next=E.next,E.next=s),y.pending=s,s=la(o),Li(o,null,u),s}return pi(o,y,s,u),la(o)}function _d(o,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var y=s.lanes;y&=o.pendingLanes,u|=y,s.lanes=u,zt(o,u)}}function uy(o,s){var u=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,u===y)){var E=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var K={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?E=_=K:_=_.next=K,u=u.next}while(u!==null);_===null?E=_=s:_=_.next=s}else E=_=s;u={baseState:y.baseState,firstBaseUpdate:E,lastBaseUpdate:_,shared:y.shared,callbacks:y.callbacks},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=s:o.next=s,u.lastBaseUpdate=s}var dy=!1;function Md(){if(dy){var o=tu;if(o!==null)throw o}}function jd(o,s,u,y){dy=!1;var E=o.updateQueue;ol=!1;var _=E.firstBaseUpdate,K=E.lastBaseUpdate,ne=E.shared.pending;if(ne!==null){E.shared.pending=null;var me=ne,ze=me.next;me.next=null,K===null?_=ze:K.next=ze,K=me;var pt=o.alternate;pt!==null&&(pt=pt.updateQueue,ne=pt.lastBaseUpdate,ne!==K&&(ne===null?pt.firstBaseUpdate=ze:ne.next=ze,pt.lastBaseUpdate=me))}if(_!==null){var xt=E.baseState;K=0,pt=ze=me=null,ne=_;do{var Ge=ne.lane&-536870913,Xe=Ge!==ne.lane;if(Xe?(mn&Ge)===Ge:(y&Ge)===Ge){Ge!==0&&Ge===eu&&(dy=!0),pt!==null&&(pt=pt.next={lane:0,tag:ne.tag,payload:ne.payload,callback:null,next:null});e:{var Br=o,Or=ne;Ge=s;var jn=u;switch(Or.tag){case 1:if(Br=Or.payload,typeof Br=="function"){xt=Br.call(jn,xt,Ge);break e}xt=Br;break e;case 3:Br.flags=Br.flags&-65537|128;case 0:if(Br=Or.payload,Ge=typeof Br=="function"?Br.call(jn,xt,Ge):Br,Ge==null)break e;xt=h({},xt,Ge);break e;case 2:ol=!0}}Ge=ne.callback,Ge!==null&&(o.flags|=64,Xe&&(o.flags|=8192),Xe=E.callbacks,Xe===null?E.callbacks=[Ge]:Xe.push(Ge))}else Xe={lane:Ge,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},pt===null?(ze=pt=Xe,me=xt):pt=pt.next=Xe,K|=Ge;if(ne=ne.next,ne===null){if(ne=E.shared.pending,ne===null)break;Xe=ne,ne=Xe.next,Xe.next=null,E.lastBaseUpdate=Xe,E.shared.pending=null}}while(!0);pt===null&&(me=xt),E.baseState=me,E.firstBaseUpdate=ze,E.lastBaseUpdate=pt,_===null&&(E.shared.lanes=0),gl|=K,o.lanes=K,o.memoizedState=xt}}function pw(o,s){if(typeof o!="function")throw Error(n(191,o));o.call(s)}function hw(o,s){var u=o.callbacks;if(u!==null)for(o.callbacks=null,o=0;o<u.length;o++)pw(u[o],s)}var ru=D(null),Kp=D(0);function gw(o,s){o=Ls,ee(Kp,o),ee(ru,s),Ls=o|s.baseLanes}function fy(){ee(Kp,Ls),ee(ru,ru.current)}function py(){Ls=Kp.current,J(ru),J(Kp)}var ll=0,on=null,_n=null,Si=null,Gp=!1,nu=!1,dc=!1,Yp=0,Nd=0,iu=null,Rj=0;function hi(){throw Error(n(321))}function hy(o,s){if(s===null)return!1;for(var u=0;u<s.length&&u<o.length;u++)if(!ro(o[u],s[u]))return!1;return!0}function gy(o,s,u,y,E,_){return ll=_,on=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=o===null||o.memoizedState===null?Qw:Jw,dc=!1,_=u(y,E),dc=!1,nu&&(_=yw(s,u,y,E)),mw(o),_}function mw(o){U.H=th;var s=_n!==null&&_n.next!==null;if(ll=0,Si=_n=on=null,Gp=!1,Nd=0,iu=null,s)throw Error(n(300));o===null||Fi||(o=o.dependencies,o!==null&&Up(o)&&(Fi=!0))}function yw(o,s,u,y){on=o;var E=0;do{if(nu&&(iu=null),Nd=0,nu=!1,25<=E)throw Error(n(301));if(E+=1,Si=_n=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}U.H=Ij,_=s(u,y)}while(nu);return _}function Oj(){var o=U.H,s=o.useState()[0];return s=typeof s.then=="function"?Id(s):s,o=o.useState()[0],(_n!==null?_n.memoizedState:null)!==o&&(on.flags|=1024),s}function my(){var o=Yp!==0;return Yp=0,o}function yy(o,s,u){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~u}function by(o){if(Gp){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}Gp=!1}ll=0,Si=_n=on=null,nu=!1,Nd=Yp=0,iu=null}function To(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Si===null?on.memoizedState=Si=o:Si=Si.next=o,Si}function xi(){if(_n===null){var o=on.alternate;o=o!==null?o.memoizedState:null}else o=_n.next;var s=Si===null?on.memoizedState:Si.next;if(s!==null)Si=s,_n=o;else{if(o===null)throw on.alternate===null?Error(n(467)):Error(n(310));_n=o,o={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},Si===null?on.memoizedState=Si=o:Si=Si.next=o}return Si}function vy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Id(o){var s=Nd;return Nd+=1,iu===null&&(iu=[]),o=uw(iu,o,s),s=on,(Si===null?s.memoizedState:Si.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?Qw:Jw),o}function Xp(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Id(o);if(o.$$typeof===w)return no(o)}throw Error(n(438,String(o)))}function Sy(o){var s=null,u=on.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var y=on.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(s={data:y.data.map(function(E){return E.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=vy(),on.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(o),y=0;y<o;y++)u[y]=N;return s.index++,u}function Ps(o,s){return typeof s=="function"?s(o):s}function Zp(o){var s=xi();return xy(s,_n,o)}function xy(o,s,u){var y=o.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=u;var E=o.baseQueue,_=y.pending;if(_!==null){if(E!==null){var K=E.next;E.next=_.next,_.next=K}s.baseQueue=E=_,y.pending=null}if(_=o.baseState,E===null)o.memoizedState=_;else{s=E.next;var ne=K=null,me=null,ze=s,pt=!1;do{var xt=ze.lane&-536870913;if(xt!==ze.lane?(mn&xt)===xt:(ll&xt)===xt){var Ge=ze.revertLane;if(Ge===0)me!==null&&(me=me.next={lane:0,revertLane:0,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),xt===eu&&(pt=!0);else if((ll&Ge)===Ge){ze=ze.next,Ge===eu&&(pt=!0);continue}else xt={lane:0,revertLane:ze.revertLane,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},me===null?(ne=me=xt,K=_):me=me.next=xt,on.lanes|=Ge,gl|=Ge;xt=ze.action,dc&&u(_,xt),_=ze.hasEagerState?ze.eagerState:u(_,xt)}else Ge={lane:xt,revertLane:ze.revertLane,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},me===null?(ne=me=Ge,K=_):me=me.next=Ge,on.lanes|=xt,gl|=xt;ze=ze.next}while(ze!==null&&ze!==s);if(me===null?K=_:me.next=ne,!ro(_,o.memoizedState)&&(Fi=!0,pt&&(u=tu,u!==null)))throw u;o.memoizedState=_,o.baseState=K,o.baseQueue=me,y.lastRenderedState=_}return E===null&&(y.lanes=0),[o.memoizedState,y.dispatch]}function wy(o){var s=xi(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=o;var y=u.dispatch,E=u.pending,_=s.memoizedState;if(E!==null){u.pending=null;var K=E=E.next;do _=o(_,K.action),K=K.next;while(K!==E);ro(_,s.memoizedState)||(Fi=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),u.lastRenderedState=_}return[_,y]}function bw(o,s,u){var y=on,E=xi(),_=wn;if(_){if(u===void 0)throw Error(n(407));u=u()}else u=s();var K=!ro((_n||E).memoizedState,u);K&&(E.memoizedState=u,Fi=!0),E=E.queue;var ne=xw.bind(null,y,E,o);if(Ld(2048,8,ne,[o]),E.getSnapshot!==s||K||Si!==null&&Si.memoizedState.tag&1){if(y.flags|=2048,ou(9,Qp(),Sw.bind(null,y,E,u,s),null),zn===null)throw Error(n(349));_||(ll&124)!==0||vw(y,s,u)}return u}function vw(o,s,u){o.flags|=16384,o={getSnapshot:s,value:u},s=on.updateQueue,s===null?(s=vy(),on.updateQueue=s,s.stores=[o]):(u=s.stores,u===null?s.stores=[o]:u.push(o))}function Sw(o,s,u,y){s.value=u,s.getSnapshot=y,ww(s)&&kw(o)}function xw(o,s,u){return u(function(){ww(s)&&kw(o)})}function ww(o){var s=o.getSnapshot;o=o.value;try{var u=s();return!ro(o,u)}catch{return!0}}function kw(o){var s=_a(o,2);s!==null&&zo(s,o,2)}function ky(o){var s=To();if(typeof o=="function"){var u=o;if(o=u(),dc){Oe(!0);try{u()}finally{Oe(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:o},s}function Cw(o,s,u,y){return o.baseState=u,xy(o,_n,typeof y=="function"?y:Ps)}function Pj(o,s,u,y,E){if(eh(o))throw Error(n(485));if(o=s.action,o!==null){var _={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){_.listeners.push(K)}};U.T!==null?u(!0):_.isTransition=!1,y(_),u=s.pending,u===null?(_.next=s.pending=_,Tw(s,_)):(_.next=u.next,s.pending=u.next=_)}}function Tw(o,s){var u=s.action,y=s.payload,E=o.state;if(s.isTransition){var _=U.T,K={};U.T=K;try{var ne=u(E,y),me=U.S;me!==null&&me(K,ne),Ew(o,s,ne)}catch(ze){Cy(o,s,ze)}finally{U.T=_}}else try{_=u(E,y),Ew(o,s,_)}catch(ze){Cy(o,s,ze)}}function Ew(o,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(y){Aw(o,s,y)},function(y){return Cy(o,s,y)}):Aw(o,s,u)}function Aw(o,s,u){s.status="fulfilled",s.value=u,Rw(s),o.state=u,s=o.pending,s!==null&&(u=s.next,u===s?o.pending=null:(u=u.next,s.next=u,Tw(o,u)))}function Cy(o,s,u){var y=o.pending;if(o.pending=null,y!==null){y=y.next;do s.status="rejected",s.reason=u,Rw(s),s=s.next;while(s!==y)}o.action=null}function Rw(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function Ow(o,s){return s}function Pw(o,s){if(wn){var u=zn.formState;if(u!==null){e:{var y=on;if(wn){if(oi){t:{for(var E=oi,_=Qa;E.nodeType!==8;){if(!_){E=null;break t}if(E=ja(E.nextSibling),E===null){E=null;break t}}_=E.data,E=_==="F!"||_==="F"?E:null}if(E){oi=ja(E.nextSibling),y=E.data==="F!";break e}}sc(y)}y=!1}y&&(s=u[0])}}return u=To(),u.memoizedState=u.baseState=s,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ow,lastRenderedState:s},u.queue=y,u=Yw.bind(null,on,y),y.dispatch=u,y=ky(!1),_=Oy.bind(null,on,!1,y.queue),y=To(),E={state:s,dispatch:null,action:o,pending:null},y.queue=E,u=Pj.bind(null,on,E,_,u),E.dispatch=u,y.memoizedState=o,[s,u,!1]}function _w(o){var s=xi();return Mw(s,_n,o)}function Mw(o,s,u){if(s=xy(o,s,Ow)[0],o=Zp(Ps)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var y=Id(s)}catch(K){throw K===Od?qp:K}else y=s;s=xi();var E=s.queue,_=E.dispatch;return u!==s.memoizedState&&(on.flags|=2048,ou(9,Qp(),_j.bind(null,E,u),null)),[y,_,o]}function _j(o,s){o.action=s}function jw(o){var s=xi(),u=_n;if(u!==null)return Mw(s,u,o);xi(),s=s.memoizedState,u=xi();var y=u.queue.dispatch;return u.memoizedState=o,[s,y,!1]}function ou(o,s,u,y){return o={tag:o,create:u,deps:y,inst:s,next:null},s=on.updateQueue,s===null&&(s=vy(),on.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=o.next=o:(y=u.next,u.next=o,o.next=y,s.lastEffect=o),o}function Qp(){return{destroy:void 0,resource:void 0}}function Nw(){return xi().memoizedState}function Jp(o,s,u,y){var E=To();y=y===void 0?null:y,on.flags|=o,E.memoizedState=ou(1|s,Qp(),u,y)}function Ld(o,s,u,y){var E=xi();y=y===void 0?null:y;var _=E.memoizedState.inst;_n!==null&&y!==null&&hy(y,_n.memoizedState.deps)?E.memoizedState=ou(s,_,u,y):(on.flags|=o,E.memoizedState=ou(1|s,_,u,y))}function Iw(o,s){Jp(8390656,8,o,s)}function Lw(o,s){Ld(2048,8,o,s)}function Fw(o,s){return Ld(4,2,o,s)}function Bw(o,s){return Ld(4,4,o,s)}function $w(o,s){if(typeof s=="function"){o=o();var u=s(o);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function Dw(o,s,u){u=u!=null?u.concat([o]):null,Ld(4,4,$w.bind(null,s,o),u)}function Ty(){}function zw(o,s){var u=xi();s=s===void 0?null:s;var y=u.memoizedState;return s!==null&&hy(s,y[1])?y[0]:(u.memoizedState=[o,s],o)}function Uw(o,s){var u=xi();s=s===void 0?null:s;var y=u.memoizedState;if(s!==null&&hy(s,y[1]))return y[0];if(y=o(),dc){Oe(!0);try{o()}finally{Oe(!1)}}return u.memoizedState=[y,s],y}function Ey(o,s,u){return u===void 0||(ll&1073741824)!==0?o.memoizedState=s:(o.memoizedState=u,o=qk(),on.lanes|=o,gl|=o,u)}function Hw(o,s,u,y){return ro(u,s)?u:ru.current!==null?(o=Ey(o,u,y),ro(o,s)||(Fi=!0),o):(ll&42)===0?(Fi=!0,o.memoizedState=u):(o=qk(),on.lanes|=o,gl|=o,s)}function Vw(o,s,u,y,E){var _=X.p;X.p=_!==0&&8>_?_:8;var K=U.T,ne={};U.T=ne,Oy(o,!1,s,u);try{var me=E(),ze=U.S;if(ze!==null&&ze(ne,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var pt=Aj(me,y);Fd(o,s,pt,Do(o))}else Fd(o,s,y,Do(o))}catch(xt){Fd(o,s,{then:function(){},status:"rejected",reason:xt},Do())}finally{X.p=_,U.T=K}}function Mj(){}function Ay(o,s,u,y){if(o.tag!==5)throw Error(n(476));var E=qw(o).queue;Vw(o,E,s,q,u===null?Mj:function(){return Ww(o),u(y)})}function qw(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:q},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:u},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function Ww(o){var s=qw(o).next.queue;Fd(o,s,{},Do())}function Ry(){return no(tf)}function Kw(){return xi().memoizedState}function Gw(){return xi().memoizedState}function jj(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var u=Do();o=al(u);var y=sl(s,o,u);y!==null&&(zo(y,s,u),_d(y,s,u)),s={cache:iy()},o.payload=s;return}s=s.return}}function Nj(o,s,u){var y=Do();u={lane:y,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},eh(o)?Xw(s,u):(u=vi(o,s,u,y),u!==null&&(zo(u,o,y),Zw(u,s,y)))}function Yw(o,s,u){var y=Do();Fd(o,s,u,y)}function Fd(o,s,u,y){var E={lane:y,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(eh(o))Xw(s,E);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var K=s.lastRenderedState,ne=_(K,u);if(E.hasEagerState=!0,E.eagerState=ne,ro(ne,K))return pi(o,s,E,0),zn===null&&Fr(),!1}catch{}finally{}if(u=vi(o,s,E,y),u!==null)return zo(u,o,y),Zw(u,s,y),!0}return!1}function Oy(o,s,u,y){if(y={lane:2,revertLane:sb(),action:y,hasEagerState:!1,eagerState:null,next:null},eh(o)){if(s)throw Error(n(479))}else s=vi(o,u,y,2),s!==null&&zo(s,o,2)}function eh(o){var s=o.alternate;return o===on||s!==null&&s===on}function Xw(o,s){nu=Gp=!0;var u=o.pending;u===null?s.next=s:(s.next=u.next,u.next=s),o.pending=s}function Zw(o,s,u){if((u&4194048)!==0){var y=s.lanes;y&=o.pendingLanes,u|=y,s.lanes=u,zt(o,u)}}var th={readContext:no,use:Xp,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useLayoutEffect:hi,useInsertionEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useSyncExternalStore:hi,useId:hi,useHostTransitionStatus:hi,useFormState:hi,useActionState:hi,useOptimistic:hi,useMemoCache:hi,useCacheRefresh:hi},Qw={readContext:no,use:Xp,useCallback:function(o,s){return To().memoizedState=[o,s===void 0?null:s],o},useContext:no,useEffect:Iw,useImperativeHandle:function(o,s,u){u=u!=null?u.concat([o]):null,Jp(4194308,4,$w.bind(null,s,o),u)},useLayoutEffect:function(o,s){return Jp(4194308,4,o,s)},useInsertionEffect:function(o,s){Jp(4,2,o,s)},useMemo:function(o,s){var u=To();s=s===void 0?null:s;var y=o();if(dc){Oe(!0);try{o()}finally{Oe(!1)}}return u.memoizedState=[y,s],y},useReducer:function(o,s,u){var y=To();if(u!==void 0){var E=u(s);if(dc){Oe(!0);try{u(s)}finally{Oe(!1)}}}else E=s;return y.memoizedState=y.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},y.queue=o,o=o.dispatch=Nj.bind(null,on,o),[y.memoizedState,o]},useRef:function(o){var s=To();return o={current:o},s.memoizedState=o},useState:function(o){o=ky(o);var s=o.queue,u=Yw.bind(null,on,s);return s.dispatch=u,[o.memoizedState,u]},useDebugValue:Ty,useDeferredValue:function(o,s){var u=To();return Ey(u,o,s)},useTransition:function(){var o=ky(!1);return o=Vw.bind(null,on,o.queue,!0,!1),To().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,u){var y=on,E=To();if(wn){if(u===void 0)throw Error(n(407));u=u()}else{if(u=s(),zn===null)throw Error(n(349));(mn&124)!==0||vw(y,s,u)}E.memoizedState=u;var _={value:u,getSnapshot:s};return E.queue=_,Iw(xw.bind(null,y,_,o),[o]),y.flags|=2048,ou(9,Qp(),Sw.bind(null,y,_,u,s),null),u},useId:function(){var o=To(),s=zn.identifierPrefix;if(wn){var u=As,y=Es;u=(y&~(1<<32-ot(y)-1)).toString(32)+u,s=""+s+"R"+u,u=Yp++,0<u&&(s+="H"+u.toString(32)),s+=""}else u=Rj++,s=""+s+"r"+u.toString(32)+"";return o.memoizedState=s},useHostTransitionStatus:Ry,useFormState:Pw,useActionState:Pw,useOptimistic:function(o){var s=To();s.memoizedState=s.baseState=o;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Oy.bind(null,on,!0,u),u.dispatch=s,[o,s]},useMemoCache:Sy,useCacheRefresh:function(){return To().memoizedState=jj.bind(null,on)}},Jw={readContext:no,use:Xp,useCallback:zw,useContext:no,useEffect:Lw,useImperativeHandle:Dw,useInsertionEffect:Fw,useLayoutEffect:Bw,useMemo:Uw,useReducer:Zp,useRef:Nw,useState:function(){return Zp(Ps)},useDebugValue:Ty,useDeferredValue:function(o,s){var u=xi();return Hw(u,_n.memoizedState,o,s)},useTransition:function(){var o=Zp(Ps)[0],s=xi().memoizedState;return[typeof o=="boolean"?o:Id(o),s]},useSyncExternalStore:bw,useId:Kw,useHostTransitionStatus:Ry,useFormState:_w,useActionState:_w,useOptimistic:function(o,s){var u=xi();return Cw(u,_n,o,s)},useMemoCache:Sy,useCacheRefresh:Gw},Ij={readContext:no,use:Xp,useCallback:zw,useContext:no,useEffect:Lw,useImperativeHandle:Dw,useInsertionEffect:Fw,useLayoutEffect:Bw,useMemo:Uw,useReducer:wy,useRef:Nw,useState:function(){return wy(Ps)},useDebugValue:Ty,useDeferredValue:function(o,s){var u=xi();return _n===null?Ey(u,o,s):Hw(u,_n.memoizedState,o,s)},useTransition:function(){var o=wy(Ps)[0],s=xi().memoizedState;return[typeof o=="boolean"?o:Id(o),s]},useSyncExternalStore:bw,useId:Kw,useHostTransitionStatus:Ry,useFormState:jw,useActionState:jw,useOptimistic:function(o,s){var u=xi();return _n!==null?Cw(u,_n,o,s):(u.baseState=o,[o,u.queue.dispatch])},useMemoCache:Sy,useCacheRefresh:Gw},au=null,Bd=0;function rh(o){var s=Bd;return Bd+=1,au===null&&(au=[]),uw(au,o,s)}function $d(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function nh(o,s){throw s.$$typeof===g?Error(n(525)):(o=Object.prototype.toString.call(s),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function ek(o){var s=o._init;return s(o._payload)}function tk(o){function s(Ne,Ee){if(o){var De=Ne.deletions;De===null?(Ne.deletions=[Ee],Ne.flags|=16):De.push(Ee)}}function u(Ne,Ee){if(!o)return null;for(;Ee!==null;)s(Ne,Ee),Ee=Ee.sibling;return null}function y(Ne){for(var Ee=new Map;Ne!==null;)Ne.key!==null?Ee.set(Ne.key,Ne):Ee.set(Ne.index,Ne),Ne=Ne.sibling;return Ee}function E(Ne,Ee){return Ne=Ts(Ne,Ee),Ne.index=0,Ne.sibling=null,Ne}function _(Ne,Ee,De){return Ne.index=De,o?(De=Ne.alternate,De!==null?(De=De.index,De<Ee?(Ne.flags|=67108866,Ee):De):(Ne.flags|=67108866,Ee)):(Ne.flags|=1048576,Ee)}function K(Ne){return o&&Ne.alternate===null&&(Ne.flags|=67108866),Ne}function ne(Ne,Ee,De,yt){return Ee===null||Ee.tag!==6?(Ee=Xm(De,Ne.mode,yt),Ee.return=Ne,Ee):(Ee=E(Ee,De),Ee.return=Ne,Ee)}function me(Ne,Ee,De,yt){var ur=De.type;return ur===b?pt(Ne,Ee,De.props.children,yt,De.key):Ee!==null&&(Ee.elementType===ur||typeof ur=="object"&&ur!==null&&ur.$$typeof===$&&ek(ur)===Ee.type)?(Ee=E(Ee,De.props),$d(Ee,De),Ee.return=Ne,Ee):(Ee=$p(De.type,De.key,De.props,null,Ne.mode,yt),$d(Ee,De),Ee.return=Ne,Ee)}function ze(Ne,Ee,De,yt){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==De.containerInfo||Ee.stateNode.implementation!==De.implementation?(Ee=Zm(De,Ne.mode,yt),Ee.return=Ne,Ee):(Ee=E(Ee,De.children||[]),Ee.return=Ne,Ee)}function pt(Ne,Ee,De,yt,ur){return Ee===null||Ee.tag!==7?(Ee=nc(De,Ne.mode,yt,ur),Ee.return=Ne,Ee):(Ee=E(Ee,De),Ee.return=Ne,Ee)}function xt(Ne,Ee,De){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return Ee=Xm(""+Ee,Ne.mode,De),Ee.return=Ne,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case p:return De=$p(Ee.type,Ee.key,Ee.props,null,Ne.mode,De),$d(De,Ee),De.return=Ne,De;case S:return Ee=Zm(Ee,Ne.mode,De),Ee.return=Ne,Ee;case $:var yt=Ee._init;return Ee=yt(Ee._payload),xt(Ne,Ee,De)}if(G(Ee)||z(Ee))return Ee=nc(Ee,Ne.mode,De,null),Ee.return=Ne,Ee;if(typeof Ee.then=="function")return xt(Ne,rh(Ee),De);if(Ee.$$typeof===w)return xt(Ne,Hp(Ne,Ee),De);nh(Ne,Ee)}return null}function Ge(Ne,Ee,De,yt){var ur=Ee!==null?Ee.key:null;if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return ur!==null?null:ne(Ne,Ee,""+De,yt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case p:return De.key===ur?me(Ne,Ee,De,yt):null;case S:return De.key===ur?ze(Ne,Ee,De,yt):null;case $:return ur=De._init,De=ur(De._payload),Ge(Ne,Ee,De,yt)}if(G(De)||z(De))return ur!==null?null:pt(Ne,Ee,De,yt,null);if(typeof De.then=="function")return Ge(Ne,Ee,rh(De),yt);if(De.$$typeof===w)return Ge(Ne,Ee,Hp(Ne,De),yt);nh(Ne,De)}return null}function Xe(Ne,Ee,De,yt,ur){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return Ne=Ne.get(De)||null,ne(Ee,Ne,""+yt,ur);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case p:return Ne=Ne.get(yt.key===null?De:yt.key)||null,me(Ee,Ne,yt,ur);case S:return Ne=Ne.get(yt.key===null?De:yt.key)||null,ze(Ee,Ne,yt,ur);case $:var ln=yt._init;return yt=ln(yt._payload),Xe(Ne,Ee,De,yt,ur)}if(G(yt)||z(yt))return Ne=Ne.get(De)||null,pt(Ee,Ne,yt,ur,null);if(typeof yt.then=="function")return Xe(Ne,Ee,De,rh(yt),ur);if(yt.$$typeof===w)return Xe(Ne,Ee,De,Hp(Ee,yt),ur);nh(Ee,yt)}return null}function Br(Ne,Ee,De,yt){for(var ur=null,ln=null,vr=Ee,Mr=Ee=0,$i=null;vr!==null&&Mr<De.length;Mr++){vr.index>Mr?($i=vr,vr=null):$i=vr.sibling;var vn=Ge(Ne,vr,De[Mr],yt);if(vn===null){vr===null&&(vr=$i);break}o&&vr&&vn.alternate===null&&s(Ne,vr),Ee=_(vn,Ee,Mr),ln===null?ur=vn:ln.sibling=vn,ln=vn,vr=$i}if(Mr===De.length)return u(Ne,vr),wn&&oc(Ne,Mr),ur;if(vr===null){for(;Mr<De.length;Mr++)vr=xt(Ne,De[Mr],yt),vr!==null&&(Ee=_(vr,Ee,Mr),ln===null?ur=vr:ln.sibling=vr,ln=vr);return wn&&oc(Ne,Mr),ur}for(vr=y(vr);Mr<De.length;Mr++)$i=Xe(vr,Ne,Mr,De[Mr],yt),$i!==null&&(o&&$i.alternate!==null&&vr.delete($i.key===null?Mr:$i.key),Ee=_($i,Ee,Mr),ln===null?ur=$i:ln.sibling=$i,ln=$i);return o&&vr.forEach(function(Cl){return s(Ne,Cl)}),wn&&oc(Ne,Mr),ur}function Or(Ne,Ee,De,yt){if(De==null)throw Error(n(151));for(var ur=null,ln=null,vr=Ee,Mr=Ee=0,$i=null,vn=De.next();vr!==null&&!vn.done;Mr++,vn=De.next()){vr.index>Mr?($i=vr,vr=null):$i=vr.sibling;var Cl=Ge(Ne,vr,vn.value,yt);if(Cl===null){vr===null&&(vr=$i);break}o&&vr&&Cl.alternate===null&&s(Ne,vr),Ee=_(Cl,Ee,Mr),ln===null?ur=Cl:ln.sibling=Cl,ln=Cl,vr=$i}if(vn.done)return u(Ne,vr),wn&&oc(Ne,Mr),ur;if(vr===null){for(;!vn.done;Mr++,vn=De.next())vn=xt(Ne,vn.value,yt),vn!==null&&(Ee=_(vn,Ee,Mr),ln===null?ur=vn:ln.sibling=vn,ln=vn);return wn&&oc(Ne,Mr),ur}for(vr=y(vr);!vn.done;Mr++,vn=De.next())vn=Xe(vr,Ne,Mr,vn.value,yt),vn!==null&&(o&&vn.alternate!==null&&vr.delete(vn.key===null?Mr:vn.key),Ee=_(vn,Ee,Mr),ln===null?ur=vn:ln.sibling=vn,ln=vn);return o&&vr.forEach(function(LN){return s(Ne,LN)}),wn&&oc(Ne,Mr),ur}function jn(Ne,Ee,De,yt){if(typeof De=="object"&&De!==null&&De.type===b&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case p:e:{for(var ur=De.key;Ee!==null;){if(Ee.key===ur){if(ur=De.type,ur===b){if(Ee.tag===7){u(Ne,Ee.sibling),yt=E(Ee,De.props.children),yt.return=Ne,Ne=yt;break e}}else if(Ee.elementType===ur||typeof ur=="object"&&ur!==null&&ur.$$typeof===$&&ek(ur)===Ee.type){u(Ne,Ee.sibling),yt=E(Ee,De.props),$d(yt,De),yt.return=Ne,Ne=yt;break e}u(Ne,Ee);break}else s(Ne,Ee);Ee=Ee.sibling}De.type===b?(yt=nc(De.props.children,Ne.mode,yt,De.key),yt.return=Ne,Ne=yt):(yt=$p(De.type,De.key,De.props,null,Ne.mode,yt),$d(yt,De),yt.return=Ne,Ne=yt)}return K(Ne);case S:e:{for(ur=De.key;Ee!==null;){if(Ee.key===ur)if(Ee.tag===4&&Ee.stateNode.containerInfo===De.containerInfo&&Ee.stateNode.implementation===De.implementation){u(Ne,Ee.sibling),yt=E(Ee,De.children||[]),yt.return=Ne,Ne=yt;break e}else{u(Ne,Ee);break}else s(Ne,Ee);Ee=Ee.sibling}yt=Zm(De,Ne.mode,yt),yt.return=Ne,Ne=yt}return K(Ne);case $:return ur=De._init,De=ur(De._payload),jn(Ne,Ee,De,yt)}if(G(De))return Br(Ne,Ee,De,yt);if(z(De)){if(ur=z(De),typeof ur!="function")throw Error(n(150));return De=ur.call(De),Or(Ne,Ee,De,yt)}if(typeof De.then=="function")return jn(Ne,Ee,rh(De),yt);if(De.$$typeof===w)return jn(Ne,Ee,Hp(Ne,De),yt);nh(Ne,De)}return typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint"?(De=""+De,Ee!==null&&Ee.tag===6?(u(Ne,Ee.sibling),yt=E(Ee,De),yt.return=Ne,Ne=yt):(u(Ne,Ee),yt=Xm(De,Ne.mode,yt),yt.return=Ne,Ne=yt),K(Ne)):u(Ne,Ee)}return function(Ne,Ee,De,yt){try{Bd=0;var ur=jn(Ne,Ee,De,yt);return au=null,ur}catch(vr){if(vr===Od||vr===qp)throw vr;var ln=Lo(29,vr,null,Ne.mode);return ln.lanes=yt,ln.return=Ne,ln}finally{}}}var su=tk(!0),rk=tk(!1),da=D(null),Ja=null;function cl(o){var s=o.alternate;ee(Ri,Ri.current&1),ee(da,o),Ja===null&&(s===null||ru.current!==null||s.memoizedState!==null)&&(Ja=o)}function nk(o){if(o.tag===22){if(ee(Ri,Ri.current),ee(da,o),Ja===null){var s=o.alternate;s!==null&&s.memoizedState!==null&&(Ja=o)}}else ul()}function ul(){ee(Ri,Ri.current),ee(da,da.current)}function _s(o){J(da),Ja===o&&(Ja=null),J(Ri)}var Ri=D(0);function ih(o){for(var s=o;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||vb(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Py(o,s,u,y){s=o.memoizedState,u=u(y,s),u=u==null?s:h({},s,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var _y={enqueueSetState:function(o,s,u){o=o._reactInternals;var y=Do(),E=al(y);E.payload=s,u!=null&&(E.callback=u),s=sl(o,E,y),s!==null&&(zo(s,o,y),_d(s,o,y))},enqueueReplaceState:function(o,s,u){o=o._reactInternals;var y=Do(),E=al(y);E.tag=1,E.payload=s,u!=null&&(E.callback=u),s=sl(o,E,y),s!==null&&(zo(s,o,y),_d(s,o,y))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var u=Do(),y=al(u);y.tag=2,s!=null&&(y.callback=s),s=sl(o,y,u),s!==null&&(zo(s,o,u),_d(s,o,u))}};function ik(o,s,u,y,E,_,K){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,_,K):s.prototype&&s.prototype.isPureReactComponent?!C(u,y)||!C(E,_):!0}function ok(o,s,u,y){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,y),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,y),s.state!==o&&_y.enqueueReplaceState(s,s.state,null)}function fc(o,s){var u=s;if("ref"in s){u={};for(var y in s)y!=="ref"&&(u[y]=s[y])}if(o=o.defaultProps){u===s&&(u=h({},u));for(var E in o)u[E]===void 0&&(u[E]=o[E])}return u}var oh=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function ak(o){oh(o)}function sk(o){console.error(o)}function lk(o){oh(o)}function ah(o,s){try{var u=o.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(y){setTimeout(function(){throw y})}}function ck(o,s,u){try{var y=o.onCaughtError;y(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function My(o,s,u){return u=al(u),u.tag=3,u.payload={element:null},u.callback=function(){ah(o,s)},u}function uk(o){return o=al(o),o.tag=3,o}function dk(o,s,u,y){var E=u.type.getDerivedStateFromError;if(typeof E=="function"){var _=y.value;o.payload=function(){return E(_)},o.callback=function(){ck(s,u,y)}}var K=u.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(o.callback=function(){ck(s,u,y),typeof E!="function"&&(ml===null?ml=new Set([this]):ml.add(this));var ne=y.stack;this.componentDidCatch(y.value,{componentStack:ne!==null?ne:""})})}function Lj(o,s,u,y,E){if(u.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(s=u.alternate,s!==null&&Ed(s,u,E,!0),u=da.current,u!==null){switch(u.tag){case 13:return Ja===null?rb():u.alternate===null&&ai===0&&(ai=3),u.flags&=-257,u.flags|=65536,u.lanes=E,y===sy?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([y]):s.add(y),ib(o,y,E)),!1;case 22:return u.flags|=65536,y===sy?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([y])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([y]):u.add(y)),ib(o,y,E)),!1}throw Error(n(435,u.tag))}return ib(o,y,E),rb(),!1}if(wn)return s=da.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=E,y!==ey&&(o=Error(n(422),{cause:y}),Td(kr(o,u)))):(y!==ey&&(s=Error(n(423),{cause:y}),Td(kr(s,u))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,y=kr(y,u),E=My(o.stateNode,y,E),uy(o,E),ai!==4&&(ai=2)),!1;var _=Error(n(520),{cause:y});if(_=kr(_,u),Wd===null?Wd=[_]:Wd.push(_),ai!==4&&(ai=2),s===null)return!0;y=kr(y,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,o=E&-E,u.lanes|=o,o=My(u.stateNode,y,o),uy(u,o),!1;case 1:if(s=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ml===null||!ml.has(_))))return u.flags|=65536,E&=-E,u.lanes|=E,E=uk(E),dk(E,o,u,y),uy(u,E),!1}u=u.return}while(u!==null);return!1}var fk=Error(n(461)),Fi=!1;function Wi(o,s,u,y){s.child=o===null?rk(s,null,u,y):su(s,o.child,u,y)}function pk(o,s,u,y,E){u=u.render;var _=s.ref;if("ref"in y){var K={};for(var ne in y)ne!=="ref"&&(K[ne]=y[ne])}else K=y;return cc(s),y=gy(o,s,u,K,_,E),ne=my(),o!==null&&!Fi?(yy(o,s,E),Ms(o,s,E)):(wn&&ne&&Qm(s),s.flags|=1,Wi(o,s,y,E),s.child)}function hk(o,s,u,y,E){if(o===null){var _=u.type;return typeof _=="function"&&!Ym(_)&&_.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=_,gk(o,s,_,y,E)):(o=$p(u.type,null,y,s,s.mode,E),o.ref=s.ref,o.return=s,s.child=o)}if(_=o.child,!Dy(o,E)){var K=_.memoizedProps;if(u=u.compare,u=u!==null?u:C,u(K,y)&&o.ref===s.ref)return Ms(o,s,E)}return s.flags|=1,o=Ts(_,y),o.ref=s.ref,o.return=s,s.child=o}function gk(o,s,u,y,E){if(o!==null){var _=o.memoizedProps;if(C(_,y)&&o.ref===s.ref)if(Fi=!1,s.pendingProps=y=_,Dy(o,E))(o.flags&131072)!==0&&(Fi=!0);else return s.lanes=o.lanes,Ms(o,s,E)}return jy(o,s,u,y,E)}function mk(o,s,u){var y=s.pendingProps,E=y.children,_=o!==null?o.memoizedState:null;if(y.mode==="hidden"){if((s.flags&128)!==0){if(y=_!==null?_.baseLanes|u:u,o!==null){for(E=s.child=o.child,_=0;E!==null;)_=_|E.lanes|E.childLanes,E=E.sibling;s.childLanes=_&~y}else s.childLanes=0,s.child=null;return yk(o,s,y,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&Vp(s,_!==null?_.cachePool:null),_!==null?gw(s,_):fy(),nk(s);else return s.lanes=s.childLanes=536870912,yk(o,s,_!==null?_.baseLanes|u:u,u)}else _!==null?(Vp(s,_.cachePool),gw(s,_),ul(),s.memoizedState=null):(o!==null&&Vp(s,null),fy(),ul());return Wi(o,s,E,u),s.child}function yk(o,s,u,y){var E=ay();return E=E===null?null:{parent:Ai._currentValue,pool:E},s.memoizedState={baseLanes:u,cachePool:E},o!==null&&Vp(s,null),fy(),nk(s),o!==null&&Ed(o,s,y,!0),null}function sh(o,s){var u=s.ref;if(u===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(o===null||o.ref!==u)&&(s.flags|=4194816)}}function jy(o,s,u,y,E){return cc(s),u=gy(o,s,u,y,void 0,E),y=my(),o!==null&&!Fi?(yy(o,s,E),Ms(o,s,E)):(wn&&y&&Qm(s),s.flags|=1,Wi(o,s,u,E),s.child)}function bk(o,s,u,y,E,_){return cc(s),s.updateQueue=null,u=yw(s,y,u,E),mw(o),y=my(),o!==null&&!Fi?(yy(o,s,_),Ms(o,s,_)):(wn&&y&&Qm(s),s.flags|=1,Wi(o,s,u,_),s.child)}function vk(o,s,u,y,E){if(cc(s),s.stateNode===null){var _=Za,K=u.contextType;typeof K=="object"&&K!==null&&(_=no(K)),_=new u(y,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=_y,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=y,_.state=s.memoizedState,_.refs={},ly(s),K=u.contextType,_.context=typeof K=="object"&&K!==null?no(K):Za,_.state=s.memoizedState,K=u.getDerivedStateFromProps,typeof K=="function"&&(Py(s,u,K,y),_.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(K=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),K!==_.state&&_y.enqueueReplaceState(_,_.state,null),jd(s,y,_,E),Md(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),y=!0}else if(o===null){_=s.stateNode;var ne=s.memoizedProps,me=fc(u,ne);_.props=me;var ze=_.context,pt=u.contextType;K=Za,typeof pt=="object"&&pt!==null&&(K=no(pt));var xt=u.getDerivedStateFromProps;pt=typeof xt=="function"||typeof _.getSnapshotBeforeUpdate=="function",ne=s.pendingProps!==ne,pt||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(ne||ze!==K)&&ok(s,_,y,K),ol=!1;var Ge=s.memoizedState;_.state=Ge,jd(s,y,_,E),Md(),ze=s.memoizedState,ne||Ge!==ze||ol?(typeof xt=="function"&&(Py(s,u,xt,y),ze=s.memoizedState),(me=ol||ik(s,u,me,y,Ge,ze,K))?(pt||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=y,s.memoizedState=ze),_.props=y,_.state=ze,_.context=K,y=me):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),y=!1)}else{_=s.stateNode,cy(o,s),K=s.memoizedProps,pt=fc(u,K),_.props=pt,xt=s.pendingProps,Ge=_.context,ze=u.contextType,me=Za,typeof ze=="object"&&ze!==null&&(me=no(ze)),ne=u.getDerivedStateFromProps,(ze=typeof ne=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(K!==xt||Ge!==me)&&ok(s,_,y,me),ol=!1,Ge=s.memoizedState,_.state=Ge,jd(s,y,_,E),Md();var Xe=s.memoizedState;K!==xt||Ge!==Xe||ol||o!==null&&o.dependencies!==null&&Up(o.dependencies)?(typeof ne=="function"&&(Py(s,u,ne,y),Xe=s.memoizedState),(pt=ol||ik(s,u,pt,y,Ge,Xe,me)||o!==null&&o.dependencies!==null&&Up(o.dependencies))?(ze||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(y,Xe,me),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(y,Xe,me)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||K===o.memoizedProps&&Ge===o.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&Ge===o.memoizedState||(s.flags|=1024),s.memoizedProps=y,s.memoizedState=Xe),_.props=y,_.state=Xe,_.context=me,y=pt):(typeof _.componentDidUpdate!="function"||K===o.memoizedProps&&Ge===o.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&Ge===o.memoizedState||(s.flags|=1024),y=!1)}return _=y,sh(o,s),y=(s.flags&128)!==0,_||y?(_=s.stateNode,u=y&&typeof u.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,o!==null&&y?(s.child=su(s,o.child,null,E),s.child=su(s,null,u,E)):Wi(o,s,u,E),s.memoizedState=_.state,o=s.child):o=Ms(o,s,E),o}function Sk(o,s,u,y){return Cd(),s.flags|=256,Wi(o,s,u,y),s.child}var Ny={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Iy(o){return{baseLanes:o,cachePool:sw()}}function Ly(o,s,u){return o=o!==null?o.childLanes&~u:0,s&&(o|=fa),o}function xk(o,s,u){var y=s.pendingProps,E=!1,_=(s.flags&128)!==0,K;if((K=_)||(K=o!==null&&o.memoizedState===null?!1:(Ri.current&2)!==0),K&&(E=!0,s.flags&=-129),K=(s.flags&32)!==0,s.flags&=-33,o===null){if(wn){if(E?cl(s):ul(),wn){var ne=oi,me;if(me=ne){e:{for(me=ne,ne=Qa;me.nodeType!==8;){if(!ne){ne=null;break e}if(me=ja(me.nextSibling),me===null){ne=null;break e}}ne=me}ne!==null?(s.memoizedState={dehydrated:ne,treeContext:ic!==null?{id:Es,overflow:As}:null,retryLane:536870912,hydrationErrors:null},me=Lo(18,null,null,0),me.stateNode=ne,me.return=s,s.child=me,mo=s,oi=null,me=!0):me=!1}me||sc(s)}if(ne=s.memoizedState,ne!==null&&(ne=ne.dehydrated,ne!==null))return vb(ne)?s.lanes=32:s.lanes=536870912,null;_s(s)}return ne=y.children,y=y.fallback,E?(ul(),E=s.mode,ne=lh({mode:"hidden",children:ne},E),y=nc(y,E,u,null),ne.return=s,y.return=s,ne.sibling=y,s.child=ne,E=s.child,E.memoizedState=Iy(u),E.childLanes=Ly(o,K,u),s.memoizedState=Ny,y):(cl(s),Fy(s,ne))}if(me=o.memoizedState,me!==null&&(ne=me.dehydrated,ne!==null)){if(_)s.flags&256?(cl(s),s.flags&=-257,s=By(o,s,u)):s.memoizedState!==null?(ul(),s.child=o.child,s.flags|=128,s=null):(ul(),E=y.fallback,ne=s.mode,y=lh({mode:"visible",children:y.children},ne),E=nc(E,ne,u,null),E.flags|=2,y.return=s,E.return=s,y.sibling=E,s.child=y,su(s,o.child,null,u),y=s.child,y.memoizedState=Iy(u),y.childLanes=Ly(o,K,u),s.memoizedState=Ny,s=E);else if(cl(s),vb(ne)){if(K=ne.nextSibling&&ne.nextSibling.dataset,K)var ze=K.dgst;K=ze,y=Error(n(419)),y.stack="",y.digest=K,Td({value:y,source:null,stack:null}),s=By(o,s,u)}else if(Fi||Ed(o,s,u,!1),K=(u&o.childLanes)!==0,Fi||K){if(K=zn,K!==null&&(y=u&-u,y=(y&42)!==0?1:Jt(y),y=(y&(K.suspendedLanes|u))!==0?0:y,y!==0&&y!==me.retryLane))throw me.retryLane=y,_a(o,y),zo(K,o,y),fk;ne.data==="$?"||rb(),s=By(o,s,u)}else ne.data==="$?"?(s.flags|=192,s.child=o.child,s=null):(o=me.treeContext,oi=ja(ne.nextSibling),mo=s,wn=!0,ac=null,Qa=!1,o!==null&&(ca[ua++]=Es,ca[ua++]=As,ca[ua++]=ic,Es=o.id,As=o.overflow,ic=s),s=Fy(s,y.children),s.flags|=4096);return s}return E?(ul(),E=y.fallback,ne=s.mode,me=o.child,ze=me.sibling,y=Ts(me,{mode:"hidden",children:y.children}),y.subtreeFlags=me.subtreeFlags&65011712,ze!==null?E=Ts(ze,E):(E=nc(E,ne,u,null),E.flags|=2),E.return=s,y.return=s,y.sibling=E,s.child=y,y=E,E=s.child,ne=o.child.memoizedState,ne===null?ne=Iy(u):(me=ne.cachePool,me!==null?(ze=Ai._currentValue,me=me.parent!==ze?{parent:ze,pool:ze}:me):me=sw(),ne={baseLanes:ne.baseLanes|u,cachePool:me}),E.memoizedState=ne,E.childLanes=Ly(o,K,u),s.memoizedState=Ny,y):(cl(s),u=o.child,o=u.sibling,u=Ts(u,{mode:"visible",children:y.children}),u.return=s,u.sibling=null,o!==null&&(K=s.deletions,K===null?(s.deletions=[o],s.flags|=16):K.push(o)),s.child=u,s.memoizedState=null,u)}function Fy(o,s){return s=lh({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function lh(o,s){return o=Lo(22,o,null,s),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function By(o,s,u){return su(s,o.child,null,u),o=Fy(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function wk(o,s,u){o.lanes|=s;var y=o.alternate;y!==null&&(y.lanes|=s),ry(o.return,s,u)}function $y(o,s,u,y,E){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:y,tail:u,tailMode:E}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=y,_.tail=u,_.tailMode=E)}function kk(o,s,u){var y=s.pendingProps,E=y.revealOrder,_=y.tail;if(Wi(o,s,y.children,u),y=Ri.current,(y&2)!==0)y=y&1|2,s.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&wk(o,u,s);else if(o.tag===19)wk(o,u,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}switch(ee(Ri,y),E){case"forwards":for(u=s.child,E=null;u!==null;)o=u.alternate,o!==null&&ih(o)===null&&(E=u),u=u.sibling;u=E,u===null?(E=s.child,s.child=null):(E=u.sibling,u.sibling=null),$y(s,!1,E,u,_);break;case"backwards":for(u=null,E=s.child,s.child=null;E!==null;){if(o=E.alternate,o!==null&&ih(o)===null){s.child=E;break}o=E.sibling,E.sibling=u,u=E,E=o}$y(s,!0,u,null,_);break;case"together":$y(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ms(o,s,u){if(o!==null&&(s.dependencies=o.dependencies),gl|=s.lanes,(u&s.childLanes)===0)if(o!==null){if(Ed(o,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(n(153));if(s.child!==null){for(o=s.child,u=Ts(o,o.pendingProps),s.child=u,u.return=s;o.sibling!==null;)o=o.sibling,u=u.sibling=Ts(o,o.pendingProps),u.return=s;u.sibling=null}return s.child}function Dy(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&Up(o)))}function Fj(o,s,u){switch(s.tag){case 3:ve(s,s.stateNode.containerInfo),il(s,Ai,o.memoizedState.cache),Cd();break;case 27:case 5:de(s);break;case 4:ve(s,s.stateNode.containerInfo);break;case 10:il(s,s.type,s.memoizedProps.value);break;case 13:var y=s.memoizedState;if(y!==null)return y.dehydrated!==null?(cl(s),s.flags|=128,null):(u&s.child.childLanes)!==0?xk(o,s,u):(cl(s),o=Ms(o,s,u),o!==null?o.sibling:null);cl(s);break;case 19:var E=(o.flags&128)!==0;if(y=(u&s.childLanes)!==0,y||(Ed(o,s,u,!1),y=(u&s.childLanes)!==0),E){if(y)return kk(o,s,u);s.flags|=128}if(E=s.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),ee(Ri,Ri.current),y)break;return null;case 22:case 23:return s.lanes=0,mk(o,s,u);case 24:il(s,Ai,o.memoizedState.cache)}return Ms(o,s,u)}function Ck(o,s,u){if(o!==null)if(o.memoizedProps!==s.pendingProps)Fi=!0;else{if(!Dy(o,u)&&(s.flags&128)===0)return Fi=!1,Fj(o,s,u);Fi=(o.flags&131072)!==0}else Fi=!1,wn&&(s.flags&1048576)!==0&&ew(s,zp,s.index);switch(s.lanes=0,s.tag){case 16:e:{o=s.pendingProps;var y=s.elementType,E=y._init;if(y=E(y._payload),s.type=y,typeof y=="function")Ym(y)?(o=fc(y,o),s.tag=1,s=vk(null,s,y,o,u)):(s.tag=0,s=jy(null,s,y,o,u));else{if(y!=null){if(E=y.$$typeof,E===R){s.tag=11,s=pk(null,s,y,o,u);break e}else if(E===j){s.tag=14,s=hk(null,s,y,o,u);break e}}throw s=B(y)||y,Error(n(306,s,""))}}return s;case 0:return jy(o,s,s.type,s.pendingProps,u);case 1:return y=s.type,E=fc(y,s.pendingProps),vk(o,s,y,E,u);case 3:e:{if(ve(s,s.stateNode.containerInfo),o===null)throw Error(n(387));y=s.pendingProps;var _=s.memoizedState;E=_.element,cy(o,s),jd(s,y,null,u);var K=s.memoizedState;if(y=K.cache,il(s,Ai,y),y!==_.cache&&ny(s,[Ai],u,!0),Md(),y=K.element,_.isDehydrated)if(_={element:y,isDehydrated:!1,cache:K.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=Sk(o,s,y,u);break e}else if(y!==E){E=kr(Error(n(424)),s),Td(E),s=Sk(o,s,y,u);break e}else{switch(o=s.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(oi=ja(o.firstChild),mo=s,wn=!0,ac=null,Qa=!0,u=rk(s,null,y,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Cd(),y===E){s=Ms(o,s,u);break e}Wi(o,s,y,u)}s=s.child}return s;case 26:return sh(o,s),o===null?(u=RC(s.type,null,s.pendingProps,null))?s.memoizedState=u:wn||(u=s.type,o=s.pendingProps,y=wh(oe.current).createElement(u),y[St]=s,y[kt]=o,Gi(y,u,o),Ct(y),s.stateNode=y):s.memoizedState=RC(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return de(s),o===null&&wn&&(y=s.stateNode=TC(s.type,s.pendingProps,oe.current),mo=s,Qa=!0,E=oi,vl(s.type)?(Sb=E,oi=ja(y.firstChild)):oi=E),Wi(o,s,s.pendingProps.children,u),sh(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&wn&&((E=y=oi)&&(y=dN(y,s.type,s.pendingProps,Qa),y!==null?(s.stateNode=y,mo=s,oi=ja(y.firstChild),Qa=!1,E=!0):E=!1),E||sc(s)),de(s),E=s.type,_=s.pendingProps,K=o!==null?o.memoizedProps:null,y=_.children,mb(E,_)?y=null:K!==null&&mb(E,K)&&(s.flags|=32),s.memoizedState!==null&&(E=gy(o,s,Oj,null,null,u),tf._currentValue=E),sh(o,s),Wi(o,s,y,u),s.child;case 6:return o===null&&wn&&((o=u=oi)&&(u=fN(u,s.pendingProps,Qa),u!==null?(s.stateNode=u,mo=s,oi=null,o=!0):o=!1),o||sc(s)),null;case 13:return xk(o,s,u);case 4:return ve(s,s.stateNode.containerInfo),y=s.pendingProps,o===null?s.child=su(s,null,y,u):Wi(o,s,y,u),s.child;case 11:return pk(o,s,s.type,s.pendingProps,u);case 7:return Wi(o,s,s.pendingProps,u),s.child;case 8:return Wi(o,s,s.pendingProps.children,u),s.child;case 12:return Wi(o,s,s.pendingProps.children,u),s.child;case 10:return y=s.pendingProps,il(s,s.type,y.value),Wi(o,s,y.children,u),s.child;case 9:return E=s.type._context,y=s.pendingProps.children,cc(s),E=no(E),y=y(E),s.flags|=1,Wi(o,s,y,u),s.child;case 14:return hk(o,s,s.type,s.pendingProps,u);case 15:return gk(o,s,s.type,s.pendingProps,u);case 19:return kk(o,s,u);case 31:return y=s.pendingProps,u=s.mode,y={mode:y.mode,children:y.children},o===null?(u=lh(y,u),u.ref=s.ref,s.child=u,u.return=s,s=u):(u=Ts(o.child,y),u.ref=s.ref,s.child=u,u.return=s,s=u),s;case 22:return mk(o,s,u);case 24:return cc(s),y=no(Ai),o===null?(E=ay(),E===null&&(E=zn,_=iy(),E.pooledCache=_,_.refCount++,_!==null&&(E.pooledCacheLanes|=u),E=_),s.memoizedState={parent:y,cache:E},ly(s),il(s,Ai,E)):((o.lanes&u)!==0&&(cy(o,s),jd(s,null,null,u),Md()),E=o.memoizedState,_=s.memoizedState,E.parent!==y?(E={parent:y,cache:y},s.memoizedState=E,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=E),il(s,Ai,y)):(y=_.cache,il(s,Ai,y),y!==E.cache&&ny(s,[Ai],u,!0))),Wi(o,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function js(o){o.flags|=4}function Tk(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!jC(s)){if(s=da.current,s!==null&&((mn&4194048)===mn?Ja!==null:(mn&62914560)!==mn&&(mn&536870912)===0||s!==Ja))throw Pd=sy,lw;o.flags|=8192}}function ch(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?fe():536870912,o.lanes|=s,du|=s)}function Dd(o,s){if(!wn)switch(o.tailMode){case"hidden":s=o.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var y=null;u!==null;)u.alternate!==null&&(y=u),u=u.sibling;y===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function ti(o){var s=o.alternate!==null&&o.alternate.child===o.child,u=0,y=0;if(s)for(var E=o.child;E!==null;)u|=E.lanes|E.childLanes,y|=E.subtreeFlags&65011712,y|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)u|=E.lanes|E.childLanes,y|=E.subtreeFlags,y|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=y,o.childLanes=u,s}function Bj(o,s,u){var y=s.pendingProps;switch(Jm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(s),null;case 1:return ti(s),null;case 3:return u=s.stateNode,y=null,o!==null&&(y=o.memoizedState.cache),s.memoizedState.cache!==y&&(s.flags|=2048),Os(Ai),Q(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(o===null||o.child===null)&&(kd(s)?js(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,nw())),ti(s),null;case 26:return u=s.memoizedState,o===null?(js(s),u!==null?(ti(s),Tk(s,u)):(ti(s),s.flags&=-16777217)):u?u!==o.memoizedState?(js(s),ti(s),Tk(s,u)):(ti(s),s.flags&=-16777217):(o.memoizedProps!==y&&js(s),ti(s),s.flags&=-16777217),null;case 27:we(s),u=oe.current;var E=s.type;if(o!==null&&s.stateNode!=null)o.memoizedProps!==y&&js(s);else{if(!y){if(s.stateNode===null)throw Error(n(166));return ti(s),null}o=te.current,kd(s)?tw(s):(o=TC(E,y,u),s.stateNode=o,js(s))}return ti(s),null;case 5:if(we(s),u=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==y&&js(s);else{if(!y){if(s.stateNode===null)throw Error(n(166));return ti(s),null}if(o=te.current,kd(s))tw(s);else{switch(E=wh(oe.current),o){case 1:o=E.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=E.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=E.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=E.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=E.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof y.is=="string"?E.createElement("select",{is:y.is}):E.createElement("select"),y.multiple?o.multiple=!0:y.size&&(o.size=y.size);break;default:o=typeof y.is=="string"?E.createElement(u,{is:y.is}):E.createElement(u)}}o[St]=s,o[kt]=y;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)o.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=o;e:switch(Gi(o,u,y),u){case"button":case"input":case"select":case"textarea":o=!!y.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&js(s)}}return ti(s),s.flags&=-16777217,null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==y&&js(s);else{if(typeof y!="string"&&s.stateNode===null)throw Error(n(166));if(o=oe.current,kd(s)){if(o=s.stateNode,u=s.memoizedProps,y=null,E=mo,E!==null)switch(E.tag){case 27:case 5:y=E.memoizedProps}o[St]=s,o=!!(o.nodeValue===u||y!==null&&y.suppressHydrationWarning===!0||bC(o.nodeValue,u)),o||sc(s)}else o=wh(o).createTextNode(y),o[St]=s,s.stateNode=o}return ti(s),null;case 13:if(y=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=kd(s),y!==null&&y.dehydrated!==null){if(o===null){if(!E)throw Error(n(318));if(E=s.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[St]=s}else Cd(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ti(s),E=!1}else E=nw(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return s.flags&256?(_s(s),s):(_s(s),null)}if(_s(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=y!==null,o=o!==null&&o.memoizedState!==null,u){y=s.child,E=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(E=y.alternate.memoizedState.cachePool.pool);var _=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(_=y.memoizedState.cachePool.pool),_!==E&&(y.flags|=2048)}return u!==o&&u&&(s.child.flags|=8192),ch(s,s.updateQueue),ti(s),null;case 4:return Q(),o===null&&db(s.stateNode.containerInfo),ti(s),null;case 10:return Os(s.type),ti(s),null;case 19:if(J(Ri),E=s.memoizedState,E===null)return ti(s),null;if(y=(s.flags&128)!==0,_=E.rendering,_===null)if(y)Dd(E,!1);else{if(ai!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(_=ih(o),_!==null){for(s.flags|=128,Dd(E,!1),o=_.updateQueue,s.updateQueue=o,ch(s,o),s.subtreeFlags=0,o=u,u=s.child;u!==null;)J1(u,o),u=u.sibling;return ee(Ri,Ri.current&1|2),s.child}o=o.sibling}E.tail!==null&&Be()>fh&&(s.flags|=128,y=!0,Dd(E,!1),s.lanes=4194304)}else{if(!y)if(o=ih(_),o!==null){if(s.flags|=128,y=!0,o=o.updateQueue,s.updateQueue=o,ch(s,o),Dd(E,!0),E.tail===null&&E.tailMode==="hidden"&&!_.alternate&&!wn)return ti(s),null}else 2*Be()-E.renderingStartTime>fh&&u!==536870912&&(s.flags|=128,y=!0,Dd(E,!1),s.lanes=4194304);E.isBackwards?(_.sibling=s.child,s.child=_):(o=E.last,o!==null?o.sibling=_:s.child=_,E.last=_)}return E.tail!==null?(s=E.tail,E.rendering=s,E.tail=s.sibling,E.renderingStartTime=Be(),s.sibling=null,o=Ri.current,ee(Ri,y?o&1|2:o&1),s):(ti(s),null);case 22:case 23:return _s(s),py(),y=s.memoizedState!==null,o!==null?o.memoizedState!==null!==y&&(s.flags|=8192):y&&(s.flags|=8192),y?(u&536870912)!==0&&(s.flags&128)===0&&(ti(s),s.subtreeFlags&6&&(s.flags|=8192)):ti(s),u=s.updateQueue,u!==null&&ch(s,u.retryQueue),u=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),y=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(y=s.memoizedState.cachePool.pool),y!==u&&(s.flags|=2048),o!==null&&J(uc),null;case 24:return u=null,o!==null&&(u=o.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Os(Ai),ti(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function $j(o,s){switch(Jm(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return Os(Ai),Q(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return we(s),null;case 13:if(_s(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Cd()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return J(Ri),null;case 4:return Q(),null;case 10:return Os(s.type),null;case 22:case 23:return _s(s),py(),o!==null&&J(uc),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return Os(Ai),null;case 25:return null;default:return null}}function Ek(o,s){switch(Jm(s),s.tag){case 3:Os(Ai),Q();break;case 26:case 27:case 5:we(s);break;case 4:Q();break;case 13:_s(s);break;case 19:J(Ri);break;case 10:Os(s.type);break;case 22:case 23:_s(s),py(),o!==null&&J(uc);break;case 24:Os(Ai)}}function zd(o,s){try{var u=s.updateQueue,y=u!==null?u.lastEffect:null;if(y!==null){var E=y.next;u=E;do{if((u.tag&o)===o){y=void 0;var _=u.create,K=u.inst;y=_(),K.destroy=y}u=u.next}while(u!==E)}}catch(ne){Fn(s,s.return,ne)}}function dl(o,s,u){try{var y=s.updateQueue,E=y!==null?y.lastEffect:null;if(E!==null){var _=E.next;y=_;do{if((y.tag&o)===o){var K=y.inst,ne=K.destroy;if(ne!==void 0){K.destroy=void 0,E=s;var me=u,ze=ne;try{ze()}catch(pt){Fn(E,me,pt)}}}y=y.next}while(y!==_)}}catch(pt){Fn(s,s.return,pt)}}function Ak(o){var s=o.updateQueue;if(s!==null){var u=o.stateNode;try{hw(s,u)}catch(y){Fn(o,o.return,y)}}}function Rk(o,s,u){u.props=fc(o.type,o.memoizedProps),u.state=o.memoizedState;try{u.componentWillUnmount()}catch(y){Fn(o,s,y)}}function Ud(o,s){try{var u=o.ref;if(u!==null){switch(o.tag){case 26:case 27:case 5:var y=o.stateNode;break;case 30:y=o.stateNode;break;default:y=o.stateNode}typeof u=="function"?o.refCleanup=u(y):u.current=y}}catch(E){Fn(o,s,E)}}function es(o,s){var u=o.ref,y=o.refCleanup;if(u!==null)if(typeof y=="function")try{y()}catch(E){Fn(o,s,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(E){Fn(o,s,E)}else u.current=null}function Ok(o){var s=o.type,u=o.memoizedProps,y=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&y.focus();break e;case"img":u.src?y.src=u.src:u.srcSet&&(y.srcset=u.srcSet)}}catch(E){Fn(o,o.return,E)}}function zy(o,s,u){try{var y=o.stateNode;aN(y,o.type,u,s),y[kt]=s}catch(E){Fn(o,o.return,E)}}function Pk(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&vl(o.type)||o.tag===4}function Uy(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Pk(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&vl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Hy(o,s,u){var y=o.tag;if(y===5||y===6)o=o.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(o,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(o),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=xh));else if(y!==4&&(y===27&&vl(o.type)&&(u=o.stateNode,s=null),o=o.child,o!==null))for(Hy(o,s,u),o=o.sibling;o!==null;)Hy(o,s,u),o=o.sibling}function uh(o,s,u){var y=o.tag;if(y===5||y===6)o=o.stateNode,s?u.insertBefore(o,s):u.appendChild(o);else if(y!==4&&(y===27&&vl(o.type)&&(u=o.stateNode),o=o.child,o!==null))for(uh(o,s,u),o=o.sibling;o!==null;)uh(o,s,u),o=o.sibling}function _k(o){var s=o.stateNode,u=o.memoizedProps;try{for(var y=o.type,E=s.attributes;E.length;)s.removeAttributeNode(E[0]);Gi(s,y,u),s[St]=o,s[kt]=u}catch(_){Fn(o,o.return,_)}}var Ns=!1,gi=!1,Vy=!1,Mk=typeof WeakSet=="function"?WeakSet:Set,Bi=null;function Dj(o,s){if(o=o.containerInfo,hb=Rh,o=Y(o),re(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{u=(u=o.ownerDocument)&&u.defaultView||window;var y=u.getSelection&&u.getSelection();if(y&&y.rangeCount!==0){u=y.anchorNode;var E=y.anchorOffset,_=y.focusNode;y=y.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var K=0,ne=-1,me=-1,ze=0,pt=0,xt=o,Ge=null;t:for(;;){for(var Xe;xt!==u||E!==0&&xt.nodeType!==3||(ne=K+E),xt!==_||y!==0&&xt.nodeType!==3||(me=K+y),xt.nodeType===3&&(K+=xt.nodeValue.length),(Xe=xt.firstChild)!==null;)Ge=xt,xt=Xe;for(;;){if(xt===o)break t;if(Ge===u&&++ze===E&&(ne=K),Ge===_&&++pt===y&&(me=K),(Xe=xt.nextSibling)!==null)break;xt=Ge,Ge=xt.parentNode}xt=Xe}u=ne===-1||me===-1?null:{start:ne,end:me}}else u=null}u=u||{start:0,end:0}}else u=null;for(gb={focusedElem:o,selectionRange:u},Rh=!1,Bi=s;Bi!==null;)if(s=Bi,o=s.child,(s.subtreeFlags&1024)!==0&&o!==null)o.return=s,Bi=o;else for(;Bi!==null;){switch(s=Bi,_=s.alternate,o=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,u=s,E=_.memoizedProps,_=_.memoizedState,y=u.stateNode;try{var Br=fc(u.type,E,u.elementType===u.type);o=y.getSnapshotBeforeUpdate(Br,_),y.__reactInternalSnapshotBeforeUpdate=o}catch(Or){Fn(u,u.return,Or)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,u=o.nodeType,u===9)bb(o);else if(u===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":bb(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=s.sibling,o!==null){o.return=s.return,Bi=o;break}Bi=s.return}}function jk(o,s,u){var y=u.flags;switch(u.tag){case 0:case 11:case 15:fl(o,u),y&4&&zd(5,u);break;case 1:if(fl(o,u),y&4)if(o=u.stateNode,s===null)try{o.componentDidMount()}catch(K){Fn(u,u.return,K)}else{var E=fc(u.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(E,s,o.__reactInternalSnapshotBeforeUpdate)}catch(K){Fn(u,u.return,K)}}y&64&&Ak(u),y&512&&Ud(u,u.return);break;case 3:if(fl(o,u),y&64&&(o=u.updateQueue,o!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{hw(o,s)}catch(K){Fn(u,u.return,K)}}break;case 27:s===null&&y&4&&_k(u);case 26:case 5:fl(o,u),s===null&&y&4&&Ok(u),y&512&&Ud(u,u.return);break;case 12:fl(o,u);break;case 13:fl(o,u),y&4&&Lk(o,u),y&64&&(o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(u=Yj.bind(null,u),pN(o,u))));break;case 22:if(y=u.memoizedState!==null||Ns,!y){s=s!==null&&s.memoizedState!==null||gi,E=Ns;var _=gi;Ns=y,(gi=s)&&!_?pl(o,u,(u.subtreeFlags&8772)!==0):fl(o,u),Ns=E,gi=_}break;case 30:break;default:fl(o,u)}}function Nk(o){var s=o.alternate;s!==null&&(o.alternate=null,Nk(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&Pr(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Yn=null,Eo=!1;function Is(o,s,u){for(u=u.child;u!==null;)Ik(o,s,u),u=u.sibling}function Ik(o,s,u){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(je,u)}catch{}switch(u.tag){case 26:gi||es(u,s),Is(o,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:gi||es(u,s);var y=Yn,E=Eo;vl(u.type)&&(Yn=u.stateNode,Eo=!1),Is(o,s,u),Zd(u.stateNode),Yn=y,Eo=E;break;case 5:gi||es(u,s);case 6:if(y=Yn,E=Eo,Yn=null,Is(o,s,u),Yn=y,Eo=E,Yn!==null)if(Eo)try{(Yn.nodeType===9?Yn.body:Yn.nodeName==="HTML"?Yn.ownerDocument.body:Yn).removeChild(u.stateNode)}catch(_){Fn(u,s,_)}else try{Yn.removeChild(u.stateNode)}catch(_){Fn(u,s,_)}break;case 18:Yn!==null&&(Eo?(o=Yn,kC(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,u.stateNode),af(o)):kC(Yn,u.stateNode));break;case 4:y=Yn,E=Eo,Yn=u.stateNode.containerInfo,Eo=!0,Is(o,s,u),Yn=y,Eo=E;break;case 0:case 11:case 14:case 15:gi||dl(2,u,s),gi||dl(4,u,s),Is(o,s,u);break;case 1:gi||(es(u,s),y=u.stateNode,typeof y.componentWillUnmount=="function"&&Rk(u,s,y)),Is(o,s,u);break;case 21:Is(o,s,u);break;case 22:gi=(y=gi)||u.memoizedState!==null,Is(o,s,u),gi=y;break;default:Is(o,s,u)}}function Lk(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{af(o)}catch(u){Fn(s,s.return,u)}}function zj(o){switch(o.tag){case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new Mk),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new Mk),s;default:throw Error(n(435,o.tag))}}function qy(o,s){var u=zj(o);s.forEach(function(y){var E=Xj.bind(null,o,y);u.has(y)||(u.add(y),y.then(E,E))})}function Fo(o,s){var u=s.deletions;if(u!==null)for(var y=0;y<u.length;y++){var E=u[y],_=o,K=s,ne=K;e:for(;ne!==null;){switch(ne.tag){case 27:if(vl(ne.type)){Yn=ne.stateNode,Eo=!1;break e}break;case 5:Yn=ne.stateNode,Eo=!1;break e;case 3:case 4:Yn=ne.stateNode.containerInfo,Eo=!0;break e}ne=ne.return}if(Yn===null)throw Error(n(160));Ik(_,K,E),Yn=null,Eo=!1,_=E.alternate,_!==null&&(_.return=null),E.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Fk(s,o),s=s.sibling}var Ma=null;function Fk(o,s){var u=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Fo(s,o),Bo(o),y&4&&(dl(3,o,o.return),zd(3,o),dl(5,o,o.return));break;case 1:Fo(s,o),Bo(o),y&512&&(gi||u===null||es(u,u.return)),y&64&&Ns&&(o=o.updateQueue,o!==null&&(y=o.callbacks,y!==null&&(u=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=u===null?y:u.concat(y))));break;case 26:var E=Ma;if(Fo(s,o),Bo(o),y&512&&(gi||u===null||es(u,u.return)),y&4){var _=u!==null?u.memoizedState:null;if(y=o.memoizedState,u===null)if(y===null)if(o.stateNode===null){e:{y=o.type,u=o.memoizedProps,E=E.ownerDocument||E;t:switch(y){case"title":_=E.getElementsByTagName("title")[0],(!_||_[wr]||_[St]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=E.createElement(y),E.head.insertBefore(_,E.querySelector("head > title"))),Gi(_,y,u),_[St]=o,Ct(_),y=_;break e;case"link":var K=_C("link","href",E).get(y+(u.href||""));if(K){for(var ne=0;ne<K.length;ne++)if(_=K[ne],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){K.splice(ne,1);break t}}_=E.createElement(y),Gi(_,y,u),E.head.appendChild(_);break;case"meta":if(K=_C("meta","content",E).get(y+(u.content||""))){for(ne=0;ne<K.length;ne++)if(_=K[ne],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){K.splice(ne,1);break t}}_=E.createElement(y),Gi(_,y,u),E.head.appendChild(_);break;default:throw Error(n(468,y))}_[St]=o,Ct(_),y=_}o.stateNode=y}else MC(E,o.type,o.stateNode);else o.stateNode=PC(E,y,o.memoizedProps);else _!==y?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,y===null?MC(E,o.type,o.stateNode):PC(E,y,o.memoizedProps)):y===null&&o.stateNode!==null&&zy(o,o.memoizedProps,u.memoizedProps)}break;case 27:Fo(s,o),Bo(o),y&512&&(gi||u===null||es(u,u.return)),u!==null&&y&4&&zy(o,o.memoizedProps,u.memoizedProps);break;case 5:if(Fo(s,o),Bo(o),y&512&&(gi||u===null||es(u,u.return)),o.flags&32){E=o.stateNode;try{Co(E,"")}catch(Xe){Fn(o,o.return,Xe)}}y&4&&o.stateNode!=null&&(E=o.memoizedProps,zy(o,E,u!==null?u.memoizedProps:E)),y&1024&&(Vy=!0);break;case 6:if(Fo(s,o),Bo(o),y&4){if(o.stateNode===null)throw Error(n(162));y=o.memoizedProps,u=o.stateNode;try{u.nodeValue=y}catch(Xe){Fn(o,o.return,Xe)}}break;case 3:if(Th=null,E=Ma,Ma=kh(s.containerInfo),Fo(s,o),Ma=E,Bo(o),y&4&&u!==null&&u.memoizedState.isDehydrated)try{af(s.containerInfo)}catch(Xe){Fn(o,o.return,Xe)}Vy&&(Vy=!1,Bk(o));break;case 4:y=Ma,Ma=kh(o.stateNode.containerInfo),Fo(s,o),Bo(o),Ma=y;break;case 12:Fo(s,o),Bo(o);break;case 13:Fo(s,o),Bo(o),o.child.flags&8192&&o.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Zy=Be()),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,qy(o,y)));break;case 22:E=o.memoizedState!==null;var me=u!==null&&u.memoizedState!==null,ze=Ns,pt=gi;if(Ns=ze||E,gi=pt||me,Fo(s,o),gi=pt,Ns=ze,Bo(o),y&8192)e:for(s=o.stateNode,s._visibility=E?s._visibility&-2:s._visibility|1,E&&(u===null||me||Ns||gi||pc(o)),u=null,s=o;;){if(s.tag===5||s.tag===26){if(u===null){me=u=s;try{if(_=me.stateNode,E)K=_.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{ne=me.stateNode;var xt=me.memoizedProps.style,Ge=xt!=null&&xt.hasOwnProperty("display")?xt.display:null;ne.style.display=Ge==null||typeof Ge=="boolean"?"":(""+Ge).trim()}}catch(Xe){Fn(me,me.return,Xe)}}}else if(s.tag===6){if(u===null){me=s;try{me.stateNode.nodeValue=E?"":me.memoizedProps}catch(Xe){Fn(me,me.return,Xe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}y&4&&(y=o.updateQueue,y!==null&&(u=y.retryQueue,u!==null&&(y.retryQueue=null,qy(o,u))));break;case 19:Fo(s,o),Bo(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,qy(o,y)));break;case 30:break;case 21:break;default:Fo(s,o),Bo(o)}}function Bo(o){var s=o.flags;if(s&2){try{for(var u,y=o.return;y!==null;){if(Pk(y)){u=y;break}y=y.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var E=u.stateNode,_=Uy(o);uh(o,_,E);break;case 5:var K=u.stateNode;u.flags&32&&(Co(K,""),u.flags&=-33);var ne=Uy(o);uh(o,ne,K);break;case 3:case 4:var me=u.stateNode.containerInfo,ze=Uy(o);Hy(o,ze,me);break;default:throw Error(n(161))}}catch(pt){Fn(o,o.return,pt)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function Bk(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;Bk(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function fl(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)jk(o,s.alternate,s),s=s.sibling}function pc(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:dl(4,s,s.return),pc(s);break;case 1:es(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&Rk(s,s.return,u),pc(s);break;case 27:Zd(s.stateNode);case 26:case 5:es(s,s.return),pc(s);break;case 22:s.memoizedState===null&&pc(s);break;case 30:pc(s);break;default:pc(s)}o=o.sibling}}function pl(o,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var y=s.alternate,E=o,_=s,K=_.flags;switch(_.tag){case 0:case 11:case 15:pl(E,_,u),zd(4,_);break;case 1:if(pl(E,_,u),y=_,E=y.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(ze){Fn(y,y.return,ze)}if(y=_,E=y.updateQueue,E!==null){var ne=y.stateNode;try{var me=E.shared.hiddenCallbacks;if(me!==null)for(E.shared.hiddenCallbacks=null,E=0;E<me.length;E++)pw(me[E],ne)}catch(ze){Fn(y,y.return,ze)}}u&&K&64&&Ak(_),Ud(_,_.return);break;case 27:_k(_);case 26:case 5:pl(E,_,u),u&&y===null&&K&4&&Ok(_),Ud(_,_.return);break;case 12:pl(E,_,u);break;case 13:pl(E,_,u),u&&K&4&&Lk(E,_);break;case 22:_.memoizedState===null&&pl(E,_,u),Ud(_,_.return);break;case 30:break;default:pl(E,_,u)}s=s.sibling}}function Wy(o,s){var u=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==u&&(o!=null&&o.refCount++,u!=null&&Ad(u))}function Ky(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&Ad(o))}function ts(o,s,u,y){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)$k(o,s,u,y),s=s.sibling}function $k(o,s,u,y){var E=s.flags;switch(s.tag){case 0:case 11:case 15:ts(o,s,u,y),E&2048&&zd(9,s);break;case 1:ts(o,s,u,y);break;case 3:ts(o,s,u,y),E&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&Ad(o)));break;case 12:if(E&2048){ts(o,s,u,y),o=s.stateNode;try{var _=s.memoizedProps,K=_.id,ne=_.onPostCommit;typeof ne=="function"&&ne(K,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(me){Fn(s,s.return,me)}}else ts(o,s,u,y);break;case 13:ts(o,s,u,y);break;case 23:break;case 22:_=s.stateNode,K=s.alternate,s.memoizedState!==null?_._visibility&2?ts(o,s,u,y):Hd(o,s):_._visibility&2?ts(o,s,u,y):(_._visibility|=2,lu(o,s,u,y,(s.subtreeFlags&10256)!==0)),E&2048&&Wy(K,s);break;case 24:ts(o,s,u,y),E&2048&&Ky(s.alternate,s);break;default:ts(o,s,u,y)}}function lu(o,s,u,y,E){for(E=E&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var _=o,K=s,ne=u,me=y,ze=K.flags;switch(K.tag){case 0:case 11:case 15:lu(_,K,ne,me,E),zd(8,K);break;case 23:break;case 22:var pt=K.stateNode;K.memoizedState!==null?pt._visibility&2?lu(_,K,ne,me,E):Hd(_,K):(pt._visibility|=2,lu(_,K,ne,me,E)),E&&ze&2048&&Wy(K.alternate,K);break;case 24:lu(_,K,ne,me,E),E&&ze&2048&&Ky(K.alternate,K);break;default:lu(_,K,ne,me,E)}s=s.sibling}}function Hd(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=o,y=s,E=y.flags;switch(y.tag){case 22:Hd(u,y),E&2048&&Wy(y.alternate,y);break;case 24:Hd(u,y),E&2048&&Ky(y.alternate,y);break;default:Hd(u,y)}s=s.sibling}}var Vd=8192;function cu(o){if(o.subtreeFlags&Vd)for(o=o.child;o!==null;)Dk(o),o=o.sibling}function Dk(o){switch(o.tag){case 26:cu(o),o.flags&Vd&&o.memoizedState!==null&&EN(Ma,o.memoizedState,o.memoizedProps);break;case 5:cu(o);break;case 3:case 4:var s=Ma;Ma=kh(o.stateNode.containerInfo),cu(o),Ma=s;break;case 22:o.memoizedState===null&&(s=o.alternate,s!==null&&s.memoizedState!==null?(s=Vd,Vd=16777216,cu(o),Vd=s):cu(o));break;default:cu(o)}}function zk(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function qd(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var y=s[u];Bi=y,Hk(y,o)}zk(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Uk(o),o=o.sibling}function Uk(o){switch(o.tag){case 0:case 11:case 15:qd(o),o.flags&2048&&dl(9,o,o.return);break;case 3:qd(o);break;case 12:qd(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,dh(o)):qd(o);break;default:qd(o)}}function dh(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var y=s[u];Bi=y,Hk(y,o)}zk(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:dl(8,s,s.return),dh(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,dh(s));break;default:dh(s)}o=o.sibling}}function Hk(o,s){for(;Bi!==null;){var u=Bi;switch(u.tag){case 0:case 11:case 15:dl(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var y=u.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Ad(u.memoizedState.cache)}if(y=u.child,y!==null)y.return=u,Bi=y;else e:for(u=o;Bi!==null;){y=Bi;var E=y.sibling,_=y.return;if(Nk(y),y===u){Bi=null;break e}if(E!==null){E.return=_,Bi=E;break e}Bi=_}}}var Uj={getCacheForType:function(o){var s=no(Ai),u=s.data.get(o);return u===void 0&&(u=o(),s.data.set(o,u)),u}},Hj=typeof WeakMap=="function"?WeakMap:Map,Rn=0,zn=null,un=null,mn=0,On=0,$o=null,hl=!1,uu=!1,Gy=!1,Ls=0,ai=0,gl=0,hc=0,Yy=0,fa=0,du=0,Wd=null,Ao=null,Xy=!1,Zy=0,fh=1/0,ph=null,ml=null,Ki=0,yl=null,fu=null,pu=0,Qy=0,Jy=null,Vk=null,Kd=0,eb=null;function Do(){if((Rn&2)!==0&&mn!==0)return mn&-mn;if(U.T!==null){var o=eu;return o!==0?o:sb()}return hr()}function qk(){fa===0&&(fa=(mn&536870912)===0||wn?yr():536870912);var o=da.current;return o!==null&&(o.flags|=32),fa}function zo(o,s,u){(o===zn&&(On===2||On===9)||o.cancelPendingCommit!==null)&&(hu(o,0),bl(o,mn,fa,!1)),dt(o,u),((Rn&2)===0||o!==zn)&&(o===zn&&((Rn&2)===0&&(hc|=u),ai===4&&bl(o,mn,fa,!1)),rs(o))}function Wk(o,s,u){if((Rn&6)!==0)throw Error(n(327));var y=!u&&(s&124)===0&&(s&o.expiredLanes)===0||Xt(o,s),E=y?Wj(o,s):nb(o,s,!0),_=y;do{if(E===0){uu&&!y&&bl(o,s,0,!1);break}else{if(u=o.current.alternate,_&&!Vj(u)){E=nb(o,s,!1),_=!1;continue}if(E===2){if(_=s,o.errorRecoveryDisabledLanes&_)var K=0;else K=o.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){s=K;e:{var ne=o;E=Wd;var me=ne.current.memoizedState.isDehydrated;if(me&&(hu(ne,K).flags|=256),K=nb(ne,K,!1),K!==2){if(Gy&&!me){ne.errorRecoveryDisabledLanes|=_,hc|=_,E=4;break e}_=Ao,Ao=E,_!==null&&(Ao===null?Ao=_:Ao.push.apply(Ao,_))}E=K}if(_=!1,E!==2)continue}}if(E===1){hu(o,0),bl(o,s,0,!0);break}e:{switch(y=o,_=E,_){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:bl(y,s,fa,!hl);break e;case 2:Ao=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(E=Zy+300-Be(),10<E)){if(bl(y,s,fa,!hl),$e(y,0,!0)!==0)break e;y.timeoutHandle=xC(Kk.bind(null,y,u,Ao,ph,Xy,s,fa,hc,du,hl,_,2,-0,0),E);break e}Kk(y,u,Ao,ph,Xy,s,fa,hc,du,hl,_,0,-0,0)}}break}while(!0);rs(o)}function Kk(o,s,u,y,E,_,K,ne,me,ze,pt,xt,Ge,Xe){if(o.timeoutHandle=-1,xt=s.subtreeFlags,(xt&8192||(xt&16785408)===16785408)&&(ef={stylesheets:null,count:0,unsuspend:TN},Dk(s),xt=AN(),xt!==null)){o.cancelPendingCommit=xt(eC.bind(null,o,s,_,u,y,E,K,ne,me,pt,1,Ge,Xe)),bl(o,_,K,!ze);return}eC(o,s,_,u,y,E,K,ne,me)}function Vj(o){for(var s=o;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var y=0;y<u.length;y++){var E=u[y],_=E.getSnapshot;E=E.value;try{if(!ro(_(),E))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function bl(o,s,u,y){s&=~Yy,s&=~hc,o.suspendedLanes|=s,o.pingedLanes&=~s,y&&(o.warmLanes|=s),y=o.expirationTimes;for(var E=s;0<E;){var _=31-ot(E),K=1<<_;y[_]=-1,E&=~K}u!==0&&ir(o,u,s)}function hh(){return(Rn&6)===0?(Gd(0),!1):!0}function tb(){if(un!==null){if(On===0)var o=un.return;else o=un,Rs=lc=null,by(o),au=null,Bd=0,o=un;for(;o!==null;)Ek(o.alternate,o),o=o.return;un=null}}function hu(o,s){var u=o.timeoutHandle;u!==-1&&(o.timeoutHandle=-1,lN(u)),u=o.cancelPendingCommit,u!==null&&(o.cancelPendingCommit=null,u()),tb(),zn=o,un=u=Ts(o.current,null),mn=s,On=0,$o=null,hl=!1,uu=Xt(o,s),Gy=!1,du=fa=Yy=hc=gl=ai=0,Ao=Wd=null,Xy=!1,(s&8)!==0&&(s|=s&32);var y=o.entangledLanes;if(y!==0)for(o=o.entanglements,y&=s;0<y;){var E=31-ot(y),_=1<<E;s|=o[E],y&=~_}return Ls=s,Fr(),u}function Gk(o,s){on=null,U.H=th,s===Od||s===qp?(s=dw(),On=3):s===lw?(s=dw(),On=4):On=s===fk?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,$o=s,un===null&&(ai=1,ah(o,kr(s,o.current)))}function Yk(){var o=U.H;return U.H=th,o===null?th:o}function Xk(){var o=U.A;return U.A=Uj,o}function rb(){ai=4,hl||(mn&4194048)!==mn&&da.current!==null||(uu=!0),(gl&134217727)===0&&(hc&134217727)===0||zn===null||bl(zn,mn,fa,!1)}function nb(o,s,u){var y=Rn;Rn|=2;var E=Yk(),_=Xk();(zn!==o||mn!==s)&&(ph=null,hu(o,s)),s=!1;var K=ai;e:do try{if(On!==0&&un!==null){var ne=un,me=$o;switch(On){case 8:tb(),K=6;break e;case 3:case 2:case 9:case 6:da.current===null&&(s=!0);var ze=On;if(On=0,$o=null,gu(o,ne,me,ze),u&&uu){K=0;break e}break;default:ze=On,On=0,$o=null,gu(o,ne,me,ze)}}qj(),K=ai;break}catch(pt){Gk(o,pt)}while(!0);return s&&o.shellSuspendCounter++,Rs=lc=null,Rn=y,U.H=E,U.A=_,un===null&&(zn=null,mn=0,Fr()),K}function qj(){for(;un!==null;)Zk(un)}function Wj(o,s){var u=Rn;Rn|=2;var y=Yk(),E=Xk();zn!==o||mn!==s?(ph=null,fh=Be()+500,hu(o,s)):uu=Xt(o,s);e:do try{if(On!==0&&un!==null){s=un;var _=$o;t:switch(On){case 1:On=0,$o=null,gu(o,s,_,1);break;case 2:case 9:if(cw(_)){On=0,$o=null,Qk(s);break}s=function(){On!==2&&On!==9||zn!==o||(On=7),rs(o)},_.then(s,s);break e;case 3:On=7;break e;case 4:On=5;break e;case 7:cw(_)?(On=0,$o=null,Qk(s)):(On=0,$o=null,gu(o,s,_,7));break;case 5:var K=null;switch(un.tag){case 26:K=un.memoizedState;case 5:case 27:var ne=un;if(!K||jC(K)){On=0,$o=null;var me=ne.sibling;if(me!==null)un=me;else{var ze=ne.return;ze!==null?(un=ze,gh(ze)):un=null}break t}}On=0,$o=null,gu(o,s,_,5);break;case 6:On=0,$o=null,gu(o,s,_,6);break;case 8:tb(),ai=6;break e;default:throw Error(n(462))}}Kj();break}catch(pt){Gk(o,pt)}while(!0);return Rs=lc=null,U.H=y,U.A=E,Rn=u,un!==null?0:(zn=null,mn=0,Fr(),ai)}function Kj(){for(;un!==null&&!Le();)Zk(un)}function Zk(o){var s=Ck(o.alternate,o,Ls);o.memoizedProps=o.pendingProps,s===null?gh(o):un=s}function Qk(o){var s=o,u=s.alternate;switch(s.tag){case 15:case 0:s=bk(u,s,s.pendingProps,s.type,void 0,mn);break;case 11:s=bk(u,s,s.pendingProps,s.type.render,s.ref,mn);break;case 5:by(s);default:Ek(u,s),s=un=J1(s,Ls),s=Ck(u,s,Ls)}o.memoizedProps=o.pendingProps,s===null?gh(o):un=s}function gu(o,s,u,y){Rs=lc=null,by(s),au=null,Bd=0;var E=s.return;try{if(Lj(o,E,s,u,mn)){ai=1,ah(o,kr(u,o.current)),un=null;return}}catch(_){if(E!==null)throw un=E,_;ai=1,ah(o,kr(u,o.current)),un=null;return}s.flags&32768?(wn||y===1?o=!0:uu||(mn&536870912)!==0?o=!1:(hl=o=!0,(y===2||y===9||y===3||y===6)&&(y=da.current,y!==null&&y.tag===13&&(y.flags|=16384))),Jk(s,o)):gh(s)}function gh(o){var s=o;do{if((s.flags&32768)!==0){Jk(s,hl);return}o=s.return;var u=Bj(s.alternate,s,Ls);if(u!==null){un=u;return}if(s=s.sibling,s!==null){un=s;return}un=s=o}while(s!==null);ai===0&&(ai=5)}function Jk(o,s){do{var u=$j(o.alternate,o);if(u!==null){u.flags&=32767,un=u;return}if(u=o.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(o=o.sibling,o!==null)){un=o;return}un=o=u}while(o!==null);ai=6,un=null}function eC(o,s,u,y,E,_,K,ne,me){o.cancelPendingCommit=null;do mh();while(Ki!==0);if((Rn&6)!==0)throw Error(n(327));if(s!==null){if(s===o.current)throw Error(n(177));if(_=s.lanes|s.childLanes,_|=qi,qt(o,u,_,K,ne,me),o===zn&&(un=zn=null,mn=0),fu=s,yl=o,pu=u,Qy=_,Jy=E,Vk=y,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,Zj(et,function(){return oC(),null})):(o.callbackNode=null,o.callbackPriority=0),y=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||y){y=U.T,U.T=null,E=X.p,X.p=2,K=Rn,Rn|=4;try{Dj(o,s,u)}finally{Rn=K,X.p=E,U.T=y}}Ki=1,tC(),rC(),nC()}}function tC(){if(Ki===1){Ki=0;var o=yl,s=fu,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=U.T,U.T=null;var y=X.p;X.p=2;var E=Rn;Rn|=4;try{Fk(s,o);var _=gb,K=Y(o.containerInfo),ne=_.focusedElem,me=_.selectionRange;if(K!==ne&&ne&&ne.ownerDocument&&H(ne.ownerDocument.documentElement,ne)){if(me!==null&&re(ne)){var ze=me.start,pt=me.end;if(pt===void 0&&(pt=ze),"selectionStart"in ne)ne.selectionStart=ze,ne.selectionEnd=Math.min(pt,ne.value.length);else{var xt=ne.ownerDocument||document,Ge=xt&&xt.defaultView||window;if(Ge.getSelection){var Xe=Ge.getSelection(),Br=ne.textContent.length,Or=Math.min(me.start,Br),jn=me.end===void 0?Or:Math.min(me.end,Br);!Xe.extend&&Or>jn&&(K=jn,jn=Or,Or=K);var Ne=L(ne,Or),Ee=L(ne,jn);if(Ne&&Ee&&(Xe.rangeCount!==1||Xe.anchorNode!==Ne.node||Xe.anchorOffset!==Ne.offset||Xe.focusNode!==Ee.node||Xe.focusOffset!==Ee.offset)){var De=xt.createRange();De.setStart(Ne.node,Ne.offset),Xe.removeAllRanges(),Or>jn?(Xe.addRange(De),Xe.extend(Ee.node,Ee.offset)):(De.setEnd(Ee.node,Ee.offset),Xe.addRange(De))}}}}for(xt=[],Xe=ne;Xe=Xe.parentNode;)Xe.nodeType===1&&xt.push({element:Xe,left:Xe.scrollLeft,top:Xe.scrollTop});for(typeof ne.focus=="function"&&ne.focus(),ne=0;ne<xt.length;ne++){var yt=xt[ne];yt.element.scrollLeft=yt.left,yt.element.scrollTop=yt.top}}Rh=!!hb,gb=hb=null}finally{Rn=E,X.p=y,U.T=u}}o.current=s,Ki=2}}function rC(){if(Ki===2){Ki=0;var o=yl,s=fu,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=U.T,U.T=null;var y=X.p;X.p=2;var E=Rn;Rn|=4;try{jk(o,s.alternate,s)}finally{Rn=E,X.p=y,U.T=u}}Ki=3}}function nC(){if(Ki===4||Ki===3){Ki=0,ut();var o=yl,s=fu,u=pu,y=Vk;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ki=5:(Ki=0,fu=yl=null,iC(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(ml=null),jt(u),s=s.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(je,s,void 0,(s.current.flags&128)===128)}catch{}if(y!==null){s=U.T,E=X.p,X.p=2,U.T=null;try{for(var _=o.onRecoverableError,K=0;K<y.length;K++){var ne=y[K];_(ne.value,{componentStack:ne.stack})}}finally{U.T=s,X.p=E}}(pu&3)!==0&&mh(),rs(o),E=o.pendingLanes,(u&4194090)!==0&&(E&42)!==0?o===eb?Kd++:(Kd=0,eb=o):Kd=0,Gd(0)}}function iC(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,Ad(s)))}function mh(o){return tC(),rC(),nC(),oC()}function oC(){if(Ki!==5)return!1;var o=yl,s=Qy;Qy=0;var u=jt(pu),y=U.T,E=X.p;try{X.p=32>u?32:u,U.T=null,u=Jy,Jy=null;var _=yl,K=pu;if(Ki=0,fu=yl=null,pu=0,(Rn&6)!==0)throw Error(n(331));var ne=Rn;if(Rn|=4,Uk(_.current),$k(_,_.current,K,u),Rn=ne,Gd(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(je,_)}catch{}return!0}finally{X.p=E,U.T=y,iC(o,s)}}function aC(o,s,u){s=kr(u,s),s=My(o.stateNode,s,2),o=sl(o,s,2),o!==null&&(dt(o,2),rs(o))}function Fn(o,s,u){if(o.tag===3)aC(o,o,u);else for(;s!==null;){if(s.tag===3){aC(s,o,u);break}else if(s.tag===1){var y=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ml===null||!ml.has(y))){o=kr(u,o),u=uk(2),y=sl(s,u,2),y!==null&&(dk(u,y,s,o),dt(y,2),rs(y));break}}s=s.return}}function ib(o,s,u){var y=o.pingCache;if(y===null){y=o.pingCache=new Hj;var E=new Set;y.set(s,E)}else E=y.get(s),E===void 0&&(E=new Set,y.set(s,E));E.has(u)||(Gy=!0,E.add(u),o=Gj.bind(null,o,s,u),s.then(o,o))}function Gj(o,s,u){var y=o.pingCache;y!==null&&y.delete(s),o.pingedLanes|=o.suspendedLanes&u,o.warmLanes&=~u,zn===o&&(mn&u)===u&&(ai===4||ai===3&&(mn&62914560)===mn&&300>Be()-Zy?(Rn&2)===0&&hu(o,0):Yy|=u,du===mn&&(du=0)),rs(o)}function sC(o,s){s===0&&(s=fe()),o=_a(o,s),o!==null&&(dt(o,s),rs(o))}function Yj(o){var s=o.memoizedState,u=0;s!==null&&(u=s.retryLane),sC(o,u)}function Xj(o,s){var u=0;switch(o.tag){case 13:var y=o.stateNode,E=o.memoizedState;E!==null&&(u=E.retryLane);break;case 19:y=o.stateNode;break;case 22:y=o.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(s),sC(o,u)}function Zj(o,s){return rt(o,s)}var yh=null,mu=null,ob=!1,bh=!1,ab=!1,gc=0;function rs(o){o!==mu&&o.next===null&&(mu===null?yh=mu=o:mu=mu.next=o),bh=!0,ob||(ob=!0,Jj())}function Gd(o,s){if(!ab&&bh){ab=!0;do for(var u=!1,y=yh;y!==null;){if(o!==0){var E=y.pendingLanes;if(E===0)var _=0;else{var K=y.suspendedLanes,ne=y.pingedLanes;_=(1<<31-ot(42|o)+1)-1,_&=E&~(K&~ne),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,dC(y,_))}else _=mn,_=$e(y,y===zn?_:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(_&3)===0||Xt(y,_)||(u=!0,dC(y,_));y=y.next}while(u);ab=!1}}function Qj(){lC()}function lC(){bh=ob=!1;var o=0;gc!==0&&(sN()&&(o=gc),gc=0);for(var s=Be(),u=null,y=yh;y!==null;){var E=y.next,_=cC(y,s);_===0?(y.next=null,u===null?yh=E:u.next=E,E===null&&(mu=u)):(u=y,(o!==0||(_&3)!==0)&&(bh=!0)),y=E}Gd(o)}function cC(o,s){for(var u=o.suspendedLanes,y=o.pingedLanes,E=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var K=31-ot(_),ne=1<<K,me=E[K];me===-1?((ne&u)===0||(ne&y)!==0)&&(E[K]=Et(ne,s)):me<=s&&(o.expiredLanes|=ne),_&=~ne}if(s=zn,u=mn,u=$e(o,o===s?u:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y=o.callbackNode,u===0||o===s&&(On===2||On===9)||o.cancelPendingCommit!==null)return y!==null&&y!==null&&ye(y),o.callbackNode=null,o.callbackPriority=0;if((u&3)===0||Xt(o,u)){if(s=u&-u,s===o.callbackPriority)return s;switch(y!==null&&ye(y),jt(u)){case 2:case 8:u=Mt;break;case 32:u=et;break;case 268435456:u=Bt;break;default:u=et}return y=uC.bind(null,o),u=rt(u,y),o.callbackPriority=s,o.callbackNode=u,s}return y!==null&&y!==null&&ye(y),o.callbackPriority=2,o.callbackNode=null,2}function uC(o,s){if(Ki!==0&&Ki!==5)return o.callbackNode=null,o.callbackPriority=0,null;var u=o.callbackNode;if(mh()&&o.callbackNode!==u)return null;var y=mn;return y=$e(o,o===zn?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y===0?null:(Wk(o,y,s),cC(o,Be()),o.callbackNode!=null&&o.callbackNode===u?uC.bind(null,o):null)}function dC(o,s){if(mh())return null;Wk(o,s,!0)}function Jj(){cN(function(){(Rn&6)!==0?rt(Ot,Qj):lC()})}function sb(){return gc===0&&(gc=yr()),gc}function fC(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:to(""+o)}function pC(o,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,o.id&&u.setAttribute("form",o.id),s.parentNode.insertBefore(u,s),o=new FormData(o),u.parentNode.removeChild(u),o}function eN(o,s,u,y,E){if(s==="submit"&&u&&u.stateNode===E){var _=fC((E[kt]||null).action),K=y.submitter;K&&(s=(s=K[kt]||null)?fC(s.formAction):K.getAttribute("formAction"),s!==null&&(_=s,K=null));var ne=new Pa("action","action",null,y,E);o.push({event:ne,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(gc!==0){var me=K?pC(E,K):new FormData(E);Ay(u,{pending:!0,data:me,method:E.method,action:_},null,me)}}else typeof _=="function"&&(ne.preventDefault(),me=K?pC(E,K):new FormData(E),Ay(u,{pending:!0,data:me,method:E.method,action:_},_,me))},currentTarget:E}]})}}for(var lb=0;lb<Kt.length;lb++){var cb=Kt[lb],tN=cb.toLowerCase(),rN=cb[0].toUpperCase()+cb.slice(1);It(tN,"on"+rN)}It(He,"onAnimationEnd"),It(Ze,"onAnimationIteration"),It(Qe,"onAnimationStart"),It("dblclick","onDoubleClick"),It("focusin","onFocus"),It("focusout","onBlur"),It(ft,"onTransitionRun"),It(Lt,"onTransitionStart"),It(Vt,"onTransitionCancel"),It(Nt,"onTransitionEnd"),Lr("onMouseEnter",["mouseout","mouseover"]),Lr("onMouseLeave",["mouseout","mouseover"]),Lr("onPointerEnter",["pointerout","pointerover"]),Lr("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yd));function hC(o,s){s=(s&4)!==0;for(var u=0;u<o.length;u++){var y=o[u],E=y.event;y=y.listeners;e:{var _=void 0;if(s)for(var K=y.length-1;0<=K;K--){var ne=y[K],me=ne.instance,ze=ne.currentTarget;if(ne=ne.listener,me!==_&&E.isPropagationStopped())break e;_=ne,E.currentTarget=ze;try{_(E)}catch(pt){oh(pt)}E.currentTarget=null,_=me}else for(K=0;K<y.length;K++){if(ne=y[K],me=ne.instance,ze=ne.currentTarget,ne=ne.listener,me!==_&&E.isPropagationStopped())break e;_=ne,E.currentTarget=ze;try{_(E)}catch(pt){oh(pt)}E.currentTarget=null,_=me}}}}function dn(o,s){var u=s[Ft];u===void 0&&(u=s[Ft]=new Set);var y=o+"__bubble";u.has(y)||(gC(s,o,2,!1),u.add(y))}function ub(o,s,u){var y=0;s&&(y|=4),gC(u,o,y,s)}var vh="_reactListening"+Math.random().toString(36).slice(2);function db(o){if(!o[vh]){o[vh]=!0,cr.forEach(function(u){u!=="selectionchange"&&(nN.has(u)||ub(u,!1,o),ub(u,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[vh]||(s[vh]=!0,ub("selectionchange",!1,s))}}function gC(o,s,u,y){switch($C(s)){case 2:var E=PN;break;case 8:E=_N;break;default:E=Tb}u=E.bind(null,s,u,o),E=void 0,!gr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(E=!0),y?E!==void 0?o.addEventListener(s,u,{capture:!0,passive:E}):o.addEventListener(s,u,!0):E!==void 0?o.addEventListener(s,u,{passive:E}):o.addEventListener(s,u,!1)}function fb(o,s,u,y,E){var _=y;if((s&1)===0&&(s&2)===0&&y!==null)e:for(;;){if(y===null)return;var K=y.tag;if(K===3||K===4){var ne=y.stateNode.containerInfo;if(ne===E)break;if(K===4)for(K=y.return;K!==null;){var me=K.tag;if((me===3||me===4)&&K.stateNode.containerInfo===E)return;K=K.return}for(;ne!==null;){if(K=Hr(ne),K===null)return;if(me=K.tag,me===5||me===6||me===26||me===27){y=_=K;continue e}ne=ne.parentNode}}y=y.return}he(function(){var ze=_,pt=Ht(u),xt=[];e:{var Ge=Dt.get(o);if(Ge!==void 0){var Xe=Pa,Br=o;switch(o){case"keypress":if(nt(u)===0)break e;case"keydown":case"keyup":Xe=Vc;break;case"focusin":Br="focus",Xe=el;break;case"focusout":Br="blur",Xe=el;break;case"beforeblur":case"afterblur":Xe=el;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=$c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=Rp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=md;break;case He:case Ze:case Qe:Xe=Op;break;case Nt:Xe=yd;break;case"scroll":case"scrollend":Xe=Qs;break;case"wheel":Xe=Wc;break;case"copy":case"cut":case"paste":Xe=Uc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=gd;break;case"toggle":case"beforetoggle":Xe=Mp}var Or=(s&4)!==0,jn=!Or&&(o==="scroll"||o==="scrollend"),Ne=Or?Ge!==null?Ge+"Capture":null:Ge;Or=[];for(var Ee=ze,De;Ee!==null;){var yt=Ee;if(De=yt.stateNode,yt=yt.tag,yt!==5&&yt!==26&&yt!==27||De===null||Ne===null||(yt=Je(Ee,Ne),yt!=null&&Or.push(Xd(Ee,yt,De))),jn)break;Ee=Ee.return}0<Or.length&&(Ge=new Xe(Ge,Br,null,u,pt),xt.push({event:Ge,listeners:Or}))}}if((s&7)===0){e:{if(Ge=o==="mouseover"||o==="pointerover",Xe=o==="mouseout"||o==="pointerout",Ge&&u!==Ve&&(Br=u.relatedTarget||u.fromElement)&&(Hr(Br)||Br[Ut]))break e;if((Xe||Ge)&&(Ge=pt.window===pt?pt:(Ge=pt.ownerDocument)?Ge.defaultView||Ge.parentWindow:window,Xe?(Br=u.relatedTarget||u.toElement,Xe=ze,Br=Br?Hr(Br):null,Br!==null&&(jn=a(Br),Or=Br.tag,Br!==jn||Or!==5&&Or!==27&&Or!==6)&&(Br=null)):(Xe=null,Br=ze),Xe!==Br)){if(Or=$c,yt="onMouseLeave",Ne="onMouseEnter",Ee="mouse",(o==="pointerout"||o==="pointerover")&&(Or=gd,yt="onPointerLeave",Ne="onPointerEnter",Ee="pointer"),jn=Xe==null?Ge:Ue(Xe),De=Br==null?Ge:Ue(Br),Ge=new Or(yt,Ee+"leave",Xe,u,pt),Ge.target=jn,Ge.relatedTarget=De,yt=null,Hr(pt)===ze&&(Or=new Or(Ne,Ee+"enter",Br,u,pt),Or.target=De,Or.relatedTarget=jn,yt=Or),jn=yt,Xe&&Br)t:{for(Or=Xe,Ne=Br,Ee=0,De=Or;De;De=yu(De))Ee++;for(De=0,yt=Ne;yt;yt=yu(yt))De++;for(;0<Ee-De;)Or=yu(Or),Ee--;for(;0<De-Ee;)Ne=yu(Ne),De--;for(;Ee--;){if(Or===Ne||Ne!==null&&Or===Ne.alternate)break t;Or=yu(Or),Ne=yu(Ne)}Or=null}else Or=null;Xe!==null&&mC(xt,Ge,Xe,Or,!1),Br!==null&&jn!==null&&mC(xt,jn,Br,Or,!0)}}e:{if(Ge=ze?Ue(ze):window,Xe=Ge.nodeName&&Ge.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Ge.type==="file")var ur=rc;else if(Yc(Ge))if(sa)ur=nl;else{ur=Cs;var ln=Bp}else Xe=Ge.nodeName,!Xe||Xe.toLowerCase()!=="input"||Ge.type!=="checkbox"&&Ge.type!=="radio"?ze&&Oa(ze.elementType)&&(ur=rc):ur=wd;if(ur&&(ur=ur(o,ze))){xd(xt,ur,u,pt);break e}ln&&ln(o,Ge,ze),o==="focusout"&&ze&&Ge.type==="number"&&ze.memoizedProps.value!=null&&ho(Ge,"number",Ge.value)}switch(ln=ze?Ue(ze):window,o){case"focusin":(Yc(ln)||ln.contentEditable==="true")&&(pe=ln,Te=ze,Ae=null);break;case"focusout":Ae=Te=pe=null;break;case"mousedown":Me=!0;break;case"contextmenu":case"mouseup":case"dragend":Me=!1,be(xt,u,pt);break;case"selectionchange":if(ae)break;case"keydown":case"keyup":be(xt,u,pt)}var vr;if(ec)e:{switch(o){case"compositionstart":var Mr="onCompositionStart";break e;case"compositionend":Mr="onCompositionEnd";break e;case"compositionupdate":Mr="onCompositionUpdate";break e}Mr=void 0}else ks?Sd(o,u)&&(Mr="onCompositionEnd"):o==="keydown"&&u.keyCode===229&&(Mr="onCompositionStart");Mr&&(Kc&&u.locale!=="ko"&&(ks||Mr!=="onCompositionStart"?Mr==="onCompositionEnd"&&ks&&(vr=ge()):(sn=pt,Pe="value"in sn?sn.value:sn.textContent,ks=!0)),ln=Sh(ze,Mr),0<ln.length&&(Mr=new Hc(Mr,o,null,u,pt),xt.push({event:Mr,listeners:ln}),vr?Mr.data=vr:(vr=Np(u),vr!==null&&(Mr.data=vr)))),(vr=Wm?Ip(o,u):Km(o,u))&&(Mr=Sh(ze,"onBeforeInput"),0<Mr.length&&(ln=new Hc("onBeforeInput","beforeinput",null,u,pt),xt.push({event:ln,listeners:Mr}),ln.data=vr)),eN(xt,o,ze,u,pt)}hC(xt,s)})}function Xd(o,s,u){return{instance:o,listener:s,currentTarget:u}}function Sh(o,s){for(var u=s+"Capture",y=[];o!==null;){var E=o,_=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||_===null||(E=Je(o,u),E!=null&&y.unshift(Xd(o,E,_)),E=Je(o,s),E!=null&&y.push(Xd(o,E,_))),o.tag===3)return y;o=o.return}return[]}function yu(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function mC(o,s,u,y,E){for(var _=s._reactName,K=[];u!==null&&u!==y;){var ne=u,me=ne.alternate,ze=ne.stateNode;if(ne=ne.tag,me!==null&&me===y)break;ne!==5&&ne!==26&&ne!==27||ze===null||(me=ze,E?(ze=Je(u,_),ze!=null&&K.unshift(Xd(u,ze,me))):E||(ze=Je(u,_),ze!=null&&K.push(Xd(u,ze,me)))),u=u.return}K.length!==0&&o.push({event:s,listeners:K})}var iN=/\r\n?/g,oN=/\u0000|\uFFFD/g;function yC(o){return(typeof o=="string"?o:""+o).replace(iN,`
`).replace(oN,"")}function bC(o,s){return s=yC(s),yC(o)===s}function xh(){}function Mn(o,s,u,y,E,_){switch(u){case"children":typeof y=="string"?s==="body"||s==="textarea"&&y===""||Co(o,y):(typeof y=="number"||typeof y=="bigint")&&s!=="body"&&Co(o,""+y);break;case"className":ei(o,"class",y);break;case"tabIndex":ei(o,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(o,u,y);break;case"style":Io(o,y,_);break;case"data":if(s!=="object"){ei(o,"data",y);break}case"src":case"href":if(y===""&&(s!=="a"||u!=="href")){o.removeAttribute(u);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(u);break}y=to(""+y),o.setAttribute(u,y);break;case"action":case"formAction":if(typeof y=="function"){o.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(s!=="input"&&Mn(o,s,"name",E.name,E,null),Mn(o,s,"formEncType",E.formEncType,E,null),Mn(o,s,"formMethod",E.formMethod,E,null),Mn(o,s,"formTarget",E.formTarget,E,null)):(Mn(o,s,"encType",E.encType,E,null),Mn(o,s,"method",E.method,E,null),Mn(o,s,"target",E.target,E,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(u);break}y=to(""+y),o.setAttribute(u,y);break;case"onClick":y!=null&&(o.onclick=xh);break;case"onScroll":y!=null&&dn("scroll",o);break;case"onScrollEnd":y!=null&&dn("scrollend",o);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(u=y.__html,u!=null){if(E.children!=null)throw Error(n(60));o.innerHTML=u}}break;case"multiple":o.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":o.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){o.removeAttribute("xlink:href");break}u=to(""+y),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(u,""+y):o.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(u,""):o.removeAttribute(u);break;case"capture":case"download":y===!0?o.setAttribute(u,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(u,y):o.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?o.setAttribute(u,y):o.removeAttribute(u);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?o.removeAttribute(u):o.setAttribute(u,y);break;case"popover":dn("beforetoggle",o),dn("toggle",o),mr(o,"popover",y);break;case"xlinkActuate":ar(o,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":ar(o,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":ar(o,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":ar(o,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":ar(o,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":ar(o,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":ar(o,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":ar(o,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":ar(o,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":mr(o,"is",y);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Kn.get(u)||u,mr(o,u,y))}}function pb(o,s,u,y,E,_){switch(u){case"style":Io(o,y,_);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(u=y.__html,u!=null){if(E.children!=null)throw Error(n(60));o.innerHTML=u}}break;case"children":typeof y=="string"?Co(o,y):(typeof y=="number"||typeof y=="bigint")&&Co(o,""+y);break;case"onScroll":y!=null&&dn("scroll",o);break;case"onScrollEnd":y!=null&&dn("scrollend",o);break;case"onClick":y!=null&&(o.onclick=xh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dr.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(E=u.endsWith("Capture"),s=u.slice(2,E?u.length-7:void 0),_=o[kt]||null,_=_!=null?_[u]:null,typeof _=="function"&&o.removeEventListener(s,_,E),typeof y=="function")){typeof _!="function"&&_!==null&&(u in o?o[u]=null:o.hasAttribute(u)&&o.removeAttribute(u)),o.addEventListener(s,y,E);break e}u in o?o[u]=y:y===!0?o.setAttribute(u,""):mr(o,u,y)}}}function Gi(o,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dn("error",o),dn("load",o);var y=!1,E=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var K=u[_];if(K!=null)switch(_){case"src":y=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Mn(o,s,_,K,u,null)}}E&&Mn(o,s,"srcSet",u.srcSet,u,null),y&&Mn(o,s,"src",u.src,u,null);return;case"input":dn("invalid",o);var ne=_=K=E=null,me=null,ze=null;for(y in u)if(u.hasOwnProperty(y)){var pt=u[y];if(pt!=null)switch(y){case"name":E=pt;break;case"type":K=pt;break;case"checked":me=pt;break;case"defaultChecked":ze=pt;break;case"value":_=pt;break;case"defaultValue":ne=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(n(137,s));break;default:Mn(o,s,y,pt,u,null)}}ko(o,_,ne,me,ze,K,E,!1),Ar(o);return;case"select":dn("invalid",o),y=K=_=null;for(E in u)if(u.hasOwnProperty(E)&&(ne=u[E],ne!=null))switch(E){case"value":_=ne;break;case"defaultValue":K=ne;break;case"multiple":y=ne;default:Mn(o,s,E,ne,u,null)}s=_,u=K,o.multiple=!!y,s!=null?Ni(o,!!y,s,!1):u!=null&&Ni(o,!!y,u,!0);return;case"textarea":dn("invalid",o),_=E=y=null;for(K in u)if(u.hasOwnProperty(K)&&(ne=u[K],ne!=null))switch(K){case"value":y=ne;break;case"defaultValue":E=ne;break;case"children":_=ne;break;case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(91));break;default:Mn(o,s,K,ne,u,null)}Ra(o,y,E,_),Ar(o);return;case"option":for(me in u)if(u.hasOwnProperty(me)&&(y=u[me],y!=null))switch(me){case"selected":o.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Mn(o,s,me,y,u,null)}return;case"dialog":dn("beforetoggle",o),dn("toggle",o),dn("cancel",o),dn("close",o);break;case"iframe":case"object":dn("load",o);break;case"video":case"audio":for(y=0;y<Yd.length;y++)dn(Yd[y],o);break;case"image":dn("error",o),dn("load",o);break;case"details":dn("toggle",o);break;case"embed":case"source":case"link":dn("error",o),dn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ze in u)if(u.hasOwnProperty(ze)&&(y=u[ze],y!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Mn(o,s,ze,y,u,null)}return;default:if(Oa(s)){for(pt in u)u.hasOwnProperty(pt)&&(y=u[pt],y!==void 0&&pb(o,s,pt,y,u,void 0));return}}for(ne in u)u.hasOwnProperty(ne)&&(y=u[ne],y!=null&&Mn(o,s,ne,y,u,null))}function aN(o,s,u,y){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,_=null,K=null,ne=null,me=null,ze=null,pt=null;for(Xe in u){var xt=u[Xe];if(u.hasOwnProperty(Xe)&&xt!=null)switch(Xe){case"checked":break;case"value":break;case"defaultValue":me=xt;default:y.hasOwnProperty(Xe)||Mn(o,s,Xe,null,y,xt)}}for(var Ge in y){var Xe=y[Ge];if(xt=u[Ge],y.hasOwnProperty(Ge)&&(Xe!=null||xt!=null))switch(Ge){case"type":_=Xe;break;case"name":E=Xe;break;case"checked":ze=Xe;break;case"defaultChecked":pt=Xe;break;case"value":K=Xe;break;case"defaultValue":ne=Xe;break;case"children":case"dangerouslySetInnerHTML":if(Xe!=null)throw Error(n(137,s));break;default:Xe!==xt&&Mn(o,s,Ge,Xe,y,xt)}}po(o,K,ne,me,ze,pt,_,E);return;case"select":Xe=K=ne=Ge=null;for(_ in u)if(me=u[_],u.hasOwnProperty(_)&&me!=null)switch(_){case"value":break;case"multiple":Xe=me;default:y.hasOwnProperty(_)||Mn(o,s,_,null,y,me)}for(E in y)if(_=y[E],me=u[E],y.hasOwnProperty(E)&&(_!=null||me!=null))switch(E){case"value":Ge=_;break;case"defaultValue":ne=_;break;case"multiple":K=_;default:_!==me&&Mn(o,s,E,_,y,me)}s=ne,u=K,y=Xe,Ge!=null?Ni(o,!!u,Ge,!1):!!y!=!!u&&(s!=null?Ni(o,!!u,s,!0):Ni(o,!!u,u?[]:"",!1));return;case"textarea":Xe=Ge=null;for(ne in u)if(E=u[ne],u.hasOwnProperty(ne)&&E!=null&&!y.hasOwnProperty(ne))switch(ne){case"value":break;case"children":break;default:Mn(o,s,ne,null,y,E)}for(K in y)if(E=y[K],_=u[K],y.hasOwnProperty(K)&&(E!=null||_!=null))switch(K){case"value":Ge=E;break;case"defaultValue":Xe=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:E!==_&&Mn(o,s,K,E,y,_)}ii(o,Ge,Xe);return;case"option":for(var Br in u)if(Ge=u[Br],u.hasOwnProperty(Br)&&Ge!=null&&!y.hasOwnProperty(Br))switch(Br){case"selected":o.selected=!1;break;default:Mn(o,s,Br,null,y,Ge)}for(me in y)if(Ge=y[me],Xe=u[me],y.hasOwnProperty(me)&&Ge!==Xe&&(Ge!=null||Xe!=null))switch(me){case"selected":o.selected=Ge&&typeof Ge!="function"&&typeof Ge!="symbol";break;default:Mn(o,s,me,Ge,y,Xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Or in u)Ge=u[Or],u.hasOwnProperty(Or)&&Ge!=null&&!y.hasOwnProperty(Or)&&Mn(o,s,Or,null,y,Ge);for(ze in y)if(Ge=y[ze],Xe=u[ze],y.hasOwnProperty(ze)&&Ge!==Xe&&(Ge!=null||Xe!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(n(137,s));break;default:Mn(o,s,ze,Ge,y,Xe)}return;default:if(Oa(s)){for(var jn in u)Ge=u[jn],u.hasOwnProperty(jn)&&Ge!==void 0&&!y.hasOwnProperty(jn)&&pb(o,s,jn,void 0,y,Ge);for(pt in y)Ge=y[pt],Xe=u[pt],!y.hasOwnProperty(pt)||Ge===Xe||Ge===void 0&&Xe===void 0||pb(o,s,pt,Ge,y,Xe);return}}for(var Ne in u)Ge=u[Ne],u.hasOwnProperty(Ne)&&Ge!=null&&!y.hasOwnProperty(Ne)&&Mn(o,s,Ne,null,y,Ge);for(xt in y)Ge=y[xt],Xe=u[xt],!y.hasOwnProperty(xt)||Ge===Xe||Ge==null&&Xe==null||Mn(o,s,xt,Ge,y,Xe)}var hb=null,gb=null;function wh(o){return o.nodeType===9?o:o.ownerDocument}function vC(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function SC(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function mb(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yb=null;function sN(){var o=window.event;return o&&o.type==="popstate"?o===yb?!1:(yb=o,!0):(yb=null,!1)}var xC=typeof setTimeout=="function"?setTimeout:void 0,lN=typeof clearTimeout=="function"?clearTimeout:void 0,wC=typeof Promise=="function"?Promise:void 0,cN=typeof queueMicrotask=="function"?queueMicrotask:typeof wC<"u"?function(o){return wC.resolve(null).then(o).catch(uN)}:xC;function uN(o){setTimeout(function(){throw o})}function vl(o){return o==="head"}function kC(o,s){var u=s,y=0,E=0;do{var _=u.nextSibling;if(o.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"){if(0<y&&8>y){u=y;var K=o.ownerDocument;if(u&1&&Zd(K.documentElement),u&2&&Zd(K.body),u&4)for(u=K.head,Zd(u),K=u.firstChild;K;){var ne=K.nextSibling,me=K.nodeName;K[wr]||me==="SCRIPT"||me==="STYLE"||me==="LINK"&&K.rel.toLowerCase()==="stylesheet"||u.removeChild(K),K=ne}}if(E===0){o.removeChild(_),af(s);return}E--}else u==="$"||u==="$?"||u==="$!"?E++:y=u.charCodeAt(0)-48;else y=0;u=_}while(u);af(s)}function bb(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":bb(u),Pr(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}o.removeChild(u)}}function dN(o,s,u,y){for(;o.nodeType===1;){var E=u;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!y&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(y){if(!o[wr])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var _=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=ja(o.nextSibling),o===null)break}return null}function fN(o,s,u){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=ja(o.nextSibling),o===null))return null;return o}function vb(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function pN(o,s){var u=o.ownerDocument;if(o.data!=="$?"||u.readyState==="complete")s();else{var y=function(){s(),u.removeEventListener("DOMContentLoaded",y)};u.addEventListener("DOMContentLoaded",y),o._reactRetry=y}}function ja(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return o}var Sb=null;function CC(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var u=o.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return o;s--}else u==="/$"&&s++}o=o.previousSibling}return null}function TC(o,s,u){switch(s=wh(u),o){case"html":if(o=s.documentElement,!o)throw Error(n(452));return o;case"head":if(o=s.head,!o)throw Error(n(453));return o;case"body":if(o=s.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function Zd(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Pr(o)}var pa=new Map,EC=new Set;function kh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Fs=X.d;X.d={f:hN,r:gN,D:mN,C:yN,L:bN,m:vN,X:xN,S:SN,M:wN};function hN(){var o=Fs.f(),s=hh();return o||s}function gN(o){var s=Kr(o);s!==null&&s.tag===5&&s.type==="form"?Ww(s):Fs.r(o)}var bu=typeof document>"u"?null:document;function AC(o,s,u){var y=bu;if(y&&typeof s=="string"&&s){var E=xn(s);E='link[rel="'+o+'"][href="'+E+'"]',typeof u=="string"&&(E+='[crossorigin="'+u+'"]'),EC.has(E)||(EC.add(E),o={rel:o,crossOrigin:u,href:s},y.querySelector(E)===null&&(s=y.createElement("link"),Gi(s,"link",o),Ct(s),y.head.appendChild(s)))}}function mN(o){Fs.D(o),AC("dns-prefetch",o,null)}function yN(o,s){Fs.C(o,s),AC("preconnect",o,s)}function bN(o,s,u){Fs.L(o,s,u);var y=bu;if(y&&o&&s){var E='link[rel="preload"][as="'+xn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(E+='[imagesrcset="'+xn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(E+='[imagesizes="'+xn(u.imageSizes)+'"]')):E+='[href="'+xn(o)+'"]';var _=E;switch(s){case"style":_=vu(o);break;case"script":_=Su(o)}pa.has(_)||(o=h({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:o,as:s},u),pa.set(_,o),y.querySelector(E)!==null||s==="style"&&y.querySelector(Qd(_))||s==="script"&&y.querySelector(Jd(_))||(s=y.createElement("link"),Gi(s,"link",o),Ct(s),y.head.appendChild(s)))}}function vN(o,s){Fs.m(o,s);var u=bu;if(u&&o){var y=s&&typeof s.as=="string"?s.as:"script",E='link[rel="modulepreload"][as="'+xn(y)+'"][href="'+xn(o)+'"]',_=E;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Su(o)}if(!pa.has(_)&&(o=h({rel:"modulepreload",href:o},s),pa.set(_,o),u.querySelector(E)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Jd(_)))return}y=u.createElement("link"),Gi(y,"link",o),Ct(y),u.head.appendChild(y)}}}function SN(o,s,u){Fs.S(o,s,u);var y=bu;if(y&&o){var E=We(y).hoistableStyles,_=vu(o);s=s||"default";var K=E.get(_);if(!K){var ne={loading:0,preload:null};if(K=y.querySelector(Qd(_)))ne.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":s},u),(u=pa.get(_))&&xb(o,u);var me=K=y.createElement("link");Ct(me),Gi(me,"link",o),me._p=new Promise(function(ze,pt){me.onload=ze,me.onerror=pt}),me.addEventListener("load",function(){ne.loading|=1}),me.addEventListener("error",function(){ne.loading|=2}),ne.loading|=4,Ch(K,s,y)}K={type:"stylesheet",instance:K,count:1,state:ne},E.set(_,K)}}}function xN(o,s){Fs.X(o,s);var u=bu;if(u&&o){var y=We(u).hoistableScripts,E=Su(o),_=y.get(E);_||(_=u.querySelector(Jd(E)),_||(o=h({src:o,async:!0},s),(s=pa.get(E))&&wb(o,s),_=u.createElement("script"),Ct(_),Gi(_,"link",o),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},y.set(E,_))}}function wN(o,s){Fs.M(o,s);var u=bu;if(u&&o){var y=We(u).hoistableScripts,E=Su(o),_=y.get(E);_||(_=u.querySelector(Jd(E)),_||(o=h({src:o,async:!0,type:"module"},s),(s=pa.get(E))&&wb(o,s),_=u.createElement("script"),Ct(_),Gi(_,"link",o),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},y.set(E,_))}}function RC(o,s,u,y){var E=(E=oe.current)?kh(E):null;if(!E)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=vu(u.href),u=We(E).hoistableStyles,y=u.get(s),y||(y={type:"style",instance:null,count:0,state:null},u.set(s,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){o=vu(u.href);var _=We(E).hoistableStyles,K=_.get(o);if(K||(E=E.ownerDocument||E,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,K),(_=E.querySelector(Qd(o)))&&!_._p&&(K.instance=_,K.state.loading=5),pa.has(o)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},pa.set(o,u),_||kN(E,o,u,K.state))),s&&y===null)throw Error(n(528,""));return K}if(s&&y!==null)throw Error(n(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Su(u),u=We(E).hoistableScripts,y=u.get(s),y||(y={type:"script",instance:null,count:0,state:null},u.set(s,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function vu(o){return'href="'+xn(o)+'"'}function Qd(o){return'link[rel="stylesheet"]['+o+"]"}function OC(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function kN(o,s,u,y){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?y.loading=1:(s=o.createElement("link"),y.preload=s,s.addEventListener("load",function(){return y.loading|=1}),s.addEventListener("error",function(){return y.loading|=2}),Gi(s,"link",u),Ct(s),o.head.appendChild(s))}function Su(o){return'[src="'+xn(o)+'"]'}function Jd(o){return"script[async]"+o}function PC(o,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var y=o.querySelector('style[data-href~="'+xn(u.href)+'"]');if(y)return s.instance=y,Ct(y),y;var E=h({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return y=(o.ownerDocument||o).createElement("style"),Ct(y),Gi(y,"style",E),Ch(y,u.precedence,o),s.instance=y;case"stylesheet":E=vu(u.href);var _=o.querySelector(Qd(E));if(_)return s.state.loading|=4,s.instance=_,Ct(_),_;y=OC(u),(E=pa.get(E))&&xb(y,E),_=(o.ownerDocument||o).createElement("link"),Ct(_);var K=_;return K._p=new Promise(function(ne,me){K.onload=ne,K.onerror=me}),Gi(_,"link",y),s.state.loading|=4,Ch(_,u.precedence,o),s.instance=_;case"script":return _=Su(u.src),(E=o.querySelector(Jd(_)))?(s.instance=E,Ct(E),E):(y=u,(E=pa.get(_))&&(y=h({},u),wb(y,E)),o=o.ownerDocument||o,E=o.createElement("script"),Ct(E),Gi(E,"link",y),o.head.appendChild(E),s.instance=E);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(y=s.instance,s.state.loading|=4,Ch(y,u.precedence,o));return s.instance}function Ch(o,s,u){for(var y=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=y.length?y[y.length-1]:null,_=E,K=0;K<y.length;K++){var ne=y[K];if(ne.dataset.precedence===s)_=ne;else if(_!==E)break}_?_.parentNode.insertBefore(o,_.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(o,s.firstChild))}function xb(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function wb(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var Th=null;function _C(o,s,u){if(Th===null){var y=new Map,E=Th=new Map;E.set(u,y)}else E=Th,y=E.get(u),y||(y=new Map,E.set(u,y));if(y.has(o))return y;for(y.set(o,null),u=u.getElementsByTagName(o),E=0;E<u.length;E++){var _=u[E];if(!(_[wr]||_[St]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var K=_.getAttribute(s)||"";K=o+K;var ne=y.get(K);ne?ne.push(_):y.set(K,[_])}}return y}function MC(o,s,u){o=o.ownerDocument||o,o.head.insertBefore(u,s==="title"?o.querySelector("head > title"):null)}function CN(o,s,u){if(u===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return o=s.disabled,typeof s.precedence=="string"&&o==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function jC(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var ef=null;function TN(){}function EN(o,s,u){if(ef===null)throw Error(n(475));var y=ef;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var E=vu(u.href),_=o.querySelector(Qd(E));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(y.count++,y=Eh.bind(y),o.then(y,y)),s.state.loading|=4,s.instance=_,Ct(_);return}_=o.ownerDocument||o,u=OC(u),(E=pa.get(E))&&xb(u,E),_=_.createElement("link"),Ct(_);var K=_;K._p=new Promise(function(ne,me){K.onload=ne,K.onerror=me}),Gi(_,"link",u),s.instance=_}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(s,o),(o=s.state.preload)&&(s.state.loading&3)===0&&(y.count++,s=Eh.bind(y),o.addEventListener("load",s),o.addEventListener("error",s))}}function AN(){if(ef===null)throw Error(n(475));var o=ef;return o.stylesheets&&o.count===0&&kb(o,o.stylesheets),0<o.count?function(s){var u=setTimeout(function(){if(o.stylesheets&&kb(o,o.stylesheets),o.unsuspend){var y=o.unsuspend;o.unsuspend=null,y()}},6e4);return o.unsuspend=s,function(){o.unsuspend=null,clearTimeout(u)}}:null}function Eh(){if(this.count--,this.count===0){if(this.stylesheets)kb(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Ah=null;function kb(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Ah=new Map,s.forEach(RN,o),Ah=null,Eh.call(o))}function RN(o,s){if(!(s.state.loading&4)){var u=Ah.get(o);if(u)var y=u.get(null);else{u=new Map,Ah.set(o,u);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<E.length;_++){var K=E[_];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(u.set(K.dataset.precedence,K),y=K)}y&&u.set(null,y)}E=s.instance,K=E.getAttribute("data-precedence"),_=u.get(K)||y,_===y&&u.set(null,E),u.set(K,E),this.count++,y=Eh.bind(this),E.addEventListener("load",y),E.addEventListener("error",y),_?_.parentNode.insertBefore(E,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),s.state.loading|=4}}var tf={$$typeof:w,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function ON(o,s,u,y,E,_,K,ne){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xe(0),this.hiddenUpdates=xe(null),this.identifierPrefix=y,this.onUncaughtError=E,this.onCaughtError=_,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function NC(o,s,u,y,E,_,K,ne,me,ze,pt,xt){return o=new ON(o,s,u,K,ne,me,ze,xt),s=1,_===!0&&(s|=24),_=Lo(3,null,null,s),o.current=_,_.stateNode=o,s=iy(),s.refCount++,o.pooledCache=s,s.refCount++,_.memoizedState={element:y,isDehydrated:u,cache:s},ly(_),o}function IC(o){return o?(o=Za,o):Za}function LC(o,s,u,y,E,_){E=IC(E),y.context===null?y.context=E:y.pendingContext=E,y=al(s),y.payload={element:u},_=_===void 0?null:_,_!==null&&(y.callback=_),u=sl(o,y,s),u!==null&&(zo(u,o,s),_d(u,o,s))}function FC(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<s?u:s}}function Cb(o,s){FC(o,s),(o=o.alternate)&&FC(o,s)}function BC(o){if(o.tag===13){var s=_a(o,67108864);s!==null&&zo(s,o,67108864),Cb(o,67108864)}}var Rh=!0;function PN(o,s,u,y){var E=U.T;U.T=null;var _=X.p;try{X.p=2,Tb(o,s,u,y)}finally{X.p=_,U.T=E}}function _N(o,s,u,y){var E=U.T;U.T=null;var _=X.p;try{X.p=8,Tb(o,s,u,y)}finally{X.p=_,U.T=E}}function Tb(o,s,u,y){if(Rh){var E=Eb(y);if(E===null)fb(o,s,y,Oh,u),DC(o,y);else if(jN(E,o,s,u,y))y.stopPropagation();else if(DC(o,y),s&4&&-1<MN.indexOf(o)){for(;E!==null;){var _=Kr(E);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var K=st(_.pendingLanes);if(K!==0){var ne=_;for(ne.pendingLanes|=2,ne.entangledLanes|=2;K;){var me=1<<31-ot(K);ne.entanglements[1]|=me,K&=~me}rs(_),(Rn&6)===0&&(fh=Be()+500,Gd(0))}}break;case 13:ne=_a(_,2),ne!==null&&zo(ne,_,2),hh(),Cb(_,2)}if(_=Eb(y),_===null&&fb(o,s,y,Oh,u),_===E)break;E=_}E!==null&&y.stopPropagation()}else fb(o,s,y,null,u)}}function Eb(o){return o=Ht(o),Ab(o)}var Oh=null;function Ab(o){if(Oh=null,o=Hr(o),o!==null){var s=a(o);if(s===null)o=null;else{var u=s.tag;if(u===13){if(o=l(s),o!==null)return o;o=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return Oh=o,null}function $C(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case Ot:return 2;case Mt:return 8;case et:case ht:return 32;case Bt:return 268435456;default:return 32}default:return 32}}var Rb=!1,Sl=null,xl=null,wl=null,rf=new Map,nf=new Map,kl=[],MN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function DC(o,s){switch(o){case"focusin":case"focusout":Sl=null;break;case"dragenter":case"dragleave":xl=null;break;case"mouseover":case"mouseout":wl=null;break;case"pointerover":case"pointerout":rf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":nf.delete(s.pointerId)}}function of(o,s,u,y,E,_){return o===null||o.nativeEvent!==_?(o={blockedOn:s,domEventName:u,eventSystemFlags:y,nativeEvent:_,targetContainers:[E]},s!==null&&(s=Kr(s),s!==null&&BC(s)),o):(o.eventSystemFlags|=y,s=o.targetContainers,E!==null&&s.indexOf(E)===-1&&s.push(E),o)}function jN(o,s,u,y,E){switch(s){case"focusin":return Sl=of(Sl,o,s,u,y,E),!0;case"dragenter":return xl=of(xl,o,s,u,y,E),!0;case"mouseover":return wl=of(wl,o,s,u,y,E),!0;case"pointerover":var _=E.pointerId;return rf.set(_,of(rf.get(_)||null,o,s,u,y,E)),!0;case"gotpointercapture":return _=E.pointerId,nf.set(_,of(nf.get(_)||null,o,s,u,y,E)),!0}return!1}function zC(o){var s=Hr(o.target);if(s!==null){var u=a(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){o.blockedOn=s,At(o.priority,function(){if(u.tag===13){var y=Do();y=Jt(y);var E=_a(u,y);E!==null&&zo(E,u,y),Cb(u,y)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){o.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ph(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var u=Eb(o.nativeEvent);if(u===null){u=o.nativeEvent;var y=new u.constructor(u.type,u);Ve=y,u.target.dispatchEvent(y),Ve=null}else return s=Kr(u),s!==null&&BC(s),o.blockedOn=u,!1;s.shift()}return!0}function UC(o,s,u){Ph(o)&&u.delete(s)}function NN(){Rb=!1,Sl!==null&&Ph(Sl)&&(Sl=null),xl!==null&&Ph(xl)&&(xl=null),wl!==null&&Ph(wl)&&(wl=null),rf.forEach(UC),nf.forEach(UC)}function _h(o,s){o.blockedOn===s&&(o.blockedOn=null,Rb||(Rb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,NN)))}var Mh=null;function HC(o){Mh!==o&&(Mh=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mh===o&&(Mh=null);for(var s=0;s<o.length;s+=3){var u=o[s],y=o[s+1],E=o[s+2];if(typeof y!="function"){if(Ab(y||u)===null)continue;break}var _=Kr(u);_!==null&&(o.splice(s,3),s-=3,Ay(_,{pending:!0,data:E,method:u.method,action:y},y,E))}}))}function af(o){function s(me){return _h(me,o)}Sl!==null&&_h(Sl,o),xl!==null&&_h(xl,o),wl!==null&&_h(wl,o),rf.forEach(s),nf.forEach(s);for(var u=0;u<kl.length;u++){var y=kl[u];y.blockedOn===o&&(y.blockedOn=null)}for(;0<kl.length&&(u=kl[0],u.blockedOn===null);)zC(u),u.blockedOn===null&&kl.shift();if(u=(o.ownerDocument||o).$$reactFormReplay,u!=null)for(y=0;y<u.length;y+=3){var E=u[y],_=u[y+1],K=E[kt]||null;if(typeof _=="function")K||HC(u);else if(K){var ne=null;if(_&&_.hasAttribute("formAction")){if(E=_,K=_[kt]||null)ne=K.formAction;else if(Ab(E)!==null)continue}else ne=K.action;typeof ne=="function"?u[y+1]=ne:(u.splice(y,3),y-=3),HC(u)}}}function Ob(o){this._internalRoot=o}jh.prototype.render=Ob.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(n(409));var u=s.current,y=Do();LC(u,y,o,s,null,null)},jh.prototype.unmount=Ob.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;LC(o.current,2,null,o,null,null),hh(),s[Ut]=null}};function jh(o){this._internalRoot=o}jh.prototype.unstable_scheduleHydration=function(o){if(o){var s=hr();o={blockedOn:null,target:o,priority:s};for(var u=0;u<kl.length&&s!==0&&s<kl[u].priority;u++);kl.splice(u,0,o),u===0&&zC(o)}};var VC=e.version;if(VC!=="19.1.0")throw Error(n(527,VC,"19.1.0"));X.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=d(s),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var IN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{je=Nh.inject(IN),qe=Nh}catch{}}return lf.createRoot=function(o,s){if(!i(o))throw Error(n(299));var u=!1,y="",E=ak,_=sk,K=lk,ne=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(y=s.identifierPrefix),s.onUncaughtError!==void 0&&(E=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(K=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(ne=s.unstable_transitionCallbacks)),s=NC(o,1,!1,null,null,u,y,E,_,K,ne,null),o[Ut]=s.current,db(o),new Ob(s)},lf.hydrateRoot=function(o,s,u){if(!i(o))throw Error(n(299));var y=!1,E="",_=ak,K=sk,ne=lk,me=null,ze=null;return u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(E=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(K=u.onCaughtError),u.onRecoverableError!==void 0&&(ne=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(me=u.unstable_transitionCallbacks),u.formState!==void 0&&(ze=u.formState)),s=NC(o,1,!0,s,u??null,y,E,_,K,ne,me,ze),s.context=IC(null),u=s.current,y=Do(),y=Jt(y),E=al(y),E.callback=null,sl(u,E,y),u=y,s.current.lanes=u,dt(s,u),rs(s),o[Ut]=s.current,db(o),new jh(s)},lf.version="19.1.0",lf}var eT;function WN(){if(eT)return _b.exports;eT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_b.exports=qN(),_b.exports}var KN=WN();const GN=(t,e,r,n)=>new Promise((i,a)=>{const l=r<=0?1:r/t.width,c=n<=0?1:n/t.height,d=Math.min(1,Math.min(l,c));if(d<1){const f=t.width*d,h=t.height*d;createImageBitmap(t,{resizeWidth:f,resizeHeight:h,resizeQuality:"high"}).then(g=>{t.width=f,t.height=h,e.drawImage(g,0,0),i(t)}).catch(g=>a(g))}else i(t)});var Yu=(t=>(t[t.captureFailed=1]="captureFailed",t[t.fileLinkLost=2]="fileLinkLost",t))(Yu||{}),Ag=(t=>(t[t.drmProtected=1]="drmProtected",t[t.fileLinkLost=2]="fileLinkLost",t))(Ag||{}),qr=(t=>(t[t.none=0]="none",t[t.showAnkiDialog=1]="showAnkiDialog",t[t.updateLastCard=2]="updateLastCard",t[t.exportCard=3]="exportCard",t))(qr||{}),Zi=(t=>(t[t.remember=0]="remember",t[t.play=1]="play",t[t.pause=2]="pause",t))(Zi||{}),va=(t=>(t[t.atStart=1]="atStart",t[t.atEnd=2]="atEnd",t))(va||{}),zs=(t=>(t[t.remove=0]="remove",t[t.render=1]="render",t))(zs||{}),Yr=(t=>(t[t.normal=1]="normal",t[t.condensed=2]="condensed",t[t.autoPause=3]="autoPause",t[t.fastForward=4]="fastForward",t[t.repeat=5]="repeat",t))(Yr||{}),ri=(t=>(t[t.timeDisplay=0]="timeDisplay",t[t.subtitleOffset=1]="subtitleOffset",t[t.playbackRate=2]="playbackRate",t))(ri||{}),Lb,tT;function YN(){if(tT)return Lb;tT=1;function t(r){return r>=55296&&r<=56319}function e(r){return r>=56320&&r<=57343}return Lb=function(n,i,a){if(typeof i!="string")throw new Error("Input must be string");for(var l=i.length,c=0,d,f,h=0;h<l;h+=1){if(d=i.charCodeAt(h),f=i[h],t(d)&&e(i.charCodeAt(h+1))&&(h+=1,f+=i[h]),c+=n(f),c===a)return i.slice(0,h+1);if(c>a)return i.slice(0,h-f.length+1)}return i},Lb}var Fb,rT;function XN(){if(rT)return Fb;rT=1;function t(r){return r>=55296&&r<=56319}function e(r){return r>=56320&&r<=57343}return Fb=function(n){if(typeof n!="string")throw new Error("Input must be string");for(var i=n.length,a=0,l=null,c=null,d=0;d<i;d++)l=n.charCodeAt(d),e(l)?c!=null&&t(c)?a+=1:a+=3:l<=127?a+=1:l>=128&&l<=2047?a+=2:l>=2048&&l<=65535&&(a+=3),c=l;return a},Fb}var Bb,nT;function ZN(){if(nT)return Bb;nT=1;var t=YN(),e=XN();return Bb=t.bind(null,e),Bb}var $b,iT;function QN(){if(iT)return $b;iT=1;var t=ZN(),e=/[\/\?<>\\:\*\|"]/g,r=/[\x00-\x1f\x80-\x9f]/g,n=/^\.+$/,i=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,a=/[\. ]+$/;function l(c,d){if(typeof c!="string")throw new Error("Input must be string");var f=c.replace(e,d).replace(r,d).replace(n,d).replace(i,d).replace(a,d);return t(f,255)}return $b=function(c,d){var f=d&&d.replacement||"",h=l(c,f);return f===""?h:l(h,"")},$b}var JN=QN();const GP=Yl(JN);function Fa(t,e,r=(n,i)=>n===i){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function _c(t,e=!1,r=!1){const n=Math.floor(t/1e3);let i;e?i=Math.round(t/1e3%60*10)/10:i=n%60;const a=Math.floor(n/60)%60,l=Math.floor(n/3600);if(r){let c;if(e){const d=String(i).split("."),f=d[0],h=d.length>1?"."+d[1]:".0";c=f.padStart(2,"0")+h}else c=String(i).padStart(2,"0");return String(l).padStart(2,"0")+"h"+String(a).padStart(2,"0")+"m"+c+"s"}else return l>0?l+"h"+String(a).padStart(2,"0")+"m"+String(i).padStart(2,"0")+"s":a+"m"+String(i).padStart(2,"0")+"s"}function YP(){const t=new Date;return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}-${t.getHours()}-${t.getMinutes()}-${t.getSeconds()}`}function XP(t,e,r,n){let i=e;for(let l=e;l>=0&&(i=l,!aT(t,i,e,r,n,1));--l);let a=i;for(let l=e;l<=t.length-1&&(a=l,!aT(t,a,e,r,n,0));++l);return t.slice(i,a+1)}function oT(t,e,r){if(r===0){for(let n=0;n<t.length;++n)if(t[n].start>=e)return n}else for(let n=t.length-1;n>=0;--n)if(t[n].start<=e)return n}function Px(t,e,r,n,i){if(t.length===0)return{};let a=0;const l=oT(t,e,0)??t.length-1;for(let f=0;f<t.length&&(a=f,!sT(t,f,n,i,e,l));++f);let c=t.length-1;const d=oT(t,r,1)??0;for(let f=t.length-1;f>=0&&(c=f,!sT(t,f,n,i,r,d));--f);return c<=a?{}:{surroundingSubtitles:t.slice(a,c+1),subtitle:t[l]}}function FS(t,e,r){const n=[t],i=t.start-t.originalStart;if(t.end<e){const a=Math.min(e,t.end+r);n.push({text:"",start:t.end,end:a,originalStart:t.end-i,originalEnd:a-i,track:t.track,index:t.index,richText:t.richText})}if(t.start>0){const a=Math.max(0,t.start-r);n.unshift({text:"",start:a,end:t.start,originalStart:a-i,originalEnd:t.start-i,track:t.track,index:t.index,richText:t.richText})}return n}function aT(t,e,r,n,i,a){let l;return a==0?l=e+1<t.length?t[e+1]:null:l=e-1>=0?t[e-1]:null,Math.abs(r-e)>=n&&(l===null||Math.abs(l.start-t[r].start)>=i)}function sT(t,e,r,n,i,a){const l=t[e];return Math.abs(a-e)<=r||Math.abs(l.start-i)<=n}function Tf(t,e){const r=Math.max(0,t.end-t.start);if(r===0)return!1;const n=Math.max(t.start,e[0]);return Math.min(t.end,e[1])-n>=r/2}function fg(t){return t.filter(e=>e.text.trim()!=="").map(e=>e.text).join(`
`)}function Zo(t,e,r){if(e.length===0)return t.text;const n=[t.start,t.end];return fg(e.filter(i=>Tf(i,n)).filter(i=>r===void 0||i.track===r))}function Xu(t,e){const r=window.URL.createObjectURL(t),n=document.createElement("a");document.body.appendChild(n),n.style.display="none",n.href=r,n.download=GP(e),n.click(),URL.revokeObjectURL(r),n.remove()}function _x({subtitleColor:t,subtitleSize:e,subtitleThickness:r,subtitleOutlineThickness:n,subtitleOutlineColor:i,subtitleShadowThickness:a,subtitleShadowColor:l,subtitleBackgroundOpacity:c,subtitleBackgroundColor:d,subtitleFontFamily:f,subtitleCustomStyles:h}){const g={color:t,fontSize:`${e}px`,fontWeight:String(r)};if(n>0){const p=n,S=i;g.WebkitTextStroke=`${S} ${p}px`,g.paintOrder="stroke fill"}if(a>0&&(g.textShadow=`0 0 ${a}px ${l}, 0 0 ${a}px ${l}, 0 0 ${a}px ${l}, 0 0 ${a}px ${l}`),c>0){const p=c,S=d,{r:b,g:v,b:k}=oI(S);g.backgroundColor=`rgba(${b}, ${v}, ${k}, ${p})`}f&&f.length>0&&(g.fontFamily=`'${f}'`);for(const p of h){let S;p.key.startsWith("webkit")||p.key.startsWith("moz")||p.key.startsWith("ms")||/^o[A-Z].*/.test(p.key)?S=p.key.charAt(0).toUpperCase()+p.key.slice(1):S=p.key,Mx(S)||(g[S]=p.value)}return g}function Mx(t){return!isNaN(Number(t))}const Ia=new RegExp("\\p{L}","u"),eI=/^[a-z]+$/i,tI=/^[\u3040-\u309F\u30A0-\u30FF\u31F0-\u31FF\uFF61-\uFF9F\u{1B000}-\u{1B0FF}\u{1B100}-\u{1B12F}\u{1B130}-\u{1B16F}\u{1AFF0}-\u{1AFFF}]+$/u;function rI(t){return tI.test(t.normalize("NFC"))}function nI(t){const e=t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(r,n)=>(n?"-":"")+r.toLowerCase());return e.startsWith("webkit-")||e.startsWith("moz-")||e.startsWith("ms-")||e.startsWith("o-")?`-${e}`:e}function iI(t){const e=_x(t),r=[];for(const[n,i]of Object.entries(e))r.push(`${nI(n)}: ${i} !important`);return r.join(";")}function oI(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{r:255,g:255,b:255}}function aI(t,e){return e===0?t:`${t} (${_c(e,!0,!0)})`}function sI(t,e){return t.currentTime=e,t.currentTime<e&&(t.currentTime=Math.min(t.duration,t.currentTime+.01)),t.currentTime}async function ZP(t,e,r={batchSize:5}){const n=r.batchSize>0?r.batchSize:1;for(let i=0;i<t.length;i+=n)await e(t.slice(i,i+n))}async function $u(t,e,r={batchSize:5}){const n=r.batchSize>0?r.batchSize:1,i=[];for(let a=0;a<t.length;a+=n){const l=await e(t.slice(a,a+n));for(let c=0;c<l.length;c++)i.push(l[c])}return i}async function lI(t,e,r={batchSize:5}){return $u(t,n=>Promise.all(n.map(e)),r)}async function La(){if(!navigator.storage?.persist||await navigator.storage.persisted())return;await navigator.storage.persist()||console.warn("Storage could not be persisted, data may be cleared by the browser")}function jx(t,e,r){let n=0,i=0,a=e(t,0);if(a===void 0){r(0,t.length);return}for(let l=0;i<t.length;)a!==void 0&&i===a.pos[0]&&(i>n&&r(n,i),r(a.pos[0],a.pos[1],a),l++,n=a.pos[1],a=e(t,l)),i=a?.pos?.[0]??t.length;n<i&&r(n,i)}const cI=(t,e)=>Fa(t.pos,e.pos)&&t.reading===e.reading,lT=(t,e)=>{if(t===e)return!0;if(!t||!e||t.error!==e.error||t.tokens===void 0&&e.tokens!==void 0||t.tokens!==void 0&&e.tokens===void 0)return!1;if(t.tokens===void 0&&e.tokens===void 0)return!0;if(t.tokens.length!==e.tokens.length)return!1;for(let r=0;r<t.tokens.length;++r){const n=t.tokens[r],i=e.tokens[r];if(!Fa(n.pos,i.pos)||n.status!==i.status||!Fa(n.pos,i.pos)||n.states===void 0&&i.states!==void 0||n.states!==void 0&&i.states===void 0||n.states!==void 0&&i.states!==void 0&&!Fa(n.states,i.states)||n.readings===void 0&&i.readings!==void 0||n.readings!==void 0&&i.readings===void 0||n.readings!==void 0&&i.readings!==void 0&&!Fa(n.readings,i.readings,cI))return!1}return!0},Yg={},BS=t=>{const e=URL.createObjectURL(t);return Yg[e]=!0,e},uI=t=>{Yg[t]=!0},cT=t=>{delete Yg[t],URL.revokeObjectURL(t)},QP=t=>t in Yg,dI=24,JP=(t,e)=>`${t.replaceAll(" ","_").substring(0,Math.min(t.length,dI))}_${Math.floor(e)}`;class fI{_name;_timestamp;_base64;_extension;_error;cachedBlob;constructor(e,r,n,i,a){this._name=e,this._timestamp=r,this._base64=n,this._extension=i,this._error=a}get name(){return this._name}get timestamp(){return this._timestamp}get extension(){return this._extension}get error(){return this._error}atTimestamp(e){return this}get canChangeTimestamp(){return!1}async base64(){return this._base64}async blob(){return await this._blob()}async _blob(){return this.cachedBlob||(this.cachedBlob=await(await fetch(this._dataUrl())).blob()),this.cachedBlob}async dataUrl(){return this._dataUrl()}_dataUrl(){return"data:image/"+this.extension+";base64,"+this._base64}dispose(){}}class e2 extends Error{}class Nx{_file;_timestamp;_maxWidth;_maxHeight;_name;_video;_canvas;_canvasPromise;_canvasPromiseReject;constructor(e,r,n,i,a,l){this._file=e,this._name=`${JP(e.name,r)}.jpeg`,this._timestamp=r,this._maxWidth=n,this._maxHeight=i,this._video=a,this._canvas=l}get name(){return this._name}get timestamp(){return this._timestamp}get extension(){return"jpeg"}get error(){if(this._file.blobUrl)return QP(this._file.blobUrl)?void 0:Yu.fileLinkLost}atTimestamp(e){return e===this._timestamp?this:(this._canvasPromiseReject?.(new e2),new Nx(this._file,e,this._maxWidth,this._maxHeight,this._video,this._canvas))}get canChangeTimestamp(){return!0}async base64(){return new Promise((e,r)=>{this._getCanvas().then(n=>{const i=n.toDataURL("image/jpeg");e(i.substring(i.indexOf(",")+1))}).catch(r)})}async blob(){return new Promise((e,r)=>{this._getCanvas().then(n=>{n.toBlob(i=>{i===null?r(new Error("Could not obtain blob")):e(i)},"image/jpeg")}).catch(r)})}async dataUrl(){return(await this._getCanvas()).toDataURL()}async _getCanvas(){return this._canvasPromise?this._canvasPromise:(this._canvasPromise=new Promise(async(e,r)=>{this._canvasPromiseReject=r;const n=await this._videoElement(this._file),i=()=>Math.max(0,Math.min(n.duration,this._timestamp/1e3));Number.isFinite(n.duration)?n.currentTime=i():n.onloadedmetadata=()=>{n.currentTime=i(),n.onloadedmetadata=null},n.onseeked=async()=>{try{this._canvasPromiseReject=void 0,this._canvas||(this._canvas=document.createElement("canvas"));const a=this._canvas;a.width=n.videoWidth,a.height=n.videoHeight;const l=a.getContext("2d");l.drawImage(n,0,0,a.width,a.height),n.onseeked=null,(this._maxWidth>0||this._maxHeight>0)&&await GN(a,l,this._maxWidth,this._maxHeight),e(a)}catch(a){r(a)}},n.onerror=()=>{r(n.error?.message??"Could not load video to obtain screenshot")}}),this._canvasPromise)}async _videoElement(e){return this._video?this._video:new Promise((r,n)=>{const i=document.createElement("video");i.src=e.blobUrl,i.preload="auto",i.autoplay=!1,i.volume=0,i.controls=!1,i.pause();const a=Date.now(),l=setInterval(()=>{(i.seekable.length>0&&i.seekable.end(0)===i.duration||Date.now()-a>=5e3)&&(this._video=i,clearInterval(l),r(i))},100)})}dispose(){this._video&&(this._video.removeAttribute("src"),this._video.load(),this._video.remove(),this._video=void 0,this._canvas?.remove())}}let Kf=class Iu{data;constructor(e){this.data=e}static fromCard(e,r,n){if(e.image)return Iu.fromBase64(e.subtitleFileName,e.subtitle.start,e.image.base64,e.image.extension,e.image.error);if(e.file)return Iu.fromFile(e.file,e.mediaTimestamp??e.subtitle.start,r,n)}static fromBase64(e,r,n,i,a){const l=e.substring(0,e.lastIndexOf(".")),c=`${JP(l,r)}.${i}`;return new Iu(new fI(c,r,n,i,a))}static fromFile(e,r,n,i){return new Iu(new Nx(e,r,n,i))}get name(){return this.data.name}get timestamp(){return this.data.timestamp}get extension(){return this.data.extension}get error(){return this.data.error}async base64(){return await this.data.base64()}async dataUrl(){return await this.data.dataUrl()}async blob(){return await this.data.blob()}async pngBlob(){return new Promise(async(e,r)=>{try{createImageBitmap(await this.blob()).then(n=>{const i=document.createElement("canvas");i.width=n.width,i.height=n.height,i.getContext("2d").drawImage(n,0,0),i.toBlob(a=>{a?e(a):r("Failed to convert to PNG")},"image/png")})}catch(n){r(n)}})}atTimestamp(e){return new Iu(this.data.atTimestamp(e))}get canChangeTimestamp(){return this.data.canChangeTimestamp}dispose(){return this.data.dispose()}async download(){const e=await this.data.blob();Xu(e,this.data.name)}};var Di=(t=>(t[t.unknown=1]="unknown",t[t.error=2]="error",t[t.stats=3]="stats",t[t.progress=4]="progress",t))(Di||{}),Go=(t=>(t[t.concurrentBuild=1]="concurrentBuild",t[t.noAnki=2]="noAnki",t[t.noYomitan=3]="noYomitan",t[t.failedToSyncTrackStates=4]="failedToSyncTrackStates",t[t.failedToBuild=5]="failedToBuild",t))(Go||{});class Ix{async fetch(e,r){return await(await fetch(e,{method:"POST",body:JSON.stringify(r)})).json()}}class t2{lastStartedShowing;lastWillStopShowing;onStartedShowing;onWillStopShowing;onNextToShow;willStopShowing(e){e.end!==this.lastWillStopShowing?.end&&(this.onWillStopShowing?.(e),this.lastWillStopShowing=e)}startedShowing(e){e.start!==this.lastStartedShowing?.start&&(this.onStartedShowing?.(),this.lastStartedShowing=e)}clear(){this.lastStartedShowing=void 0,this.lastWillStopShowing=void 0}}class uT{offscreenElement;_cachedContentElements={};_empty=!0;constructor(){}get empty(){return this._empty}clear(){this.offscreenElement?.remove(),this.offscreenElement=void 0,this._cachedContentElements={},this._empty=!0}add(e,r){let n=this._cachedContentElements[e];n||(n=document.createElement("div"),this._cachedContentElements[e]=n,this._offscreenElement().appendChild(n)),n.innerHTML=`${r}
`,this._empty=!1}delete(e){const r=this._cachedContentElements[e];r&&(r.remove(),delete this._cachedContentElements[e],Object.keys(this._cachedContentElements).length===0&&this.clear())}return(e){this._offscreenElement().appendChild(e)}get(e,r){let n=this._cachedContentElements[e];if(!n){if(r===void 0)throw new Error(`Cached html not found for key ${e}`);n=document.createElement("div"),n.innerHTML=r(),this._cachedContentElements[e]=n,this._offscreenElement().appendChild(n)}return n}_offscreenElement(){if(this.offscreenElement)return this.offscreenElement;const e=document.createElement("div");return e.className="asbplayer-offscreen",document.body.append(e),this.offscreenElement=e,e}}class dT{defaultKeyBinder;extension;copyHandlers=[];ankiExportHandlers=[];updateLastCardHandlers=[];exportCardHandlers=[];takeScreenshotHandlers=[];toggleRecordingHandlers=[];_unsubscribeExtension;constructor(e,r){if(this.defaultKeyBinder=e,this.extension=r,this.extension.installed){const n=i=>{let a;if(i.data.command==="copy-subtitle"){const l=i.data;switch(l.postMineAction){case qr.none:a=this.copyHandlers;break;case qr.showAnkiDialog:a=this.ankiExportHandlers;break;case qr.updateLastCard:a=this.updateLastCardHandlers;break;case qr.exportCard:a=this.exportCardHandlers;break;default:console.error("Unknown post mine action "+l.postMineAction)}}else i.data.command==="take-screenshot"?a=this.takeScreenshotHandlers:i.data.command==="toggle-recording"&&(a=this.toggleRecordingHandlers);if(a!==void 0)for(const l of a)l(new KeyboardEvent("mock"))};this._unsubscribeExtension=r.subscribe(n)}}bindCopy(e,r,n,i){if(this.extension.installed){const a=this.defaultKeyBinder.copyHandler(e,r,n);return this.copyHandlers.push(a),()=>{this._remove(a,this.copyHandlers)}}return this.defaultKeyBinder.bindCopy(e,r,n,i)}bindAnkiExport(e,r,n){if(this.extension.installed){const i=this.defaultKeyBinder.ankiExportHandler(e,r);return this.ankiExportHandlers.push(i),()=>{this._remove(i,this.ankiExportHandlers)}}return this.defaultKeyBinder.bindAnkiExport(e,r,n)}bindUpdateLastCard(e,r,n){if(this.extension.installed){const i=this.defaultKeyBinder.updateLastCardHandler(e,r);return this.updateLastCardHandlers.push(i),()=>{this._remove(i,this.updateLastCardHandlers)}}return this.defaultKeyBinder.bindUpdateLastCard(e,r,n)}bindExportCard(e,r,n){if(this.extension.installed){const i=this.defaultKeyBinder.exportCardHandler(e,r);return this.exportCardHandlers.push(i),()=>{this._remove(i,this.exportCardHandlers)}}return this.defaultKeyBinder.bindExportCard(e,r,n)}bindTakeScreenshot(e,r,n){if(this.extension.installed){const i=this.defaultKeyBinder.takeScreenshotHandler(e,r);return this.takeScreenshotHandlers.push(i),()=>{this._remove(i,this.takeScreenshotHandlers)}}return this.defaultKeyBinder.bindTakeScreenshot(e,r,n)}bindToggleRecording(e,r,n){if(this.extension.installed){const i=this.defaultKeyBinder.toggleRecordingHandler(e,r);return this.toggleRecordingHandlers.push(i),()=>{this._remove(i,this.toggleRecordingHandlers)}}return this.defaultKeyBinder.bindToggleRecording(e,r,n)}_remove(e,r){for(let n=r.length-1;n>=0;--n)if(e===r[n]){r.splice(n,1);break}}bindSeekToSubtitle(e,r,n,i,a){return this.defaultKeyBinder.bindSeekToSubtitle(e,r,n,i,a)}bindSeekToBeginningOfCurrentSubtitle(e,r,n,i,a){return this.defaultKeyBinder.bindSeekToBeginningOfCurrentSubtitle(e,r,n,i,a)}bindSeekBackwardOrForward(e,r,n){return this.defaultKeyBinder.bindSeekBackwardOrForward(e,r,n)}bindOffsetToSubtitle(e,r,n,i,a){return this.defaultKeyBinder.bindOffsetToSubtitle(e,r,n,i,a)}bindAdjustOffset(e,r,n,i){return this.defaultKeyBinder.bindAdjustOffset(e,r,n,i)}bindResetOffet(e,r,n){return this.defaultKeyBinder.bindResetOffet(e,r,n)}bindAdjustPlaybackRate(e,r,n=!1){return this.defaultKeyBinder.bindAdjustPlaybackRate(e,r,n)}bindToggleSubtitles(e,r,n){return this.defaultKeyBinder.bindToggleSubtitles(e,r,n)}bindToggleSubtitleTrackInVideo(e,r,n){return this.defaultKeyBinder.bindToggleSubtitleTrackInVideo(e,r,n)}bindToggleSubtitleTrackInList(e,r,n){return this.defaultKeyBinder.bindToggleSubtitleTrackInList(e,r,n)}bindUnblurTrack(e,r,n){return this.defaultKeyBinder.bindUnblurTrack(e,r,n)}bindMarkHoveredToken(e,r,n){return this.defaultKeyBinder.bindMarkHoveredToken(e,r,n)}bindToggleHoveredTokenIgnored(e,r,n){return this.defaultKeyBinder.bindToggleHoveredTokenIgnored(e,r,n)}bindPlay(e,r,n){return this.defaultKeyBinder.bindPlay(e,r,n)}bindAutoPause(e,r,n){return this.defaultKeyBinder.bindAutoPause(e,r,n)}bindCondensedPlayback(e,r,n){return this.defaultKeyBinder.bindCondensedPlayback(e,r,n)}bindFastForwardPlayback(e,r,n){return this.defaultKeyBinder.bindFastForwardPlayback(e,r,n)}bindToggleSidePanel(e,r,n){return this.defaultKeyBinder.bindToggleSidePanel(e,r,n)}bindToggleRepeat(e,r,n){return this.defaultKeyBinder.bindToggleRepeat(e,r,n)}bindAdjustSubtitlePositionOffset(e,r,n){return this.defaultKeyBinder.bindAdjustSubtitlePositionOffset(e,r,n)}bindAdjustTopSubtitlePositionOffset(e,r,n){return this.defaultKeyBinder.bindAdjustTopSubtitlePositionOffset(e,r,n)}unsubscribeExtension(){this._unsubscribeExtension?.()}}var Ih,pI=new Uint8Array(16);function hI(){if(!Ih&&(Ih=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ih))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ih(pI)}const gI=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function mI(t){return typeof t=="string"&&gI.test(t)}var Xi=[];for(var Db=0;Db<256;++Db)Xi.push((Db+256).toString(16).substr(1));function yI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Xi[t[e+0]]+Xi[t[e+1]]+Xi[t[e+2]]+Xi[t[e+3]]+"-"+Xi[t[e+4]]+Xi[t[e+5]]+"-"+Xi[t[e+6]]+Xi[t[e+7]]+"-"+Xi[t[e+8]]+Xi[t[e+9]]+"-"+Xi[t[e+10]]+Xi[t[e+11]]+Xi[t[e+12]]+Xi[t[e+13]]+Xi[t[e+14]]+Xi[t[e+15]]).toLowerCase();if(!mI(r))throw TypeError("Stringified UUID is invalid");return r}function En(t,e,r){t=t||{};var n=t.random||(t.rng||hI)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,yI(n)}var zb,fT;function Xg(){if(fT)return zb;fT=1;var t={};return zb=typeof process=="object"&&t&&t.NODE_DEBUG&&/\bsemver\b/i.test(t.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{},zb}var Ub,pT;function Zg(){if(pT)return Ub;pT=1;const t="2.0.0",e=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,n=16,i=e-6;return Ub={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Ub}var Lh={exports:{}},hT;function cp(){return hT||(hT=1,function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Zg(),a=Xg();e=t.exports={};const l=e.re=[],c=e.safeRe=[],d=e.src=[],f=e.t={};let h=0;const g="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",i],[g,n]],S=v=>{for(const[k,T]of p)v=v.split(`${k}*`).join(`${k}{0,${T}}`).split(`${k}+`).join(`${k}{1,${T}}`);return v},b=(v,k,T)=>{const A=S(k),w=h++;a(v,w,k),f[v]=w,d[w]=k,l[w]=new RegExp(k,T?"g":void 0),c[w]=new RegExp(A,T?"g":void 0)};b("NUMERICIDENTIFIER","0|[1-9]\\d*"),b("NUMERICIDENTIFIERLOOSE","\\d+"),b("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${g}*`),b("MAINVERSION",`(${d[f.NUMERICIDENTIFIER]})\\.(${d[f.NUMERICIDENTIFIER]})\\.(${d[f.NUMERICIDENTIFIER]})`),b("MAINVERSIONLOOSE",`(${d[f.NUMERICIDENTIFIERLOOSE]})\\.(${d[f.NUMERICIDENTIFIERLOOSE]})\\.(${d[f.NUMERICIDENTIFIERLOOSE]})`),b("PRERELEASEIDENTIFIER",`(?:${d[f.NUMERICIDENTIFIER]}|${d[f.NONNUMERICIDENTIFIER]})`),b("PRERELEASEIDENTIFIERLOOSE",`(?:${d[f.NUMERICIDENTIFIERLOOSE]}|${d[f.NONNUMERICIDENTIFIER]})`),b("PRERELEASE",`(?:-(${d[f.PRERELEASEIDENTIFIER]}(?:\\.${d[f.PRERELEASEIDENTIFIER]})*))`),b("PRERELEASELOOSE",`(?:-?(${d[f.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${d[f.PRERELEASEIDENTIFIERLOOSE]})*))`),b("BUILDIDENTIFIER",`${g}+`),b("BUILD",`(?:\\+(${d[f.BUILDIDENTIFIER]}(?:\\.${d[f.BUILDIDENTIFIER]})*))`),b("FULLPLAIN",`v?${d[f.MAINVERSION]}${d[f.PRERELEASE]}?${d[f.BUILD]}?`),b("FULL",`^${d[f.FULLPLAIN]}$`),b("LOOSEPLAIN",`[v=\\s]*${d[f.MAINVERSIONLOOSE]}${d[f.PRERELEASELOOSE]}?${d[f.BUILD]}?`),b("LOOSE",`^${d[f.LOOSEPLAIN]}$`),b("GTLT","((?:<|>)?=?)"),b("XRANGEIDENTIFIERLOOSE",`${d[f.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),b("XRANGEIDENTIFIER",`${d[f.NUMERICIDENTIFIER]}|x|X|\\*`),b("XRANGEPLAIN",`[v=\\s]*(${d[f.XRANGEIDENTIFIER]})(?:\\.(${d[f.XRANGEIDENTIFIER]})(?:\\.(${d[f.XRANGEIDENTIFIER]})(?:${d[f.PRERELEASE]})?${d[f.BUILD]}?)?)?`),b("XRANGEPLAINLOOSE",`[v=\\s]*(${d[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[f.XRANGEIDENTIFIERLOOSE]})(?:${d[f.PRERELEASELOOSE]})?${d[f.BUILD]}?)?)?`),b("XRANGE",`^${d[f.GTLT]}\\s*${d[f.XRANGEPLAIN]}$`),b("XRANGELOOSE",`^${d[f.GTLT]}\\s*${d[f.XRANGEPLAINLOOSE]}$`),b("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),b("COERCERTL",d[f.COERCE],!0),b("LONETILDE","(?:~>?)"),b("TILDETRIM",`(\\s*)${d[f.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",b("TILDE",`^${d[f.LONETILDE]}${d[f.XRANGEPLAIN]}$`),b("TILDELOOSE",`^${d[f.LONETILDE]}${d[f.XRANGEPLAINLOOSE]}$`),b("LONECARET","(?:\\^)"),b("CARETTRIM",`(\\s*)${d[f.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",b("CARET",`^${d[f.LONECARET]}${d[f.XRANGEPLAIN]}$`),b("CARETLOOSE",`^${d[f.LONECARET]}${d[f.XRANGEPLAINLOOSE]}$`),b("COMPARATORLOOSE",`^${d[f.GTLT]}\\s*(${d[f.LOOSEPLAIN]})$|^$`),b("COMPARATOR",`^${d[f.GTLT]}\\s*(${d[f.FULLPLAIN]})$|^$`),b("COMPARATORTRIM",`(\\s*)${d[f.GTLT]}\\s*(${d[f.LOOSEPLAIN]}|${d[f.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",b("HYPHENRANGE",`^\\s*(${d[f.XRANGEPLAIN]})\\s+-\\s+(${d[f.XRANGEPLAIN]})\\s*$`),b("HYPHENRANGELOOSE",`^\\s*(${d[f.XRANGEPLAINLOOSE]})\\s+-\\s+(${d[f.XRANGEPLAINLOOSE]})\\s*$`),b("STAR","(<|>)?=?\\s*\\*"),b("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),b("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(Lh,Lh.exports)),Lh.exports}var Hb,gT;function Lx(){if(gT)return Hb;gT=1;const t=Object.freeze({loose:!0}),e=Object.freeze({});return Hb=n=>n?typeof n!="object"?t:n:e,Hb}var Vb,mT;function r2(){if(mT)return Vb;mT=1;const t=/^[0-9]+$/,e=(n,i)=>{const a=t.test(n),l=t.test(i);return a&&l&&(n=+n,i=+i),n===i?0:a&&!l?-1:l&&!a?1:n<i?-1:1};return Vb={compareIdentifiers:e,rcompareIdentifiers:(n,i)=>e(i,n)},Vb}var qb,yT;function wo(){if(yT)return qb;yT=1;const t=Xg(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:r}=Zg(),{safeRe:n,t:i}=cp(),a=Lx(),{compareIdentifiers:l}=r2();class c{constructor(f,h){if(h=a(h),f instanceof c){if(f.loose===!!h.loose&&f.includePrerelease===!!h.includePrerelease)return f;f=f.version}else if(typeof f!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof f}".`);if(f.length>e)throw new TypeError(`version is longer than ${e} characters`);t("SemVer",f,h),this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease;const g=f.trim().match(h.loose?n[i.LOOSE]:n[i.FULL]);if(!g)throw new TypeError(`Invalid Version: ${f}`);if(this.raw=f,this.major=+g[1],this.minor=+g[2],this.patch=+g[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");g[4]?this.prerelease=g[4].split(".").map(p=>{if(/^[0-9]+$/.test(p)){const S=+p;if(S>=0&&S<r)return S}return p}):this.prerelease=[],this.build=g[5]?g[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(f){if(t("SemVer.compare",this.version,this.options,f),!(f instanceof c)){if(typeof f=="string"&&f===this.version)return 0;f=new c(f,this.options)}return f.version===this.version?0:this.compareMain(f)||this.comparePre(f)}compareMain(f){return f instanceof c||(f=new c(f,this.options)),l(this.major,f.major)||l(this.minor,f.minor)||l(this.patch,f.patch)}comparePre(f){if(f instanceof c||(f=new c(f,this.options)),this.prerelease.length&&!f.prerelease.length)return-1;if(!this.prerelease.length&&f.prerelease.length)return 1;if(!this.prerelease.length&&!f.prerelease.length)return 0;let h=0;do{const g=this.prerelease[h],p=f.prerelease[h];if(t("prerelease compare",h,g,p),g===void 0&&p===void 0)return 0;if(p===void 0)return 1;if(g===void 0)return-1;if(g===p)continue;return l(g,p)}while(++h)}compareBuild(f){f instanceof c||(f=new c(f,this.options));let h=0;do{const g=this.build[h],p=f.build[h];if(t("prerelease compare",h,g,p),g===void 0&&p===void 0)return 0;if(p===void 0)return 1;if(g===void 0)return-1;if(g===p)continue;return l(g,p)}while(++h)}inc(f,h,g){switch(f){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h,g);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h,g);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h,g),this.inc("pre",h,g);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h,g),this.inc("pre",h,g);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const p=Number(g)?1:0;if(!h&&g===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[p];else{let S=this.prerelease.length;for(;--S>=0;)typeof this.prerelease[S]=="number"&&(this.prerelease[S]++,S=-2);if(S===-1){if(h===this.prerelease.join(".")&&g===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(p)}}if(h){let S=[h,p];g===!1&&(S=[h]),l(this.prerelease[0],h)===0?isNaN(this.prerelease[1])&&(this.prerelease=S):this.prerelease=S}break}default:throw new Error(`invalid increment argument: ${f}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return qb=c,qb}var Wb,bT;function Ha(){if(bT)return Wb;bT=1;const t=wo();return Wb=(r,n,i)=>new t(r,i).compare(new t(n,i)),Wb}var Kb,vT;function Qg(){if(vT)return Kb;vT=1;const t=Ha();return Kb=(r,n,i)=>t(r,n,i)>=0,Kb}var bI=Qg();const Oi=Yl(bI);var Gb,ST;function up(){if(ST)return Gb;ST=1;const t=Ha();return Gb=(r,n,i)=>t(r,n,i)>0,Gb}var vI=up();const n2=Yl(vI),Jg=navigator.userAgent.toLowerCase().includes("firefox");var rr={},Ef={exports:{}},SI=Ef.exports,xT;function xI(){return xT||(xT=1,function(t,e){(function(r,n){var i="1.0.40",a="",l="?",c="function",d="undefined",f="object",h="string",g="major",p="model",S="name",b="type",v="vendor",k="version",T="architecture",A="console",w="mobile",R="tablet",O="smarttv",M="wearable",j="embedded",$=500,V="Amazon",N="Apple",W="ASUS",z="BlackBerry",I="Browser",B="Chrome",G="Edge",U="Firefox",X="Google",q="Huawei",Z="LG",F="Microsoft",D="Motorola",J="Opera",ee="Samsung",te="Sharp",ie="Sony",oe="Xiaomi",ke="Zebra",ve="Facebook",Q="Chromium OS",de="Mac OS",we=" Browser",ue=function(je,qe){var Oe={};for(var ot in je)qe[ot]&&qe[ot].length%2===0?Oe[ot]=qe[ot].concat(je[ot]):Oe[ot]=je[ot];return Oe},rt=function(je){for(var qe={},Oe=0;Oe<je.length;Oe++)qe[je[Oe].toUpperCase()]=je[Oe];return qe},ye=function(je,qe){return typeof je===h?Le(qe).indexOf(Le(je))!==-1:!1},Le=function(je){return je.toLowerCase()},ut=function(je){return typeof je===h?je.replace(/[^\d\.]/g,a).split(".")[0]:n},Be=function(je,qe){if(typeof je===h)return je=je.replace(/^\s\s*/,a),typeof qe===d?je:je.substring(0,$)},bt=function(je,qe){for(var Oe=0,ot,Se,vt,Pt,se,le;Oe<qe.length&&!se;){var st=qe[Oe],$e=qe[Oe+1];for(ot=Se=0;ot<st.length&&!se&&st[ot];)if(se=st[ot++].exec(je),se)for(vt=0;vt<$e.length;vt++)le=se[++Se],Pt=$e[vt],typeof Pt===f&&Pt.length>0?Pt.length===2?typeof Pt[1]==c?this[Pt[0]]=Pt[1].call(this,le):this[Pt[0]]=Pt[1]:Pt.length===3?typeof Pt[1]===c&&!(Pt[1].exec&&Pt[1].test)?this[Pt[0]]=le?Pt[1].call(this,le,Pt[2]):n:this[Pt[0]]=le?le.replace(Pt[1],Pt[2]):n:Pt.length===4&&(this[Pt[0]]=le?Pt[3].call(this,le.replace(Pt[1],Pt[2])):n):this[Pt]=le||n;Oe+=2}},Ot=function(je,qe){for(var Oe in qe)if(typeof qe[Oe]===f&&qe[Oe].length>0){for(var ot=0;ot<qe[Oe].length;ot++)if(ye(qe[Oe][ot],je))return Oe===l?n:Oe}else if(ye(qe[Oe],je))return Oe===l?n:Oe;return qe.hasOwnProperty("*")?qe["*"]:je},Mt={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},et={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ht={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[k,[S,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[k,[S,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[S,k],[/opios[\/ ]+([\w\.]+)/i],[k,[S,J+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[k,[S,J+" GX"]],[/\bopr\/([\w\.]+)/i],[k,[S,J]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[k,[S,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[k,[S,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[S,k],[/quark(?:pc)?\/([-\w\.]+)/i],[k,[S,"Quark"]],[/\bddg\/([\w\.]+)/i],[k,[S,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[k,[S,"UC"+I]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[k,[S,"WeChat"]],[/konqueror\/([\w\.]+)/i],[k,[S,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[k,[S,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[k,[S,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[k,[S,"Smart Lenovo "+I]],[/(avast|avg)\/([\w\.]+)/i],[[S,/(.+)/,"$1 Secure "+I],k],[/\bfocus\/([\w\.]+)/i],[k,[S,U+" Focus"]],[/\bopt\/([\w\.]+)/i],[k,[S,J+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[k,[S,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[k,[S,"Dolphin"]],[/coast\/([\w\.]+)/i],[k,[S,J+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[k,[S,"MIUI"+we]],[/fxios\/([\w\.-]+)/i],[k,[S,U]],[/\bqihoobrowser\/?([\w\.]*)/i],[k,[S,"360"]],[/\b(qq)\/([\w\.]+)/i],[[S,/(.+)/,"$1Browser"],k],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[S,/(.+)/,"$1"+we],k],[/samsungbrowser\/([\w\.]+)/i],[k,[S,ee+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[k,[S,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[S,"Sogou Mobile"],k],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[S,k],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[S],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[k,S],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[S,ve],k],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[S,k],[/\bgsa\/([\w\.]+) .*safari\//i],[k,[S,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[k,[S,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[k,[S,B+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[S,B+" WebView"],k],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[k,[S,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[S,k],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[k,[S,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[k,S],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[S,[k,Ot,Mt]],[/(webkit|khtml)\/([\w\.]+)/i],[S,k],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[S,"Netscape"],k],[/(wolvic|librewolf)\/([\w\.]+)/i],[S,k],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[k,[S,U+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[S,[k,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[S,[k,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[T,"amd64"]],[/(ia32(?=;))/i],[[T,Le]],[/((?:i[346]|x)86)[;\)]/i],[[T,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[T,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[T,"armhf"]],[/windows (ce|mobile); ppc;/i],[[T,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[T,/ower/,a,Le]],[/(sun4\w)[;\)]/i],[[T,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[T,Le]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[v,ee],[b,R]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[p,[v,ee],[b,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[v,N],[b,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[v,N],[b,R]],[/(macintosh);/i],[p,[v,N]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[v,te],[b,w]],[/(?:honor)([-\w ]+)[;\)]/i],[p,[v,"Honor"],[b,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[v,q],[b,R]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[v,q],[b,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[p,/_/g," "],[v,oe],[b,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[v,oe],[b,R]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[v,"OPPO"],[b,w]],[/\b(opd2\d{3}a?) bui/i],[p,[v,"OPPO"],[b,R]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[v,"Vivo"],[b,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[p,[v,"Realme"],[b,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[v,D],[b,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[v,D],[b,R]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[v,Z],[b,R]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[v,Z],[b,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[v,"Lenovo"],[b,R]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[v,"Nokia"],[b,w]],[/(pixel c)\b/i],[p,[v,X],[b,R]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[v,X],[b,w]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[v,ie],[b,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[v,ie],[b,R]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[v,"OnePlus"],[b,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[v,V],[b,R]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[v,V],[b,w]],[/(playbook);[-\w\),; ]+(rim)/i],[p,v,[b,R]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[v,z],[b,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[v,W],[b,R]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[v,W],[b,w]],[/(nexus 9)/i],[p,[v,"HTC"],[b,R]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[p,/_/g," "],[b,w]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[p,[v,"TCL"],[b,R]],[/(itel) ((\w+))/i],[[v,Le],p,[b,Ot,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[v,"Acer"],[b,R]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[v,"Meizu"],[b,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[p,[v,"Ulefone"],[b,w]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[p,[v,"Energizer"],[b,w]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[p,[v,"Cat"],[b,w]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[p,[v,"Smartfren"],[b,w]],[/droid.+; (a(?:015|06[35]|142p?))/i],[p,[v,"Nothing"],[b,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,p,[b,w]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,p,[b,R]],[/(surface duo)/i],[p,[v,F],[b,R]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[v,"Fairphone"],[b,w]],[/(u304aa)/i],[p,[v,"AT&T"],[b,w]],[/\bsie-(\w*)/i],[p,[v,"Siemens"],[b,w]],[/\b(rct\w+) b/i],[p,[v,"RCA"],[b,R]],[/\b(venue[\d ]{2,7}) b/i],[p,[v,"Dell"],[b,R]],[/\b(q(?:mv|ta)\w+) b/i],[p,[v,"Verizon"],[b,R]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[v,"Barnes & Noble"],[b,R]],[/\b(tm\d{3}\w+) b/i],[p,[v,"NuVision"],[b,R]],[/\b(k88) b/i],[p,[v,"ZTE"],[b,R]],[/\b(nx\d{3}j) b/i],[p,[v,"ZTE"],[b,w]],[/\b(gen\d{3}) b.+49h/i],[p,[v,"Swiss"],[b,w]],[/\b(zur\d{3}) b/i],[p,[v,"Swiss"],[b,R]],[/\b((zeki)?tb.*\b) b/i],[p,[v,"Zeki"],[b,R]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],p,[b,R]],[/\b(ns-?\w{0,9}) b/i],[p,[v,"Insignia"],[b,R]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[v,"NextBook"],[b,R]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],p,[b,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],p,[b,w]],[/\b(ph-1) /i],[p,[v,"Essential"],[b,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[v,"Envizen"],[b,R]],[/\b(trio[-\w\. ]+) b/i],[p,[v,"MachSpeed"],[b,R]],[/\btu_(1491) b/i],[p,[v,"Rotor"],[b,R]],[/(shield[\w ]+) b/i],[p,[v,"Nvidia"],[b,R]],[/(sprint) (\w+)/i],[v,p,[b,w]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[v,F],[b,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[v,ke],[b,R]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[v,ke],[b,w]],[/smart-tv.+(samsung)/i],[v,[b,O]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[v,ee],[b,O]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,Z],[b,O]],[/(apple) ?tv/i],[v,[p,N+" TV"],[b,O]],[/crkey/i],[[p,B+"cast"],[v,X],[b,O]],[/droid.+aft(\w+)( bui|\))/i],[p,[v,V],[b,O]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[v,te],[b,O]],[/(bravia[\w ]+)( bui|\))/i],[p,[v,ie],[b,O]],[/(mitv-\w{5}) bui/i],[p,[v,oe],[b,O]],[/Hbbtv.*(technisat) (.*);/i],[v,p,[b,O]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,Be],[p,Be],[b,O]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[b,O]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,p,[b,A]],[/droid.+; (shield) bui/i],[p,[v,"Nvidia"],[b,A]],[/(playstation [345portablevi]+)/i],[p,[v,ie],[b,A]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[v,F],[b,A]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[p,[v,ee],[b,M]],[/((pebble))app/i],[v,p,[b,M]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[v,N],[b,M]],[/droid.+; (glass) \d/i],[p,[v,X],[b,M]],[/droid.+; (wt63?0{2,3})\)/i],[p,[v,ke],[b,M]],[/droid.+; (glass) \d/i],[p,[v,X],[b,M]],[/(pico) (4|neo3(?: link|pro)?)/i],[v,p,[b,M]],[/; (quest( \d| pro)?)/i],[p,[v,ve],[b,M]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[b,j]],[/(aeobc)\b/i],[p,[v,V],[b,j]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[p,[b,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[b,R]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[b,R]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[b,w]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[k,[S,G+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[S,k],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[k,[S,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[S,k],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[k,S]],os:[[/microsoft (windows) (vista|xp)/i],[S,k],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[S,[k,Ot,et]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[k,Ot,et],[S,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[k,/_/g,"."],[S,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[S,de],[k,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[k,S],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[S,k],[/\(bb(10);/i],[k,[S,z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[k,[S,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[k,[S,U+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[k,[S,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[k,[S,"watchOS"]],[/crkey\/([\d\.]+)/i],[k,[S,B+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[S,Q],k],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[S,k],[/(sunos) ?([\w\.\d]*)/i],[[S,"Solaris"],k],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[S,k]]},Bt=function(je,qe){if(typeof je===f&&(qe=je,je=n),!(this instanceof Bt))return new Bt(je,qe).getResult();var Oe=typeof r!==d&&r.navigator?r.navigator:n,ot=je||(Oe&&Oe.userAgent?Oe.userAgent:a),Se=Oe&&Oe.userAgentData?Oe.userAgentData:n,vt=qe?ue(ht,qe):ht,Pt=Oe&&Oe.userAgent==ot;return this.getBrowser=function(){var se={};return se[S]=n,se[k]=n,bt.call(se,ot,vt.browser),se[g]=ut(se[k]),Pt&&Oe&&Oe.brave&&typeof Oe.brave.isBrave==c&&(se[S]="Brave"),se},this.getCPU=function(){var se={};return se[T]=n,bt.call(se,ot,vt.cpu),se},this.getDevice=function(){var se={};return se[v]=n,se[p]=n,se[b]=n,bt.call(se,ot,vt.device),Pt&&!se[b]&&Se&&Se.mobile&&(se[b]=w),Pt&&se[p]=="Macintosh"&&Oe&&typeof Oe.standalone!==d&&Oe.maxTouchPoints&&Oe.maxTouchPoints>2&&(se[p]="iPad",se[b]=R),se},this.getEngine=function(){var se={};return se[S]=n,se[k]=n,bt.call(se,ot,vt.engine),se},this.getOS=function(){var se={};return se[S]=n,se[k]=n,bt.call(se,ot,vt.os),Pt&&!se[S]&&Se&&Se.platform&&Se.platform!="Unknown"&&(se[S]=Se.platform.replace(/chrome os/i,Q).replace(/macos/i,de)),se},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ot},this.setUA=function(se){return ot=typeof se===h&&se.length>$?Be(se,$):se,this},this.setUA(ot),this};Bt.VERSION=i,Bt.BROWSER=rt([S,k,g]),Bt.CPU=rt([T]),Bt.DEVICE=rt([p,v,b,A,w,O,R,M,j]),Bt.ENGINE=Bt.OS=rt([S,k]),t.exports&&(e=t.exports=Bt),e.UAParser=Bt;var _t=typeof r!==d&&(r.jQuery||r.Zepto);if(_t&&!_t.ua){var it=new Bt;_t.ua=it.getResult(),_t.ua.get=function(){return it.getUA()},_t.ua.set=function(je){it.setUA(je);var qe=it.getResult();for(var Oe in qe)_t.ua[Oe]=qe[Oe]}}})(typeof window=="object"?window:SI)}(Ef,Ef.exports)),Ef.exports}var wT;function wI(){if(wT)return rr;wT=1,Object.defineProperty(rr,"__esModule",{value:!0});function t(Pe){return Pe&&typeof Pe=="object"&&"default"in Pe?Pe.default:Pe}var e=Gg(),r=t(e),n=xI(),i=new n,a=i.getBrowser(),l=i.getCPU(),c=i.getDevice(),d=i.getEngine(),f=i.getOS(),h=i.getUA(),g=function(ce){return i.setUA(ce)},p=function(ce){if(!ce){console.error("No userAgent string was provided");return}var ge=new n(ce);return{UA:ge,browser:ge.getBrowser(),cpu:ge.getCPU(),device:ge.getDevice(),engine:ge.getEngine(),os:ge.getOS(),ua:ge.getUA(),setUserAgent:function(Rt){return ge.setUA(Rt)}}},S=Object.freeze({ClientUAInstance:i,browser:a,cpu:l,device:c,engine:d,os:f,ua:h,setUa:g,parseUserAgent:p});function b(Pe,ce){var ge=Object.keys(Pe);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(Pe);ce&&(nt=nt.filter(function(Rt){return Object.getOwnPropertyDescriptor(Pe,Rt).enumerable})),ge.push.apply(ge,nt)}return ge}function v(Pe){for(var ce=1;ce<arguments.length;ce++){var ge=arguments[ce]!=null?arguments[ce]:{};ce%2?b(Object(ge),!0).forEach(function(nt){R(Pe,nt,ge[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pe,Object.getOwnPropertyDescriptors(ge)):b(Object(ge)).forEach(function(nt){Object.defineProperty(Pe,nt,Object.getOwnPropertyDescriptor(ge,nt))})}return Pe}function k(Pe){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?k=function(ce){return typeof ce}:k=function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},k(Pe)}function T(Pe,ce){if(!(Pe instanceof ce))throw new TypeError("Cannot call a class as a function")}function A(Pe,ce){for(var ge=0;ge<ce.length;ge++){var nt=ce[ge];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(Pe,nt.key,nt)}}function w(Pe,ce,ge){return ce&&A(Pe.prototype,ce),Pe}function R(Pe,ce,ge){return ce in Pe?Object.defineProperty(Pe,ce,{value:ge,enumerable:!0,configurable:!0,writable:!0}):Pe[ce]=ge,Pe}function O(){return O=Object.assign||function(Pe){for(var ce=1;ce<arguments.length;ce++){var ge=arguments[ce];for(var nt in ge)Object.prototype.hasOwnProperty.call(ge,nt)&&(Pe[nt]=ge[nt])}return Pe},O.apply(this,arguments)}function M(Pe,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function");Pe.prototype=Object.create(ce&&ce.prototype,{constructor:{value:Pe,writable:!0,configurable:!0}}),ce&&$(Pe,ce)}function j(Pe){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(ge){return ge.__proto__||Object.getPrototypeOf(ge)},j(Pe)}function $(Pe,ce){return $=Object.setPrototypeOf||function(nt,Rt){return nt.__proto__=Rt,nt},$(Pe,ce)}function V(Pe,ce){if(Pe==null)return{};var ge={},nt=Object.keys(Pe),Rt,Gr;for(Gr=0;Gr<nt.length;Gr++)Rt=nt[Gr],!(ce.indexOf(Rt)>=0)&&(ge[Rt]=Pe[Rt]);return ge}function N(Pe,ce){if(Pe==null)return{};var ge=V(Pe,ce),nt,Rt;if(Object.getOwnPropertySymbols){var Gr=Object.getOwnPropertySymbols(Pe);for(Rt=0;Rt<Gr.length;Rt++)nt=Gr[Rt],!(ce.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(Pe,nt)&&(ge[nt]=Pe[nt])}return ge}function W(Pe){if(Pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pe}function z(Pe,ce){if(ce&&(typeof ce=="object"||typeof ce=="function"))return ce;if(ce!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W(Pe)}function I(Pe,ce){return B(Pe)||G(Pe,ce)||U(Pe,ce)||q()}function B(Pe){if(Array.isArray(Pe))return Pe}function G(Pe,ce){var ge=Pe==null?null:typeof Symbol<"u"&&Pe[Symbol.iterator]||Pe["@@iterator"];if(ge!=null){var nt=[],Rt=!0,Gr=!1,Zr,Gn;try{for(ge=ge.call(Pe);!(Rt=(Zr=ge.next()).done)&&(nt.push(Zr.value),!(ce&&nt.length===ce));Rt=!0);}catch(Pa){Gr=!0,Gn=Pa}finally{try{!Rt&&ge.return!=null&&ge.return()}finally{if(Gr)throw Gn}}return nt}}function U(Pe,ce){if(Pe){if(typeof Pe=="string")return X(Pe,ce);var ge=Object.prototype.toString.call(Pe).slice(8,-1);if(ge==="Object"&&Pe.constructor&&(ge=Pe.constructor.name),ge==="Map"||ge==="Set")return Array.from(Pe);if(ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ge))return X(Pe,ce)}}function X(Pe,ce){(ce==null||ce>Pe.length)&&(ce=Pe.length);for(var ge=0,nt=new Array(ce);ge<ce;ge++)nt[ge]=Pe[ge];return nt}function q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Z={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},F={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},D={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},J={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},ee=function(ce){switch(ce){case Z.Mobile:return{isMobile:!0};case Z.Tablet:return{isTablet:!0};case Z.SmartTv:return{isSmartTV:!0};case Z.Console:return{isConsole:!0};case Z.Wearable:return{isWearable:!0};case Z.Browser:return{isBrowser:!0};case Z.Embedded:return{isEmbedded:!0};default:return J}},te=function(ce){return g(ce)},ie=function(ce){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return ce||ge},oe=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},ke=function(ce){var ge=oe();return ge&&ge.platform&&(ge.platform.indexOf(ce)!==-1||ge.platform==="MacIntel"&&ge.maxTouchPoints>1&&!window.MSStream)},ve=function(ce,ge,nt,Rt,Gr){return{isBrowser:ce,browserMajorVersion:ie(ge.major),browserFullVersion:ie(ge.version),browserName:ie(ge.name),engineName:ie(nt.name),engineVersion:ie(nt.version),osName:ie(Rt.name),osVersion:ie(Rt.version),userAgent:ie(Gr)}},Q=function(ce,ge,nt,Rt){return v({},ce,{vendor:ie(ge.vendor),model:ie(ge.model),os:ie(nt.name),osVersion:ie(nt.version),ua:ie(Rt)})},de=function(ce,ge,nt,Rt){return{isSmartTV:ce,engineName:ie(ge.name),engineVersion:ie(ge.version),osName:ie(nt.name),osVersion:ie(nt.version),userAgent:ie(Rt)}},we=function(ce,ge,nt,Rt){return{isConsole:ce,engineName:ie(ge.name),engineVersion:ie(ge.version),osName:ie(nt.name),osVersion:ie(nt.version),userAgent:ie(Rt)}},ue=function(ce,ge,nt,Rt){return{isWearable:ce,engineName:ie(ge.name),engineVersion:ie(ge.version),osName:ie(nt.name),osVersion:ie(nt.version),userAgent:ie(Rt)}},rt=function(ce,ge,nt,Rt,Gr){return{isEmbedded:ce,vendor:ie(ge.vendor),model:ie(ge.model),engineName:ie(nt.name),engineVersion:ie(nt.version),osName:ie(Rt.name),osVersion:ie(Rt.version),userAgent:ie(Gr)}};function ye(Pe){var ce=Pe?p(Pe):S,ge=ce.device,nt=ce.browser,Rt=ce.engine,Gr=ce.os,Zr=ce.ua,Gn=ee(ge.type),Pa=Gn.isBrowser,aa=Gn.isMobile,Qs=Gn.isTablet,Ka=Gn.isSmartTV,Js=Gn.isConsole,Ga=Gn.isWearable,Ss=Gn.isEmbedded;if(Pa)return ve(Pa,nt,Rt,Gr,Zr);if(Ka)return de(Ka,Rt,Gr,Zr);if(Js)return we(Js,Rt,Gr,Zr);if(aa||Qs)return Q(Gn,ge,Gr,Zr);if(Ga)return ue(Ga,Rt,Gr,Zr);if(Ss)return rt(Ss,ge,Rt,Gr,Zr)}var Le=function(ce){var ge=ce.type;return ge===Z.Mobile},ut=function(ce){var ge=ce.type;return ge===Z.Tablet},Be=function(ce){var ge=ce.type;return ge===Z.Mobile||ge===Z.Tablet},bt=function(ce){var ge=ce.type;return ge===Z.SmartTv},Ot=function(ce){var ge=ce.type;return ge===Z.Browser},Mt=function(ce){var ge=ce.type;return ge===Z.Wearable},et=function(ce){var ge=ce.type;return ge===Z.Console},ht=function(ce){var ge=ce.type;return ge===Z.Embedded},Bt=function(ce){var ge=ce.vendor;return ie(ge)},_t=function(ce){var ge=ce.model;return ie(ge)},it=function(ce){var ge=ce.type;return ie(ge,"browser")},je=function(ce){var ge=ce.name;return ge===D.Android},qe=function(ce){var ge=ce.name;return ge===D.Windows},Oe=function(ce){var ge=ce.name;return ge===D.MAC_OS},ot=function(ce){var ge=ce.name;return ge===D.WindowsPhone},Se=function(ce){var ge=ce.name;return ge===D.IOS},vt=function(ce){var ge=ce.version;return ie(ge)},Pt=function(ce){var ge=ce.name;return ie(ge)},se=function(ce){var ge=ce.name;return ge===F.Chrome},le=function(ce){var ge=ce.name;return ge===F.Firefox},st=function(ce){var ge=ce.name;return ge===F.Chromium},$e=function(ce){var ge=ce.name;return ge===F.Edge},Xt=function(ce){var ge=ce.name;return ge===F.Yandex},Et=function(ce){var ge=ce.name;return ge===F.Safari||ge===F.MobileSafari},yr=function(ce){var ge=ce.name;return ge===F.MobileSafari},fe=function(ce){var ge=ce.name;return ge===F.Opera},xe=function(ce){var ge=ce.name;return ge===F.InternetExplorer||ge===F.Ie},dt=function(ce){var ge=ce.name;return ge===F.MIUI},qt=function(ce){var ge=ce.name;return ge===F.SamsungBrowser},ir=function(ce){var ge=ce.version;return ie(ge)},zt=function(ce){var ge=ce.major;return ie(ge)},Jt=function(ce){var ge=ce.name;return ie(ge)},jt=function(ce){var ge=ce.name;return ie(ge)},hr=function(ce){var ge=ce.version;return ie(ge)},At=function(){var ce=oe(),ge=ce&&ce.userAgent&&ce.userAgent.toLowerCase();return typeof ge=="string"?/electron/.test(ge):!1},Tt=function(ce){return typeof ce=="string"&&ce.indexOf("Edg/")!==-1},St=function(){var ce=oe();return ce&&(/iPad|iPhone|iPod/.test(ce.platform)||ce.platform==="MacIntel"&&ce.maxTouchPoints>1)&&!window.MSStream},kt=function(){return ke("iPad")},Ut=function(){return ke("iPhone")},Ft=function(){return ke("iPod")},Nr=function(ce){return ie(ce)};function Vr(Pe){var ce=Pe||S,ge=ce.device,nt=ce.browser,Rt=ce.os,Gr=ce.engine,Zr=ce.ua;return{isSmartTV:bt(ge),isConsole:et(ge),isWearable:Mt(ge),isEmbedded:ht(ge),isMobileSafari:yr(nt)||kt(),isChromium:st(nt),isMobile:Be(ge)||kt(),isMobileOnly:Le(ge),isTablet:ut(ge)||kt(),isBrowser:Ot(ge),isDesktop:Ot(ge),isAndroid:je(Rt),isWinPhone:ot(Rt),isIOS:Se(Rt)||kt(),isChrome:se(nt),isFirefox:le(nt),isSafari:Et(nt),isOpera:fe(nt),isIE:xe(nt),osVersion:vt(Rt),osName:Pt(Rt),fullBrowserVersion:ir(nt),browserVersion:zt(nt),browserName:Jt(nt),mobileVendor:Bt(ge),mobileModel:_t(ge),engineName:jt(Gr),engineVersion:hr(Gr),getUA:Nr(Zr),isEdge:$e(nt)||Tt(Zr),isYandex:Xt(nt),deviceType:it(ge),isIOS13:St(),isIPad13:kt(),isIPhone13:Ut(),isIPod13:Ft(),isElectron:At(),isEdgeChromium:Tt(Zr),isLegacyEdge:$e(nt)&&!Tt(Zr),isWindows:qe(Rt),isMacOs:Oe(Rt),isMIUI:dt(nt),isSamsungBrowser:qt(nt)}}var $r=bt(c),wr=et(c),Pr=Mt(c),Hr=ht(c),Kr=yr(a)||kt(),Ue=st(a),We=Be(c)||kt(),Ct=Le(c),cr=ut(c)||kt(),dr=Ot(c),Tr=Ot(c),Lr=je(f),br=ot(f),bn=Se(f)||kt(),Sn=se(a),xr=le(a),mr=Et(a),ei=fe(a),ar=xe(a),an=vt(f),Ir=Pt(f),gn=ir(a),lt=zt(a),Er=Jt(a),Wt=Bt(c),Ke=_t(c),mt=jt(d),$t=hr(d),Yt=Nr(h),Ar=$e(a)||Tt(h),Dr=Xt(a),en=it(c),ji=St(),xn=kt(),po=Ut(),ko=Ft(),ho=At(),Ni=Tt(h),ii=$e(a)&&!Tt(h),Ra=qe(f),Co=Oe(f),tn=dt(a),oa=qt(a),Io=function(ce){if(!ce||typeof ce!="string"){console.error("No valid user agent string was provided");return}var ge=p(ce),nt=ge.device,Rt=ge.browser,Gr=ge.os,Zr=ge.engine,Gn=ge.ua;return Vr({device:nt,browser:Rt,os:Gr,engine:Zr,ua:Gn})},Oa=function(ce){var ge=ce.renderWithFragment,nt=ce.children,Rt=N(ce,["renderWithFragment","children"]);return Lr?ge?r.createElement(e.Fragment,null,nt):r.createElement("div",Rt,nt):null},Kn=function(ce){var ge=ce.renderWithFragment,nt=ce.children,Rt=N(ce,["renderWithFragment","children"]);return dr?ge?r.createElement(e.Fragment,null,nt):r.createElement("div",Rt,nt):null},Vi=function(ce){var ge=ce.renderWithFragment,nt=ce.children,Rt=N(ce,["renderWithFragment","children"]);return ar?ge?r.createElement(e.Fragment,null,nt):r.createElement("div",Rt,nt):null},to=function(ce){var ge=ce.renderWithFragment,nt=ce.children,Rt=N(ce,["renderWithFragment","children"]);return bn?ge?r.createElement(e.Fragment,null,nt):r.createElement("div",Rt,nt):null},Ve=function(ce){var ge=ce.renderWithFragment,nt=ce.children,Rt=N(ce,["renderWithFragment","children"]);return We?ge?r.createElement(e.Fragment,null,nt):r.createElement("div",Rt,nt):null},Ht=function(ce){var ge=ce.renderWithFragment,nt=ce.children,Rt=N(ce,["renderWithFragment","children"]);return cr?ge?r.createElement(e.Fragment,null,nt):r.createElement("div",Rt,nt):null},sr=function(ce){var ge=ce.renderWithFragment,nt=ce.children,Rt=N(ce,["renderWithFragment","children"]);return br?ge?r.createElement(e.Fragment,null,nt):r.createElement("div",Rt,nt):null},Gt=function(ce){var ge=ce.renderWithFragment,nt=ce.children;ce.viewClassName,ce.style;var Rt=N(ce,["renderWithFragment","children","viewClassName","style"]);return Ct?ge?r.createElement(e.Fragment,null,nt):r.createElement("div",Rt,nt):null},_r=function(ce){var ge=ce.renderWithFragment,nt=ce.children,Rt=N(ce,["renderWithFragment","children"]);return $r?ge?r.createElement(e.Fragment,null,nt):r.createElement("div",Rt,nt):null},rn=function(ce){var ge=ce.renderWithFragment,nt=ce.children,Rt=N(ce,["renderWithFragment","children"]);return wr?ge?r.createElement(e.Fragment,null,nt):r.createElement("div",Rt,nt):null},he=function(ce){var ge=ce.renderWithFragment,nt=ce.children,Rt=N(ce,["renderWithFragment","children"]);return Pr?ge?r.createElement(e.Fragment,null,nt):r.createElement("div",Rt,nt):null},Je=function(ce){var ge=ce.renderWithFragment,nt=ce.children;ce.viewClassName,ce.style;var Rt=ce.condition,Gr=N(ce,["renderWithFragment","children","viewClassName","style","condition"]);return Rt?ge?r.createElement(e.Fragment,null,nt):r.createElement("div",Gr,nt):null};function at(Pe){return function(ce){M(ge,ce);function ge(nt){var Rt;return T(this,ge),Rt=z(this,j(ge).call(this,nt)),Rt.isEventListenerAdded=!1,Rt.handleOrientationChange=Rt.handleOrientationChange.bind(W(Rt)),Rt.onOrientationChange=Rt.onOrientationChange.bind(W(Rt)),Rt.onPageLoad=Rt.onPageLoad.bind(W(Rt)),Rt.state={isLandscape:!1,isPortrait:!1},Rt}return w(ge,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var Rt=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:Rt===0,isLandscape:Rt===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":k(window))!==void 0&&We&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return r.createElement(Pe,O({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),ge}(r.Component)}function gr(){var Pe=e.useState(function(){var Gr=window.innerWidth>window.innerHeight?90:0;return{isPortrait:Gr===0,isLandscape:Gr===90,orientation:Gr===0?"portrait":"landscape"}}),ce=I(Pe,2),ge=ce[0],nt=ce[1],Rt=e.useCallback(function(){var Gr=window.innerWidth>window.innerHeight?90:0,Zr={isPortrait:Gr===0,isLandscape:Gr===90,orientation:Gr===0?"portrait":"landscape"};ge.orientation!==Zr.orientation&&nt(Zr)},[ge.orientation]);return e.useEffect(function(){return(typeof window>"u"?"undefined":k(window))!==void 0&&We&&(Rt(),window.addEventListener("load",Rt,!1),window.addEventListener("resize",Rt,!1)),function(){window.removeEventListener("resize",Rt,!1),window.removeEventListener("load",Rt,!1)}},[Rt]),ge}function fr(Pe){var ce=Pe||window.navigator.userAgent;return p(ce)}function sn(Pe){var ce=Pe||window.navigator.userAgent,ge=fr(ce),nt=Vr(ge);return[nt,ge]}return rr.AndroidView=Oa,rr.BrowserTypes=F,rr.BrowserView=Kn,rr.ConsoleView=rn,rr.CustomView=Je,rr.IEView=Vi,rr.IOSView=to,rr.MobileOnlyView=Gt,rr.MobileView=Ve,rr.OsTypes=D,rr.SmartTVView=_r,rr.TabletView=Ht,rr.WearableView=he,rr.WinPhoneView=sr,rr.browserName=Er,rr.browserVersion=lt,rr.deviceDetect=ye,rr.deviceType=en,rr.engineName=mt,rr.engineVersion=$t,rr.fullBrowserVersion=gn,rr.getSelectorsByUserAgent=Io,rr.getUA=Yt,rr.isAndroid=Lr,rr.isBrowser=dr,rr.isChrome=Sn,rr.isChromium=Ue,rr.isConsole=wr,rr.isDesktop=Tr,rr.isEdge=Ar,rr.isEdgeChromium=Ni,rr.isElectron=ho,rr.isEmbedded=Hr,rr.isFirefox=xr,rr.isIE=ar,rr.isIOS=bn,rr.isIOS13=ji,rr.isIPad13=xn,rr.isIPhone13=po,rr.isIPod13=ko,rr.isLegacyEdge=ii,rr.isMIUI=tn,rr.isMacOs=Co,rr.isMobile=We,rr.isMobileOnly=Ct,rr.isMobileSafari=Kr,rr.isOpera=ei,rr.isSafari=mr,rr.isSamsungBrowser=oa,rr.isSmartTV=$r,rr.isTablet=cr,rr.isWearable=Pr,rr.isWinPhone=br,rr.isWindows=Ra,rr.isYandex=Dr,rr.mobileModel=Ke,rr.mobileVendor=Wt,rr.osName=Ir,rr.osVersion=an,rr.parseUserAgent=p,rr.setUserAgent=te,rr.useDeviceData=fr,rr.useDeviceSelectors=sn,rr.useMobileOrientation=gr,rr.withOrientationChange=at,rr}var Qi=wI();const cf=En();class i2{version;extensionCommands;pageConfig;tabs;asbplayers;installed;sidePanel;videoPlayer;syncedVideoElement;loadedSubtitles=!1;windowEventListener;_responseResolves={};onMessageCallbacks;onTabsCallbacks;heartbeatInterval;constructor(e,r,n){this.onMessageCallbacks=[],this.onTabsCallbacks=[],this.installed=e!==void 0,this.version=e??"",this.extensionCommands=r??{},this.pageConfig=n,this.sidePanel=!1,this.windowEventListener=i=>{if(i.source===window&&!(i.data.sender!=="asbplayer-extension-to-player"||!i.data.message)&&!(i.data.asbplayerId&&i.data.asbplayerId!==cf)){if(typeof i.data.message.messageId=="string"){const a=i.data.message.messageId;a in this._responseResolves&&(this._responseResolves[a]?.(i.data.message.response),delete this._responseResolves[a])}if(i.data.message.command==="tabs"){const a=i.data;this.tabs=a.message.tabs,this.asbplayers=a.message.asbplayers;for(let l of this.onTabsCallbacks)l(this.tabs);a.message.ackRequested&&window.postMessage({sender:"asbplayerv2",message:{command:"ackTabs",id:cf,receivedTabs:this.tabs,sidePanel:this.sidePanel}})}else{const a=i.data;for(let l of this.onMessageCallbacks)l({data:a.message,tabId:a.tabId,src:a.src})}}},window.addEventListener("message",this.windowEventListener)}get supportsDictionary(){return this.installed&&Oi(this.version,"1.14.0")}get supportsPageSettings(){return this.installed&&Oi(this.version,"1.12.0")}get supportsExportCardBind(){return this.installed&&Oi(this.version,"1.10.0")}get supportsGlobalState(){return this.installed&&Oi(this.version,"1.9.0")}get supportsLastSelectedAnkiExportModeSetting(){return this.installed&&Oi(this.version,"1.9.0")}get supportsCopyHistoryRequest(){return this.installed&&Oi(this.version,"1.7.0")}get supportsLandingPageStreamingVideoElementSelector(){return this.installed&&Oi(this.version,"1.6.0")}get supportsPauseOnHover(){return this.installed&&Oi(this.version,"1.4.0")}get supportsSubtitlesWidthSetting(){return this.installed&&Oi(this.version,"1.4.0")}get supportsOrderableAnkiFields(){return this.installed&&Oi(this.version,"1.3.0")}get supportsTrackSpecificSettings(){return this.installed&&Oi(this.version,"1.3.0")}get supportsSettingsProfiles(){return this.installed&&Oi(this.version,"1.3.0")}get supportsStreamingVideoOverlay(){return this.installed&&Oi(this.version,"1.1.0")}get supportsSidePanel(){return this.installed&&!Jg&&!Qi.isMobile&&Oi(this.version,"1.0.0")}get supportsAppIntegration(){return this.installed&&Oi(this.version,"1.0.0")}get supportsWebSocketClient(){return this.installed&&Oi(this.version,"1.1.0")}get supportsVideoPlayerMiningCommands(){return this.installed&&Oi(this.version,"1.0.0")}get supportsPlaybackRateMessage(){return this.installed&&Oi(this.version,"0.24.0")}get supportsOffsetMessage(){return this.installed&&Oi(this.version,"0.23.0")}startHeartbeat(){this.installed&&(this.heartbeatInterval!==void 0&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=void 0),this.videoPlayer?n2(this.version,"0.23.0")&&(this._sendHeartbeat(!0,this.loadedSubtitles,void 0),this.heartbeatInterval=setInterval(()=>this._sendHeartbeat(!0,this.loadedSubtitles,this.syncedVideoElement),1e3)):(this._sendHeartbeat(!1,this.loadedSubtitles,this.syncedVideoElement),this.heartbeatInterval=setInterval(()=>this._sendHeartbeat(!1,this.loadedSubtitles,this.syncedVideoElement),1e3)))}_sendHeartbeat(e,r,n){const i={command:"heartbeat",id:cf,receivedTabs:e?[]:this.tabs,videoPlayer:e,sidePanel:this.sidePanel,loadedSubtitles:r,syncedVideoElement:n};window.postMessage({sender:"asbplayerv2",message:i})}openShortcuts(){window.postMessage({sender:"asbplayerv2",message:{command:"open-extension-shortcuts"}})}sendMessageToVideoElement(e,r,n,i){let a;if(i===void 0)a={sender:"asbplayerv2",message:e,tabId:r,src:n},window.postMessage(a);else{const l=En();a={sender:"asbplayerv2",message:{...e,messageId:l},tabId:r,src:n},window.postMessage(a),this._createResponsePromise(l).then(i)}}notifySettingsUpdated(){const e={sender:"asbplayerv2",message:{command:"settings-updated"},asbplayerId:cf};window.postMessage(e)}toggleSidePanel(){const e={sender:"asbplayerv2",message:{command:"toggle-side-panel"}};window.postMessage(e)}publishCard(e){const r={sender:"asbplayerv2",message:{command:"publish-card",...e}};window.postMessage(r)}cardUpdatedDialog(e,r){const n={sender:"asbplayerv2",tabId:e,src:r,message:{command:"card-updated-dialog"}};window.postMessage(n)}cardExportedDialog(e,r){const n={sender:"asbplayerv2",tabId:e,src:r,message:{command:"card-exported-dialog"}};window.postMessage(n)}requestSubtitles(e,r){const n=En(),i={sender:"asbplayerv2",tabId:e,src:r,message:{command:"request-subtitles",messageId:n}};return window.postMessage(i),this._createResponsePromise(n)}saveTokenLocal(e,r,n,i,a,l,c){const d=En(),f={sender:"asbplayerv2",tabId:e,src:r,message:{command:"save-token-local",track:n,token:i,status:a,states:l,applyStates:c,messageId:d}};return window.postMessage(f),this._createResponsePromise(d)}requestCopyHistory(e){const r=En(),n={sender:"asbplayerv2",message:{command:"request-copy-history",count:e,messageId:r}};return window.postMessage(n),this._createResponsePromise(r)}deleteCopyHistory(e){const r=En(),n={sender:"asbplayerv2",message:{command:"delete-copy-history",ids:[e],messageId:r}};return window.postMessage(n),this._createResponsePromise(r)}saveCopyHistory(e){const r=En(),n={sender:"asbplayerv2",message:{command:"save-copy-history",copyHistoryItems:[e],messageId:r}};return window.postMessage(n),this._createResponsePromise(r)}clearCopyHistory(){const e=En(),r={sender:"asbplayerv2",message:{command:"clear-copy-history",messageId:e}};return window.postMessage(r),this._createResponsePromise(e)}loadSubtitles(e,r){const n={sender:"asbplayerv2",tabId:e,src:r,message:{command:"load-subtitles",fromAsbplayerId:cf}};window.postMessage(n)}getSettings(e){const r=En(),n={sender:"asbplayerv2",message:{command:"get-settings",keysAndDefaults:e,messageId:r}};return window.postMessage(n),this._createResponsePromise(r)}setSettings(e){const r=En(),n={sender:"asbplayerv2",message:{command:"set-settings",settings:e,messageId:r}};return window.postMessage(n),this._createResponsePromise(r).then(()=>this.notifySettingsUpdated())}getGlobalState(){const e=En(),r={sender:"asbplayerv2",message:{command:"get-global-state",messageId:e}};return window.postMessage(r),this._createResponsePromise(e)}getSomeGlobalState(e){const r=En(),n={sender:"asbplayerv2",message:{command:"get-global-state",keys:e,messageId:r}};return window.postMessage(n),this._createResponsePromise(r)}setGlobalState(e){const r=En(),n={sender:"asbplayerv2",message:{command:"set-global-state",state:e,messageId:r}};return window.postMessage(n),this._createResponsePromise(r)}activeSettingsProfile(){const e=En(),r={sender:"asbplayerv2",message:{command:"get-active-profile",messageId:e}};return window.postMessage(r),this._createResponsePromise(e)}setActiveSettingsProfile(e){const r=En(),n={sender:"asbplayerv2",message:{command:"set-active-profile",name:e,messageId:r}};return window.postMessage(n),this._createResponsePromise(r).then(()=>this.notifySettingsUpdated())}settingsProfiles(){const e=En(),r={sender:"asbplayerv2",message:{command:"get-profiles",messageId:e}};return window.postMessage(r),this._createResponsePromise(e)}addSettingsProfile(e){const r=En(),n={sender:"asbplayerv2",message:{command:"add-profile",name:e,messageId:r}};return window.postMessage(n),this._createResponsePromise(r)}removeSettingsProfile(e){const r=En(),n={sender:"asbplayerv2",message:{command:"remove-profile",name:e,messageId:r}};return window.postMessage(n),this._createResponsePromise(r)}async dictionaryGetBulk(e,r,n){const i=En(),a={sender:"asbplayerv2",message:{command:"dictionary-get-bulk",profile:e,track:r,tokens:n,messageId:i}};return window.postMessage(a),await this._createResponsePromise(i)}async dictionaryGetByLemmaBulk(e,r,n){const i=En(),a={sender:"asbplayerv2",message:{command:"dictionary-get-by-lemma-bulk",profile:e,track:r,lemmas:n,messageId:i}};return window.postMessage(a),await this._createResponsePromise(i)}async dictionarySaveRecordLocalBulk(e,r,n){const i=En(),a={sender:"asbplayerv2",message:{command:"dictionary-save-record-local-bulk",profile:e,localTokenInputs:r,applyStates:n,messageId:i}};return window.postMessage(a),await this._createResponsePromise(i)}async dictionaryDeleteRecordLocalBulk(e,r){const n=En(),i={sender:"asbplayerv2",message:{command:"dictionary-delete-record-local-bulk",profile:e,tokens:r,messageId:n}};return window.postMessage(i),await this._createResponsePromise(n)}async dictionaryDeleteProfile(e){const r=En(),n={sender:"asbplayerv2",message:{command:"dictionary-delete-profile",profile:e,messageId:r}};return window.postMessage(n),await this._createResponsePromise(r)}async dictionaryExportRecordLocalBulk(){const e=En(),r={sender:"asbplayerv2",message:{command:"dictionary-export-record-local-bulk",messageId:e}};return window.postMessage(r),await this._createResponsePromise(e)}async dictionaryImportRecordLocalBulk(e,r){const n=En(),i={sender:"asbplayerv2",message:{command:"dictionary-import-record-local-bulk",records:e,profiles:r,messageId:n}};return window.postMessage(i),await this._createResponsePromise(n)}buildAnkiCache(e,r){const n=En(),i={sender:"asbplayerv2",message:{command:"dictionary-build-anki-cache",messageId:n,profile:e,settings:r}};return window.postMessage(i),this._createResponsePromise(n,6e4)}_createResponsePromise(e,r=5e3){return new Promise((n,i)=>{this._responseResolves[e]=n,setTimeout(()=>{e in this._responseResolves&&(delete this._responseResolves[e],i("Request timed out"))},r)})}subscribeTabs(e){return this.tabs!==void 0&&e(this.tabs),this.onTabsCallbacks.push(e),()=>this._remove(e,this.onTabsCallbacks)}subscribe(e){return this.onMessageCallbacks.push(e),()=>this._remove(e,this.onMessageCallbacks)}_remove(e,r){for(let n=r.length-1;n>=0;--n)if(e===r[n]){r.splice(n,1);break}}unbind(){window.removeEventListener("message",this.windowEventListener),this.onMessageCallbacks=[],this.onTabsCallbacks=[]}}class Fx{_cache={};get(e){let r=this._cache[e];if(r===void 0){const n=localStorage.getItem(e);return this._cache[e]=n,n}return r}set(e,r){localStorage.setItem(e,r),this._cache[e]=r}delete(e){delete this._cache[e],localStorage.removeItem(e)}bustCache(){this._cache={}}}const kT="volume",CT="theaterMode",TT="offset",ET="displaySubtitles",AT="hideSubtitleList",kI=100;class CI{_settings;_storage=new Fx;_extension;constructor(e,r){this._settings=e,this._extension=r}get hideSubtitleList(){return this._storage.get(AT)==="true"}set hideSubtitleList(e){this._storage.set(AT,String(e))}get volume(){const e=this._storage.get(kT);return e===null?kI:Number(e)}set volume(e){this._storage.set(kT,String(e))}get theaterMode(){return this._storage.get(CT)==="true"||!1}set theaterMode(e){this._storage.set(CT,String(e))}get offset(){if(!this._settings.rememberSubtitleOffset)return 0;if(this._extension.supportsAppIntegration)return this._settings.lastSubtitleOffset;const e=this._storage.get(TT);return e===null?0:Number(e)}set offset(e){this._extension.supportsAppIntegration?this._extension.setSettings({lastSubtitleOffset:e}):this._storage.set(TT,String(e))}get displaySubtitles(){const e=this._storage.get(ET);return e===null?!0:e==="true"}set displaySubtitles(e){this._storage.set(ET,String(e))}}var ya=(t=>(t[t.disabled=0]="disabled",t[t.inAndOut=1]="inAndOut",t[t.inNotOut=2]="inNotOut",t))(ya||{}),pn=(t=>(t[t.LOCAL=0]="LOCAL",t[t.ANKI_WORD=1]="ANKI_WORD",t[t.ANKI_SENTENCE=2]="ANKI_SENTENCE",t))(pn||{}),Un=(t=>(t.ANY_FORM_COLLECTED="ANY_FORM_COLLECTED",t.LEMMA_OR_EXACT_FORM_COLLECTED="LEMMA_OR_EXACT_FORM_COLLECTED",t.LEMMA_FORM_COLLECTED="LEMMA_FORM_COLLECTED",t.EXACT_FORM_COLLECTED="EXACT_FORM_COLLECTED",t))(Un||{}),Ro=(t=>(t.EXACT="EXACT",t.LEMMA="LEMMA",t.BEST_KNOWN="BEST_KNOWN",t.LEAST_KNOWN="LEAST_KNOWN",t))(Ro||{}),mi=(t=>(t.TEXT="TEXT",t.BACKGROUND="BACKGROUND",t.UNDERLINE="UNDERLINE",t.OVERLINE="OVERLINE",t.OUTLINE="OUTLINE",t))(mi||{}),Wn=(t=>(t[t.UNCOLLECTED=0]="UNCOLLECTED",t[t.UNKNOWN=1]="UNKNOWN",t[t.LEARNING=2]="LEARNING",t[t.GRADUATED=3]="GRADUATED",t[t.YOUNG=4]="YOUNG",t[t.MATURE=5]="MATURE",t))(Wn||{});function Zu(){return 5}var zl=(t=>(t[t.IGNORED=0]="IGNORED",t))(zl||{}),us=(t=>(t.ADD="ADD",t.REMOVE="REMOVE",t.REPLACE="REPLACE",t.TOGGLE="TOGGLE",t))(us||{}),vo=(t=>(t.ALWAYS="ALWAYS",t.LEARNING_OR_BELOW="LEARNING_OR_BELOW",t.UNKNOWN_OR_BELOW="UNKNOWN_OR_BELOW",t.NEVER="NEVER",t))(vo||{});function xu(t){return t.dictionaryColorizeSubtitles||t.dictionaryTokenReadingAnnotation!=="NEVER"||t.dictionaryDisplayIgnoredTokenReadings}function Rg(t){return t.dictionaryColorizeSubtitles||t.dictionaryTokenReadingAnnotation==="LEARNING_OR_BELOW"||t.dictionaryTokenReadingAnnotation==="UNKNOWN_OR_BELOW"}const o2={dictionaryColorizeSubtitles:(t,e)=>t===e,dictionaryColorizeOnHoverOnly:(t,e)=>t===e,dictionaryHighlightOnHover:(t,e)=>t===e,dictionaryTokenMatchStrategy:(t,e)=>t===e,dictionaryTokenMatchStrategyPriority:(t,e)=>t===e,dictionaryYomitanUrl:(t,e)=>t===e,dictionaryYomitanScanLength:(t,e)=>t===e,dictionaryTokenReadingAnnotation:(t,e)=>t===e,dictionaryDisplayIgnoredTokenReadings:(t,e)=>t===e,dictionaryAnkiDecks:(t,e)=>Fa(t,e),dictionaryAnkiWordFields:(t,e)=>Fa(t,e),dictionaryAnkiSentenceFields:(t,e)=>Fa(t,e),dictionaryAnkiSentenceTokenMatchStrategy:(t,e)=>t===e,dictionaryAnkiMatureCutoff:(t,e)=>t===e,dictionaryAnkiTreatSuspended:(t,e)=>t===e,dictionaryTokenStyling:(t,e)=>t===e,dictionaryTokenStylingThickness:(t,e)=>t===e,dictionaryColorizeFullyKnownTokens:(t,e)=>t===e,dictionaryTokenStatusColors:(t,e)=>Fa(t,e)};function a2(t,e,r){return o2[t](e[t],r[t])}function TI(t,e){if(t===e)return!0;for(const r in o2)if(!a2(r,t,e))return!1;return!0}const EI={subtitleColor:!0,subtitleSize:!0,subtitleThickness:!0,subtitleOutlineThickness:!0,subtitleOutlineColor:!0,subtitleShadowThickness:!0,subtitleShadowColor:!0,subtitleBackgroundOpacity:!0,subtitleBackgroundColor:!0,subtitleFontFamily:!0,subtitleCustomStyles:!0,subtitleBlur:!0,subtitleAlignment:!0},RT=Object.keys(EI);var Du=(t=>(t.noSubtitleList="noSubtitleList",t.app="app",t))(Du||{});const AI={"copy-subtitle":"copySubtitle","copy-subtitle-with-dialog":"ankiExport","update-last-card":"updateLastCard","export-card":"exportCard","take-screenshot":"takeScreenshot","toggle-recording":"toggleRecording","toggle-video-select":"selectSubtitleTrack"};function RI(t){const e={};for(const r of Object.keys(t))e[AI[r]]=t[r];return e}const oo=(navigator.userAgentData?.platform??navigator.platform)?.toUpperCase()?.indexOf("MAC")>-1,OI={subtitleSize:36,subtitleColor:"#ffffff",subtitleThickness:700,subtitleOutlineThickness:0,subtitleOutlineColor:"#000000",subtitleShadowThickness:3,subtitleShadowColor:"#000000",subtitleBackgroundColor:"#000000",subtitleBackgroundOpacity:0,subtitleFontFamily:"",subtitlePreview:"Aa",subtitleCustomStyles:[],subtitleBlur:!1},pg={dictionaryColorizeSubtitles:!1,dictionaryColorizeOnHoverOnly:!1,dictionaryHighlightOnHover:!0,dictionaryTokenMatchStrategy:Un.ANY_FORM_COLLECTED,dictionaryTokenMatchStrategyPriority:Ro.EXACT,dictionaryYomitanUrl:"http://127.0.0.1:19633",dictionaryYomitanScanLength:16,dictionaryTokenReadingAnnotation:vo.NEVER,dictionaryDisplayIgnoredTokenReadings:!1,dictionaryAnkiDecks:[],dictionaryAnkiWordFields:[],dictionaryAnkiSentenceFields:[],dictionaryAnkiSentenceTokenMatchStrategy:Un.EXACT_FORM_COLLECTED,dictionaryAnkiMatureCutoff:21,dictionaryAnkiTreatSuspended:"NORMAL",dictionaryTokenStyling:mi.UNDERLINE,dictionaryTokenStylingThickness:3,dictionaryColorizeFullyKnownTokens:!1,dictionaryTokenStatusColors:["#FF0000","#FFA500","#FFFF00","#00FF00","#0000FF","#FFFFFF"]},lo={ankiConnectUrl:"http://127.0.0.1:8765",deck:"",noteType:"",sentenceField:"",definitionField:"",audioField:"",imageField:"",wordField:"",sourceField:"",urlField:"",track1Field:"",track2Field:"",track3Field:"",ankiFieldSettings:{sentence:{order:1,display:!0},definition:{order:2,display:!0},word:{order:3,display:!0},audio:{order:4,display:!0},image:{order:5,display:!0},source:{order:6,display:!0},url:{order:7,display:!0},track1:{order:8,display:!1},track2:{order:9,display:!1},track3:{order:10,display:!1}},customAnkiFieldSettings:{},...OI,subtitlePositionOffset:75,topSubtitlePositionOffset:75,subtitleAlignment:"bottom",subtitleTracksV2:[],subtitlesWidth:-1,audioPaddingStart:0,audioPaddingEnd:500,maxImageWidth:0,maxImageHeight:0,surroundingSubtitlesCountRadius:2,surroundingSubtitlesTimeRadius:1e4,autoPausePreference:va.atEnd,subtitleHtml:zs.remove,seekDuration:3,speedChangeStep:.1,fastForwardModePlaybackRate:2.7,keyBindSet:{togglePlay:{keys:"space"},toggleAutoPause:{keys:oo?"+P":"shift+P"},toggleCondensedPlayback:{keys:oo?"+O":"shift+O"},toggleFastForwardPlayback:{keys:oo?"+F":"shift+F"},toggleSubtitles:{keys:"down"},toggleVideoSubtitleTrack1:{keys:"1"},toggleVideoSubtitleTrack2:{keys:"2"},toggleVideoSubtitleTrack3:{keys:"3"},toggleAsbplayerSubtitleTrack1:{keys:"W+1"},toggleAsbplayerSubtitleTrack2:{keys:"W+2"},toggleAsbplayerSubtitleTrack3:{keys:"W+3"},unblurAsbplayerTrack1:{keys:"B+1"},unblurAsbplayerTrack2:{keys:"B+2"},unblurAsbplayerTrack3:{keys:"B+3"},seekBackward:{keys:"A"},seekForward:{keys:"D"},seekToPreviousSubtitle:{keys:"left"},seekToNextSubtitle:{keys:"right"},seekToBeginningOfCurrentSubtitle:{keys:"up"},adjustOffsetToPreviousSubtitle:{keys:oo?"+left":"ctrl+left"},adjustOffsetToNextSubtitle:{keys:oo?"+right":"ctrl+right"},decreaseOffset:{keys:oo?"++right":"ctrl+shift+right"},increaseOffset:{keys:oo?"++left":"ctrl+shift+left"},resetOffset:{keys:oo?"++down":"ctrl+shift+down"},copySubtitle:{keys:oo?"++Z":"ctrl+shift+Z"},ankiExport:{keys:oo?"++X":"ctrl+shift+X"},updateLastCard:{keys:oo?"++U":"ctrl+shift+U"},exportCard:{keys:""},takeScreenshot:{keys:oo?"++V":"ctrl+shift+V"},toggleRecording:{keys:oo?"++R":"ctrl+shift+R"},decreasePlaybackRate:{keys:oo?"++[":"ctrl+shift+["},increasePlaybackRate:{keys:oo?"++]":"ctrl+shift+]"},toggleSidePanel:{keys:"`"},toggleRepeat:{keys:oo?"+R":"shift+R"},moveBottomSubtitlesUp:{keys:""},moveBottomSubtitlesDown:{keys:""},moveTopSubtitlesUp:{keys:""},moveTopSubtitlesDown:{keys:""},markHoveredToken5:{keys:"Q+5"},markHoveredToken4:{keys:"Q+4"},markHoveredToken3:{keys:"Q+3"},markHoveredToken2:{keys:"Q+2"},markHoveredToken1:{keys:"Q+1"},markHoveredToken0:{keys:"Q+0"},toggleHoveredTokenIgnored:{keys:"Q+I"}},recordWithAudioPlayback:!0,preferMp3:!0,tabName:"asbplayer",miningHistoryStorageLimit:25,clickToMineDefaultAction:qr.showAnkiDialog,postMiningPlaybackState:Zi.remember,themeType:"dark",copyToClipboardOnMine:!1,rememberSubtitleOffset:!0,lastSubtitleOffset:0,autoCopyCurrentSubtitle:!1,alwaysPlayOnSubtitleRepeat:!0,subtitleRegexFilter:"",subtitleRegexFilterTextReplacement:"",convertNetflixRuby:!1,language:"en",customAnkiFields:{},tags:[],imageBasedSubtitleScaleFactor:1,streamingAppUrl:"https://app.asbplayer.dev",streamingDisplaySubtitles:!0,streamingRecordMedia:!0,streamingTakeScreenshot:!0,streamingCleanScreenshot:!0,streamingCropScreenshot:!0,streamingSubsDragAndDrop:!0,streamingAutoSync:!1,streamingAutoSyncPromptOnFailure:!1,streamingLastLanguagesSynced:{},streamingCondensedPlaybackMinimumSkipIntervalMs:1e3,streamingScreenshotDelay:1e3,streamingSubtitleListPreference:Du.noSubtitleList,streamingEnableOverlay:!0,streamingPages:{netflix:{},youtube:{},tver:{},bandaiChannel:{},amazonPrime:{},hulu:{},disneyPlus:{},appsDisneyPlus:{},unext:{},viki:{},embyJellyfin:{},twitch:{},osnPlus:{},bilibili:{},nrktv:{},plex:{},yleAreena:{},hboMax:{},stremio:{},cijapanese:{},iwanttfc:{}},webSocketClientEnabled:!1,webSocketServerUrl:"ws://127.0.0.1:8766/ws",pauseOnHoverMode:0,lastSelectedAnkiExportMode:"default",dictionaryTracks:[pg,pg,pg]},$S=lo.dictionaryTracks.length,Cc=pg.dictionaryTokenStatusColors.length,OT=(t,e)=>Object.entries(t).map(([r,n])=>({key:r,field:n,custom:e})),PI=t=>t.sort((e,r)=>{const n=e.field,i=r.field;return n.order<i.order?-1:n.order>i.order?1:0}),s2=t=>{let e=Math.max(...Object.values({...t.ankiFieldSettings,...t.customAnkiFieldSettings}).map(r=>r.order));return PI([...OT(t.ankiFieldSettings,!1),...OT(Object.fromEntries(Object.keys(t.customAnkiFields).map(r=>[r,t.customAnkiFieldSettings[r]??{order:++e,display:!0}])),!0)])},_I=t=>{const e=[];for(let r=0;r<=t.subtitleTracksV2.length;++r)e.push(hs(t,r));return e},hs=(t,e)=>{if(e===void 0){const r=i=>{const a=t[i];for(const l of t.subtitleTracksV2)if(!Qu(l[i],a))return!1;return!0};let n={};for(const i of RT)r(i)?n[i]=t[i]:n[i]=void 0;return n}return e===0||e>t.subtitleTracksV2.length?Object.fromEntries(RT.map(r=>[r,t[r]])):t.subtitleTracksV2[e-1]},Og=(t,e,r)=>{if(r===void 0){const l=[];for(let c=0;c<e.subtitleTracksV2.length;++c)l.push({...e.subtitleTracksV2[c],...t});return{...t,subtitleTracksV2:l}}if(r===0)return{...t};const n=[...e.subtitleTracksV2],i=hs(e,0);for(;n.length<r;)n.push(i);n[r-1]={...n[r-1],...t};let a=0;for(let l=n.length-1;l>=0&&Qu(i,n[l]);--l)++a;return a>0&&n.splice(n.length-a),{subtitleTracksV2:n}},MI=(t,e)=>e!==0&&!Qu(hs(t,0),hs(t,e)),PT=Object.fromEntries(Object.entries(lo).map(([t,e])=>{if(typeof e=="string")return[t,r=>r];if(typeof e=="boolean")return[t,r=>r==="true"];if(typeof e=="number")return[t,r=>Number(r)];if(typeof e=="object")return[t,r=>JSON.parse(r)];throw new Error("Could not determine deserializer for setting")})),Qu=(t,e)=>{if(typeof t!=typeof e)return!1;if(typeof t!="object")return t===e;const r=Object.keys(t),n=Object.keys(e);if(t.length!==e.length)return!1;for(const i of r)if(!Qu(t[i],e[i]))return!1;for(const i of n)if(!Qu(t[i],e[i]))return!1;return!0},l2=t=>{let e=!1,r={},n=!1,i={};if(t.keyBindSet!==void 0){const a=t.keyBindSet;for(const l of Object.keys(lo.keyBindSet)){const c=l;a[c]===void 0?(r[c]=lo.keyBindSet[c],e=!0):r[c]=a[c]}}if(t.ankiFieldSettings!==void 0){const a=t.ankiFieldSettings;for(const l of Object.keys(lo.ankiFieldSettings)){const c=l;a[c]===void 0?(i[c]=lo.ankiFieldSettings[c],n=!0):i[c]=a[c]}}return!n&&!e?t:{...t,ankiFieldSettings:i,keyBindSet:r}},jI=Object.fromEntries(Object.keys(lo).filter(t=>typeof lo[t]=="object").map(t=>[t,!0]));class NI{_storage;_complexValues={};constructor(e){this._storage=e}async getAll(){return this.get(Object.keys(lo))}async getSingle(e){return(await this.get([e]))[e]}async get(e){let r={};for(const a of e)r[a]=lo[a];const n=await this._storage.get(r),i={};for(const a in r){const l=(n&&n[a])??lo[a];if(jI[a]){const c=this._complexValues[a];c!==void 0&&Qu(c,l)?i[a]=c:(this._complexValues[a]=l,i[a]=l)}else i[a]=l}return l2(i)}async set(e){await this._storage.set(await this._ensureConsistencyOnWrite(e))}async _ensureConsistencyOnWrite(e){if(e.dictionaryTracks!==void 0){const i=lo.dictionaryTracks[0];for(const a of e.dictionaryTracks)for(;a.dictionaryTokenStatusColors.length<Cc;){const l=a.dictionaryTokenStatusColors.length,c=i.dictionaryTokenStatusColors[l];a.dictionaryTokenStatusColors.push(c)}for(;e.dictionaryTracks.length<$S;)e.dictionaryTracks.push(i);for(;e.dictionaryTracks.length>$S;)e.dictionaryTracks.pop()}if(e.customAnkiFields===void 0)return e;const r=e.customAnkiFieldSettings??(await this._storage.get({customAnkiFieldSettings:lo.customAnkiFieldSettings})).customAnkiFieldSettings;let n=!1;for(const i of Object.keys(r))i in e.customAnkiFields||(delete r[i],n=!0);return n?{...e,customAnkiFieldSettings:r}:e}async activeProfile(){return await this._storage.activeProfile()}async setActiveProfile(e){await this._storage.setActiveProfile(e)}async profiles(){return await this._storage.profiles()}async addProfile(e){await this._storage.addProfile(e)}async removeProfile(e){await this._storage.removeProfile(e)}}const II=t=>`_prof_${t}_`,c2=(t,e)=>`${II(e)}${t}`,LI=(t,e)=>t.substring(e.length+7),Yb=(t,e)=>{const r={};for(const n of Object.keys(t))r[c2(n,e)]=t[n];return r};var ns={},mc={},Af={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var FI=Af.exports,_T;function BI(){return _T||(_T=1,function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,a=typeof Eg=="object"&&Eg;(a.global===a||a.window===a||a.self===a)&&(r=a);var l,c=2147483647,d=36,f=1,h=26,g=38,p=700,S=72,b=128,v="-",k=/^xn--/,T=/[^\x20-\x7E]/,A=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=d-f,O=Math.floor,M=String.fromCharCode,j;function $(F){throw new RangeError(w[F])}function V(F,D){for(var J=F.length,ee=[];J--;)ee[J]=D(F[J]);return ee}function N(F,D){var J=F.split("@"),ee="";J.length>1&&(ee=J[0]+"@",F=J[1]),F=F.replace(A,".");var te=F.split("."),ie=V(te,D).join(".");return ee+ie}function W(F){for(var D=[],J=0,ee=F.length,te,ie;J<ee;)te=F.charCodeAt(J++),te>=55296&&te<=56319&&J<ee?(ie=F.charCodeAt(J++),(ie&64512)==56320?D.push(((te&1023)<<10)+(ie&1023)+65536):(D.push(te),J--)):D.push(te);return D}function z(F){return V(F,function(D){var J="";return D>65535&&(D-=65536,J+=M(D>>>10&1023|55296),D=56320|D&1023),J+=M(D),J}).join("")}function I(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:d}function B(F,D){return F+22+75*(F<26)-((D!=0)<<5)}function G(F,D,J){var ee=0;for(F=J?O(F/p):F>>1,F+=O(F/D);F>R*h>>1;ee+=d)F=O(F/R);return O(ee+(R+1)*F/(F+g))}function U(F){var D=[],J=F.length,ee,te=0,ie=b,oe=S,ke,ve,Q,de,we,ue,rt,ye,Le;for(ke=F.lastIndexOf(v),ke<0&&(ke=0),ve=0;ve<ke;++ve)F.charCodeAt(ve)>=128&&$("not-basic"),D.push(F.charCodeAt(ve));for(Q=ke>0?ke+1:0;Q<J;){for(de=te,we=1,ue=d;Q>=J&&$("invalid-input"),rt=I(F.charCodeAt(Q++)),(rt>=d||rt>O((c-te)/we))&&$("overflow"),te+=rt*we,ye=ue<=oe?f:ue>=oe+h?h:ue-oe,!(rt<ye);ue+=d)Le=d-ye,we>O(c/Le)&&$("overflow"),we*=Le;ee=D.length+1,oe=G(te-de,ee,de==0),O(te/ee)>c-ie&&$("overflow"),ie+=O(te/ee),te%=ee,D.splice(te++,0,ie)}return z(D)}function X(F){var D,J,ee,te,ie,oe,ke,ve,Q,de,we,ue=[],rt,ye,Le,ut;for(F=W(F),rt=F.length,D=b,J=0,ie=S,oe=0;oe<rt;++oe)we=F[oe],we<128&&ue.push(M(we));for(ee=te=ue.length,te&&ue.push(v);ee<rt;){for(ke=c,oe=0;oe<rt;++oe)we=F[oe],we>=D&&we<ke&&(ke=we);for(ye=ee+1,ke-D>O((c-J)/ye)&&$("overflow"),J+=(ke-D)*ye,D=ke,oe=0;oe<rt;++oe)if(we=F[oe],we<D&&++J>c&&$("overflow"),we==D){for(ve=J,Q=d;de=Q<=ie?f:Q>=ie+h?h:Q-ie,!(ve<de);Q+=d)ut=ve-de,Le=d-de,ue.push(M(B(de+ut%Le,0))),ve=O(ut/Le);ue.push(M(B(ve,0))),ie=G(J,ye,ee==te),J=0,++ee}++J,++D}return ue.join("")}function q(F){return N(F,function(D){return k.test(D)?U(D.slice(4).toLowerCase()):D})}function Z(F){return N(F,function(D){return T.test(D)?"xn--"+X(D):D})}if(l={version:"1.4.1",ucs2:{decode:W,encode:z},decode:U,encode:X,toASCII:Z,toUnicode:q},n&&i)if(t.exports==n)i.exports=l;else for(j in l)l.hasOwnProperty(j)&&(n[j]=l[j]);else r.punycode=l})(FI)}(Af,Af.exports)),Af.exports}var Xb,MT;function Bx(){return MT||(MT=1,Xb=Error),Xb}var Zb,jT;function $x(){return jT||(jT=1,Zb=EvalError),Zb}var Qb,NT;function Dx(){return NT||(NT=1,Qb=RangeError),Qb}var Jb,IT;function zx(){return IT||(IT=1,Jb=ReferenceError),Jb}var ev,LT;function em(){return LT||(LT=1,ev=SyntaxError),ev}var tv,FT;function Lc(){return FT||(FT=1,tv=TypeError),tv}var rv,BT;function Ux(){return BT||(BT=1,rv=URIError),rv}var nv,$T;function $I(){return $T||($T=1,nv=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,r);if(l.value!==i||l.enumerable!==!0)return!1}return!0}),nv}var iv,DT;function DI(){if(DT)return iv;DT=1;var t=typeof Symbol<"u"&&Symbol,e=$I();return iv=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},iv}var ov,zT;function dp(){if(zT)return ov;zT=1;var t={foo:{}},e=Object;return ov=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof e)},ov}var av,UT;function zI(){if(UT)return av;UT=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(d,f){for(var h=[],g=0;g<d.length;g+=1)h[g]=d[g];for(var p=0;p<f.length;p+=1)h[p+d.length]=f[p];return h},a=function(d,f){for(var h=[],g=f,p=0;g<d.length;g+=1,p+=1)h[p]=d[g];return h},l=function(c,d){for(var f="",h=0;h<c.length;h+=1)f+=c[h],h+1<c.length&&(f+=d);return f};return av=function(d){var f=this;if(typeof f!="function"||e.apply(f)!==n)throw new TypeError(t+f);for(var h=a(arguments,1),g,p=function(){if(this instanceof g){var T=f.apply(this,i(h,arguments));return Object(T)===T?T:this}return f.apply(d,i(h,arguments))},S=r(0,f.length-h.length),b=[],v=0;v<S;v++)b[v]="$"+v;if(g=Function("binder","return function ("+l(b,",")+"){ return binder.apply(this,arguments); }")(p),f.prototype){var k=function(){};k.prototype=f.prototype,g.prototype=new k,k.prototype=null}return g},av}var sv,HT;function bs(){if(HT)return sv;HT=1;var t=zI();return sv=Function.prototype.bind||t,sv}var lv,VT;function UI(){if(VT)return lv;VT=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=bs();return lv=r.call(t,e),lv}var cv,qT;function Hx(){if(qT)return cv;qT=1;var t,e=Bx(),r=$x(),n=Dx(),i=zx(),a=em(),l=Lc(),c=Ux(),d=Function,f=function(X){try{return d('"use strict"; return ('+X+").constructor;")()}catch{}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch{h=null}var g=function(){throw new l},p=h?function(){try{return arguments.callee,g}catch{try{return h(arguments,"callee").get}catch{return g}}}():g,S=DI()(),b=dp()(),v=Object.getPrototypeOf||(b?function(X){return X.__proto__}:null),k={},T=typeof Uint8Array>"u"||!v?t:v(Uint8Array),A={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":S&&v?v([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":k,"%AsyncGenerator%":k,"%AsyncGeneratorFunction%":k,"%AsyncIteratorPrototype%":k,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":k,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S&&v?v(v([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!S||!v?t:v(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":n,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!S||!v?t:v(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S&&v?v(""[Symbol.iterator]()):t,"%Symbol%":S?Symbol:t,"%SyntaxError%":a,"%ThrowTypeError%":p,"%TypedArray%":T,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(v)try{null.error}catch(X){var w=v(v(X));A["%Error.prototype%"]=w}var R=function X(q){var Z;if(q==="%AsyncFunction%")Z=f("async function () {}");else if(q==="%GeneratorFunction%")Z=f("function* () {}");else if(q==="%AsyncGeneratorFunction%")Z=f("async function* () {}");else if(q==="%AsyncGenerator%"){var F=X("%AsyncGeneratorFunction%");F&&(Z=F.prototype)}else if(q==="%AsyncIteratorPrototype%"){var D=X("%AsyncGenerator%");D&&v&&(Z=v(D.prototype))}return A[q]=Z,Z},O={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},M=bs(),j=UI(),$=M.call(Function.call,Array.prototype.concat),V=M.call(Function.apply,Array.prototype.splice),N=M.call(Function.call,String.prototype.replace),W=M.call(Function.call,String.prototype.slice),z=M.call(Function.call,RegExp.prototype.exec),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,B=/\\(\\)?/g,G=function(q){var Z=W(q,0,1),F=W(q,-1);if(Z==="%"&&F!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(F==="%"&&Z!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var D=[];return N(q,I,function(J,ee,te,ie){D[D.length]=te?N(ie,B,"$1"):ee||J}),D},U=function(q,Z){var F=q,D;if(j(O,F)&&(D=O[F],F="%"+D[0]+"%"),j(A,F)){var J=A[F];if(J===k&&(J=R(F)),typeof J>"u"&&!Z)throw new l("intrinsic "+q+" exists, but is not available. Please file an issue!");return{alias:D,name:F,value:J}}throw new a("intrinsic "+q+" does not exist!")};return cv=function(q,Z){if(typeof q!="string"||q.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Z!="boolean")throw new l('"allowMissing" argument must be a boolean');if(z(/^%?[^%]*%?$/,q)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var F=G(q),D=F.length>0?F[0]:"",J=U("%"+D+"%",Z),ee=J.name,te=J.value,ie=!1,oe=J.alias;oe&&(D=oe[0],V(F,$([0,1],oe)));for(var ke=1,ve=!0;ke<F.length;ke+=1){var Q=F[ke],de=W(Q,0,1),we=W(Q,-1);if((de==='"'||de==="'"||de==="`"||we==='"'||we==="'"||we==="`")&&de!==we)throw new a("property names with quotes must have matching quotes");if((Q==="constructor"||!ve)&&(ie=!0),D+="."+Q,ee="%"+D+"%",j(A,ee))te=A[ee];else if(te!=null){if(!(Q in te)){if(!Z)throw new l("base intrinsic for "+q+" exists, but the property is not available.");return}if(h&&ke+1>=F.length){var ue=h(te,Q);ve=!!ue,ve&&"get"in ue&&!("originalValue"in ue.get)?te=ue.get:te=te[Q]}else ve=j(te,Q),te=te[Q];ve&&!ie&&(A[ee]=te)}}return te},cv}var uv={exports:{}},dv,WT;function HI(){return WT||(WT=1,dv=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,r);if(l.value!==i||l.enumerable!==!0)return!1}return!0}),dv}var fv,KT;function u2(){if(KT)return fv;KT=1;var t=typeof Symbol<"u"&&Symbol,e=HI();return fv=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},fv}var pv,GT;function d2(){if(GT)return pv;GT=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=bs();return pv=r.call(t,e),pv}var hv,YT;function VI(){if(YT)return hv;YT=1;var t,e=Bx(),r=$x(),n=Dx(),i=zx(),a=em(),l=Lc(),c=Ux(),d=Function,f=function(X){try{return d('"use strict"; return ('+X+").constructor;")()}catch{}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch{h=null}var g=function(){throw new l},p=h?function(){try{return arguments.callee,g}catch{try{return h(arguments,"callee").get}catch{return g}}}():g,S=u2()(),b=dp()(),v=Object.getPrototypeOf||(b?function(X){return X.__proto__}:null),k={},T=typeof Uint8Array>"u"||!v?t:v(Uint8Array),A={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":S&&v?v([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":k,"%AsyncGenerator%":k,"%AsyncGeneratorFunction%":k,"%AsyncIteratorPrototype%":k,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":k,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S&&v?v(v([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!S||!v?t:v(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":n,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!S||!v?t:v(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S&&v?v(""[Symbol.iterator]()):t,"%Symbol%":S?Symbol:t,"%SyntaxError%":a,"%ThrowTypeError%":p,"%TypedArray%":T,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(v)try{null.error}catch(X){var w=v(v(X));A["%Error.prototype%"]=w}var R=function X(q){var Z;if(q==="%AsyncFunction%")Z=f("async function () {}");else if(q==="%GeneratorFunction%")Z=f("function* () {}");else if(q==="%AsyncGeneratorFunction%")Z=f("async function* () {}");else if(q==="%AsyncGenerator%"){var F=X("%AsyncGeneratorFunction%");F&&(Z=F.prototype)}else if(q==="%AsyncIteratorPrototype%"){var D=X("%AsyncGenerator%");D&&v&&(Z=v(D.prototype))}return A[q]=Z,Z},O={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},M=bs(),j=d2(),$=M.call(Function.call,Array.prototype.concat),V=M.call(Function.apply,Array.prototype.splice),N=M.call(Function.call,String.prototype.replace),W=M.call(Function.call,String.prototype.slice),z=M.call(Function.call,RegExp.prototype.exec),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,B=/\\(\\)?/g,G=function(q){var Z=W(q,0,1),F=W(q,-1);if(Z==="%"&&F!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(F==="%"&&Z!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var D=[];return N(q,I,function(J,ee,te,ie){D[D.length]=te?N(ie,B,"$1"):ee||J}),D},U=function(q,Z){var F=q,D;if(j(O,F)&&(D=O[F],F="%"+D[0]+"%"),j(A,F)){var J=A[F];if(J===k&&(J=R(F)),typeof J>"u"&&!Z)throw new l("intrinsic "+q+" exists, but is not available. Please file an issue!");return{alias:D,name:F,value:J}}throw new a("intrinsic "+q+" does not exist!")};return hv=function(q,Z){if(typeof q!="string"||q.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Z!="boolean")throw new l('"allowMissing" argument must be a boolean');if(z(/^%?[^%]*%?$/,q)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var F=G(q),D=F.length>0?F[0]:"",J=U("%"+D+"%",Z),ee=J.name,te=J.value,ie=!1,oe=J.alias;oe&&(D=oe[0],V(F,$([0,1],oe)));for(var ke=1,ve=!0;ke<F.length;ke+=1){var Q=F[ke],de=W(Q,0,1),we=W(Q,-1);if((de==='"'||de==="'"||de==="`"||we==='"'||we==="'"||we==="`")&&de!==we)throw new a("property names with quotes must have matching quotes");if((Q==="constructor"||!ve)&&(ie=!0),D+="."+Q,ee="%"+D+"%",j(A,ee))te=A[ee];else if(te!=null){if(!(Q in te)){if(!Z)throw new l("base intrinsic for "+q+" exists, but the property is not available.");return}if(h&&ke+1>=F.length){var ue=h(te,Q);ve=!!ue,ve&&"get"in ue&&!("originalValue"in ue.get)?te=ue.get:te=te[Q]}else ve=j(te,Q),te=te[Q];ve&&!ie&&(A[ee]=te)}}return te},hv}var gv,XT;function qI(){return XT||(XT=1,gv=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,r);if(l.value!==i||l.enumerable!==!0)return!1}return!0}),gv}var mv,ZT;function WI(){if(ZT)return mv;ZT=1;var t=typeof Symbol<"u"&&Symbol,e=qI();return mv=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},mv}var yv,QT;function KI(){if(QT)return yv;QT=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=bs();return yv=r.call(t,e),yv}var bv,JT;function GI(){if(JT)return bv;JT=1;var t,e=Bx(),r=$x(),n=Dx(),i=zx(),a=em(),l=Lc(),c=Ux(),d=Function,f=function(X){try{return d('"use strict"; return ('+X+").constructor;")()}catch{}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch{h=null}var g=function(){throw new l},p=h?function(){try{return arguments.callee,g}catch{try{return h(arguments,"callee").get}catch{return g}}}():g,S=WI()(),b=dp()(),v=Object.getPrototypeOf||(b?function(X){return X.__proto__}:null),k={},T=typeof Uint8Array>"u"||!v?t:v(Uint8Array),A={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":S&&v?v([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":k,"%AsyncGenerator%":k,"%AsyncGeneratorFunction%":k,"%AsyncIteratorPrototype%":k,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":k,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S&&v?v(v([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!S||!v?t:v(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":n,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!S||!v?t:v(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S&&v?v(""[Symbol.iterator]()):t,"%Symbol%":S?Symbol:t,"%SyntaxError%":a,"%ThrowTypeError%":p,"%TypedArray%":T,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(v)try{null.error}catch(X){var w=v(v(X));A["%Error.prototype%"]=w}var R=function X(q){var Z;if(q==="%AsyncFunction%")Z=f("async function () {}");else if(q==="%GeneratorFunction%")Z=f("function* () {}");else if(q==="%AsyncGeneratorFunction%")Z=f("async function* () {}");else if(q==="%AsyncGenerator%"){var F=X("%AsyncGeneratorFunction%");F&&(Z=F.prototype)}else if(q==="%AsyncIteratorPrototype%"){var D=X("%AsyncGenerator%");D&&v&&(Z=v(D.prototype))}return A[q]=Z,Z},O={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},M=bs(),j=KI(),$=M.call(Function.call,Array.prototype.concat),V=M.call(Function.apply,Array.prototype.splice),N=M.call(Function.call,String.prototype.replace),W=M.call(Function.call,String.prototype.slice),z=M.call(Function.call,RegExp.prototype.exec),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,B=/\\(\\)?/g,G=function(q){var Z=W(q,0,1),F=W(q,-1);if(Z==="%"&&F!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(F==="%"&&Z!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var D=[];return N(q,I,function(J,ee,te,ie){D[D.length]=te?N(ie,B,"$1"):ee||J}),D},U=function(q,Z){var F=q,D;if(j(O,F)&&(D=O[F],F="%"+D[0]+"%"),j(A,F)){var J=A[F];if(J===k&&(J=R(F)),typeof J>"u"&&!Z)throw new l("intrinsic "+q+" exists, but is not available. Please file an issue!");return{alias:D,name:F,value:J}}throw new a("intrinsic "+q+" does not exist!")};return bv=function(q,Z){if(typeof q!="string"||q.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Z!="boolean")throw new l('"allowMissing" argument must be a boolean');if(z(/^%?[^%]*%?$/,q)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var F=G(q),D=F.length>0?F[0]:"",J=U("%"+D+"%",Z),ee=J.name,te=J.value,ie=!1,oe=J.alias;oe&&(D=oe[0],V(F,$([0,1],oe)));for(var ke=1,ve=!0;ke<F.length;ke+=1){var Q=F[ke],de=W(Q,0,1),we=W(Q,-1);if((de==='"'||de==="'"||de==="`"||we==='"'||we==="'"||we==="`")&&de!==we)throw new a("property names with quotes must have matching quotes");if((Q==="constructor"||!ve)&&(ie=!0),D+="."+Q,ee="%"+D+"%",j(A,ee))te=A[ee];else if(te!=null){if(!(Q in te)){if(!Z)throw new l("base intrinsic for "+q+" exists, but the property is not available.");return}if(h&&ke+1>=F.length){var ue=h(te,Q);ve=!!ue,ve&&"get"in ue&&!("originalValue"in ue.get)?te=ue.get:te=te[Q]}else ve=j(te,Q),te=te[Q];ve&&!ie&&(A[ee]=te)}}return te},bv}var vv,eE;function Vx(){if(eE)return vv;eE=1;var t=GI(),e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return vv=e,vv}var Sv,tE;function YI(){return tE||(tE=1,Sv=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,r);if(l.value!==i||l.enumerable!==!0)return!1}return!0}),Sv}var xv,rE;function XI(){if(rE)return xv;rE=1;var t=typeof Symbol<"u"&&Symbol,e=YI();return xv=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},xv}var wv,nE;function ZI(){if(nE)return wv;nE=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=bs();return wv=r.call(t,e),wv}var kv,iE;function QI(){if(iE)return kv;iE=1;var t,e=SyntaxError,r=Function,n=TypeError,i=function(z){try{return r('"use strict"; return ('+z+").constructor;")()}catch{}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch{a=null}var l=function(){throw new n},c=a?function(){try{return arguments.callee,l}catch{try{return a(arguments,"callee").get}catch{return l}}}():l,d=XI()(),f=dp()(),h=Object.getPrototypeOf||(f?function(z){return z.__proto__}:null),g={},p=typeof Uint8Array>"u"||!h?t:h(Uint8Array),S={"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":d&&h?h([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":g,"%AsyncGenerator%":g,"%AsyncGeneratorFunction%":g,"%AsyncIteratorPrototype%":g,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":g,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&h?h(h([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!d||!h?t:h(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!d||!h?t:h(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&h?h(""[Symbol.iterator]()):t,"%Symbol%":d?Symbol:t,"%SyntaxError%":e,"%ThrowTypeError%":c,"%TypedArray%":p,"%TypeError%":n,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(h)try{null.error}catch(z){var b=h(h(z));S["%Error.prototype%"]=b}var v=function z(I){var B;if(I==="%AsyncFunction%")B=i("async function () {}");else if(I==="%GeneratorFunction%")B=i("function* () {}");else if(I==="%AsyncGeneratorFunction%")B=i("async function* () {}");else if(I==="%AsyncGenerator%"){var G=z("%AsyncGeneratorFunction%");G&&(B=G.prototype)}else if(I==="%AsyncIteratorPrototype%"){var U=z("%AsyncGenerator%");U&&h&&(B=h(U.prototype))}return S[I]=B,B},k={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=bs(),A=ZI(),w=T.call(Function.call,Array.prototype.concat),R=T.call(Function.apply,Array.prototype.splice),O=T.call(Function.call,String.prototype.replace),M=T.call(Function.call,String.prototype.slice),j=T.call(Function.call,RegExp.prototype.exec),$=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,V=/\\(\\)?/g,N=function(I){var B=M(I,0,1),G=M(I,-1);if(B==="%"&&G!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(G==="%"&&B!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var U=[];return O(I,$,function(X,q,Z,F){U[U.length]=Z?O(F,V,"$1"):q||X}),U},W=function(I,B){var G=I,U;if(A(k,G)&&(U=k[G],G="%"+U[0]+"%"),A(S,G)){var X=S[G];if(X===g&&(X=v(G)),typeof X>"u"&&!B)throw new n("intrinsic "+I+" exists, but is not available. Please file an issue!");return{alias:U,name:G,value:X}}throw new e("intrinsic "+I+" does not exist!")};return kv=function(I,B){if(typeof I!="string"||I.length===0)throw new n("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof B!="boolean")throw new n('"allowMissing" argument must be a boolean');if(j(/^%?[^%]*%?$/,I)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var G=N(I),U=G.length>0?G[0]:"",X=W("%"+U+"%",B),q=X.name,Z=X.value,F=!1,D=X.alias;D&&(U=D[0],R(G,w([0,1],D)));for(var J=1,ee=!0;J<G.length;J+=1){var te=G[J],ie=M(te,0,1),oe=M(te,-1);if((ie==='"'||ie==="'"||ie==="`"||oe==='"'||oe==="'"||oe==="`")&&ie!==oe)throw new e("property names with quotes must have matching quotes");if((te==="constructor"||!ee)&&(F=!0),U+="."+te,q="%"+U+"%",A(S,q))Z=S[q];else if(Z!=null){if(!(te in Z)){if(!B)throw new n("base intrinsic for "+I+" exists, but the property is not available.");return}if(a&&J+1>=G.length){var ke=a(Z,te);ee=!!ke,ee&&"get"in ke&&!("originalValue"in ke.get)?Z=ke.get:Z=Z[te]}else ee=A(Z,te),Z=Z[te];ee&&!F&&(S[q]=Z)}}return Z},kv}var Cv,oE;function JI(){if(oE)return Cv;oE=1;var t=QI(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return Cv=e,Cv}var Tv,aE;function eL(){if(aE)return Tv;aE=1;var t=Vx(),e=em(),r=Lc(),n=JI();return Tv=function(a,l,c){if(!a||typeof a!="object"&&typeof a!="function")throw new r("`obj` must be an object or a function`");if(typeof l!="string"&&typeof l!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var d=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,h=arguments.length>5?arguments[5]:null,g=arguments.length>6?arguments[6]:!1,p=!!n&&n(a,l);if(t)t(a,l,{configurable:h===null&&p?p.configurable:!h,enumerable:d===null&&p?p.enumerable:!d,value:c,writable:f===null&&p?p.writable:!f});else if(g||!d&&!f&&!h)a[l]=c;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Tv}var Ev,sE;function tL(){if(sE)return Ev;sE=1;var t=Vx(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},Ev=e,Ev}var Av,lE;function rL(){if(lE)return Av;lE=1;var t,e=SyntaxError,r=Function,n=TypeError,i=function(z){try{return r('"use strict"; return ('+z+").constructor;")()}catch{}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch{a=null}var l=function(){throw new n},c=a?function(){try{return arguments.callee,l}catch{try{return a(arguments,"callee").get}catch{return l}}}():l,d=u2()(),f=dp()(),h=Object.getPrototypeOf||(f?function(z){return z.__proto__}:null),g={},p=typeof Uint8Array>"u"||!h?t:h(Uint8Array),S={"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":d&&h?h([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":g,"%AsyncGenerator%":g,"%AsyncGeneratorFunction%":g,"%AsyncIteratorPrototype%":g,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":g,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&h?h(h([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!d||!h?t:h(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!d||!h?t:h(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&h?h(""[Symbol.iterator]()):t,"%Symbol%":d?Symbol:t,"%SyntaxError%":e,"%ThrowTypeError%":c,"%TypedArray%":p,"%TypeError%":n,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(h)try{null.error}catch(z){var b=h(h(z));S["%Error.prototype%"]=b}var v=function z(I){var B;if(I==="%AsyncFunction%")B=i("async function () {}");else if(I==="%GeneratorFunction%")B=i("function* () {}");else if(I==="%AsyncGeneratorFunction%")B=i("async function* () {}");else if(I==="%AsyncGenerator%"){var G=z("%AsyncGeneratorFunction%");G&&(B=G.prototype)}else if(I==="%AsyncIteratorPrototype%"){var U=z("%AsyncGenerator%");U&&h&&(B=h(U.prototype))}return S[I]=B,B},k={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=bs(),A=d2(),w=T.call(Function.call,Array.prototype.concat),R=T.call(Function.apply,Array.prototype.splice),O=T.call(Function.call,String.prototype.replace),M=T.call(Function.call,String.prototype.slice),j=T.call(Function.call,RegExp.prototype.exec),$=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,V=/\\(\\)?/g,N=function(I){var B=M(I,0,1),G=M(I,-1);if(B==="%"&&G!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(G==="%"&&B!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var U=[];return O(I,$,function(X,q,Z,F){U[U.length]=Z?O(F,V,"$1"):q||X}),U},W=function(I,B){var G=I,U;if(A(k,G)&&(U=k[G],G="%"+U[0]+"%"),A(S,G)){var X=S[G];if(X===g&&(X=v(G)),typeof X>"u"&&!B)throw new n("intrinsic "+I+" exists, but is not available. Please file an issue!");return{alias:U,name:G,value:X}}throw new e("intrinsic "+I+" does not exist!")};return Av=function(I,B){if(typeof I!="string"||I.length===0)throw new n("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof B!="boolean")throw new n('"allowMissing" argument must be a boolean');if(j(/^%?[^%]*%?$/,I)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var G=N(I),U=G.length>0?G[0]:"",X=W("%"+U+"%",B),q=X.name,Z=X.value,F=!1,D=X.alias;D&&(U=D[0],R(G,w([0,1],D)));for(var J=1,ee=!0;J<G.length;J+=1){var te=G[J],ie=M(te,0,1),oe=M(te,-1);if((ie==='"'||ie==="'"||ie==="`"||oe==='"'||oe==="'"||oe==="`")&&ie!==oe)throw new e("property names with quotes must have matching quotes");if((te==="constructor"||!ee)&&(F=!0),U+="."+te,q="%"+U+"%",A(S,q))Z=S[q];else if(Z!=null){if(!(te in Z)){if(!B)throw new n("base intrinsic for "+I+" exists, but the property is not available.");return}if(a&&J+1>=G.length){var ke=a(Z,te);ee=!!ke,ee&&"get"in ke&&!("originalValue"in ke.get)?Z=ke.get:Z=Z[te]}else ee=A(Z,te),Z=Z[te];ee&&!F&&(S[q]=Z)}}return Z},Av}var Rv,cE;function nL(){if(cE)return Rv;cE=1;var t=rL(),e=t("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return Rv=e,Rv}var Ov,uE;function iL(){if(uE)return Ov;uE=1;var t=VI(),e=eL(),r=tL()(),n=nL(),i=Lc(),a=t("%Math.floor%");return Ov=function(c,d){if(typeof c!="function")throw new i("`fn` is not a function");if(typeof d!="number"||d<0||d>4294967295||a(d)!==d)throw new i("`length` must be a positive 32-bit integer");var f=arguments.length>2&&!!arguments[2],h=!0,g=!0;if("length"in c&&n){var p=n(c,"length");p&&!p.configurable&&(h=!1),p&&!p.writable&&(g=!1)}return(h||g||!f)&&(r?e(c,"length",d,!0,!0):e(c,"length",d)),c},Ov}var dE;function oL(){return dE||(dE=1,function(t){var e=bs(),r=Hx(),n=iL(),i=Lc(),a=r("%Function.prototype.apply%"),l=r("%Function.prototype.call%"),c=r("%Reflect.apply%",!0)||e.call(l,a),d=Vx(),f=r("%Math.max%");t.exports=function(p){if(typeof p!="function")throw new i("a function is required");var S=c(e,l,arguments);return n(S,1+f(0,p.length-(arguments.length-1)),!0)};var h=function(){return c(e,a,arguments)};d?d(t.exports,"apply",{value:h}):t.exports.apply=h}(uv)),uv.exports}var Pv,fE;function aL(){if(fE)return Pv;fE=1;var t=Hx(),e=oL(),r=e(t("String.prototype.indexOf"));return Pv=function(i,a){var l=t(i,!!a);return typeof l=="function"&&r(i,".prototype.")>-1?e(l):l},Pv}const sL={},lL=Object.freeze(Object.defineProperty({__proto__:null,default:sL},Symbol.toStringTag,{value:"Module"})),cL=BN(lL);var _v,pE;function uL(){if(pE)return _v;pE=1;var t=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=t&&e&&typeof e.get=="function"?e.get:null,n=t&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=i&&a&&typeof a.get=="function"?a.get:null,c=i&&Set.prototype.forEach,d=typeof WeakMap=="function"&&WeakMap.prototype,f=d?WeakMap.prototype.has:null,h=typeof WeakSet=="function"&&WeakSet.prototype,g=h?WeakSet.prototype.has:null,p=typeof WeakRef=="function"&&WeakRef.prototype,S=p?WeakRef.prototype.deref:null,b=Boolean.prototype.valueOf,v=Object.prototype.toString,k=Function.prototype.toString,T=String.prototype.match,A=String.prototype.slice,w=String.prototype.replace,R=String.prototype.toUpperCase,O=String.prototype.toLowerCase,M=RegExp.prototype.test,j=Array.prototype.concat,$=Array.prototype.join,V=Array.prototype.slice,N=Math.floor,W=typeof BigInt=="function"?BigInt.prototype.valueOf:null,z=Object.getOwnPropertySymbols,I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,B=typeof Symbol=="function"&&typeof Symbol.iterator=="object",G=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===B||!0)?Symbol.toStringTag:null,U=Object.prototype.propertyIsEnumerable,X=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(se){return se.__proto__}:null);function q(se,le){if(se===1/0||se===-1/0||se!==se||se&&se>-1e3&&se<1e3||M.call(/e/,le))return le;var st=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof se=="number"){var $e=se<0?-N(-se):N(se);if($e!==se){var Xt=String($e),Et=A.call(le,Xt.length+1);return w.call(Xt,st,"$&_")+"."+w.call(w.call(Et,/([0-9]{3})/g,"$&_"),/_$/,"")}}return w.call(le,st,"$&_")}var Z=cL,F=Z.custom,D=we(F)?F:null;_v=function se(le,st,$e,Xt){var Et=st||{};if(ye(Et,"quoteStyle")&&Et.quoteStyle!=="single"&&Et.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ye(Et,"maxStringLength")&&(typeof Et.maxStringLength=="number"?Et.maxStringLength<0&&Et.maxStringLength!==1/0:Et.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var yr=ye(Et,"customInspect")?Et.customInspect:!0;if(typeof yr!="boolean"&&yr!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ye(Et,"indent")&&Et.indent!==null&&Et.indent!=="	"&&!(parseInt(Et.indent,10)===Et.indent&&Et.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ye(Et,"numericSeparator")&&typeof Et.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var fe=Et.numericSeparator;if(typeof le>"u")return"undefined";if(le===null)return"null";if(typeof le=="boolean")return le?"true":"false";if(typeof le=="string")return _t(le,Et);if(typeof le=="number"){if(le===0)return 1/0/le>0?"0":"-0";var xe=String(le);return fe?q(le,xe):xe}if(typeof le=="bigint"){var dt=String(le)+"n";return fe?q(le,dt):dt}var qt=typeof Et.depth>"u"?5:Et.depth;if(typeof $e>"u"&&($e=0),$e>=qt&&qt>0&&typeof le=="object")return te(le)?"[Array]":"[Object]";var ir=Se(Et,$e);if(typeof Xt>"u")Xt=[];else if(Be(Xt,le)>=0)return"[Circular]";function zt(Ue,We,Ct){if(We&&(Xt=V.call(Xt),Xt.push(We)),Ct){var cr={depth:Et.depth};return ye(Et,"quoteStyle")&&(cr.quoteStyle=Et.quoteStyle),se(Ue,cr,$e+1,Xt)}return se(Ue,Et,$e+1,Xt)}if(typeof le=="function"&&!oe(le)){var Jt=ut(le),jt=Pt(le,zt);return"[Function"+(Jt?": "+Jt:" (anonymous)")+"]"+(jt.length>0?" { "+$.call(jt,", ")+" }":"")}if(we(le)){var hr=B?w.call(String(le),/^(Symbol\(.*\))_[^)]*$/,"$1"):I.call(le);return typeof le=="object"&&!B?je(hr):hr}if(Bt(le)){for(var At="<"+O.call(String(le.nodeName)),Tt=le.attributes||[],St=0;St<Tt.length;St++)At+=" "+Tt[St].name+"="+J(ee(Tt[St].value),"double",Et);return At+=">",le.childNodes&&le.childNodes.length&&(At+="..."),At+="</"+O.call(String(le.nodeName))+">",At}if(te(le)){if(le.length===0)return"[]";var kt=Pt(le,zt);return ir&&!ot(kt)?"["+vt(kt,ir)+"]":"[ "+$.call(kt,", ")+" ]"}if(ke(le)){var Ut=Pt(le,zt);return!("cause"in Error.prototype)&&"cause"in le&&!U.call(le,"cause")?"{ ["+String(le)+"] "+$.call(j.call("[cause]: "+zt(le.cause),Ut),", ")+" }":Ut.length===0?"["+String(le)+"]":"{ ["+String(le)+"] "+$.call(Ut,", ")+" }"}if(typeof le=="object"&&yr){if(D&&typeof le[D]=="function"&&Z)return Z(le,{depth:qt-$e});if(yr!=="symbol"&&typeof le.inspect=="function")return le.inspect()}if(bt(le)){var Ft=[];return n&&n.call(le,function(Ue,We){Ft.push(zt(We,le,!0)+" => "+zt(Ue,le))}),Oe("Map",r.call(le),Ft,ir)}if(et(le)){var Nr=[];return c&&c.call(le,function(Ue){Nr.push(zt(Ue,le))}),Oe("Set",l.call(le),Nr,ir)}if(Ot(le))return qe("WeakMap");if(ht(le))return qe("WeakSet");if(Mt(le))return qe("WeakRef");if(Q(le))return je(zt(Number(le)));if(ue(le))return je(zt(W.call(le)));if(de(le))return je(b.call(le));if(ve(le))return je(zt(String(le)));if(typeof window<"u"&&le===window)return"{ [object Window] }";if(le===Eg)return"{ [object globalThis] }";if(!ie(le)&&!oe(le)){var Vr=Pt(le,zt),$r=X?X(le)===Object.prototype:le instanceof Object||le.constructor===Object,wr=le instanceof Object?"":"null prototype",Pr=!$r&&G&&Object(le)===le&&G in le?A.call(Le(le),8,-1):wr?"Object":"",Hr=$r||typeof le.constructor!="function"?"":le.constructor.name?le.constructor.name+" ":"",Kr=Hr+(Pr||wr?"["+$.call(j.call([],Pr||[],wr||[]),": ")+"] ":"");return Vr.length===0?Kr+"{}":ir?Kr+"{"+vt(Vr,ir)+"}":Kr+"{ "+$.call(Vr,", ")+" }"}return String(le)};function J(se,le,st){var $e=(st.quoteStyle||le)==="double"?'"':"'";return $e+se+$e}function ee(se){return w.call(String(se),/"/g,"&quot;")}function te(se){return Le(se)==="[object Array]"&&(!G||!(typeof se=="object"&&G in se))}function ie(se){return Le(se)==="[object Date]"&&(!G||!(typeof se=="object"&&G in se))}function oe(se){return Le(se)==="[object RegExp]"&&(!G||!(typeof se=="object"&&G in se))}function ke(se){return Le(se)==="[object Error]"&&(!G||!(typeof se=="object"&&G in se))}function ve(se){return Le(se)==="[object String]"&&(!G||!(typeof se=="object"&&G in se))}function Q(se){return Le(se)==="[object Number]"&&(!G||!(typeof se=="object"&&G in se))}function de(se){return Le(se)==="[object Boolean]"&&(!G||!(typeof se=="object"&&G in se))}function we(se){if(B)return se&&typeof se=="object"&&se instanceof Symbol;if(typeof se=="symbol")return!0;if(!se||typeof se!="object"||!I)return!1;try{return I.call(se),!0}catch{}return!1}function ue(se){if(!se||typeof se!="object"||!W)return!1;try{return W.call(se),!0}catch{}return!1}var rt=Object.prototype.hasOwnProperty||function(se){return se in this};function ye(se,le){return rt.call(se,le)}function Le(se){return v.call(se)}function ut(se){if(se.name)return se.name;var le=T.call(k.call(se),/^function\s*([\w$]+)/);return le?le[1]:null}function Be(se,le){if(se.indexOf)return se.indexOf(le);for(var st=0,$e=se.length;st<$e;st++)if(se[st]===le)return st;return-1}function bt(se){if(!r||!se||typeof se!="object")return!1;try{r.call(se);try{l.call(se)}catch{return!0}return se instanceof Map}catch{}return!1}function Ot(se){if(!f||!se||typeof se!="object")return!1;try{f.call(se,f);try{g.call(se,g)}catch{return!0}return se instanceof WeakMap}catch{}return!1}function Mt(se){if(!S||!se||typeof se!="object")return!1;try{return S.call(se),!0}catch{}return!1}function et(se){if(!l||!se||typeof se!="object")return!1;try{l.call(se);try{r.call(se)}catch{return!0}return se instanceof Set}catch{}return!1}function ht(se){if(!g||!se||typeof se!="object")return!1;try{g.call(se,g);try{f.call(se,f)}catch{return!0}return se instanceof WeakSet}catch{}return!1}function Bt(se){return!se||typeof se!="object"?!1:typeof HTMLElement<"u"&&se instanceof HTMLElement?!0:typeof se.nodeName=="string"&&typeof se.getAttribute=="function"}function _t(se,le){if(se.length>le.maxStringLength){var st=se.length-le.maxStringLength,$e="... "+st+" more character"+(st>1?"s":"");return _t(A.call(se,0,le.maxStringLength),le)+$e}var Xt=w.call(w.call(se,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,it);return J(Xt,"single",le)}function it(se){var le=se.charCodeAt(0),st={8:"b",9:"t",10:"n",12:"f",13:"r"}[le];return st?"\\"+st:"\\x"+(le<16?"0":"")+R.call(le.toString(16))}function je(se){return"Object("+se+")"}function qe(se){return se+" { ? }"}function Oe(se,le,st,$e){var Xt=$e?vt(st,$e):$.call(st,", ");return se+" ("+le+") {"+Xt+"}"}function ot(se){for(var le=0;le<se.length;le++)if(Be(se[le],`
`)>=0)return!1;return!0}function Se(se,le){var st;if(se.indent==="	")st="	";else if(typeof se.indent=="number"&&se.indent>0)st=$.call(Array(se.indent+1)," ");else return null;return{base:st,prev:$.call(Array(le+1),st)}}function vt(se,le){if(se.length===0)return"";var st=`
`+le.prev+le.base;return st+$.call(se,","+st)+`
`+le.prev}function Pt(se,le){var st=te(se),$e=[];if(st){$e.length=se.length;for(var Xt=0;Xt<se.length;Xt++)$e[Xt]=ye(se,Xt)?le(se[Xt],se):""}var Et=typeof z=="function"?z(se):[],yr;if(B){yr={};for(var fe=0;fe<Et.length;fe++)yr["$"+Et[fe]]=Et[fe]}for(var xe in se)ye(se,xe)&&(st&&String(Number(xe))===xe&&xe<se.length||B&&yr["$"+xe]instanceof Symbol||(M.call(/[^\w$]/,xe)?$e.push(le(xe,se)+": "+le(se[xe],se)):$e.push(xe+": "+le(se[xe],se))));if(typeof z=="function")for(var dt=0;dt<Et.length;dt++)U.call(se,Et[dt])&&$e.push("["+le(Et[dt])+"]: "+le(se[Et[dt]],se));return $e}return _v}var Mv,hE;function dL(){if(hE)return Mv;hE=1;var t=Hx(),e=aL(),r=uL(),n=Lc(),i=t("%WeakMap%",!0),a=t("%Map%",!0),l=e("WeakMap.prototype.get",!0),c=e("WeakMap.prototype.set",!0),d=e("WeakMap.prototype.has",!0),f=e("Map.prototype.get",!0),h=e("Map.prototype.set",!0),g=e("Map.prototype.has",!0),p=function(k,T){for(var A=k,w;(w=A.next)!==null;A=w)if(w.key===T)return A.next=w.next,w.next=k.next,k.next=w,w},S=function(k,T){var A=p(k,T);return A&&A.value},b=function(k,T,A){var w=p(k,T);w?w.value=A:k.next={key:T,next:k.next,value:A}},v=function(k,T){return!!p(k,T)};return Mv=function(){var T,A,w,R={assert:function(O){if(!R.has(O))throw new n("Side channel does not contain "+r(O))},get:function(O){if(i&&O&&(typeof O=="object"||typeof O=="function")){if(T)return l(T,O)}else if(a){if(A)return f(A,O)}else if(w)return S(w,O)},has:function(O){if(i&&O&&(typeof O=="object"||typeof O=="function")){if(T)return d(T,O)}else if(a){if(A)return g(A,O)}else if(w)return v(w,O);return!1},set:function(O,M){i&&O&&(typeof O=="object"||typeof O=="function")?(T||(T=new i),c(T,O,M)):a?(A||(A=new a),h(A,O,M)):(w||(w={key:{},next:null}),b(w,O,M))}};return R},Mv}var jv,gE;function qx(){if(gE)return jv;gE=1;var t=String.prototype.replace,e=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return jv={default:r.RFC3986,formatters:{RFC1738:function(n){return t.call(n,e,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},jv}var Nv,mE;function f2(){if(mE)return Nv;mE=1;var t=qx(),e=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var k=[],T=0;T<256;++T)k.push("%"+((T<16?"0":"")+T.toString(16)).toUpperCase());return k}(),i=function(T){for(;T.length>1;){var A=T.pop(),w=A.obj[A.prop];if(r(w)){for(var R=[],O=0;O<w.length;++O)typeof w[O]<"u"&&R.push(w[O]);A.obj[A.prop]=R}}},a=function(T,A){for(var w=A&&A.plainObjects?Object.create(null):{},R=0;R<T.length;++R)typeof T[R]<"u"&&(w[R]=T[R]);return w},l=function k(T,A,w){if(!A)return T;if(typeof A!="object"){if(r(T))T.push(A);else if(T&&typeof T=="object")(w&&(w.plainObjects||w.allowPrototypes)||!e.call(Object.prototype,A))&&(T[A]=!0);else return[T,A];return T}if(!T||typeof T!="object")return[T].concat(A);var R=T;return r(T)&&!r(A)&&(R=a(T,w)),r(T)&&r(A)?(A.forEach(function(O,M){if(e.call(T,M)){var j=T[M];j&&typeof j=="object"&&O&&typeof O=="object"?T[M]=k(j,O,w):T.push(O)}else T[M]=O}),T):Object.keys(A).reduce(function(O,M){var j=A[M];return e.call(O,M)?O[M]=k(O[M],j,w):O[M]=j,O},R)},c=function(T,A){return Object.keys(A).reduce(function(w,R){return w[R]=A[R],w},T)},d=function(k,T,A){var w=k.replace(/\+/g," ");if(A==="iso-8859-1")return w.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(w)}catch{return w}},f=1024,h=function(T,A,w,R,O){if(T.length===0)return T;var M=T;if(typeof T=="symbol"?M=Symbol.prototype.toString.call(T):typeof T!="string"&&(M=String(T)),w==="iso-8859-1")return escape(M).replace(/%u[0-9a-f]{4}/gi,function(I){return"%26%23"+parseInt(I.slice(2),16)+"%3B"});for(var j="",$=0;$<M.length;$+=f){for(var V=M.length>=f?M.slice($,$+f):M,N=[],W=0;W<V.length;++W){var z=V.charCodeAt(W);if(z===45||z===46||z===95||z===126||z>=48&&z<=57||z>=65&&z<=90||z>=97&&z<=122||O===t.RFC1738&&(z===40||z===41)){N[N.length]=V.charAt(W);continue}if(z<128){N[N.length]=n[z];continue}if(z<2048){N[N.length]=n[192|z>>6]+n[128|z&63];continue}if(z<55296||z>=57344){N[N.length]=n[224|z>>12]+n[128|z>>6&63]+n[128|z&63];continue}W+=1,z=65536+((z&1023)<<10|V.charCodeAt(W)&1023),N[N.length]=n[240|z>>18]+n[128|z>>12&63]+n[128|z>>6&63]+n[128|z&63]}j+=N.join("")}return j},g=function(T){for(var A=[{obj:{o:T},prop:"o"}],w=[],R=0;R<A.length;++R)for(var O=A[R],M=O.obj[O.prop],j=Object.keys(M),$=0;$<j.length;++$){var V=j[$],N=M[V];typeof N=="object"&&N!==null&&w.indexOf(N)===-1&&(A.push({obj:M,prop:V}),w.push(N))}return i(A),T},p=function(T){return Object.prototype.toString.call(T)==="[object RegExp]"},S=function(T){return!T||typeof T!="object"?!1:!!(T.constructor&&T.constructor.isBuffer&&T.constructor.isBuffer(T))},b=function(T,A){return[].concat(T,A)},v=function(T,A){if(r(T)){for(var w=[],R=0;R<T.length;R+=1)w.push(A(T[R]));return w}return A(T)};return Nv={arrayToObject:a,assign:c,combine:b,compact:g,decode:d,encode:h,isBuffer:S,isRegExp:p,maybeMap:v,merge:l},Nv}var Iv,yE;function fL(){if(yE)return Iv;yE=1;var t=dL(),e=f2(),r=qx(),n=Object.prototype.hasOwnProperty,i={brackets:function(k){return k+"[]"},comma:"comma",indices:function(k,T){return k+"["+T+"]"},repeat:function(k){return k}},a=Array.isArray,l=Array.prototype.push,c=function(v,k){l.apply(v,a(k)?k:[k])},d=Date.prototype.toISOString,f=r.default,h={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,format:f,formatter:r.formatters[f],indices:!1,serializeDate:function(k){return d.call(k)},skipNulls:!1,strictNullHandling:!1},g=function(k){return typeof k=="string"||typeof k=="number"||typeof k=="boolean"||typeof k=="symbol"||typeof k=="bigint"},p={},S=function v(k,T,A,w,R,O,M,j,$,V,N,W,z,I,B,G,U,X){for(var q=k,Z=X,F=0,D=!1;(Z=Z.get(p))!==void 0&&!D;){var J=Z.get(k);if(F+=1,typeof J<"u"){if(J===F)throw new RangeError("Cyclic object value");D=!0}typeof Z.get(p)>"u"&&(F=0)}if(typeof V=="function"?q=V(T,q):q instanceof Date?q=z(q):A==="comma"&&a(q)&&(q=e.maybeMap(q,function(Le){return Le instanceof Date?z(Le):Le})),q===null){if(O)return $&&!G?$(T,h.encoder,U,"key",I):T;q=""}if(g(q)||e.isBuffer(q)){if($){var ee=G?T:$(T,h.encoder,U,"key",I);return[B(ee)+"="+B($(q,h.encoder,U,"value",I))]}return[B(T)+"="+B(String(q))]}var te=[];if(typeof q>"u")return te;var ie;if(A==="comma"&&a(q))G&&$&&(q=e.maybeMap(q,$)),ie=[{value:q.length>0?q.join(",")||null:void 0}];else if(a(V))ie=V;else{var oe=Object.keys(q);ie=N?oe.sort(N):oe}var ke=j?T.replace(/\./g,"%2E"):T,ve=w&&a(q)&&q.length===1?ke+"[]":ke;if(R&&a(q)&&q.length===0)return ve+"[]";for(var Q=0;Q<ie.length;++Q){var de=ie[Q],we=typeof de=="object"&&typeof de.value<"u"?de.value:q[de];if(!(M&&we===null)){var ue=W&&j?de.replace(/\./g,"%2E"):de,rt=a(q)?typeof A=="function"?A(ve,ue):ve:ve+(W?"."+ue:"["+ue+"]");X.set(k,F);var ye=t();ye.set(p,X),c(te,v(we,rt,A,w,R,O,M,j,A==="comma"&&G&&a(q)?null:$,V,N,W,z,I,B,G,U,ye))}}return te},b=function(k){if(!k)return h;if(typeof k.allowEmptyArrays<"u"&&typeof k.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof k.encodeDotInKeys<"u"&&typeof k.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(k.encoder!==null&&typeof k.encoder<"u"&&typeof k.encoder!="function")throw new TypeError("Encoder has to be a function.");var T=k.charset||h.charset;if(typeof k.charset<"u"&&k.charset!=="utf-8"&&k.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var A=r.default;if(typeof k.format<"u"){if(!n.call(r.formatters,k.format))throw new TypeError("Unknown format option provided.");A=k.format}var w=r.formatters[A],R=h.filter;(typeof k.filter=="function"||a(k.filter))&&(R=k.filter);var O;if(k.arrayFormat in i?O=k.arrayFormat:"indices"in k?O=k.indices?"indices":"repeat":O=h.arrayFormat,"commaRoundTrip"in k&&typeof k.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var M=typeof k.allowDots>"u"?k.encodeDotInKeys===!0?!0:h.allowDots:!!k.allowDots;return{addQueryPrefix:typeof k.addQueryPrefix=="boolean"?k.addQueryPrefix:h.addQueryPrefix,allowDots:M,allowEmptyArrays:typeof k.allowEmptyArrays=="boolean"?!!k.allowEmptyArrays:h.allowEmptyArrays,arrayFormat:O,charset:T,charsetSentinel:typeof k.charsetSentinel=="boolean"?k.charsetSentinel:h.charsetSentinel,commaRoundTrip:k.commaRoundTrip,delimiter:typeof k.delimiter>"u"?h.delimiter:k.delimiter,encode:typeof k.encode=="boolean"?k.encode:h.encode,encodeDotInKeys:typeof k.encodeDotInKeys=="boolean"?k.encodeDotInKeys:h.encodeDotInKeys,encoder:typeof k.encoder=="function"?k.encoder:h.encoder,encodeValuesOnly:typeof k.encodeValuesOnly=="boolean"?k.encodeValuesOnly:h.encodeValuesOnly,filter:R,format:A,formatter:w,serializeDate:typeof k.serializeDate=="function"?k.serializeDate:h.serializeDate,skipNulls:typeof k.skipNulls=="boolean"?k.skipNulls:h.skipNulls,sort:typeof k.sort=="function"?k.sort:null,strictNullHandling:typeof k.strictNullHandling=="boolean"?k.strictNullHandling:h.strictNullHandling}};return Iv=function(v,k){var T=v,A=b(k),w,R;typeof A.filter=="function"?(R=A.filter,T=R("",T)):a(A.filter)&&(R=A.filter,w=R);var O=[];if(typeof T!="object"||T===null)return"";var M=i[A.arrayFormat],j=M==="comma"&&A.commaRoundTrip;w||(w=Object.keys(T)),A.sort&&w.sort(A.sort);for(var $=t(),V=0;V<w.length;++V){var N=w[V];A.skipNulls&&T[N]===null||c(O,S(T[N],N,M,j,A.allowEmptyArrays,A.strictNullHandling,A.skipNulls,A.encodeDotInKeys,A.encode?A.encoder:null,A.filter,A.sort,A.allowDots,A.serializeDate,A.format,A.formatter,A.encodeValuesOnly,A.charset,$))}var W=O.join(A.delimiter),z=A.addQueryPrefix===!0?"?":"";return A.charsetSentinel&&(A.charset==="iso-8859-1"?z+="utf8=%26%2310003%3B&":z+="utf8=%E2%9C%93&"),W.length>0?z+W:""},Iv}var Lv,bE;function pL(){if(bE)return Lv;bE=1;var t=f2(),e=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:t.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},i=function(p){return p.replace(/&#(\d+);/g,function(S,b){return String.fromCharCode(parseInt(b,10))})},a=function(p,S){return p&&typeof p=="string"&&S.comma&&p.indexOf(",")>-1?p.split(","):p},l="utf8=%26%2310003%3B",c="utf8=%E2%9C%93",d=function(S,b){var v={__proto__:null},k=b.ignoreQueryPrefix?S.replace(/^\?/,""):S;k=k.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var T=b.parameterLimit===1/0?void 0:b.parameterLimit,A=k.split(b.delimiter,T),w=-1,R,O=b.charset;if(b.charsetSentinel)for(R=0;R<A.length;++R)A[R].indexOf("utf8=")===0&&(A[R]===c?O="utf-8":A[R]===l&&(O="iso-8859-1"),w=R,R=A.length);for(R=0;R<A.length;++R)if(R!==w){var M=A[R],j=M.indexOf("]="),$=j===-1?M.indexOf("="):j+1,V,N;$===-1?(V=b.decoder(M,n.decoder,O,"key"),N=b.strictNullHandling?null:""):(V=b.decoder(M.slice(0,$),n.decoder,O,"key"),N=t.maybeMap(a(M.slice($+1),b),function(z){return b.decoder(z,n.decoder,O,"value")})),N&&b.interpretNumericEntities&&O==="iso-8859-1"&&(N=i(N)),M.indexOf("[]=")>-1&&(N=r(N)?[N]:N);var W=e.call(v,V);W&&b.duplicates==="combine"?v[V]=t.combine(v[V],N):(!W||b.duplicates==="last")&&(v[V]=N)}return v},f=function(p,S,b,v){for(var k=v?S:a(S,b),T=p.length-1;T>=0;--T){var A,w=p[T];if(w==="[]"&&b.parseArrays)A=b.allowEmptyArrays&&(k===""||b.strictNullHandling&&k===null)?[]:[].concat(k);else{A=b.plainObjects?Object.create(null):{};var R=w.charAt(0)==="["&&w.charAt(w.length-1)==="]"?w.slice(1,-1):w,O=b.decodeDotInKeys?R.replace(/%2E/g,"."):R,M=parseInt(O,10);!b.parseArrays&&O===""?A={0:k}:!isNaN(M)&&w!==O&&String(M)===O&&M>=0&&b.parseArrays&&M<=b.arrayLimit?(A=[],A[M]=k):O!=="__proto__"&&(A[O]=k)}k=A}return k},h=function(S,b,v,k){if(S){var T=v.allowDots?S.replace(/\.([^.[]+)/g,"[$1]"):S,A=/(\[[^[\]]*])/,w=/(\[[^[\]]*])/g,R=v.depth>0&&A.exec(T),O=R?T.slice(0,R.index):T,M=[];if(O){if(!v.plainObjects&&e.call(Object.prototype,O)&&!v.allowPrototypes)return;M.push(O)}for(var j=0;v.depth>0&&(R=w.exec(T))!==null&&j<v.depth;){if(j+=1,!v.plainObjects&&e.call(Object.prototype,R[1].slice(1,-1))&&!v.allowPrototypes)return;M.push(R[1])}if(R){if(v.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+v.depth+" and strictDepth is true");M.push("["+T.slice(R.index)+"]")}return f(M,b,v,k)}},g=function(S){if(!S)return n;if(typeof S.allowEmptyArrays<"u"&&typeof S.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof S.decodeDotInKeys<"u"&&typeof S.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(S.decoder!==null&&typeof S.decoder<"u"&&typeof S.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof S.charset<"u"&&S.charset!=="utf-8"&&S.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var b=typeof S.charset>"u"?n.charset:S.charset,v=typeof S.duplicates>"u"?n.duplicates:S.duplicates;if(v!=="combine"&&v!=="first"&&v!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var k=typeof S.allowDots>"u"?S.decodeDotInKeys===!0?!0:n.allowDots:!!S.allowDots;return{allowDots:k,allowEmptyArrays:typeof S.allowEmptyArrays=="boolean"?!!S.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof S.allowPrototypes=="boolean"?S.allowPrototypes:n.allowPrototypes,allowSparse:typeof S.allowSparse=="boolean"?S.allowSparse:n.allowSparse,arrayLimit:typeof S.arrayLimit=="number"?S.arrayLimit:n.arrayLimit,charset:b,charsetSentinel:typeof S.charsetSentinel=="boolean"?S.charsetSentinel:n.charsetSentinel,comma:typeof S.comma=="boolean"?S.comma:n.comma,decodeDotInKeys:typeof S.decodeDotInKeys=="boolean"?S.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof S.decoder=="function"?S.decoder:n.decoder,delimiter:typeof S.delimiter=="string"||t.isRegExp(S.delimiter)?S.delimiter:n.delimiter,depth:typeof S.depth=="number"||S.depth===!1?+S.depth:n.depth,duplicates:v,ignoreQueryPrefix:S.ignoreQueryPrefix===!0,interpretNumericEntities:typeof S.interpretNumericEntities=="boolean"?S.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof S.parameterLimit=="number"?S.parameterLimit:n.parameterLimit,parseArrays:S.parseArrays!==!1,plainObjects:typeof S.plainObjects=="boolean"?S.plainObjects:n.plainObjects,strictDepth:typeof S.strictDepth=="boolean"?!!S.strictDepth:n.strictDepth,strictNullHandling:typeof S.strictNullHandling=="boolean"?S.strictNullHandling:n.strictNullHandling}};return Lv=function(p,S){var b=g(S);if(p===""||p===null||typeof p>"u")return b.plainObjects?Object.create(null):{};for(var v=typeof p=="string"?d(p,b):p,k=b.plainObjects?Object.create(null):{},T=Object.keys(v),A=0;A<T.length;++A){var w=T[A],R=h(w,v[w],b,typeof p=="string");k=t.merge(k,R,b)}return b.allowSparse===!0?k:t.compact(k)},Lv}var Fv,vE;function hL(){if(vE)return Fv;vE=1;var t=fL(),e=pL(),r=qx();return Fv={formats:r,parse:e,stringify:t},Fv}var SE;function Wx(){if(SE)return mc;SE=1;var t=BI();function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var r=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r",`
`,"	"],l=["{","}","|","\\","^","`"].concat(a),c=["'"].concat(l),d=["%","/","?",";","#"].concat(c),f=["/","?","#"],h=255,g=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,S={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},k=hL();function T(O,M,j){if(O&&typeof O=="object"&&O instanceof e)return O;var $=new e;return $.parse(O,M,j),$}e.prototype.parse=function(O,M,j){if(typeof O!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof O);var $=O.indexOf("?"),V=$!==-1&&$<O.indexOf("#")?"?":"#",N=O.split(V),W=/\\/g;N[0]=N[0].replace(W,"/"),O=N.join(V);var z=O;if(z=z.trim(),!j&&O.split("#").length===1){var I=i.exec(z);if(I)return this.path=z,this.href=z,this.pathname=I[1],I[2]?(this.search=I[2],M?this.query=k.parse(this.search.substr(1)):this.query=this.search.substr(1)):M&&(this.search="",this.query={}),this}var B=r.exec(z);if(B){B=B[0];var G=B.toLowerCase();this.protocol=G,z=z.substr(B.length)}if(j||B||z.match(/^\/\/[^@/]+@[^@/]+/)){var U=z.substr(0,2)==="//";U&&!(B&&b[B])&&(z=z.substr(2),this.slashes=!0)}if(!b[B]&&(U||B&&!v[B])){for(var X=-1,q=0;q<f.length;q++){var Z=z.indexOf(f[q]);Z!==-1&&(X===-1||Z<X)&&(X=Z)}var F,D;X===-1?D=z.lastIndexOf("@"):D=z.lastIndexOf("@",X),D!==-1&&(F=z.slice(0,D),z=z.slice(D+1),this.auth=decodeURIComponent(F)),X=-1;for(var q=0;q<d.length;q++){var Z=z.indexOf(d[q]);Z!==-1&&(X===-1||Z<X)&&(X=Z)}X===-1&&(X=z.length),this.host=z.slice(0,X),z=z.slice(X),this.parseHost(),this.hostname=this.hostname||"";var J=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!J)for(var ee=this.hostname.split(/\./),q=0,te=ee.length;q<te;q++){var ie=ee[q];if(ie&&!ie.match(g)){for(var oe="",ke=0,ve=ie.length;ke<ve;ke++)ie.charCodeAt(ke)>127?oe+="x":oe+=ie[ke];if(!oe.match(g)){var Q=ee.slice(0,q),de=ee.slice(q+1),we=ie.match(p);we&&(Q.push(we[1]),de.unshift(we[2])),de.length&&(z="/"+de.join(".")+z),this.hostname=Q.join(".");break}}}this.hostname.length>h?this.hostname="":this.hostname=this.hostname.toLowerCase(),J||(this.hostname=t.toASCII(this.hostname));var ue=this.port?":"+this.port:"",rt=this.hostname||"";this.host=rt+ue,this.href+=this.host,J&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),z[0]!=="/"&&(z="/"+z))}if(!S[G])for(var q=0,te=c.length;q<te;q++){var ye=c[q];if(z.indexOf(ye)!==-1){var Le=encodeURIComponent(ye);Le===ye&&(Le=escape(ye)),z=z.split(ye).join(Le)}}var ut=z.indexOf("#");ut!==-1&&(this.hash=z.substr(ut),z=z.slice(0,ut));var Be=z.indexOf("?");if(Be!==-1?(this.search=z.substr(Be),this.query=z.substr(Be+1),M&&(this.query=k.parse(this.query)),z=z.slice(0,Be)):M&&(this.search="",this.query={}),z&&(this.pathname=z),v[G]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ue=this.pathname||"",bt=this.search||"";this.path=ue+bt}return this.href=this.format(),this};function A(O){return typeof O=="string"&&(O=T(O)),O instanceof e?O.format():e.prototype.format.call(O)}e.prototype.format=function(){var O=this.auth||"";O&&(O=encodeURIComponent(O),O=O.replace(/%3A/i,":"),O+="@");var M=this.protocol||"",j=this.pathname||"",$=this.hash||"",V=!1,N="";this.host?V=O+this.host:this.hostname&&(V=O+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(V+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(N=k.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var W=this.search||N&&"?"+N||"";return M&&M.substr(-1)!==":"&&(M+=":"),this.slashes||(!M||v[M])&&V!==!1?(V="//"+(V||""),j&&j.charAt(0)!=="/"&&(j="/"+j)):V||(V=""),$&&$.charAt(0)!=="#"&&($="#"+$),W&&W.charAt(0)!=="?"&&(W="?"+W),j=j.replace(/[?#]/g,function(z){return encodeURIComponent(z)}),W=W.replace("#","%23"),M+V+j+W+$};function w(O,M){return T(O,!1,!0).resolve(M)}e.prototype.resolve=function(O){return this.resolveObject(T(O,!1,!0)).format()};function R(O,M){return O?T(O,!1,!0).resolveObject(M):M}return e.prototype.resolveObject=function(O){if(typeof O=="string"){var M=new e;M.parse(O,!1,!0),O=M}for(var j=new e,$=Object.keys(this),V=0;V<$.length;V++){var N=$[V];j[N]=this[N]}if(j.hash=O.hash,O.href==="")return j.href=j.format(),j;if(O.slashes&&!O.protocol){for(var W=Object.keys(O),z=0;z<W.length;z++){var I=W[z];I!=="protocol"&&(j[I]=O[I])}return v[j.protocol]&&j.hostname&&!j.pathname&&(j.pathname="/",j.path=j.pathname),j.href=j.format(),j}if(O.protocol&&O.protocol!==j.protocol){if(!v[O.protocol]){for(var B=Object.keys(O),G=0;G<B.length;G++){var U=B[G];j[U]=O[U]}return j.href=j.format(),j}if(j.protocol=O.protocol,!O.host&&!b[O.protocol]){for(var te=(O.pathname||"").split("/");te.length&&!(O.host=te.shift()););O.host||(O.host=""),O.hostname||(O.hostname=""),te[0]!==""&&te.unshift(""),te.length<2&&te.unshift(""),j.pathname=te.join("/")}else j.pathname=O.pathname;if(j.search=O.search,j.query=O.query,j.host=O.host||"",j.auth=O.auth,j.hostname=O.hostname||O.host,j.port=O.port,j.pathname||j.search){var X=j.pathname||"",q=j.search||"";j.path=X+q}return j.slashes=j.slashes||O.slashes,j.href=j.format(),j}var Z=j.pathname&&j.pathname.charAt(0)==="/",F=O.host||O.pathname&&O.pathname.charAt(0)==="/",D=F||Z||j.host&&O.pathname,J=D,ee=j.pathname&&j.pathname.split("/")||[],te=O.pathname&&O.pathname.split("/")||[],ie=j.protocol&&!v[j.protocol];if(ie&&(j.hostname="",j.port=null,j.host&&(ee[0]===""?ee[0]=j.host:ee.unshift(j.host)),j.host="",O.protocol&&(O.hostname=null,O.port=null,O.host&&(te[0]===""?te[0]=O.host:te.unshift(O.host)),O.host=null),D=D&&(te[0]===""||ee[0]==="")),F)j.host=O.host||O.host===""?O.host:j.host,j.hostname=O.hostname||O.hostname===""?O.hostname:j.hostname,j.search=O.search,j.query=O.query,ee=te;else if(te.length)ee||(ee=[]),ee.pop(),ee=ee.concat(te),j.search=O.search,j.query=O.query;else if(O.search!=null){if(ie){j.host=ee.shift(),j.hostname=j.host;var oe=j.host&&j.host.indexOf("@")>0?j.host.split("@"):!1;oe&&(j.auth=oe.shift(),j.hostname=oe.shift(),j.host=j.hostname)}return j.search=O.search,j.query=O.query,(j.pathname!==null||j.search!==null)&&(j.path=(j.pathname?j.pathname:"")+(j.search?j.search:"")),j.href=j.format(),j}if(!ee.length)return j.pathname=null,j.search?j.path="/"+j.search:j.path=null,j.href=j.format(),j;for(var ke=ee.slice(-1)[0],ve=(j.host||O.host||ee.length>1)&&(ke==="."||ke==="..")||ke==="",Q=0,de=ee.length;de>=0;de--)ke=ee[de],ke==="."?ee.splice(de,1):ke===".."?(ee.splice(de,1),Q++):Q&&(ee.splice(de,1),Q--);if(!D&&!J)for(;Q--;Q)ee.unshift("..");D&&ee[0]!==""&&(!ee[0]||ee[0].charAt(0)!=="/")&&ee.unshift(""),ve&&ee.join("/").substr(-1)!=="/"&&ee.push("");var we=ee[0]===""||ee[0]&&ee[0].charAt(0)==="/";if(ie){j.hostname=we?"":ee.length?ee.shift():"",j.host=j.hostname;var oe=j.host&&j.host.indexOf("@")>0?j.host.split("@"):!1;oe&&(j.auth=oe.shift(),j.hostname=oe.shift(),j.host=j.hostname)}return D=D||j.host&&ee.length,D&&!we&&ee.unshift(""),ee.length>0?j.pathname=ee.join("/"):(j.pathname=null,j.path=null),(j.pathname!==null||j.search!==null)&&(j.path=(j.pathname?j.pathname:"")+(j.search?j.search:"")),j.auth=O.auth||j.auth,j.slashes=j.slashes||O.slashes,j.href=j.format(),j},e.prototype.parseHost=function(){var O=this.host,M=n.exec(O);M&&(M=M[0],M!==":"&&(this.port=M.substr(1)),O=O.substr(0,O.length-M.length)),O&&(this.hostname=O)},mc.parse=T,mc.resolve=w,mc.resolveObject=R,mc.format=A,mc.Url=e,mc}var ao={},xE;function Tc(){if(xE)return ao;xE=1;var t=Wx(),e=ao.ValidationError=function(v,k,T,A,w,R){if(Array.isArray(A)?(this.path=A,this.property=A.reduce(function(M,j){return M+d(j)},"instance")):A!==void 0&&(this.property=A),v&&(this.message=v),T){var O=T.$id||T.id;this.schema=O||T}k!==void 0&&(this.instance=k),this.name=w,this.argument=R,this.stack=this.toString()};e.prototype.toString=function(){return this.property+" "+this.message};var r=ao.ValidatorResult=function(v,k,T,A){this.instance=v,this.schema=k,this.options=T,this.path=A.path,this.propertyPath=A.propertyPath,this.errors=[],this.throwError=T&&T.throwError,this.throwFirst=T&&T.throwFirst,this.throwAll=T&&T.throwAll,this.disableFormat=T&&T.disableFormat===!0};r.prototype.addError=function(v){var k;if(typeof v=="string")k=new e(v,this.instance,this.schema,this.path);else{if(!v)throw new Error("Missing error detail");if(!v.message)throw new Error("Missing error message");if(!v.name)throw new Error("Missing validator type");k=new e(v.message,this.instance,this.schema,this.path,v.name,v.argument)}if(this.errors.push(k),this.throwFirst)throw new i(this);if(this.throwError)throw k;return k},r.prototype.importErrors=function(v){typeof v=="string"||v&&v.validatorType?this.addError(v):v&&v.errors&&(this.errors=this.errors.concat(v.errors))};function n(b,v){return v+": "+b.toString()+`
`}r.prototype.toString=function(v){return this.errors.map(n).join("")},Object.defineProperty(r.prototype,"valid",{get:function(){return!this.errors.length}}),ao.ValidatorResultError=i;function i(b){Error.captureStackTrace&&Error.captureStackTrace(this,i),this.instance=b.instance,this.schema=b.schema,this.options=b.options,this.errors=b.errors}i.prototype=new Error,i.prototype.constructor=i,i.prototype.name="Validation Error";var a=ao.SchemaError=function b(v,k){this.message=v,this.schema=k,Error.call(this,v),Error.captureStackTrace(this,b)};a.prototype=Object.create(Error.prototype,{constructor:{value:a,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var l=ao.SchemaContext=function(v,k,T,A,w){this.schema=v,this.options=k,Array.isArray(T)?(this.path=T,this.propertyPath=T.reduce(function(R,O){return R+d(O)},"instance")):this.propertyPath=T,this.base=A,this.schemas=w};l.prototype.resolve=function(v){return t.resolve(this.base,v)},l.prototype.makeChild=function(v,k){var T=k===void 0?this.path:this.path.concat([k]),A=v.$id||v.id,w=t.resolve(this.base,A||""),R=new l(v,this.options,T,w,Object.create(this.schemas));return A&&!R.schemas[w]&&(R.schemas[w]=v),R};var c=ao.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(b){return typeof b=="string"&&parseFloat(b)===parseInt(b,10)&&!isNaN(b)},regex:function(b){var v=!0;try{new RegExp(b)}catch{v=!1}return v},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};c.regexp=c.regex,c.pattern=c.regex,c.ipv4=c["ip-address"],ao.isFormat=function(v,k,T){if(typeof v=="string"&&c[k]!==void 0){if(c[k]instanceof RegExp)return c[k].test(v);if(typeof c[k]=="function")return c[k](v)}else if(T&&T.customFormats&&typeof T.customFormats[k]=="function")return T.customFormats[k](v);return!0};var d=ao.makeSuffix=function(v){return v=v.toString(),!v.match(/[.\s\[\]]/)&&!v.match(/^[\d]/)?"."+v:v.match(/^\d+$/)?"["+v+"]":"["+JSON.stringify(v)+"]"};ao.deepCompareStrict=function b(v,k){if(typeof v!=typeof k)return!1;if(Array.isArray(v))return!Array.isArray(k)||v.length!==k.length?!1:v.every(function(w,R){return b(v[R],k[R])});if(typeof v=="object"){if(!v||!k)return v===k;var T=Object.keys(v),A=Object.keys(k);return T.length!==A.length?!1:T.every(function(w){return b(v[w],k[w])})}return v===k};function f(b,v,k,T){typeof k=="object"?v[T]=p(b[T],k):b.indexOf(k)===-1&&v.push(k)}function h(b,v,k){v[k]=b[k]}function g(b,v,k,T){typeof v[T]!="object"||!v[T]?k[T]=v[T]:b[T]?k[T]=p(b[T],v[T]):k[T]=v[T]}function p(b,v){var k=Array.isArray(v),T=k&&[]||{};return k?(b=b||[],T=T.concat(b),v.forEach(f.bind(null,b,T))):(b&&typeof b=="object"&&Object.keys(b).forEach(h.bind(null,b,T)),Object.keys(v).forEach(g.bind(null,b,v,T))),T}ao.deepMerge=p,ao.objectGetPath=function(v,k){for(var T=k.split("/").slice(1),A;typeof(A=T.shift())=="string";){var w=decodeURIComponent(A.replace(/~0/,"~").replace(/~1/g,"/"));if(!(w in v))return;v=v[w]}return v};function S(b){return"/"+encodeURIComponent(b).replace(/~/g,"%7E")}return ao.encodePath=function(v){return v.map(S).join("")},ao.getDecimalPlaces=function(v){var k=0;if(isNaN(v))return k;typeof v!="number"&&(v=Number(v));var T=v.toString().split("e");if(T.length===2){if(T[1][0]!=="-")return k;k=Number(T[1].slice(1))}var A=T[0].split(".");return A.length===2&&(k+=A[1].length),k},ao.isSchema=function(v){return typeof v=="object"&&v||typeof v=="boolean"},ao}var Bv,wE;function gL(){if(wE)return Bv;wE=1;var t=Tc(),e=t.ValidatorResult,r=t.SchemaError,n={};n.ignoreProperties={id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0};var i=n.validators={};i.type=function(g,p,S,b){if(g===void 0)return null;var v=new e(g,p,S,b),k=Array.isArray(p.type)?p.type:[p.type];if(!k.some(this.testType.bind(this,g,p,S,b))){var T=k.map(function(A){if(A){var w=A.$id||A.id;return w?"<"+w+">":A+""}});v.addError({name:"type",argument:T,message:"is not of a type(s) "+T})}return v};function a(h,g,p,S,b){var v=g.throwError,k=g.throwAll;g.throwError=!1,g.throwAll=!1;var T=this.validateSchema(h,b,g,p);return g.throwError=v,g.throwAll=k,!T.valid&&S instanceof Function&&S(T),T.valid}i.anyOf=function(g,p,S,b){if(g===void 0)return null;var v=new e(g,p,S,b),k=new e(g,p,S,b);if(!Array.isArray(p.anyOf))throw new r("anyOf must be an array");if(!p.anyOf.some(a.bind(this,g,S,b,function(A){k.importErrors(A)}))){var T=p.anyOf.map(function(A,w){var R=A.$id||A.id;return R?"<"+R+">":A.title&&JSON.stringify(A.title)||A.$ref&&"<"+A.$ref+">"||"[subschema "+w+"]"});S.nestedErrors&&v.importErrors(k),v.addError({name:"anyOf",argument:T,message:"is not any of "+T.join(",")})}return v},i.allOf=function(g,p,S,b){if(g===void 0)return null;if(!Array.isArray(p.allOf))throw new r("allOf must be an array");var v=new e(g,p,S,b),k=this;return p.allOf.forEach(function(T,A){var w=k.validateSchema(g,T,S,b);if(!w.valid){var R=T.$id||T.id,O=R||T.title&&JSON.stringify(T.title)||T.$ref&&"<"+T.$ref+">"||"[subschema "+A+"]";v.addError({name:"allOf",argument:{id:O,length:w.errors.length,valid:w},message:"does not match allOf schema "+O+" with "+w.errors.length+" error[s]:"}),v.importErrors(w)}}),v},i.oneOf=function(g,p,S,b){if(g===void 0)return null;if(!Array.isArray(p.oneOf))throw new r("oneOf must be an array");var v=new e(g,p,S,b),k=new e(g,p,S,b),T=p.oneOf.filter(a.bind(this,g,S,b,function(w){k.importErrors(w)})).length,A=p.oneOf.map(function(w,R){var O=w.$id||w.id;return O||w.title&&JSON.stringify(w.title)||w.$ref&&"<"+w.$ref+">"||"[subschema "+R+"]"});return T!==1&&(S.nestedErrors&&v.importErrors(k),v.addError({name:"oneOf",argument:A,message:"is not exactly one from "+A.join(",")})),v},i.if=function(g,p,S,b){if(g===void 0)return null;if(!t.isSchema(p.if))throw new Error('Expected "if" keyword to be a schema');var v=a.call(this,g,S,b,null,p.if),k=new e(g,p,S,b),T;if(v){if(p.then===void 0)return;if(!t.isSchema(p.then))throw new Error('Expected "then" keyword to be a schema');T=this.validateSchema(g,p.then,S,b.makeChild(p.then)),k.importErrors(T)}else{if(p.else===void 0)return;if(!t.isSchema(p.else))throw new Error('Expected "else" keyword to be a schema');T=this.validateSchema(g,p.else,S,b.makeChild(p.else)),k.importErrors(T)}return k};function l(h,g){if(Object.hasOwnProperty.call(h,g))return h[g];if(g in h){for(;h=Object.getPrototypeOf(h);)if(Object.propertyIsEnumerable.call(h,g))return h[g]}}i.propertyNames=function(g,p,S,b){if(this.types.object(g)){var v=new e(g,p,S,b),k=p.propertyNames!==void 0?p.propertyNames:{};if(!t.isSchema(k))throw new r('Expected "propertyNames" to be a schema (object or boolean)');for(var T in g)if(l(g,T)!==void 0){var A=this.validateSchema(T,k,S,b.makeChild(k));v.importErrors(A)}return v}},i.properties=function(g,p,S,b){if(this.types.object(g)){var v=new e(g,p,S,b),k=p.properties||{};for(var T in k){var A=k[T];if(A!==void 0){if(A===null)throw new r('Unexpected null, expected schema in "properties"');typeof S.preValidateProperty=="function"&&S.preValidateProperty(g,T,A,S,b);var w=l(g,T),R=this.validateSchema(w,A,S,b.makeChild(A,T));R.instance!==v.instance[T]&&(v.instance[T]=R.instance),v.importErrors(R)}}return v}};function c(h,g,p,S,b,v){if(this.types.object(h)&&!(g.properties&&g.properties[b]!==void 0))if(g.additionalProperties===!1)v.addError({name:"additionalProperties",argument:b,message:"is not allowed to have the additional property "+JSON.stringify(b)});else{var k=g.additionalProperties||{};typeof p.preValidateProperty=="function"&&p.preValidateProperty(h,b,k,p,S);var T=this.validateSchema(h[b],k,p,S.makeChild(k,b));T.instance!==v.instance[b]&&(v.instance[b]=T.instance),v.importErrors(T)}}i.patternProperties=function(g,p,S,b){if(this.types.object(g)){var v=new e(g,p,S,b),k=p.patternProperties||{};for(var T in g){var A=!0;for(var w in k){var R=k[w];if(R!==void 0){if(R===null)throw new r('Unexpected null, expected schema in "patternProperties"');try{var O=new RegExp(w,"u")}catch{O=new RegExp(w)}if(O.test(T)){A=!1,typeof S.preValidateProperty=="function"&&S.preValidateProperty(g,T,R,S,b);var M=this.validateSchema(g[T],R,S,b.makeChild(R,T));M.instance!==v.instance[T]&&(v.instance[T]=M.instance),v.importErrors(M)}}}A&&c.call(this,g,p,S,b,T,v)}return v}},i.additionalProperties=function(g,p,S,b){if(this.types.object(g)){if(p.patternProperties)return null;var v=new e(g,p,S,b);for(var k in g)c.call(this,g,p,S,b,k,v);return v}},i.minProperties=function(g,p,S,b){if(this.types.object(g)){var v=new e(g,p,S,b),k=Object.keys(g);return k.length>=p.minProperties||v.addError({name:"minProperties",argument:p.minProperties,message:"does not meet minimum property length of "+p.minProperties}),v}},i.maxProperties=function(g,p,S,b){if(this.types.object(g)){var v=new e(g,p,S,b),k=Object.keys(g);return k.length<=p.maxProperties||v.addError({name:"maxProperties",argument:p.maxProperties,message:"does not meet maximum property length of "+p.maxProperties}),v}},i.items=function(g,p,S,b){var v=this;if(this.types.array(g)&&p.items!==void 0){var k=new e(g,p,S,b);return g.every(function(T,A){if(Array.isArray(p.items))var w=p.items[A]===void 0?p.additionalItems:p.items[A];else var w=p.items;if(w===void 0)return!0;if(w===!1)return k.addError({name:"items",message:"additionalItems not permitted"}),!1;var R=v.validateSchema(T,w,S,b.makeChild(w,A));return R.instance!==k.instance[A]&&(k.instance[A]=R.instance),k.importErrors(R),!0}),k}},i.contains=function(g,p,S,b){var v=this;if(this.types.array(g)&&p.contains!==void 0){if(!t.isSchema(p.contains))throw new Error('Expected "contains" keyword to be a schema');var k=new e(g,p,S,b),T=g.some(function(A,w){var R=v.validateSchema(A,p.contains,S,b.makeChild(p.contains,w));return R.errors.length===0});return T===!1&&k.addError({name:"contains",argument:p.contains,message:"must contain an item matching given schema"}),k}},i.minimum=function(g,p,S,b){if(this.types.number(g)){var v=new e(g,p,S,b);return p.exclusiveMinimum&&p.exclusiveMinimum===!0?g>p.minimum||v.addError({name:"minimum",argument:p.minimum,message:"must be greater than "+p.minimum}):g>=p.minimum||v.addError({name:"minimum",argument:p.minimum,message:"must be greater than or equal to "+p.minimum}),v}},i.maximum=function(g,p,S,b){if(this.types.number(g)){var v=new e(g,p,S,b);return p.exclusiveMaximum&&p.exclusiveMaximum===!0?g<p.maximum||v.addError({name:"maximum",argument:p.maximum,message:"must be less than "+p.maximum}):g<=p.maximum||v.addError({name:"maximum",argument:p.maximum,message:"must be less than or equal to "+p.maximum}),v}},i.exclusiveMinimum=function(g,p,S,b){if(typeof p.exclusiveMinimum!="boolean"&&this.types.number(g)){var v=new e(g,p,S,b),k=g>p.exclusiveMinimum;return k||v.addError({name:"exclusiveMinimum",argument:p.exclusiveMinimum,message:"must be strictly greater than "+p.exclusiveMinimum}),v}},i.exclusiveMaximum=function(g,p,S,b){if(typeof p.exclusiveMaximum!="boolean"&&this.types.number(g)){var v=new e(g,p,S,b),k=g<p.exclusiveMaximum;return k||v.addError({name:"exclusiveMaximum",argument:p.exclusiveMaximum,message:"must be strictly less than "+p.exclusiveMaximum}),v}};var d=function(g,p,S,b,v,k){if(this.types.number(g)){var T=p[v];if(T==0)throw new r(v+" cannot be zero");var A=new e(g,p,S,b),w=t.getDecimalPlaces(g),R=t.getDecimalPlaces(T),O=Math.max(w,R),M=Math.pow(10,O);return Math.round(g*M)%Math.round(T*M)!==0&&A.addError({name:v,argument:T,message:k+JSON.stringify(T)}),A}};i.multipleOf=function(g,p,S,b){return d.call(this,g,p,S,b,"multipleOf","is not a multiple of (divisible by) ")},i.divisibleBy=function(g,p,S,b){return d.call(this,g,p,S,b,"divisibleBy","is not divisible by (multiple of) ")},i.required=function(g,p,S,b){var v=new e(g,p,S,b);return g===void 0&&p.required===!0?v.addError({name:"required",message:"is required"}):this.types.object(g)&&Array.isArray(p.required)&&p.required.forEach(function(k){l(g,k)===void 0&&v.addError({name:"required",argument:k,message:"requires property "+JSON.stringify(k)})}),v},i.pattern=function(g,p,S,b){if(this.types.string(g)){var v=new e(g,p,S,b),k=p.pattern;try{var T=new RegExp(k,"u")}catch{T=new RegExp(k)}return g.match(T)||v.addError({name:"pattern",argument:p.pattern,message:"does not match pattern "+JSON.stringify(p.pattern.toString())}),v}},i.format=function(g,p,S,b){if(g!==void 0){var v=new e(g,p,S,b);return!v.disableFormat&&!t.isFormat(g,p.format,this)&&v.addError({name:"format",argument:p.format,message:"does not conform to the "+JSON.stringify(p.format)+" format"}),v}},i.minLength=function(g,p,S,b){if(this.types.string(g)){var v=new e(g,p,S,b),k=g.match(/[\uDC00-\uDFFF]/g),T=g.length-(k?k.length:0);return T>=p.minLength||v.addError({name:"minLength",argument:p.minLength,message:"does not meet minimum length of "+p.minLength}),v}},i.maxLength=function(g,p,S,b){if(this.types.string(g)){var v=new e(g,p,S,b),k=g.match(/[\uDC00-\uDFFF]/g),T=g.length-(k?k.length:0);return T<=p.maxLength||v.addError({name:"maxLength",argument:p.maxLength,message:"does not meet maximum length of "+p.maxLength}),v}},i.minItems=function(g,p,S,b){if(this.types.array(g)){var v=new e(g,p,S,b);return g.length>=p.minItems||v.addError({name:"minItems",argument:p.minItems,message:"does not meet minimum length of "+p.minItems}),v}},i.maxItems=function(g,p,S,b){if(this.types.array(g)){var v=new e(g,p,S,b);return g.length<=p.maxItems||v.addError({name:"maxItems",argument:p.maxItems,message:"does not meet maximum length of "+p.maxItems}),v}};function f(h,g,p){var S,b=p.length;for(S=g+1,b;S<b;S++)if(t.deepCompareStrict(h,p[S]))return!1;return!0}return i.uniqueItems=function(g,p,S,b){if(p.uniqueItems===!0&&this.types.array(g)){var v=new e(g,p,S,b);return g.every(f)||v.addError({name:"uniqueItems",message:"contains duplicate item"}),v}},i.dependencies=function(g,p,S,b){if(this.types.object(g)){var v=new e(g,p,S,b);for(var k in p.dependencies)if(g[k]!==void 0){var T=p.dependencies[k],A=b.makeChild(T,k);if(typeof T=="string"&&(T=[T]),Array.isArray(T))T.forEach(function(R){g[R]===void 0&&v.addError({name:"dependencies",argument:A.propertyPath,message:"property "+R+" not found, required by "+A.propertyPath})});else{var w=this.validateSchema(g,T,S,A);v.instance!==w.instance&&(v.instance=w.instance),w&&w.errors.length&&(v.addError({name:"dependencies",argument:A.propertyPath,message:"does not meet dependency required by "+A.propertyPath}),v.importErrors(w))}}return v}},i.enum=function(g,p,S,b){if(g===void 0)return null;if(!Array.isArray(p.enum))throw new r("enum expects an array",p);var v=new e(g,p,S,b);return p.enum.some(t.deepCompareStrict.bind(null,g))||v.addError({name:"enum",argument:p.enum,message:"is not one of enum values: "+p.enum.map(String).join(",")}),v},i.const=function(g,p,S,b){if(g===void 0)return null;var v=new e(g,p,S,b);return t.deepCompareStrict(p.const,g)||v.addError({name:"const",argument:p.const,message:"does not exactly match expected constant: "+p.const}),v},i.not=i.disallow=function(g,p,S,b){var v=this;if(g===void 0)return null;var k=new e(g,p,S,b),T=p.not||p.disallow;return T?(Array.isArray(T)||(T=[T]),T.forEach(function(A){if(v.testType(g,p,S,b,A)){var w=A&&(A.$id||A.id),R=w||A;k.addError({name:"not",argument:R,message:"is of prohibited type "+R})}}),k):null},Bv=n,Bv}var Fh={},kE;function DS(){if(kE)return Fh;kE=1;var t=Wx(),e=Tc();Fh.SchemaScanResult=r;function r(n,i){this.id=n,this.ref=i}return Fh.scan=function(i,a){function l(g,p){if(!(!p||typeof p!="object")){if(p.$ref){var S=t.resolve(g,p.$ref);h[S]=h[S]?h[S]+1:0;return}var b=p.$id||p.id,v=b?t.resolve(g,b):g;if(v){if(v.indexOf("#")<0&&(v+="#"),f[v]){if(!e.deepCompareStrict(f[v],p))throw new Error("Schema <"+v+"> already exists with different definition");return f[v]}f[v]=p,v[v.length-1]=="#"&&(f[v.substring(0,v.length-1)]=p)}c(v+"/items",Array.isArray(p.items)?p.items:[p.items]),c(v+"/extends",Array.isArray(p.extends)?p.extends:[p.extends]),l(v+"/additionalItems",p.additionalItems),d(v+"/properties",p.properties),l(v+"/additionalProperties",p.additionalProperties),d(v+"/definitions",p.definitions),d(v+"/patternProperties",p.patternProperties),d(v+"/dependencies",p.dependencies),c(v+"/disallow",p.disallow),c(v+"/allOf",p.allOf),c(v+"/anyOf",p.anyOf),c(v+"/oneOf",p.oneOf),l(v+"/not",p.not)}}function c(g,p){if(Array.isArray(p))for(var S=0;S<p.length;S++)l(g+"/"+S,p[S])}function d(g,p){if(!(!p||typeof p!="object"))for(var S in p)l(g+"/"+S,p[S])}var f={},h={};return l(i,a),new r(f,h)},Fh}var $v,CE;function mL(){if(CE)return $v;CE=1;var t=Wx(),e=gL(),r=Tc(),n=DS().scan,i=r.ValidatorResult,a=r.ValidatorResultError,l=r.SchemaError,c=r.SchemaContext,d="/",f=function p(){this.customFormats=Object.create(p.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(g),this.attributes=Object.create(e.validators)};f.prototype.customFormats={},f.prototype.schemas=null,f.prototype.types=null,f.prototype.attributes=null,f.prototype.unresolvedRefs=null,f.prototype.addSchema=function(S,b){var v=this;if(!S)return null;var k=n(b||d,S),T=b||S.$id||S.id;for(var A in k.id)this.schemas[A]=k.id[A];for(var A in k.ref)this.unresolvedRefs.push(A);return this.unresolvedRefs=this.unresolvedRefs.filter(function(w){return typeof v.schemas[w]>"u"}),this.schemas[T]},f.prototype.addSubSchemaArray=function(S,b){if(Array.isArray(b))for(var v=0;v<b.length;v++)this.addSubSchema(S,b[v])},f.prototype.addSubSchemaObject=function(S,b){if(!(!b||typeof b!="object"))for(var v in b)this.addSubSchema(S,b[v])},f.prototype.setSchemas=function(S){this.schemas=S},f.prototype.getSchema=function(S){return this.schemas[S]},f.prototype.validate=function(S,b,v,k){if(typeof b!="boolean"&&typeof b!="object"||b===null)throw new l("Expected `schema` to be an object or boolean");v||(v={});var T=b.$id||b.id,A=t.resolve(v.base||d,T||"");if(!k){k=new c(b,v,[],A,Object.create(this.schemas)),k.schemas[A]||(k.schemas[A]=b);var w=n(A,b);for(var R in w.id){var O=w.id[R];k.schemas[R]=O}}if(v.required&&S===void 0){var M=new i(S,b,v,k);return M.addError("is required, but is undefined"),M}var M=this.validateSchema(S,b,v,k);if(M){if(v.throwAll&&M.errors.length)throw new a(M)}else throw new Error("Result undefined");return M};function h(p){var S=typeof p=="string"?p:p.$ref;return typeof S=="string"?S:!1}f.prototype.validateSchema=function(S,b,v,k){var T=new i(S,b,v,k);if(typeof b=="boolean")b===!0?b={}:b===!1&&(b={type:[]});else if(!b)throw new Error("schema is undefined");if(b.extends)if(Array.isArray(b.extends)){var A={schema:b,ctx:k};b.extends.forEach(this.schemaTraverser.bind(this,A)),b=A.schema,A.schema=null,A.ctx=null,A=null}else b=r.deepMerge(b,this.superResolve(b.extends,k));var w=h(b);if(w){var R=this.resolve(b,w,k),O=new c(R.subschema,v,k.path,R.switchSchema,k.schemas);return this.validateSchema(S,R.subschema,v,O)}var M=v&&v.skipAttributes||[];for(var j in b)if(!e.ignoreProperties[j]&&M.indexOf(j)<0){var $=null,V=this.attributes[j];if(V)$=V.call(this,S,b,v,k);else if(v.allowUnknownAttributes===!1)throw new l("Unsupported attribute: "+j,b);$&&T.importErrors($)}if(typeof v.rewrite=="function"){var N=v.rewrite.call(this,S,b,v,k);T.instance=N}return T},f.prototype.schemaTraverser=function(S,b){S.schema=r.deepMerge(S.schema,this.superResolve(b,S.ctx))},f.prototype.superResolve=function(S,b){var v=h(S);return v?this.resolve(S,v,b).subschema:S},f.prototype.resolve=function(S,b,v){if(b=v.resolve(b),v.schemas[b])return{subschema:v.schemas[b],switchSchema:b};var k=t.parse(b),T=k&&k.hash,A=T&&T.length&&b.substr(0,b.length-T.length);if(!A||!v.schemas[A])throw new l("no such schema <"+b+">",S);var w=r.objectGetPath(v.schemas[A],T.substr(1));if(w===void 0)throw new l("no such schema "+T+" located in <"+A+">",S);return{subschema:w,switchSchema:b}},f.prototype.testType=function(S,b,v,k,T){if(T!==void 0){if(T===null)throw new l('Unexpected null in "type" keyword');if(typeof this.types[T]=="function")return this.types[T].call(this,S);if(T&&typeof T=="object"){var A=this.validateSchema(S,T,v,k);return A===void 0||!(A&&A.errors.length)}return!0}};var g=f.prototype.types={};return g.string=function(S){return typeof S=="string"},g.number=function(S){return typeof S=="number"&&isFinite(S)},g.integer=function(S){return typeof S=="number"&&S%1===0},g.boolean=function(S){return typeof S=="boolean"},g.array=function(S){return Array.isArray(S)},g.null=function(S){return S===null},g.date=function(S){return S instanceof Date},g.any=function(S){return!0},g.object=function(S){return S&&typeof S=="object"&&!Array.isArray(S)&&!(S instanceof Date)},$v=f,$v}var TE;function yL(){if(TE)return ns;TE=1;var t=ns.Validator=mL();return ns.ValidatorResult=Tc().ValidatorResult,ns.ValidatorResultError=Tc().ValidatorResultError,ns.ValidationError=Tc().ValidationError,ns.SchemaError=Tc().SchemaError,ns.SchemaScanResult=DS().SchemaScanResult,ns.scan=DS().scan,ns.validate=function(e,r,n){var i=new t;return i.validate(e,r,n)},ns}var bL=yL();const p2={id:"/KeyBind",type:"object",properties:{keys:{type:"string"}},required:["keys"]},h2={id:"/AnkiField",type:"object",properties:{order:{type:"number"},display:{type:"boolean"}},required:["order","display"]},g2={id:"/DictionaryTrack",type:"object",properties:{dictionaryColorizeSubtitles:{type:"boolean"},dictionaryColorizeOnHoverOnly:{type:"boolean"},dictionaryHighlightOnHover:{type:"boolean"},dictionaryTokenMatchStrategy:{type:"string"},dictionaryTokenMatchStrategyPriority:{type:"string"},dictionaryYomitanUrl:{type:"string"},dictionaryYomitanScanLength:{type:"number"},dictionaryTokenReadingAnnotation:{type:"string"},dictionaryDisplayIgnoredTokenReadings:{type:"boolean"},dictionaryAnkiDecks:{type:"array",items:{type:"string"}},dictionaryAnkiWordFields:{type:"array",items:{type:"string"}},dictionaryAnkiSentenceFields:{type:"array",items:{type:"string"}},dictionaryAnkiSentenceTokenMatchStrategy:{type:"string"},dictionaryAnkiMatureCutoff:{type:"number"},dictionaryAnkiTreatSuspended:{type:["string","number"]},dictionaryTokenStyling:{type:"string"},dictionaryTokenStylingThickness:{type:"number"},dictionaryColorizeFullyKnownTokens:{type:"boolean"},dictionaryTokenStatusColors:{type:"array",items:{type:"string"}}}},m2={id:"/TextSubtitleSettings",type:"object",properties:{subtitleColor:{type:"string"},subtitleSize:{type:"number"},subtitleThickness:{type:"number"},subtitleOutlineThickness:{type:"number"},subtitleShadowColor:{type:"string"},subtitleBackgroundOpacity:{type:"number"},subtitleBackgroundColor:{type:"string"},subtitleFontFamily:{type:"string"},subtitleCustomStyles:{type:"array",items:{type:"object",properties:{key:{type:"string"},value:{type:"string"}}}},subtitleBlur:{type:"boolean"}},required:["subtitleColor","subtitleSize","subtitleThickness","subtitleOutlineThickness","subtitleShadowColor","subtitleBackgroundOpacity","subtitleBackgroundColor","subtitleFontFamily","subtitleCustomStyles","subtitleBlur"]},y2={id:"/Settings",type:"object",properties:{ankiConnectUrl:{type:"string"},deck:{type:"string"},noteType:{type:"string"},sentenceField:{type:"string"},definitionField:{type:"string"},audioField:{type:"string"},imageField:{type:"string"},wordField:{type:"string"},sourceField:{type:"string"},urlField:{type:"string"},track1Field:{type:"string"},track2Field:{type:"string"},track3Field:{type:"string"},ankiFieldSettings:{type:"object",properties:{sentence:{$ref:"/AnkiField"},definition:{$ref:"/AnkiField"},audio:{$ref:"/AnkiField"},image:{$ref:"/AnkiField"},word:{$ref:"/AnkiField"},source:{$ref:"/AnkiField"},url:{$ref:"/AnkiField"},track1:{$ref:"/AnkiField"},track2:{$ref:"/AnkiField"},track3:{$ref:"/AnkiField"}}},customAnkiFieldSettings:{type:"object",additionalProperties:{type:"/AnkiField"}},subtitleSize:{type:"number"},subtitleColor:{type:"string"},subtitleThickness:{type:"number"},subtitleOutlineThickness:{type:"number"},subtitleShadowThickness:{type:"number"},subtitleShadowColor:{type:"string"},subtitleOutlineColor:{type:"string"},subtitleBackgroundColor:{type:"string"},subtitleBackgroundOpacity:{type:"number"},subtitleFontFamily:{type:"string"},subtitleBlur:{type:"boolean"},subtitlePreview:{type:"string"},subtitlePositionOffset:{type:"number"},topSubtitlePositionOffset:{type:"number"},subtitleAlignment:{type:"string"},subtitleTracksV2:{type:"array",items:{$ref:"/TextSubtitleSettings"}},audioPaddingStart:{type:"number"},audioPaddingEnd:{type:"number"},maxImageWidth:{type:"number"},maxImageHeight:{type:"number"},surroundingSubtitlesCountRadius:{type:"number"},surroundingSubtitlesTimeRadius:{type:"number"},autoPausePreference:{type:"number"},subtitleHtml:{type:"number"},seekDuration:{type:"number"},speedChangeStep:{type:"number"},fastForwardModePlaybackRate:{type:"number"},keyBindSet:{type:"object",properties:{togglePlay:{$ref:"/KeyBind"},toggleAutoPause:{$ref:"/KeyBind"},toggleCondensedPlayback:{$ref:"/KeyBind"},toggleFastForwardPlayback:{$ref:"/KeyBind"},toggleSubtitles:{$ref:"/KeyBind"},toggleVideoSubtitleTrack1:{$ref:"/KeyBind"},toggleVideoSubtitleTrack2:{$ref:"/KeyBind"},toggleVideoSubtitleTrack3:{$ref:"/KeyBind"},toggleAsbplayerSubtitleTrack1:{$ref:"/KeyBind"},toggleAsbplayerSubtitleTrack2:{$ref:"/KeyBind"},toggleAsbplayerSubtitleTrack3:{$ref:"/KeyBind"},unblurAsbplayerTrack1:{$ref:"/KeyBind"},unblurAsbplayerTrack2:{$ref:"/KeyBind"},unblurAsbplayerTrack3:{$ref:"/KeyBind"},seekBackward:{$ref:"/KeyBind"},seekForward:{$ref:"/KeyBind"},seekToPreviousSubtitle:{$ref:"/KeyBind"},seekToNextSubtitle:{$ref:"/KeyBind"},seekToBeginningOfCurrentSubtitle:{$ref:"/KeyBind"},adjustOffsetToPreviousSubtitle:{$ref:"/KeyBind"},adjustOffsetToNextSubtitle:{$ref:"/KeyBind"},decreaseOffset:{$ref:"/KeyBind"},increaseOffset:{$ref:"/KeyBind"},resetOffset:{$ref:"/KeyBind"},copySubtitle:{$ref:"/KeyBind"},ankiExport:{$ref:"/KeyBind"},updateLastCard:{$ref:"/KeyBind"},exportCard:{$ref:"/KeyBind"},takeScreenshot:{$ref:"/KeyBind"},toggleRecording:{$ref:"/KeyBind"},decreasePlaybackRate:{$ref:"/KeyBind"},increasePlaybackRate:{$ref:"/KeyBind"},toggleSidePanel:{$ref:"/KeyBind"},toggleRepeat:{$ref:"/KeyBind"},moveBottomSubtitlesUp:{$ref:"/KeyBind"},moveBottomSubtitlesDown:{$ref:"/KeyBind"},moveTopSubtitlesUp:{$ref:"/KeyBind"},moveTopSubtitlesDown:{$ref:"/KeyBind"},markHoveredToken5:{$ref:"/KeyBind"},markHoveredToken4:{$ref:"/KeyBind"},markHoveredToken3:{$ref:"/KeyBind"},markHoveredToken2:{$ref:"/KeyBind"},markHoveredToken1:{$ref:"/KeyBind"},markHoveredToken0:{$ref:"/KeyBind"},toggleHoveredTokenIgnored:{$ref:"/KeyBind"}}},recordWithAudioPlayback:{type:"boolean"},preferMp3:{type:"boolean"},tabName:{type:"string"},miningHistoryStorageLimit:{type:"number"},preCacheSubtitleDom:{type:"boolean"},clickToMineDefaultAction:{type:"number"},postMiningPlaybackState:{type:"number"},themeType:{type:"string"},copyToClipboardOnMine:{type:"boolean"},rememberSubtitleOffset:{type:"boolean"},lastSubtitleOffset:{type:"number"},autoCopyCurrentSubtitle:{type:"boolean"},alwaysPlayOnSubtitleRepeat:{type:"boolean"},subtitleRegexFilter:{type:"string"},subtitleRegexFilterTextReplacement:{type:"string"},convertNetflixRuby:{type:"boolean"},language:{type:"string"},customAnkiFields:{type:"object",additionalProperties:{type:"string"}},tags:{type:"array",items:{type:"string"}},imageBasedSubtitleScaleFactor:{type:"number"},subtitleCustomStyles:{type:"array",items:{type:"object",properties:{key:{type:"string"},value:{type:"string"}}}},subtitlesWidth:{type:"number"},streamingAppUrl:{type:"string"},streamingDisplaySubtitles:{type:"boolean"},streamingRecordMedia:{type:"boolean"},streamingTakeScreenshot:{type:"boolean"},streamingCleanScreenshot:{type:"boolean"},streamingCropScreenshot:{type:"boolean"},streamingSubsDragAndDrop:{type:"boolean"},streamingAutoSync:{type:"boolean"},streamingAutoSyncPromptOnFailure:{type:"boolean"},streamingLastLanguagesSynced:{type:"object",additionalProperties:{type:"array",items:{type:"string"}}},streamingCondensedPlaybackMinimumSkipIntervalMs:{type:"number"},streamingScreenshotDelay:{type:"number"},streamingSubtitleListPreference:{type:"string"},streamingEnableOverlay:{type:"boolean"},webSocketClientEnabled:{type:"boolean"},webSocketServerUrl:{type:"string"},pauseOnHoverMode:{type:"number"},lastSelectedAnkiExportMode:{type:"string"},dictionaryTracks:{type:"array",items:{$ref:"/DictionaryTrack"}},_schema:{type:"number"}}},vL=["streamingPages"],b2=t=>{const e={...t};for(const r of vL)delete e[r];return e},SL=t=>{Xu(new Blob([JSON.stringify(b2(t))],{type:"application/json"}),`asbplayer-settings-${YP()}.json`)},xL=t=>{const e=b2(t),r=new bL.Validator;r.addSchema(p2),r.addSchema(h2),r.addSchema(g2),r.addSchema(m2);const n=r.validate(e,y2);if(v2(e,[]),!n.valid)throw new Error("Settings validation failed: "+JSON.stringify(n.errors));return l2(e)},v2=(t,e)=>{for(const r of Object.keys(t)){const n=wL(y2,e);if(n===void 0||n!==""&&!(r in n))throw new Error(`Unknown key '${[...e,r].join(".")}'`);const i=t[r];typeof i=="object"&&!Array.isArray(i)&&v2(i,[...e,r])}},wL=(t,e)=>{let r=t.properties;for(const n of e){if(typeof r[n]=="object"&&"additionalProperties"in r[n])return"";if(r=r[n]?.properties??kL(r[n]?.$ref)?.properties,r===void 0)return}return r},kL=t=>{if(t==="/KeyBind")return p2;if(t==="/AnkiField")return h2;if(t==="/DictionaryTrack")return g2;if(t==="/TextSubtitleSettings")return m2};function CL(t){const e=new Uint8Array(t);return TL(e)}function TL(t){let e="";const r=t.byteLength;for(let n=0;n<r;++n)e+=String.fromCharCode(t[n]);return window.btoa(e)}async function EE(t){return CL(await(await fetch(t)).arrayBuffer())}const S2=t=>new Promise(async(e,r)=>{try{var n=new FileReader;n.readAsDataURL(t),n.onloadend=()=>{const i=n.result,a=i.substring(i.indexOf(",")+1);e(a)}}catch(i){r(i)}}),EL=t=>{const e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<r.length;++n)r[n]=e.charCodeAt(n);return r},AL=(t,e)=>{const r=EL(t);return new Blob([r.buffer],{type:e})},RL=async({imageUrl:t,audioUrl:e})=>({subtitle:{text:`So therefore the way to work towards perfection is simply to keep going, to enjoy the language.
-Steve Kaufmann`,start:288925,end:294695,originalStart:288925,originalEnd:294695,track:0},text:`So therefore the way to work towards perfection is simply to keep going, to enjoy the language.
-Steve Kaufmann`,word:"enjoy",definition:"take delight or pleasure in (an activity or occasion).",surroundingSubtitles:[],subtitleFileName:"You Don't Have to Be Perfect to Become Fluent.srt",url:"https://www.youtube.com/watch?v=eO4d6iueGzY",image:{base64:await EE(t),extension:"jpeg"},audio:{base64:await EE(e),extension:"mp3",paddingStart:0,paddingEnd:1e3},mediaTimestamp:288925}),OL=["en","es","de","ja","pl","pt_BR","zh_CN","ru","fi","fr","ko","id"];var x=Gg();const Ln=Yl(x),Pg=FN({__proto__:null,default:Ln},[x]),Dv=new i2;let zS;const x2=t=>{const e=r=>{if(r.source===window&&r.data.sender==="asbplayer-extension-to-player"&&r.data.message.command==="version"){const n=r.data.message,i=n.extensionCommands??{},a=n.pageConfig;t(new i2(n.version,RI(i),a))}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},PL=x2(t=>zS=t),_L=({component:t})=>{const[e,r]=x.useState(Dv);return e.sidePanel=t==="sidePanel",e.videoPlayer=t==="videoPlayer",x.useEffect(()=>{if(PL(),zS)Dv.unbind(),r(zS);else{const n=x2(i=>{Dv.unbind(),r(i),n()})}},[]),e},ML=(t,e)=>{const[r,n]=x.useState([]),i=x.useCallback(f=>{n(h=>{const g=[...h];for(const p of f)h.find(S=>S.id===p.id)===void 0&&g.push(p);return g})},[]),a=x.useCallback(async()=>{i(await e.fetch(t))},[t,i,e]);x.useEffect(()=>e.liveFetch(t,i),[e,t,i]);const l=x.useCallback(async f=>{const h=[];for(const g of r)f.id!==g.id&&h.push(g);n(h),await e.delete(f.id)},[r,e]),c=x.useCallback(async f=>{n(h=>[...h,f]),await e.save(f)},[e]),d=x.useCallback(async()=>{n([]),await e.clear()},[e]);return{copyHistoryItems:r,refreshCopyHistory:a,deleteCopyHistoryItem:l,deleteAllCopyHistoryItems:d,saveCopyHistoryItem:c}};class Rf extends Error{key;params;constructor(e,r={}){super(e),this.key=e,this.params=r}get locKey(){return this.key}get locParams(){return this.params}}var zv={exports:{}},Nn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function jL(){if(AE)return Nn;AE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),S=Symbol.for("react.client.reference");function b(v){if(typeof v=="object"&&v!==null){var k=v.$$typeof;switch(k){case t:switch(v=v.type,v){case r:case i:case n:case d:case f:return v;default:switch(v=v&&v.$$typeof,v){case l:case c:case g:case h:return v;case a:return v;default:return k}}case e:return k}}}return Nn.ContextConsumer=a,Nn.ContextProvider=l,Nn.Element=t,Nn.ForwardRef=c,Nn.Fragment=r,Nn.Lazy=g,Nn.Memo=h,Nn.Portal=e,Nn.Profiler=i,Nn.StrictMode=n,Nn.Suspense=d,Nn.SuspenseList=f,Nn.isContextConsumer=function(v){return b(v)===a},Nn.isContextProvider=function(v){return b(v)===l},Nn.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},Nn.isForwardRef=function(v){return b(v)===c},Nn.isFragment=function(v){return b(v)===r},Nn.isLazy=function(v){return b(v)===g},Nn.isMemo=function(v){return b(v)===h},Nn.isPortal=function(v){return b(v)===e},Nn.isProfiler=function(v){return b(v)===i},Nn.isStrictMode=function(v){return b(v)===n},Nn.isSuspense=function(v){return b(v)===d},Nn.isSuspenseList=function(v){return b(v)===f},Nn.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===i||v===n||v===d||v===f||v===p||typeof v=="object"&&v!==null&&(v.$$typeof===g||v.$$typeof===h||v.$$typeof===l||v.$$typeof===a||v.$$typeof===c||v.$$typeof===S||v.getModuleId!==void 0)},Nn.typeOf=b,Nn}var RE;function NL(){return RE||(RE=1,zv.exports=jL()),zv.exports}var w2=NL();function ls(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function k2(t){if(x.isValidElement(t)||w2.isValidElementType(t)||!ls(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=k2(t[r])}),e}function Ti(t,e,r={clone:!0}){const n=r.clone?{...t}:t;return ls(t)&&ls(e)&&Object.keys(e).forEach(i=>{x.isValidElement(e[i])||w2.isValidElementType(e[i])?n[i]=e[i]:ls(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&ls(t[i])?n[i]=Ti(t[i],e[i],r):r.clone?n[i]=ls(e[i])?k2(e[i]):e[i]:n[i]=e[i]}),n}function qs(t,...e){const r=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${t}; visit ${r} for the full message.`}function Ye(t){if(typeof t!="string")throw new Error(qs(7));return t.charAt(0).toUpperCase()+t.slice(1)}function US(...t){return t.reduce((e,r)=>r==null?e:function(...i){e.apply(this,i),r.apply(this,i)},()=>{})}function fp(t,e=166){let r;function n(...i){const a=()=>{t.apply(this,i)};clearTimeout(r),r=setTimeout(a,e)}return n.clear=()=>{clearTimeout(r)},n}function Lf(t,e){return x.isValidElement(t)&&e.indexOf(t.type.muiName??t.type?._payload?.value?.muiName)!==-1}function Ui(t){return t&&t.ownerDocument||document}function ta(t){return Ui(t).defaultView||window}function HS(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const uo=typeof window<"u"?x.useLayoutEffect:x.useEffect;let OE=0;function IL(t){const[e,r]=x.useState(t),n=t||e;return x.useEffect(()=>{e==null&&(OE+=1,r(`mui-${OE}`))},[e]),n}const LL={...Pg},PE=LL.useId;function Zs(t){if(PE!==void 0){const e=PE();return t??e}return IL(t)}function Hs({controlled:t,default:e,name:r,state:n="value"}){const{current:i}=x.useRef(t!==void 0),[a,l]=x.useState(e),c=i?t:a,d=x.useCallback(f=>{i||l(f)},[]);return[c,d]}function _i(t){const e=x.useRef(t);return uo(()=>{e.current=t}),x.useRef((...r)=>(0,e.current)(...r)).current}function Jn(...t){const e=x.useRef(void 0),r=x.useCallback(n=>{const i=t.map(a=>{if(a==null)return null;if(typeof a=="function"){const l=a,c=l(n);return typeof c=="function"?c:()=>{l(null)}}return a.current=n,()=>{a.current=null}});return()=>{i.forEach(a=>a?.())}},t);return x.useMemo(()=>t.every(n=>n==null)?null:n=>{e.current&&(e.current(),e.current=void 0),n!=null&&(e.current=r(n))},t)}const _E={};function C2(t,e){const r=x.useRef(_E);return r.current===_E&&(r.current=t(e)),r}const FL=[];function BL(t){x.useEffect(t,FL)}class tm{static create(){return new tm}currentId=null;start(e,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function zu(){const t=C2(tm.create).current;return BL(t.disposeEffect),t}function Ul(t){try{return t.matches(":focus-visible")}catch{}return!1}function T2(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}const Kx=t=>{const e=x.useRef({});return x.useEffect(()=>{e.current=t}),e.current},$L={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Gf(t,e){const r={...e};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=n;if(i==="components"||i==="slots")r[i]={...t[i],...r[i]};else if(i==="componentsProps"||i==="slotProps"){const a=t[i],l=e[i];if(!l)r[i]=a||{};else if(!a)r[i]=l;else{r[i]={...l};for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const d=c;r[i][d]=Gf(a[d],l[d])}}}else r[i]===void 0&&(r[i]=t[i])}return r}function er(t,e,r=void 0){const n={};for(const i in t){const a=t[i];let l="",c=!0;for(let d=0;d<a.length;d+=1){const f=a[d];f&&(l+=(c===!0?"":" ")+e(f),c=!1,r&&r[f]&&(l+=" "+r[f]))}n[i]=l}return n}const ME=t=>t,DL=()=>{let t=ME;return{configure(e){t=e},generate(e){return t(e)},reset(){t=ME}}},E2=DL(),zL={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function tr(t,e,r="Mui"){const n=zL[e];return n?`${r}-${n}`:`${E2.generate(t)}-${e}`}function nr(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=tr(t,i,r)}),n}function Lu(t,e=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,r))}function UL(t){return typeof t=="string"}function A2(t,e,r){return t===void 0||UL(t)?e:{...e,ownerState:{...e.ownerState,...r}}}function R2(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=R2(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function wt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=R2(t))&&(n&&(n+=" "),n+=e);return n}function Ff(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function jE(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function O2(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:a}=t;if(!e){const S=wt(r?.className,a,i?.className,n?.className),b={...r?.style,...i?.style,...n?.style},v={...r,...i,...n};return S.length>0&&(v.className=S),Object.keys(b).length>0&&(v.style=b),{props:v,internalRef:void 0}}const l=Ff({...i,...n}),c=jE(n),d=jE(i),f=e(l),h=wt(f?.className,r?.className,a,i?.className,n?.className),g={...f?.style,...r?.style,...i?.style,...n?.style},p={...f,...r,...d,...c};return h.length>0&&(p.className=h),Object.keys(g).length>0&&(p.style=g),{props:p,internalRef:f.ref}}function P2(t,e,r){return typeof t=="function"?t(e,r):t}function Oo(t){const{elementType:e,externalSlotProps:r,ownerState:n,skipResolvingSlotProps:i=!1,...a}=t,l=i?{}:P2(r,n),{props:c,internalRef:d}=O2({...a,externalSlotProps:l}),f=Jn(d,l?.ref,t.additionalProps?.ref);return A2(e,{...c,ref:f},n)}function Fc(t){return parseInt(x.version,10)>=19?t?.props?.ref||null:t?.ref||null}const _2=x.createContext(null);function rm(){return x.useContext(_2)}const HL=typeof Symbol=="function"&&Symbol.for,M2=HL?Symbol.for("mui.nested"):"__THEME_NESTED__";function VL(t,e){return typeof e=="function"?e(t):{...t,...e}}function qL(t){const{children:e,theme:r}=t,n=rm(),i=x.useMemo(()=>{const a=n===null?{...r}:VL(n,r);return a!=null&&(a[M2]=n!==null),a},[r,n]);return m.jsx(_2.Provider,{value:i,children:e})}const WL=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function KL(t={}){const{disableGlobal:e=!1,productionPrefix:r="jss",seed:n=""}=t,i=n===""?"":`${n}-`;let a=0;const l=()=>(a+=1,a);return(c,d)=>{const f=d.options.name;if(f&&f.startsWith("Mui")&&!d.options.link&&!e){if(WL.includes(c.key))return`Mui-${c.key}`;const h=`${i}${f}-${c.key}`;return!d.options.theme[M2]||n!==""?h:`${h}-${l()}`}return`${i}${r}${l()}`}}function GL(t){const{theme:e,name:r,props:n}=t;if(!e||!e.components||!e.components[r]||!e.components[r].defaultProps)return n;const i={...n},a=e.components[r].defaultProps;let l;for(l in a)i[l]===void 0&&(i[l]=a[l]);return i}function di(){return di=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},di.apply(this,arguments)}var NE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp=(typeof window>"u"?"undefined":NE(window))==="object"&&(typeof document>"u"?"undefined":NE(document))==="object"&&document.nodeType===9;function Ba(t){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(t)}function YL(t,e){if(Ba(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ba(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function j2(t){var e=YL(t,"string");return Ba(e)==="symbol"?e:String(e)}function IE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j2(n.key),n)}}function Ea(t,e,r){return e&&IE(t.prototype,e),r&&IE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _g(t,e){return _g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_g(t,e)}function nm(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_g(t,e)}function $a(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gx(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var XL={}.constructor;function VS(t){if(t==null||typeof t!="object")return t;if(Array.isArray(t))return t.map(VS);if(t.constructor!==XL)return t;var e={};for(var r in t)e[r]=VS(t[r]);return e}function Yx(t,e,r){t===void 0&&(t="unnamed");var n=r.jss,i=VS(e),a=n.plugins.onCreateRule(t,i,r);return a||(t[0],null)}var LE=function(e,r){for(var n="",i=0;i<e.length&&e[i]!=="!important";i++)n&&(n+=r),n+=e[i];return n},Rc=function(e){if(!Array.isArray(e))return e;var r="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&e[n]!=="!important";n++)r&&(r+=", "),r+=LE(e[n]," ");else r=LE(e,", ");return e[e.length-1]==="!important"&&(r+=" !important"),r};function sd(t){return t&&t.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function uf(t,e){for(var r="",n=0;n<e;n++)r+="  ";return r+t}function Yf(t,e,r){r===void 0&&(r={});var n="";if(!e)return n;var i=r,a=i.indent,l=a===void 0?0:a,c=e.fallbacks;r.format===!1&&(l=-1/0);var d=sd(r),f=d.linebreak,h=d.space;if(t&&l++,c)if(Array.isArray(c))for(var g=0;g<c.length;g++){var p=c[g];for(var S in p){var b=p[S];b!=null&&(n&&(n+=f),n+=uf(S+":"+h+Rc(b)+";",l))}}else for(var v in c){var k=c[v];k!=null&&(n&&(n+=f),n+=uf(v+":"+h+Rc(k)+";",l))}for(var T in e){var A=e[T];A!=null&&T!=="fallbacks"&&(n&&(n+=f),n+=uf(T+":"+h+Rc(A)+";",l))}return!n&&!r.allowEmpty||!t?n:(l--,n&&(n=""+f+n+f),uf(""+t+h+"{"+n,l)+uf("}",l))}var ZL=/([[\].#*$><+~=|^:(),"'`\s])/g,FE=typeof CSS<"u"&&CSS.escape,Xx=function(t){return FE?FE(t):t.replace(ZL,"\\$1")},N2=function(){function t(r,n,i){this.type="style",this.isProcessed=!1;var a=i.sheet,l=i.Renderer;this.key=r,this.options=i,this.style=n,a?this.renderer=a.renderer:l&&(this.renderer=new l)}var e=t.prototype;return e.prop=function(n,i,a){if(i===void 0)return this.style[n];var l=a?a.force:!1;if(!l&&this.style[n]===i)return this;var c=i;(!a||a.process!==!1)&&(c=this.options.jss.plugins.onChangeValue(i,n,this));var d=c==null||c===!1,f=n in this.style;if(d&&!f&&!l)return this;var h=d&&f;if(h?delete this.style[n]:this.style[n]=c,this.renderable&&this.renderer)return h?this.renderer.removeProperty(this.renderable,n):this.renderer.setProperty(this.renderable,n,c),this;var g=this.options.sheet;return g&&g.attached,this},t}(),qS=function(t){nm(e,t);function e(n,i,a){var l;l=t.call(this,n,i,a)||this;var c=a.selector,d=a.scoped,f=a.sheet,h=a.generateId;return c?l.selectorText=c:d!==!1&&(l.id=h($a($a(l)),f),l.selectorText="."+Xx(l.id)),l}var r=e.prototype;return r.applyTo=function(i){var a=this.renderer;if(a){var l=this.toJSON();for(var c in l)a.setProperty(i,c,l[c])}return this},r.toJSON=function(){var i={};for(var a in this.style){var l=this.style[a];typeof l!="object"?i[a]=l:Array.isArray(l)&&(i[a]=Rc(l))}return i},r.toString=function(i){var a=this.options.sheet,l=a?a.options.link:!1,c=l?di({},i,{allowEmpty:!0}):i;return Yf(this.selectorText,this.style,c)},Ea(e,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var a=this.renderer,l=this.renderable;if(!(!l||!a)){var c=a.setSelector(l,i);c||a.replaceRule(l,this)}}},get:function(){return this.selectorText}}]),e}(N2),QL={onCreateRule:function(e,r,n){return e[0]==="@"||n.parent&&n.parent.type==="keyframes"?null:new qS(e,r,n)}},Uv={indent:1,children:!0},JL=/@([\w-]+)/,eF=function(){function t(r,n,i){this.type="conditional",this.isProcessed=!1,this.key=r;var a=r.match(JL);this.at=a?a[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new im(di({},i,{parent:this}));for(var l in n)this.rules.add(l,n[l]);this.rules.process()}var e=t.prototype;return e.getRule=function(n){return this.rules.get(n)},e.indexOf=function(n){return this.rules.indexOf(n)},e.addRule=function(n,i,a){var l=this.rules.add(n,i,a);return l?(this.options.jss.plugins.onProcessRule(l),l):null},e.replaceRule=function(n,i,a){var l=this.rules.replace(n,i,a);return l&&this.options.jss.plugins.onProcessRule(l),l},e.toString=function(n){n===void 0&&(n=Uv);var i=sd(n),a=i.linebreak;if(n.indent==null&&(n.indent=Uv.indent),n.children==null&&(n.children=Uv.children),n.children===!1)return this.query+" {}";var l=this.rules.toString(n);return l?this.query+" {"+a+l+a+"}":""},t}(),tF=/@container|@media|@supports\s+/,rF={onCreateRule:function(e,r,n){return tF.test(e)?new eF(e,r,n):null}},Hv={indent:1,children:!0},nF=/@keyframes\s+([\w-]+)/,WS=function(){function t(r,n,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var a=r.match(nF);a&&a[1]?this.name=a[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var l=i.scoped,c=i.sheet,d=i.generateId;this.id=l===!1?this.name:Xx(d(this,c)),this.rules=new im(di({},i,{parent:this}));for(var f in n)this.rules.add(f,n[f],di({},i,{parent:this}));this.rules.process()}var e=t.prototype;return e.toString=function(n){n===void 0&&(n=Hv);var i=sd(n),a=i.linebreak;if(n.indent==null&&(n.indent=Hv.indent),n.children==null&&(n.children=Hv.children),n.children===!1)return this.at+" "+this.id+" {}";var l=this.rules.toString(n);return l&&(l=""+a+l+a),this.at+" "+this.id+" {"+l+"}"},t}(),iF=/@keyframes\s+/,oF=/\$([\w-]+)/g,KS=function(e,r){return typeof e=="string"?e.replace(oF,function(n,i){return i in r?r[i]:n}):e},BE=function(e,r,n){var i=e[r],a=KS(i,n);a!==i&&(e[r]=a)},aF={onCreateRule:function(e,r,n){return typeof e=="string"&&iF.test(e)?new WS(e,r,n):null},onProcessStyle:function(e,r,n){return r.type!=="style"||!n||("animation-name"in e&&BE(e,"animation-name",n.keyframes),"animation"in e&&BE(e,"animation",n.keyframes)),e},onChangeValue:function(e,r,n){var i=n.options.sheet;if(!i)return e;switch(r){case"animation":return KS(e,i.keyframes);case"animation-name":return KS(e,i.keyframes);default:return e}}},sF=function(t){nm(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.toString=function(i){var a=this.options.sheet,l=a?a.options.link:!1,c=l?di({},i,{allowEmpty:!0}):i;return Yf(this.key,this.style,c)},e}(N2),lF={onCreateRule:function(e,r,n){return n.parent&&n.parent.type==="keyframes"?new sF(e,r,n):null}},cF=function(){function t(r,n,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=r,this.style=n,this.options=i}var e=t.prototype;return e.toString=function(n){var i=sd(n),a=i.linebreak;if(Array.isArray(this.style)){for(var l="",c=0;c<this.style.length;c++)l+=Yf(this.at,this.style[c]),this.style[c+1]&&(l+=a);return l}return Yf(this.at,this.style,n)},t}(),uF=/@font-face/,dF={onCreateRule:function(e,r,n){return uF.test(e)?new cF(e,r,n):null}},fF=function(){function t(r,n,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=r,this.style=n,this.options=i}var e=t.prototype;return e.toString=function(n){return Yf(this.key,this.style,n)},t}(),pF={onCreateRule:function(e,r,n){return e==="@viewport"||e==="@-ms-viewport"?new fF(e,r,n):null}},hF=function(){function t(r,n,i){this.type="simple",this.isProcessed=!1,this.key=r,this.value=n,this.options=i}var e=t.prototype;return e.toString=function(n){if(Array.isArray(this.value)){for(var i="",a=0;a<this.value.length;a++)i+=this.key+" "+this.value[a]+";",this.value[a+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},t}(),gF={"@charset":!0,"@import":!0,"@namespace":!0},mF={onCreateRule:function(e,r,n){return e in gF?new hF(e,r,n):null}},$E=[QL,rF,aF,lF,dF,pF,mF],yF={process:!0},DE={force:!0,process:!0},im=function(){function t(r){this.map={},this.raw={},this.index=[],this.counter=0,this.options=r,this.classes=r.classes,this.keyframes=r.keyframes}var e=t.prototype;return e.add=function(n,i,a){var l=this.options,c=l.parent,d=l.sheet,f=l.jss,h=l.Renderer,g=l.generateId,p=l.scoped,S=di({classes:this.classes,parent:c,sheet:d,jss:f,Renderer:h,generateId:g,scoped:p,name:n,keyframes:this.keyframes,selector:void 0},a),b=n;n in this.raw&&(b=n+"-d"+this.counter++),this.raw[b]=i,b in this.classes&&(S.selector="."+Xx(this.classes[b]));var v=Yx(b,i,S);if(!v)return null;this.register(v);var k=S.index===void 0?this.index.length:S.index;return this.index.splice(k,0,v),v},e.replace=function(n,i,a){var l=this.get(n),c=this.index.indexOf(l);l&&this.remove(l);var d=a;return c!==-1&&(d=di({},a,{index:c})),this.add(n,i,d)},e.get=function(n){return this.map[n]},e.remove=function(n){this.unregister(n),delete this.raw[n.key],this.index.splice(this.index.indexOf(n),1)},e.indexOf=function(n){return this.index.indexOf(n)},e.process=function(){var n=this.options.jss.plugins;this.index.slice(0).forEach(n.onProcessRule,n)},e.register=function(n){this.map[n.key]=n,n instanceof qS?(this.map[n.selector]=n,n.id&&(this.classes[n.key]=n.id)):n instanceof WS&&this.keyframes&&(this.keyframes[n.name]=n.id)},e.unregister=function(n){delete this.map[n.key],n instanceof qS?(delete this.map[n.selector],delete this.classes[n.key]):n instanceof WS&&delete this.keyframes[n.name]},e.update=function(){var n,i,a;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(n=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],a=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],a=arguments.length<=1?void 0:arguments[1],n=null),n)this.updateOne(this.get(n),i,a);else for(var l=0;l<this.index.length;l++)this.updateOne(this.index[l],i,a)},e.updateOne=function(n,i,a){a===void 0&&(a=yF);var l=this.options,c=l.jss.plugins,d=l.sheet;if(n.rules instanceof t){n.rules.update(i,a);return}var f=n.style;if(c.onUpdate(i,n,d,a),a.process&&f&&f!==n.style){c.onProcessStyle(n.style,n,d);for(var h in n.style){var g=n.style[h],p=f[h];g!==p&&n.prop(h,g,DE)}for(var S in f){var b=n.style[S],v=f[S];b==null&&b!==v&&n.prop(S,null,DE)}}},e.toString=function(n){for(var i="",a=this.options.sheet,l=a?a.options.link:!1,c=sd(n),d=c.linebreak,f=0;f<this.index.length;f++){var h=this.index[f],g=h.toString(n);!g&&!l||(i&&(i+=d),i+=g)}return i},t}(),I2=function(){function t(r,n){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=di({},n,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),n.Renderer&&(this.renderer=new n.Renderer(this)),this.rules=new im(this.options);for(var i in r)this.rules.add(i,r[i]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(n,i,a){var l=this.queue;this.attached&&!l&&(this.queue=[]);var c=this.rules.add(n,i,a);return c?(this.options.jss.plugins.onProcessRule(c),this.attached?(this.deployed&&(l?l.push(c):(this.insertRule(c),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),c):(this.deployed=!1,c)):null},e.replaceRule=function(n,i,a){var l=this.rules.get(n);if(!l)return this.addRule(n,i,a);var c=this.rules.replace(n,i,a);return c&&this.options.jss.plugins.onProcessRule(c),this.attached?(this.deployed&&this.renderer&&(c?l.renderable&&this.renderer.replaceRule(l.renderable,c):this.renderer.deleteRule(l)),c):(this.deployed=!1,c)},e.insertRule=function(n){this.renderer&&this.renderer.insertRule(n)},e.addRules=function(n,i){var a=[];for(var l in n){var c=this.addRule(l,n[l],i);c&&a.push(c)}return a},e.getRule=function(n){return this.rules.get(n)},e.deleteRule=function(n){var i=typeof n=="object"?n:this.rules.get(n);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},e.indexOf=function(n){return this.rules.indexOf(n)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var n;return(n=this.rules).update.apply(n,arguments),this},e.updateOne=function(n,i,a){return this.rules.updateOne(n,i,a),this},e.toString=function(n){return this.rules.toString(n)},t}(),bF=function(){function t(){this.plugins={internal:[],external:[]},this.registry={}}var e=t.prototype;return e.onCreateRule=function(n,i,a){for(var l=0;l<this.registry.onCreateRule.length;l++){var c=this.registry.onCreateRule[l](n,i,a);if(c)return c}return null},e.onProcessRule=function(n){if(!n.isProcessed){for(var i=n.options.sheet,a=0;a<this.registry.onProcessRule.length;a++)this.registry.onProcessRule[a](n,i);n.style&&this.onProcessStyle(n.style,n,i),n.isProcessed=!0}},e.onProcessStyle=function(n,i,a){for(var l=0;l<this.registry.onProcessStyle.length;l++)i.style=this.registry.onProcessStyle[l](i.style,i,a)},e.onProcessSheet=function(n){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](n)},e.onUpdate=function(n,i,a,l){for(var c=0;c<this.registry.onUpdate.length;c++)this.registry.onUpdate[c](n,i,a,l)},e.onChangeValue=function(n,i,a){for(var l=n,c=0;c<this.registry.onChangeValue.length;c++)l=this.registry.onChangeValue[c](l,i,a);return l},e.use=function(n,i){i===void 0&&(i={queue:"external"});var a=this.plugins[i.queue];a.indexOf(n)===-1&&(a.push(n),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(l,c){for(var d in c)d in l&&l[d].push(c[d]);return l},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),vF=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(n){var i=this.registry,a=n.options.index;if(i.indexOf(n)===-1){if(i.length===0||a>=this.index){i.push(n);return}for(var l=0;l<i.length;l++)if(i[l].options.index>a){i.splice(l,0,n);return}}},e.reset=function(){this.registry=[]},e.remove=function(n){var i=this.registry.indexOf(n);this.registry.splice(i,1)},e.toString=function(n){for(var i=n===void 0?{}:n,a=i.attached,l=Gx(i,["attached"]),c=sd(l),d=c.linebreak,f="",h=0;h<this.registry.length;h++){var g=this.registry[h];a!=null&&g.attached!==a||(f&&(f+=d),f+=g.toString(l))}return f},Ea(t,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),t}(),Bf=new vF,GS=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),YS="2f1acc6c3a606b082e5eef5e54414ffb";GS[YS]==null&&(GS[YS]=0);var zE=GS[YS]++,UE=function(e){e===void 0&&(e={});var r=0,n=function(a,l){r+=1;var c="",d="";return l&&(l.options.classNamePrefix&&(d=l.options.classNamePrefix),l.options.jss.id!=null&&(c=String(l.options.jss.id))),e.minify?""+(d||"c")+zE+c+r:d+a.key+"-"+zE+(c?"-"+c:"")+"-"+r};return n},L2=function(e){var r;return function(){return r||(r=e()),r}},SF=function(e,r){try{return e.attributeStyleMap?e.attributeStyleMap.get(r):e.style.getPropertyValue(r)}catch{return""}},xF=function(e,r,n){try{var i=n;if(Array.isArray(n)&&(i=Rc(n)),e.attributeStyleMap)e.attributeStyleMap.set(r,i);else{var a=i?i.indexOf("!important"):-1,l=a>-1?i.substr(0,a-1):i;e.style.setProperty(r,l,a>-1?"important":"")}}catch{return!1}return!0},wF=function(e,r){try{e.attributeStyleMap?e.attributeStyleMap.delete(r):e.style.removeProperty(r)}catch{}},kF=function(e,r){return e.selectorText=r,e.selectorText===r},F2=L2(function(){return document.querySelector("head")});function CF(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(n.attached&&n.options.index>e.index&&n.options.insertionPoint===e.insertionPoint)return n}return null}function TF(t,e){for(var r=t.length-1;r>=0;r--){var n=t[r];if(n.attached&&n.options.insertionPoint===e.insertionPoint)return n}return null}function EF(t){for(var e=F2(),r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(n.nodeType===8&&n.nodeValue.trim()===t)return n}return null}function AF(t){var e=Bf.registry;if(e.length>0){var r=CF(e,t);if(r&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element};if(r=TF(e,t),r&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element.nextSibling}}var n=t.insertionPoint;if(n&&typeof n=="string"){var i=EF(n);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function RF(t,e){var r=e.insertionPoint,n=AF(e);if(n!==!1&&n.parent){n.parent.insertBefore(t,n.node);return}if(r&&typeof r.nodeType=="number"){var i=r,a=i.parentNode;a&&a.insertBefore(t,i.nextSibling);return}F2().appendChild(t)}var OF=L2(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),HE=function(e,r,n){try{"insertRule"in e?e.insertRule(r,n):"appendRule"in e&&e.appendRule(r)}catch{return!1}return e.cssRules[n]},VE=function(e,r){var n=e.cssRules.length;return r===void 0||r>n?n:r},PF=function(){var e=document.createElement("style");return e.textContent=`
`,e},_F=function(){function t(r){this.getPropertyValue=SF,this.setProperty=xF,this.removeProperty=wF,this.setSelector=kF,this.hasInsertedRules=!1,this.cssRules=[],r&&Bf.add(r),this.sheet=r;var n=this.sheet?this.sheet.options:{},i=n.media,a=n.meta,l=n.element;this.element=l||PF(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),a&&this.element.setAttribute("data-meta",a);var c=OF();c&&this.element.setAttribute("nonce",c)}var e=t.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){RF(this.element,this.sheet.options);var n=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&n&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var n=this.element.parentNode;n&&n.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var n=this.sheet;if(n){if(n.options.link){this.insertRules(n.rules);return}this.element.textContent=`
`+n.toString()+`
`}},e.insertRules=function(n,i){for(var a=0;a<n.index.length;a++)this.insertRule(n.index[a],a,i)},e.insertRule=function(n,i,a){if(a===void 0&&(a=this.element.sheet),n.rules){var l=n,c=a;if(n.type==="conditional"||n.type==="keyframes"){var d=VE(a,i);if(c=HE(a,l.toString({children:!1}),d),c===!1)return!1;this.refCssRule(n,d,c)}return this.insertRules(l.rules,c),c}var f=n.toString();if(!f)return!1;var h=VE(a,i),g=HE(a,f,h);return g===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(n,h,g),g)},e.refCssRule=function(n,i,a){n.renderable=a,n.options.parent instanceof I2&&this.cssRules.splice(i,0,a)},e.deleteRule=function(n){var i=this.element.sheet,a=this.indexOf(n);return a===-1?!1:(i.deleteRule(a),this.cssRules.splice(a,1),!0)},e.indexOf=function(n){return this.cssRules.indexOf(n)},e.replaceRule=function(n,i){var a=this.indexOf(n);return a===-1?!1:(this.element.sheet.deleteRule(a),this.cssRules.splice(a,1),this.insertRule(i,a))},e.getRules=function(){return this.element.sheet.cssRules},t}(),MF=0,jF=function(){function t(r){this.id=MF++,this.version="10.10.0",this.plugins=new bF,this.options={id:{minify:!1},createGenerateId:UE,Renderer:pp?_F:null,plugins:[]},this.generateId=UE({minify:!1});for(var n=0;n<$E.length;n++)this.plugins.use($E[n],{queue:"internal"});this.setup(r)}var e=t.prototype;return e.setup=function(n){return n===void 0&&(n={}),n.createGenerateId&&(this.options.createGenerateId=n.createGenerateId),n.id&&(this.options.id=di({},this.options.id,n.id)),(n.createGenerateId||n.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),n.insertionPoint!=null&&(this.options.insertionPoint=n.insertionPoint),"Renderer"in n&&(this.options.Renderer=n.Renderer),n.plugins&&this.use.apply(this,n.plugins),this},e.createStyleSheet=function(n,i){i===void 0&&(i={});var a=i,l=a.index;typeof l!="number"&&(l=Bf.index===0?0:Bf.index+1);var c=new I2(n,di({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:l}));return this.plugins.onProcessSheet(c),c},e.removeStyleSheet=function(n){return n.detach(),Bf.remove(n),this},e.createRule=function(n,i,a){if(i===void 0&&(i={}),a===void 0&&(a={}),typeof n=="object")return this.createRule(void 0,n,i);var l=di({},a,{name:n,jss:this,Renderer:this.options.Renderer});l.generateId||(l.generateId=this.generateId),l.classes||(l.classes={}),l.keyframes||(l.keyframes={});var c=Yx(n,i,l);return c&&this.plugins.onProcessRule(c),c},e.use=function(){for(var n=this,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return a.forEach(function(c){n.plugins.use(c)}),this},t}(),B2=function(e){return new jF(e)},Zx=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function $2(t){var e=null;for(var r in t){var n=t[r],i=typeof n;if(i==="function")e||(e={}),e[r]=n;else if(i==="object"&&n!==null&&!Array.isArray(n)){var a=$2(n);a&&(e||(e={}),e[r]=a)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */B2();var D2=Date.now(),Vv="fnValues"+D2,qv="fnStyle"+ ++D2,NF=function(){return{onCreateRule:function(r,n,i){if(typeof n!="function")return null;var a=Yx(r,{},i);return a[qv]=n,a},onProcessStyle:function(r,n){if(Vv in n||qv in n)return r;var i={};for(var a in r){var l=r[a];typeof l=="function"&&(delete r[a],i[a]=l)}return n[Vv]=i,r},onUpdate:function(r,n,i,a){var l=n,c=l[qv];c&&(l.style=c(r)||{});var d=l[Vv];if(d)for(var f in d)l.prop(f,d[f](r),a)}}},$l="@global",XS="@global ",IF=function(){function t(r,n,i){this.type="global",this.at=$l,this.isProcessed=!1,this.key=r,this.options=i,this.rules=new im(di({},i,{parent:this}));for(var a in n)this.rules.add(a,n[a]);this.rules.process()}var e=t.prototype;return e.getRule=function(n){return this.rules.get(n)},e.addRule=function(n,i,a){var l=this.rules.add(n,i,a);return l&&this.options.jss.plugins.onProcessRule(l),l},e.replaceRule=function(n,i,a){var l=this.rules.replace(n,i,a);return l&&this.options.jss.plugins.onProcessRule(l),l},e.indexOf=function(n){return this.rules.indexOf(n)},e.toString=function(n){return this.rules.toString(n)},t}(),LF=function(){function t(r,n,i){this.type="global",this.at=$l,this.isProcessed=!1,this.key=r,this.options=i;var a=r.substr(XS.length);this.rule=i.jss.createRule(a,n,di({},i,{parent:this}))}var e=t.prototype;return e.toString=function(n){return this.rule?this.rule.toString(n):""},t}(),FF=/\s*,\s*/g;function z2(t,e){for(var r=t.split(FF),n="",i=0;i<r.length;i++)n+=e+" "+r[i].trim(),r[i+1]&&(n+=", ");return n}function BF(t,e){var r=t.options,n=t.style,i=n?n[$l]:null;if(i){for(var a in i)e.addRule(a,i[a],di({},r,{selector:z2(a,t.selector)}));delete n[$l]}}function $F(t,e){var r=t.options,n=t.style;for(var i in n)if(!(i[0]!=="@"||i.substr(0,$l.length)!==$l)){var a=z2(i.substr($l.length),t.selector);e.addRule(a,n[i],di({},r,{selector:a})),delete n[i]}}function DF(){function t(r,n,i){if(!r)return null;if(r===$l)return new IF(r,n,i);if(r[0]==="@"&&r.substr(0,XS.length)===XS)return new LF(r,n,i);var a=i.parent;return a&&(a.type==="global"||a.options.parent&&a.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=r),null}function e(r,n){r.type!=="style"||!n||(BF(r,n),$F(r,n))}return{onCreateRule:t,onProcessRule:e}}var qE=/\s*,\s*/g,zF=/&/g,UF=/\$([\w-]+)/g;function HF(){function t(i,a){return function(l,c){var d=i.getRule(c)||a&&a.getRule(c);return d?d.selector:c}}function e(i,a){for(var l=a.split(qE),c=i.split(qE),d="",f=0;f<l.length;f++)for(var h=l[f],g=0;g<c.length;g++){var p=c[g];d&&(d+=", "),d+=p.indexOf("&")!==-1?p.replace(zF,h):h+" "+p}return d}function r(i,a,l){if(l)return di({},l,{index:l.index+1});var c=i.options.nestingLevel;c=c===void 0?1:c+1;var d=di({},i.options,{nestingLevel:c,index:a.indexOf(i)+1});return delete d.name,d}function n(i,a,l){if(a.type!=="style")return i;var c=a,d=c.options.parent,f,h;for(var g in i){var p=g.indexOf("&")!==-1,S=g[0]==="@";if(!(!p&&!S)){if(f=r(c,d,f),p){var b=e(g,c.selector);h||(h=t(d,l)),b=b.replace(UF,h);var v=c.key+"-"+g;"replaceRule"in d?d.replaceRule(v,i[g],di({},f,{selector:b})):d.addRule(v,i[g],di({},f,{selector:b}))}else S&&d.addRule(g,{},f).addRule(c.key,i[g],{selector:c.selector});delete i[g]}}return i}return{onProcessStyle:n}}var VF=/[A-Z]/g,qF=/^ms-/,Wv={};function WF(t){return"-"+t.toLowerCase()}function U2(t){if(Wv.hasOwnProperty(t))return Wv[t];var e=t.replace(VF,WF);return Wv[t]=qF.test(e)?"-"+e:e}function Mg(t){var e={};for(var r in t){var n=r.indexOf("--")===0?r:U2(r);e[n]=t[r]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(Mg):e.fallbacks=Mg(t.fallbacks)),e}function KF(){function t(r){if(Array.isArray(r)){for(var n=0;n<r.length;n++)r[n]=Mg(r[n]);return r}return Mg(r)}function e(r,n,i){if(n.indexOf("--")===0)return r;var a=U2(n);return n===a?r:(i.prop(a,r),null)}return{onProcessStyle:t,onChangeValue:e}}var gt=Zx&&CSS?CSS.px:"px",Bh=Zx&&CSS?CSS.ms:"ms",wu=Zx&&CSS?CSS.percent:"%",GF={"animation-delay":Bh,"animation-duration":Bh,"background-position":gt,"background-position-x":gt,"background-position-y":gt,"background-size":gt,border:gt,"border-bottom":gt,"border-bottom-left-radius":gt,"border-bottom-right-radius":gt,"border-bottom-width":gt,"border-left":gt,"border-left-width":gt,"border-radius":gt,"border-right":gt,"border-right-width":gt,"border-top":gt,"border-top-left-radius":gt,"border-top-right-radius":gt,"border-top-width":gt,"border-width":gt,"border-block":gt,"border-block-end":gt,"border-block-end-width":gt,"border-block-start":gt,"border-block-start-width":gt,"border-block-width":gt,"border-inline":gt,"border-inline-end":gt,"border-inline-end-width":gt,"border-inline-start":gt,"border-inline-start-width":gt,"border-inline-width":gt,"border-start-start-radius":gt,"border-start-end-radius":gt,"border-end-start-radius":gt,"border-end-end-radius":gt,margin:gt,"margin-bottom":gt,"margin-left":gt,"margin-right":gt,"margin-top":gt,"margin-block":gt,"margin-block-end":gt,"margin-block-start":gt,"margin-inline":gt,"margin-inline-end":gt,"margin-inline-start":gt,padding:gt,"padding-bottom":gt,"padding-left":gt,"padding-right":gt,"padding-top":gt,"padding-block":gt,"padding-block-end":gt,"padding-block-start":gt,"padding-inline":gt,"padding-inline-end":gt,"padding-inline-start":gt,"mask-position-x":gt,"mask-position-y":gt,"mask-size":gt,height:gt,width:gt,"min-height":gt,"max-height":gt,"min-width":gt,"max-width":gt,bottom:gt,left:gt,top:gt,right:gt,inset:gt,"inset-block":gt,"inset-block-end":gt,"inset-block-start":gt,"inset-inline":gt,"inset-inline-end":gt,"inset-inline-start":gt,"box-shadow":gt,"text-shadow":gt,"column-gap":gt,"column-rule":gt,"column-rule-width":gt,"column-width":gt,"font-size":gt,"font-size-delta":gt,"letter-spacing":gt,"text-decoration-thickness":gt,"text-indent":gt,"text-stroke":gt,"text-stroke-width":gt,"word-spacing":gt,motion:gt,"motion-offset":gt,outline:gt,"outline-offset":gt,"outline-width":gt,perspective:gt,"perspective-origin-x":wu,"perspective-origin-y":wu,"transform-origin":wu,"transform-origin-x":wu,"transform-origin-y":wu,"transform-origin-z":wu,"transition-delay":Bh,"transition-duration":Bh,"vertical-align":gt,"flex-basis":gt,"shape-margin":gt,size:gt,gap:gt,grid:gt,"grid-gap":gt,"row-gap":gt,"grid-row-gap":gt,"grid-column-gap":gt,"grid-template-rows":gt,"grid-template-columns":gt,"grid-auto-rows":gt,"grid-auto-columns":gt,"box-shadow-x":gt,"box-shadow-y":gt,"box-shadow-blur":gt,"box-shadow-spread":gt,"font-line-height":gt,"text-shadow-x":gt,"text-shadow-y":gt,"text-shadow-blur":gt};function H2(t){var e=/(-[a-z])/g,r=function(l){return l[1].toUpperCase()},n={};for(var i in t)n[i]=t[i],n[i.replace(e,r)]=t[i];return n}var YF=H2(GF);function $f(t,e,r){if(e==null)return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=$f(t,e[n],r);else if(typeof e=="object")if(t==="fallbacks")for(var i in e)e[i]=$f(i,e[i],r);else for(var a in e)e[a]=$f(t+"-"+a,e[a],r);else if(typeof e=="number"&&isNaN(e)===!1){var l=r[t]||YF[t];return l&&!(e===0&&l===gt)?typeof l=="function"?l(e).toString():""+e+l:e.toString()}return e}function XF(t){t===void 0&&(t={});var e=H2(t);function r(i,a){if(a.type!=="style")return i;for(var l in i)i[l]=$f(l,i[l],e);return i}function n(i,a){return $f(a,i,e)}return{onProcessStyle:r,onChangeValue:n}}function ZS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZF(t){if(Array.isArray(t))return ZS(t)}function V2(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function q2(t,e){if(t){if(typeof t=="string")return ZS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZS(t,e)}}function QF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JF(t){return ZF(t)||V2(t)||q2(t)||QF()}var Of="",QS="",W2="",K2="",eB=pp&&"ontouchstart"in document.documentElement;if(pp){var Kv={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},tB=document.createElement("p"),Gv=tB.style,rB="Transform";for(var Yv in Kv)if(Yv+rB in Gv){Of=Yv,QS=Kv[Yv];break}Of==="Webkit"&&"msHyphens"in Gv&&(Of="ms",QS=Kv.ms,K2="edge"),Of==="Webkit"&&"-apple-trailing-word"in Gv&&(W2="apple")}var Xr={js:Of,css:QS,vendor:W2,browser:K2,isTouch:eB};function nB(t){return t[1]==="-"||Xr.js==="ms"?t:"@"+Xr.css+"keyframes"+t.substr(10)}var iB={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:Xr.js==="ms"?"-webkit-"+e:Xr.css+e}},oB={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:Xr.js==="Webkit"?Xr.css+"print-"+e:e}},aB=/[-\s]+(.)?/g;function sB(t,e){return e?e.toUpperCase():""}function Qx(t){return t.replace(aB,sB)}function Hl(t){return Qx("-"+t)}var lB={noPrefill:["mask"],supportedProperty:function(e,r){if(!/^mask/.test(e))return!1;if(Xr.js==="Webkit"){var n="mask-image";if(Qx(n)in r)return e;if(Xr.js+Hl(n)in r)return Xr.css+e}return e}},cB={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:Xr.vendor==="apple"&&!Xr.isTouch?Xr.css+e:e}},uB={noPrefill:["transform"],supportedProperty:function(e,r,n){return e!=="transform"?!1:n.transform?e:Xr.css+e}},dB={noPrefill:["transition"],supportedProperty:function(e,r,n){return e!=="transition"?!1:n.transition?e:Xr.css+e}},fB={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:Xr.js==="Webkit"||Xr.js==="ms"&&Xr.browser!=="edge"?Xr.css+e:e}},pB={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:Xr.js==="Moz"||Xr.js==="ms"||Xr.vendor==="apple"?Xr.css+e:e}},hB={supportedProperty:function(e,r){if(!/^break-/.test(e))return!1;if(Xr.js==="Webkit"){var n="WebkitColumn"+Hl(e);return n in r?Xr.css+"column-"+e:!1}if(Xr.js==="Moz"){var i="page"+Hl(e);return i in r?"page-"+e:!1}return!1}},gB={supportedProperty:function(e,r){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(Xr.js==="Moz")return e;var n=e.replace("-inline","");return Xr.js+Hl(n)in r?Xr.css+n:!1}},mB={supportedProperty:function(e,r){return Qx(e)in r?e:!1}},yB={supportedProperty:function(e,r){var n=Hl(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:Xr.js+n in r?Xr.css+e:Xr.js!=="Webkit"&&"Webkit"+n in r?"-webkit-"+e:!1}},bB={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:Xr.js==="ms"?""+Xr.css+e:e}},vB={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:Xr.js==="ms"?Xr.css+"scroll-chaining":e}},SB={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},xB={supportedProperty:function(e,r){var n=SB[e];return n&&Xr.js+Hl(n)in r?Xr.css+n:!1}},G2={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},wB=Object.keys(G2),kB=function(e){return Xr.css+e},CB={supportedProperty:function(e,r,n){var i=n.multiple;if(wB.indexOf(e)>-1){var a=G2[e];if(!Array.isArray(a))return Xr.js+Hl(a)in r?Xr.css+a:!1;if(!i)return!1;for(var l=0;l<a.length;l++)if(!(Xr.js+Hl(a[0])in r))return!1;return a.map(kB)}return!1}},Y2=[iB,oB,lB,cB,uB,dB,fB,pB,hB,gB,mB,yB,bB,vB,xB,CB],WE=Y2.filter(function(t){return t.supportedProperty}).map(function(t){return t.supportedProperty}),TB=Y2.filter(function(t){return t.noPrefill}).reduce(function(t,e){return t.push.apply(t,JF(e.noPrefill)),t},[]),Pf,xc={};if(pp){Pf=document.createElement("p");var Xv=window.getComputedStyle(document.documentElement,"");for(var Zv in Xv)isNaN(Zv)||(xc[Xv[Zv]]=Xv[Zv]);TB.forEach(function(t){return delete xc[t]})}function JS(t,e){if(e===void 0&&(e={}),!Pf)return t;if(xc[t]!=null)return xc[t];(t==="transition"||t==="transform")&&(e[t]=t in Pf.style);for(var r=0;r<WE.length&&(xc[t]=WE[r](t,Pf.style,e),!xc[t]);r++);try{Pf.style[t]=""}catch{return!1}return xc[t]}var ku={},EB={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},AB=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Ml;function RB(t,e,r){if(e==="var")return"var";if(e==="all")return"all";if(r==="all")return", all";var n=e?JS(e):", "+JS(r);return n||e||r}pp&&(Ml=document.createElement("p"));function KE(t,e){var r=e;if(!Ml||t==="content")return e;if(typeof r!="string"||!isNaN(parseInt(r,10)))return r;var n=t+r;if(ku[n]!=null)return ku[n];try{Ml.style[t]=r}catch{return ku[n]=!1,!1}if(EB[t])r=r.replace(AB,RB);else if(Ml.style[t]===""&&(r=Xr.css+r,r==="-ms-flex"&&(Ml.style[t]="-ms-flexbox"),Ml.style[t]=r,Ml.style[t]===""))return ku[n]=!1,!1;return Ml.style[t]="",ku[n]=r,ku[n]}function OB(){function t(i){if(i.type==="keyframes"){var a=i;a.at=nB(a.at)}}function e(i){for(var a in i){var l=i[a];if(a==="fallbacks"&&Array.isArray(l)){i[a]=l.map(e);continue}var c=!1,d=JS(a);d&&d!==a&&(c=!0);var f=!1,h=KE(d,Rc(l));h&&h!==l&&(f=!0),(c||f)&&(c&&delete i[a],i[d||a]=h||l)}return i}function r(i,a){return a.type!=="style"?i:e(i)}function n(i,a){return KE(a,Rc(i))||i}return{onProcessRule:t,onProcessStyle:r,onChangeValue:n}}function PB(){var t=function(r,n){return r.length===n.length?r>n?1:-1:r.length-n.length};return{onProcessStyle:function(r,n){if(n.type!=="style")return r;for(var i={},a=Object.keys(r).sort(t),l=0;l<a.length;l++)i[a[l]]=r[a[l]];return i}}}function _B(){return{plugins:[NF(),DF(),HF(),KF(),XF(),typeof window>"u"?null:OB(),PB()]}}function X2(t={}){const{baseClasses:e,newClasses:r,Component:n}=t;if(!r)return e;const i={...e};return Object.keys(r).forEach(a=>{r[a]&&(i[a]=`${e[a]} ${r[a]}`)}),i}const Uu={set:(t,e,r,n)=>{let i=t.get(e);i||(i=new Map,t.set(e,i)),i.set(r,n)},get:(t,e,r)=>{const n=t.get(e);return n?n.get(r):void 0},delete:(t,e,r)=>{t.get(e).delete(r)}};function om(){const t=rm();return t?.$$material??t}const MB=B2(_B()),jB=KL(),NB=new Map,IB={disableGeneration:!1,generateClassName:jB,jss:MB,sheetsCache:null,sheetsManager:NB,sheetsRegistry:null},LB=x.createContext(IB);let GE=-1e9;function FB(){return GE+=1,GE}function YE(t){return t.length===0}function BB(t){const{variant:e,...r}=t;let n=e||"";return Object.keys(r).sort().forEach(i=>{i==="color"?n+=YE(n)?t[i]:Ye(t[i]):n+=`${YE(n)?i:Ye(i)}${Ye(t[i].toString())}`}),n}const $B={};function DB(t){const e=typeof t=="function";return{create:(r,n)=>{let i;try{i=e?t(r):t}catch(d){throw d}if(!n||!r.components||!r.components[n]||!r.components[n].styleOverrides&&!r.components[n].variants)return i;const a=r.components[n].styleOverrides||{},l=r.components[n].variants||[],c={...i};return Object.keys(a).forEach(d=>{c[d]=Ti(c[d]||{},a[d])}),l.forEach(d=>{const f=BB(d.props);c[f]=Ti(c[f]||{},d.style)}),c},options:{}}}function zB({state:t,stylesOptions:e},r,n){if(e.disableGeneration)return r||{};t.cacheClasses||(t.cacheClasses={value:null,lastProp:null,lastJSS:{}});let i=!1;return t.classes!==t.cacheClasses.lastJSS&&(t.cacheClasses.lastJSS=t.classes,i=!0),r!==t.cacheClasses.lastProp&&(t.cacheClasses.lastProp=r,i=!0),i&&(t.cacheClasses.value=X2({baseClasses:t.cacheClasses.lastJSS,newClasses:r,Component:n})),t.cacheClasses.value}function UB({state:t,theme:e,stylesOptions:r,stylesCreator:n,name:i},a){if(r.disableGeneration)return;let l=Uu.get(r.sheetsManager,n,e);l||(l={refs:0,staticSheet:null,dynamicStyles:null},Uu.set(r.sheetsManager,n,e,l));const c={...n.options,...r,theme:e,flip:typeof r.flip=="boolean"?r.flip:e.direction==="rtl"};c.generateId=c.serverGenerateClassName||c.generateClassName;const d=r.sheetsRegistry;if(l.refs===0){let f;r.sheetsCache&&(f=Uu.get(r.sheetsCache,n,e));const h=n.create(e,i);f||(f=r.jss.createStyleSheet(h,{link:!1,...c}),f.attach(),r.sheetsCache&&Uu.set(r.sheetsCache,n,e,f)),d&&d.add(f),l.staticSheet=f,l.dynamicStyles=$2(h)}if(l.dynamicStyles){const f=r.jss.createStyleSheet(l.dynamicStyles,{link:!0,...c});f.update(a),f.attach(),t.dynamicSheet=f,t.classes=X2({baseClasses:l.staticSheet.classes,newClasses:f.classes}),d&&d.add(f)}else t.classes=l.staticSheet.classes;l.refs+=1}function HB({state:t},e){t.dynamicSheet&&t.dynamicSheet.update(e)}function VB({state:t,theme:e,stylesOptions:r,stylesCreator:n}){if(r.disableGeneration)return;const i=Uu.get(r.sheetsManager,n,e);i.refs-=1;const a=r.sheetsRegistry;i.refs===0&&(Uu.delete(r.sheetsManager,n,e),r.jss.removeStyleSheet(i.staticSheet),a&&a.remove(i.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}function qB(t,e){const r=x.useRef([]);let n;const i=x.useMemo(()=>({}),e);r.current!==i&&(r.current=i,n=t()),x.useEffect(()=>()=>{n&&n()},[i])}function yn(t,e={}){const{name:r,classNamePrefix:n,Component:i,defaultTheme:a=$B,...l}=e,c=DB(t),d=r||n||"makeStyles";return c.options={index:FB(),name:r,meta:d,classNamePrefix:d},(h={})=>{const g=om()||a,p={...x.useContext(LB),...l},S=x.useRef(),b=x.useRef();return qB(()=>{const k={name:r,state:{},stylesCreator:c,stylesOptions:p,theme:g};return UB(k,h),b.current=!1,S.current=k,()=>{VB(k)}},[g,c]),x.useEffect(()=>{b.current&&HB(S.current,h),b.current=!0}),zB(S.current,h.classes,i)}}var Qv={exports:{}},Tn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function WB(){if(XE)return Tn;XE=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,g=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,S=t?Symbol.for("react.memo"):60115,b=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,k=t?Symbol.for("react.fundamental"):60117,T=t?Symbol.for("react.responder"):60118,A=t?Symbol.for("react.scope"):60119;function w(O){if(typeof O=="object"&&O!==null){var M=O.$$typeof;switch(M){case e:switch(O=O.type,O){case d:case f:case n:case a:case i:case g:return O;default:switch(O=O&&O.$$typeof,O){case c:case h:case b:case S:case l:return O;default:return M}}case r:return M}}}function R(O){return w(O)===f}return Tn.AsyncMode=d,Tn.ConcurrentMode=f,Tn.ContextConsumer=c,Tn.ContextProvider=l,Tn.Element=e,Tn.ForwardRef=h,Tn.Fragment=n,Tn.Lazy=b,Tn.Memo=S,Tn.Portal=r,Tn.Profiler=a,Tn.StrictMode=i,Tn.Suspense=g,Tn.isAsyncMode=function(O){return R(O)||w(O)===d},Tn.isConcurrentMode=R,Tn.isContextConsumer=function(O){return w(O)===c},Tn.isContextProvider=function(O){return w(O)===l},Tn.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},Tn.isForwardRef=function(O){return w(O)===h},Tn.isFragment=function(O){return w(O)===n},Tn.isLazy=function(O){return w(O)===b},Tn.isMemo=function(O){return w(O)===S},Tn.isPortal=function(O){return w(O)===r},Tn.isProfiler=function(O){return w(O)===a},Tn.isStrictMode=function(O){return w(O)===i},Tn.isSuspense=function(O){return w(O)===g},Tn.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===n||O===f||O===a||O===i||O===g||O===p||typeof O=="object"&&O!==null&&(O.$$typeof===b||O.$$typeof===S||O.$$typeof===l||O.$$typeof===c||O.$$typeof===h||O.$$typeof===k||O.$$typeof===T||O.$$typeof===A||O.$$typeof===v)},Tn.typeOf=w,Tn}var ZE;function KB(){return ZE||(ZE=1,Qv.exports=WB()),Qv.exports}var Jv,QE;function GB(){if(QE)return Jv;QE=1;var t=KB(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=n,a[t.Memo]=i;function l(b){return t.isMemo(b)?i:a[b.$$typeof]||e}var c=Object.defineProperty,d=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,p=Object.prototype;function S(b,v,k){if(typeof v!="string"){if(p){var T=g(v);T&&T!==p&&S(b,T,k)}var A=d(v);f&&(A=A.concat(f(v)));for(var w=l(b),R=l(v),O=0;O<A.length;++O){var M=A[O];if(!r[M]&&!(k&&k[M])&&!(R&&R[M])&&!(w&&w[M])){var j=h(v,M);try{c(b,M,j)}catch{}}}}return b}return Jv=S,Jv}var YB=GB();const Z2=Yl(YB);function XB(t,e){const r={};return Object.keys(t).forEach(n=>{e.includes(n)||(r[n]=t[n])}),r}function Jx(t){return(r,n={})=>{const{name:i,...a}=n;let l=i;const d=yn(typeof r=="function"?g=>({root:p=>r({theme:g,...p})}):{root:r},{Component:t,name:i||t.displayName,classNamePrefix:l,...a});let f;r.filterProps&&(f=r.filterProps,delete r.filterProps),r.propTypes&&(r.propTypes,delete r.propTypes);const h=x.forwardRef(function(p,S){const{children:b,className:v,clone:k,component:T,...A}=p,w=d(p),R=wt(w.root,v);let O=A;if(f&&(O=XB(O,f)),k)return x.cloneElement(b,{className:wt(b.props.className,R),...O});if(typeof b=="function")return b({className:R,...O});const M=T||t;return m.jsx(M,{ref:S,className:R,...O,children:b})});return Z2(h,t),h}}const e1=(t,e={})=>r=>{const{defaultTheme:n,withTheme:i=!1,name:a,...l}=e;let c=a;const d=yn(t,{defaultTheme:n,Component:r,name:a||r.displayName,classNamePrefix:c,...l}),f=x.forwardRef(function(g,p){const{classes:S,...b}=g,v=d({...r.defaultProps,...g});let k,T=b;return(typeof a=="string"||i)&&(k=om()||n,a&&(T=GL({theme:k,name:a,props:b})),i&&!T.theme&&(T.theme=k)),m.jsx(r,{ref:p,classes:v,...T})});return Z2(f,r),f};function ex(){return ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ex.apply(null,arguments)}function ZB(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function QB(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Q2=function(){function t(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(QB(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=ZB(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},t}(),so="-ms-",jg="-moz-",kn="-webkit-",J2="comm",t1="rule",r1="decl",JB="@import",e_="@keyframes",e$="@layer",t$=Math.abs,am=String.fromCharCode,r$=Object.assign;function n$(t,e){return eo(t,0)^45?(((e<<2^eo(t,0))<<2^eo(t,1))<<2^eo(t,2))<<2^eo(t,3):0}function t_(t){return t.trim()}function i$(t,e){return(t=e.exec(t))?t[0]:t}function Cn(t,e,r){return t.replace(e,r)}function tx(t,e){return t.indexOf(e)}function eo(t,e){return t.charCodeAt(e)|0}function Xf(t,e,r){return t.slice(e,r)}function as(t){return t.length}function n1(t){return t.length}function $h(t,e){return e.push(t),t}function o$(t,e){return t.map(e).join("")}var sm=1,Ju=1,r_=0,jo=0,ki=0,ld="";function lm(t,e,r,n,i,a,l){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:sm,column:Ju,length:l,return:""}}function df(t,e){return r$(lm("",null,null,"",null,null,0),t,{length:-t.length},e)}function a$(){return ki}function s$(){return ki=jo>0?eo(ld,--jo):0,Ju--,ki===10&&(Ju=1,sm--),ki}function ea(){return ki=jo<r_?eo(ld,jo++):0,Ju++,ki===10&&(Ju=1,sm++),ki}function fs(){return eo(ld,jo)}function hg(){return jo}function hp(t,e){return Xf(ld,t,e)}function Zf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function n_(t){return sm=Ju=1,r_=as(ld=t),jo=0,[]}function i_(t){return ld="",t}function gg(t){return t_(hp(jo-1,rx(t===91?t+2:t===40?t+1:t)))}function l$(t){for(;(ki=fs())&&ki<33;)ea();return Zf(t)>2||Zf(ki)>3?"":" "}function c$(t,e){for(;--e&&ea()&&!(ki<48||ki>102||ki>57&&ki<65||ki>70&&ki<97););return hp(t,hg()+(e<6&&fs()==32&&ea()==32))}function rx(t){for(;ea();)switch(ki){case t:return jo;case 34:case 39:t!==34&&t!==39&&rx(ki);break;case 40:t===41&&rx(t);break;case 92:ea();break}return jo}function u$(t,e){for(;ea()&&t+ki!==57;)if(t+ki===84&&fs()===47)break;return"/*"+hp(e,jo-1)+"*"+am(t===47?t:ea())}function d$(t){for(;!Zf(fs());)ea();return hp(t,jo)}function f$(t){return i_(mg("",null,null,null,[""],t=n_(t),0,[0],t))}function mg(t,e,r,n,i,a,l,c,d){for(var f=0,h=0,g=l,p=0,S=0,b=0,v=1,k=1,T=1,A=0,w="",R=i,O=a,M=n,j=w;k;)switch(b=A,A=ea()){case 40:if(b!=108&&eo(j,g-1)==58){tx(j+=Cn(gg(A),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:j+=gg(A);break;case 9:case 10:case 13:case 32:j+=l$(b);break;case 92:j+=c$(hg()-1,7);continue;case 47:switch(fs()){case 42:case 47:$h(p$(u$(ea(),hg()),e,r),d);break;default:j+="/"}break;case 123*v:c[f++]=as(j)*T;case 125*v:case 59:case 0:switch(A){case 0:case 125:k=0;case 59+h:T==-1&&(j=Cn(j,/\f/g,"")),S>0&&as(j)-g&&$h(S>32?eA(j+";",n,r,g-1):eA(Cn(j," ","")+";",n,r,g-2),d);break;case 59:j+=";";default:if($h(M=JE(j,e,r,f,h,i,c,w,R=[],O=[],g),a),A===123)if(h===0)mg(j,e,M,M,R,a,g,c,O);else switch(p===99&&eo(j,3)===110?100:p){case 100:case 108:case 109:case 115:mg(t,M,M,n&&$h(JE(t,M,M,0,0,i,c,w,i,R=[],g),O),i,O,g,c,n?R:O);break;default:mg(j,M,M,M,[""],O,0,c,O)}}f=h=S=0,v=T=1,w=j="",g=l;break;case 58:g=1+as(j),S=b;default:if(v<1){if(A==123)--v;else if(A==125&&v++==0&&s$()==125)continue}switch(j+=am(A),A*v){case 38:T=h>0?1:(j+="\f",-1);break;case 44:c[f++]=(as(j)-1)*T,T=1;break;case 64:fs()===45&&(j+=gg(ea())),p=fs(),h=g=as(w=j+=d$(hg())),A++;break;case 45:b===45&&as(j)==2&&(v=0)}}return a}function JE(t,e,r,n,i,a,l,c,d,f,h){for(var g=i-1,p=i===0?a:[""],S=n1(p),b=0,v=0,k=0;b<n;++b)for(var T=0,A=Xf(t,g+1,g=t$(v=l[b])),w=t;T<S;++T)(w=t_(v>0?p[T]+" "+A:Cn(A,/&\f/g,p[T])))&&(d[k++]=w);return lm(t,e,r,i===0?t1:c,d,f,h)}function p$(t,e,r){return lm(t,e,r,J2,am(a$()),Xf(t,2,-2),0)}function eA(t,e,r,n){return lm(t,e,r,r1,Xf(t,0,n),Xf(t,n+1,-1),n)}function qu(t,e){for(var r="",n=n1(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function h$(t,e,r,n){switch(t.type){case e$:if(t.children.length)break;case JB:case r1:return t.return=t.return||t.value;case J2:return"";case e_:return t.return=t.value+"{"+qu(t.children,n)+"}";case t1:t.value=t.props.join(",")}return as(r=qu(t.children,n))?t.return=t.value+"{"+r+"}":""}function g$(t){var e=n1(t);return function(r,n,i,a){for(var l="",c=0;c<e;c++)l+=t[c](r,n,i,a)||"";return l}}function m$(t){return function(e){e.root||(e=e.return)&&t(e)}}function o_(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var y$=function(e,r,n){for(var i=0,a=0;i=a,a=fs(),i===38&&a===12&&(r[n]=1),!Zf(a);)ea();return hp(e,jo)},b$=function(e,r){var n=-1,i=44;do switch(Zf(i)){case 0:i===38&&fs()===12&&(r[n]=1),e[n]+=y$(jo-1,r,n);break;case 2:e[n]+=gg(i);break;case 4:if(i===44){e[++n]=fs()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=am(i)}while(i=ea());return e},v$=function(e,r){return i_(b$(n_(e),r))},tA=new WeakMap,S$=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!tA.get(n))&&!i){tA.set(e,!0);for(var a=[],l=v$(r,a),c=n.props,d=0,f=0;d<l.length;d++)for(var h=0;h<c.length;h++,f++)e.props[f]=a[d]?l[d].replace(/&\f/g,c[h]):c[h]+" "+l[d]}}},x$=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function a_(t,e){switch(n$(t,e)){case 5103:return kn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return kn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return kn+t+jg+t+so+t+t;case 6828:case 4268:return kn+t+so+t+t;case 6165:return kn+t+so+"flex-"+t+t;case 5187:return kn+t+Cn(t,/(\w+).+(:[^]+)/,kn+"box-$1$2"+so+"flex-$1$2")+t;case 5443:return kn+t+so+"flex-item-"+Cn(t,/flex-|-self/,"")+t;case 4675:return kn+t+so+"flex-line-pack"+Cn(t,/align-content|flex-|-self/,"")+t;case 5548:return kn+t+so+Cn(t,"shrink","negative")+t;case 5292:return kn+t+so+Cn(t,"basis","preferred-size")+t;case 6060:return kn+"box-"+Cn(t,"-grow","")+kn+t+so+Cn(t,"grow","positive")+t;case 4554:return kn+Cn(t,/([^-])(transform)/g,"$1"+kn+"$2")+t;case 6187:return Cn(Cn(Cn(t,/(zoom-|grab)/,kn+"$1"),/(image-set)/,kn+"$1"),t,"")+t;case 5495:case 3959:return Cn(t,/(image-set\([^]*)/,kn+"$1$`$1");case 4968:return Cn(Cn(t,/(.+:)(flex-)?(.*)/,kn+"box-pack:$3"+so+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+kn+t+t;case 4095:case 3583:case 4068:case 2532:return Cn(t,/(.+)-inline(.+)/,kn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(as(t)-1-e>6)switch(eo(t,e+1)){case 109:if(eo(t,e+4)!==45)break;case 102:return Cn(t,/(.+:)(.+)-([^]+)/,"$1"+kn+"$2-$3$1"+jg+(eo(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~tx(t,"stretch")?a_(Cn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(eo(t,e+1)!==115)break;case 6444:switch(eo(t,as(t)-3-(~tx(t,"!important")&&10))){case 107:return Cn(t,":",":"+kn)+t;case 101:return Cn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+kn+(eo(t,14)===45?"inline-":"")+"box$3$1"+kn+"$2$3$1"+so+"$2box$3")+t}break;case 5936:switch(eo(t,e+11)){case 114:return kn+t+so+Cn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return kn+t+so+Cn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return kn+t+so+Cn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return kn+t+so+t+t}return t}var w$=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case r1:e.return=a_(e.value,e.length);break;case e_:return qu([df(e,{value:Cn(e.value,"@","@"+kn)})],i);case t1:if(e.length)return o$(e.props,function(a){switch(i$(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return qu([df(e,{props:[Cn(a,/:(read-\w+)/,":"+jg+"$1")]})],i);case"::placeholder":return qu([df(e,{props:[Cn(a,/:(plac\w+)/,":"+kn+"input-$1")]}),df(e,{props:[Cn(a,/:(plac\w+)/,":"+jg+"$1")]}),df(e,{props:[Cn(a,/:(plac\w+)/,so+"input-$1")]})],i)}return""})}},k$=[w$],s_=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(v){var k=v.getAttribute("data-emotion");k.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||k$,a={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(v){for(var k=v.getAttribute("data-emotion").split(" "),T=1;T<k.length;T++)a[k[T]]=!0;c.push(v)});var d,f=[S$,x$];{var h,g=[h$,m$(function(v){h.insert(v)})],p=g$(f.concat(i,g)),S=function(k){return qu(f$(k),p)};d=function(k,T,A,w){h=A,S(k?k+"{"+T.styles+"}":T.styles),w&&(b.inserted[T.name]=!0)}}var b={key:r,sheet:new Q2({key:r,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:d};return b.sheet.hydrate(c),b},C$=!0;function l_(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(n+=i+" ")}),n}var i1=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||C$===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},o1=function(e,r,n){i1(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var a=r;do e.insert(r===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function T$(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var E$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},A$=/[A-Z]|^ms/g,R$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,c_=function(e){return e.charCodeAt(1)===45},rA=function(e){return e!=null&&typeof e!="boolean"},e0=o_(function(t){return c_(t)?t:t.replace(A$,"-$&").toLowerCase()}),nA=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(R$,function(n,i,a){return ss={name:i,styles:a,next:ss},i})}return E$[e]!==1&&!c_(e)&&typeof r=="number"&&r!==0?r+"px":r};function Qf(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return ss={name:i.name,styles:i.styles,next:ss},i.name;var a=r;if(a.styles!==void 0){var l=a.next;if(l!==void 0)for(;l!==void 0;)ss={name:l.name,styles:l.styles,next:ss},l=l.next;var c=a.styles+";";return c}return O$(t,e,r)}case"function":{if(t!==void 0){var d=ss,f=r(t);return ss=d,Qf(t,e,f)}break}}var h=r;if(e==null)return h;var g=e[h];return g!==void 0?g:h}function O$(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Qf(t,e,r[i])+";";else for(var a in r){var l=r[a];if(typeof l!="object"){var c=l;e!=null&&e[c]!==void 0?n+=a+"{"+e[c]+"}":rA(c)&&(n+=e0(a)+":"+nA(a,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)rA(l[d])&&(n+=e0(a)+":"+nA(a,l[d])+";");else{var f=Qf(t,e,l);switch(a){case"animation":case"animationName":{n+=e0(a)+":"+f+";";break}default:n+=a+"{"+f+"}"}}}return n}var iA=/label:\s*([^\s;{]+)\s*(;|$)/g,ss;function gp(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,i="";ss=void 0;var a=t[0];if(a==null||a.raw===void 0)n=!1,i+=Qf(r,e,a);else{var l=a;i+=l[0]}for(var c=1;c<t.length;c++)if(i+=Qf(r,e,t[c]),n){var d=a;i+=d[c]}iA.lastIndex=0;for(var f="",h;(h=iA.exec(i))!==null;)f+="-"+h[1];var g=T$(i)+f;return{name:g,styles:i,next:ss}}var P$=function(e){return e()},u_=Pg.useInsertionEffect?Pg.useInsertionEffect:!1,d_=u_||P$,oA=u_||x.useLayoutEffect,f_=x.createContext(typeof HTMLElement<"u"?s_({key:"css"}):null),_$=f_.Provider,a1=function(e){return x.forwardRef(function(r,n){var i=x.useContext(f_);return e(r,i,n)})},mp=x.createContext({}),s1={}.hasOwnProperty,nx="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",M$=function(e,r){var n={};for(var i in r)s1.call(r,i)&&(n[i]=r[i]);return n[nx]=e,n},j$=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return i1(r,n,i),d_(function(){return o1(r,n,i)}),null},N$=a1(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var i=t[nx],a=[n],l="";typeof t.className=="string"?l=l_(e.registered,a,t.className):t.className!=null&&(l=t.className+" ");var c=gp(a,void 0,x.useContext(mp));l+=e.key+"-"+c.name;var d={};for(var f in t)s1.call(t,f)&&f!=="css"&&f!==nx&&(d[f]=t[f]);return d.className=l,r&&(d.ref=r),x.createElement(x.Fragment,null,x.createElement(j$,{cache:e,serialized:c,isStringTag:typeof i=="string"}),x.createElement(i,d))}),I$=N$,aA=function(e,r){var n=arguments;if(r==null||!s1.call(r,"css"))return x.createElement.apply(void 0,n);var i=n.length,a=new Array(i);a[0]=I$,a[1]=M$(e,r);for(var l=2;l<i;l++)a[l]=n[l];return x.createElement.apply(null,a)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(aA||(aA={}));var L$=a1(function(t,e){var r=t.styles,n=gp([r],void 0,x.useContext(mp)),i=x.useRef();return oA(function(){var a=e.key+"-global",l=new e.sheet.constructor({key:a,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),c=!1,d=document.querySelector('style[data-emotion="'+a+" "+n.name+'"]');return e.sheet.tags.length&&(l.before=e.sheet.tags[0]),d!==null&&(c=!0,d.setAttribute("data-emotion",a),l.hydrate([d])),i.current=[l,c],function(){l.flush()}},[e]),oA(function(){var a=i.current,l=a[0],c=a[1];if(c){a[1]=!1;return}if(n.next!==void 0&&o1(e,n.next,!0),l.tags.length){var d=l.tags[l.tags.length-1].nextElementSibling;l.before=d,l.flush()}e.insert("",n,l,!1)},[e,n.name]),null});function l1(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return gp(e)}function yp(){var t=l1.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var F$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,B$=o_(function(t){return F$.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),$$=B$,D$=function(e){return e!=="theme"},sA=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?$$:D$},lA=function(e,r,n){var i;if(r){var a=r.shouldForwardProp;i=e.__emotion_forwardProp&&a?function(l){return e.__emotion_forwardProp(l)&&a(l)}:a}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},z$=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return i1(r,n,i),d_(function(){return o1(r,n,i)}),null},U$=function t(e,r){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,a,l;r!==void 0&&(a=r.label,l=r.target);var c=lA(e,r,n),d=c||sA(i),f=!d("as");return function(){var h=arguments,g=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&g.push("label:"+a+";"),h[0]==null||h[0].raw===void 0)g.push.apply(g,h);else{var p=h[0];g.push(p[0]);for(var S=h.length,b=1;b<S;b++)g.push(h[b],p[b])}var v=a1(function(k,T,A){var w=f&&k.as||i,R="",O=[],M=k;if(k.theme==null){M={};for(var j in k)M[j]=k[j];M.theme=x.useContext(mp)}typeof k.className=="string"?R=l_(T.registered,O,k.className):k.className!=null&&(R=k.className+" ");var $=gp(g.concat(O),T.registered,M);R+=T.key+"-"+$.name,l!==void 0&&(R+=" "+l);var V=f&&c===void 0?sA(w):d,N={};for(var W in k)f&&W==="as"||V(W)&&(N[W]=k[W]);return N.className=R,A&&(N.ref=A),x.createElement(x.Fragment,null,x.createElement(z$,{cache:T,serialized:$,isStringTag:typeof w=="string"}),x.createElement(w,N))});return v.displayName=a!==void 0?a:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=g,v.__emotion_forwardProp=c,Object.defineProperty(v,"toString",{value:function(){return"."+l}}),v.withComponent=function(k,T){var A=t(k,ex({},r,T,{shouldForwardProp:lA(v,T,!0)}));return A.apply(void 0,g)},v}},H$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ix=U$.bind(null);H$.forEach(function(t){ix[t]=ix(t)});const t0=new Map,V$=(t,e)=>{const r=s_(t);return r.sheet=new e({key:r.key,nonce:r.sheet.nonce,container:r.sheet.container,speedy:r.sheet.isSpeedy,prepend:r.sheet.prepend,insertionPoint:r.sheet.insertionPoint}),r};let Nl;if(typeof document=="object"&&(Nl=document.querySelector('[name="emotion-insertion-point"]'),!Nl)){Nl=document.createElement("meta"),Nl.setAttribute("name","emotion-insertion-point"),Nl.setAttribute("content","");const t=document.querySelector("head");t&&t.prepend(Nl)}function q$(t,e){if(t||e){class r extends Q2{insert(a,l){return this.key&&this.key.endsWith("global")&&(this.before=Nl),super.insert(a,l)}}const n=V$({key:"css",insertionPoint:t?Nl:void 0},r);if(e){const i=n.insert;n.insert=(...a)=>(a[1].styles.match(/^@layer\s+[^{]*$/)||(a[1].styles=`@layer mui {${a[1].styles}}`),i(...a))}return n}}function W$(t){const{injectFirst:e,enableCssLayer:r,children:n}=t,i=x.useMemo(()=>{const a=`${e}-${r}`;if(typeof document=="object"&&t0.has(a))return t0.get(a);const l=q$(e,r);return t0.set(a,l),l},[e,r]);return i?m.jsx(_$,{value:i,children:n}):n}function K$(t){return t==null||Object.keys(t).length===0}function p_(t){const{styles:e,defaultTheme:r={}}=t,n=typeof e=="function"?i=>e(K$(i)?r:i):e;return m.jsx(L$,{styles:n})}/**
 * @mui/styled-engine v6.5.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function h_(t,e){return ix(t,e)}function G$(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const cA=[];function Dl(t){return cA[0]=t,gp(cA)}const Y$=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>({...r,[n.key]:n.val}),{})};function X$(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...i}=t,a=Y$(e),l=Object.keys(a);function c(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${r})`}function d(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-n/100}${r})`}function f(p,S){const b=l.indexOf(S);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${r}) and (max-width:${(b!==-1&&typeof e[l[b]]=="number"?e[l[b]]:S)-n/100}${r})`}function h(p){return l.indexOf(p)+1<l.length?f(p,l[l.indexOf(p)+1]):c(p)}function g(p){const S=l.indexOf(p);return S===0?c(l[1]):S===l.length-1?d(l[S]):f(p,l[l.indexOf(p)+1]).replace("@media","@media not all and")}return{keys:l,values:a,up:c,down:d,between:f,only:h,not:g,unit:r,...i}}function uA(t,e){if(!t.containerQueries)return e;const r=Object.keys(e).filter(n=>n.startsWith("@container")).sort((n,i)=>{const a=/min-width:\s*([0-9.]+)/;return+(n.match(a)?.[1]||0)-+(i.match(a)?.[1]||0)});return r.length?r.reduce((n,i)=>{const a=e[i];return delete n[i],n[i]=a,n},{...e}):e}function Z$(t,e){return e==="@"||e.startsWith("@")&&(t.some(r=>e.startsWith(`@${r}`))||!!e.match(/^@\d/))}function Q$(t,e){const r=e.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,i]=r,a=Number.isNaN(+n)?n||0:+n;return t.containerQueries(i).up(a)}function J$(t){const e=(a,l)=>a.replace("@media",l?`@container ${l}`:"@container");function r(a,l){a.up=(...c)=>e(t.breakpoints.up(...c),l),a.down=(...c)=>e(t.breakpoints.down(...c),l),a.between=(...c)=>e(t.breakpoints.between(...c),l),a.only=(...c)=>e(t.breakpoints.only(...c),l),a.not=(...c)=>{const d=e(t.breakpoints.not(...c),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const n={},i=a=>(r(n,a),n);return r(i),{...t,containerQueries:i}}const e3={borderRadius:4};function Df(t,e){return e?Ti(t,e,{clone:!1}):t}const cm={xs:0,sm:600,md:900,lg:1200,xl:1536},dA={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${cm[t]}px)`},t3={containerQueries:t=>({up:e=>{let r=typeof e=="number"?e:cm[e]||e;return typeof r=="number"&&(r=`${r}px`),t?`@container ${t} (min-width:${r})`:`@container (min-width:${r})`}})};function No(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const a=n.breakpoints||dA;return e.reduce((l,c,d)=>(l[a.up(a.keys[d])]=r(e[d]),l),{})}if(typeof e=="object"){const a=n.breakpoints||dA;return Object.keys(e).reduce((l,c)=>{if(Z$(a.keys,c)){const d=Q$(n.containerQueries?n:t3,c);d&&(l[d]=r(e[c],c))}else if(Object.keys(a.values||cm).includes(c)){const d=a.up(c);l[d]=r(e[c],c)}else{const d=c;l[d]=e[d]}return l},{})}return r(e)}function g_(t={}){return t.keys?.reduce((r,n)=>{const i=t.up(n);return r[i]={},r},{})||{}}function ox(t,e){return t.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},e)}function r3(t,...e){const r=g_(t),n=[r,...e].reduce((i,a)=>Ti(i,a),{});return ox(Object.keys(r),n)}function n3(t,e){if(typeof t!="object")return{};const r={},n=Object.keys(e);return Array.isArray(t)?n.forEach((i,a)=>{a<t.length&&(r[i]=!0)}):n.forEach(i=>{t[i]!=null&&(r[i]=!0)}),r}function Oc({values:t,breakpoints:e,base:r}){const n=r||n3(t,e),i=Object.keys(n);if(i.length===0)return t;let a;return i.reduce((l,c,d)=>(Array.isArray(t)?(l[c]=t[d]!=null?t[d]:t[a],a=d):typeof t=="object"?(l[c]=t[c]!=null?t[c]:t[a],a=c):l[c]=t,l),{})}function Ll(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,t);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,t)}function Ng(t,e,r,n=r){let i;return typeof t=="function"?i=t(r):Array.isArray(t)?i=t[r]||n:i=Ll(t,r)||n,e&&(i=e(i,n,t)),i}function bi(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:i}=t,a=l=>{if(l[e]==null)return null;const c=l[e],d=l.theme,f=Ll(d,n)||{};return No(l,c,g=>{let p=Ng(f,i,g);return g===p&&typeof g=="string"&&(p=Ng(f,i,`${e}${g==="default"?"":Ye(g)}`,g)),r===!1?p:{[r]:p}})};return a.propTypes={},a.filterProps=[e],a}function i3(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const o3={m:"margin",p:"padding"},a3={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},fA={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},s3=i3(t=>{if(t.length>2)if(fA[t])t=fA[t];else return[t];const[e,r]=t.split(""),n=o3[e],i=a3[r]||"";return Array.isArray(i)?i.map(a=>n+a):[n+i]}),c1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],u1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...c1,...u1];function bp(t,e,r,n){const i=Ll(t,e,!0)??r;return typeof i=="number"||typeof i=="string"?a=>typeof a=="string"?a:typeof i=="string"?`calc(${a} * ${i})`:i*a:Array.isArray(i)?a=>{if(typeof a=="string")return a;const l=Math.abs(a),c=i[l];return a>=0?c:typeof c=="number"?-c:`-${c}`}:typeof i=="function"?i:()=>{}}function um(t){return bp(t,"spacing",8)}function Mc(t,e){return typeof e=="string"||e==null?e:t(e)}function l3(t,e){return r=>t.reduce((n,i)=>(n[i]=Mc(e,r),n),{})}function c3(t,e,r,n){if(!e.includes(r))return null;const i=s3(r),a=l3(i,n),l=t[r];return No(t,l,a)}function m_(t,e){const r=um(t.theme);return Object.keys(t).map(n=>c3(t,e,n,r)).reduce(Df,{})}function si(t){return m_(t,c1)}si.propTypes={};si.filterProps=c1;function li(t){return m_(t,u1)}li.propTypes={};li.filterProps=u1;function y_(t=8,e=um({spacing:t})){if(t.mui)return t;const r=(...n)=>(n.length===0?[1]:n).map(a=>{const l=e(a);return typeof l=="number"?`${l}px`:l}).join(" ");return r.mui=!0,r}function dm(...t){const e=t.reduce((n,i)=>(i.filterProps.forEach(a=>{n[a]=i}),n),{}),r=n=>Object.keys(n).reduce((i,a)=>e[a]?Df(i,e[a](n)):i,{});return r.propTypes={},r.filterProps=t.reduce((n,i)=>n.concat(i.filterProps),[]),r}function Sa(t){return typeof t!="number"?t:`${t}px solid`}function Aa(t,e){return bi({prop:t,themeKey:"borders",transform:e})}const u3=Aa("border",Sa),d3=Aa("borderTop",Sa),f3=Aa("borderRight",Sa),p3=Aa("borderBottom",Sa),h3=Aa("borderLeft",Sa),g3=Aa("borderColor"),m3=Aa("borderTopColor"),y3=Aa("borderRightColor"),b3=Aa("borderBottomColor"),v3=Aa("borderLeftColor"),S3=Aa("outline",Sa),x3=Aa("outlineColor"),fm=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=bp(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:Mc(e,n)});return No(t,t.borderRadius,r)}return null};fm.propTypes={};fm.filterProps=["borderRadius"];dm(u3,d3,f3,p3,h3,g3,m3,y3,b3,v3,fm,S3,x3);const pm=t=>{if(t.gap!==void 0&&t.gap!==null){const e=bp(t.theme,"spacing",8),r=n=>({gap:Mc(e,n)});return No(t,t.gap,r)}return null};pm.propTypes={};pm.filterProps=["gap"];const hm=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=bp(t.theme,"spacing",8),r=n=>({columnGap:Mc(e,n)});return No(t,t.columnGap,r)}return null};hm.propTypes={};hm.filterProps=["columnGap"];const gm=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=bp(t.theme,"spacing",8),r=n=>({rowGap:Mc(e,n)});return No(t,t.rowGap,r)}return null};gm.propTypes={};gm.filterProps=["rowGap"];const w3=bi({prop:"gridColumn"}),k3=bi({prop:"gridRow"}),C3=bi({prop:"gridAutoFlow"}),T3=bi({prop:"gridAutoColumns"}),E3=bi({prop:"gridAutoRows"}),A3=bi({prop:"gridTemplateColumns"}),R3=bi({prop:"gridTemplateRows"}),O3=bi({prop:"gridTemplateAreas"}),P3=bi({prop:"gridArea"});dm(pm,hm,gm,w3,k3,C3,T3,E3,A3,R3,O3,P3);function Wu(t,e){return e==="grey"?e:t}const _3=bi({prop:"color",themeKey:"palette",transform:Wu}),M3=bi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Wu}),j3=bi({prop:"backgroundColor",themeKey:"palette",transform:Wu});dm(_3,M3,j3);function Xo(t){return t<=1&&t!==0?`${t*100}%`:t}const N3=bi({prop:"width",transform:Xo}),d1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{const n=t.theme?.breakpoints?.values?.[r]||cm[r];return n?t.theme?.breakpoints?.unit!=="px"?{maxWidth:`${n}${t.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:Xo(r)}};return No(t,t.maxWidth,e)}return null};d1.filterProps=["maxWidth"];const I3=bi({prop:"minWidth",transform:Xo}),L3=bi({prop:"height",transform:Xo}),F3=bi({prop:"maxHeight",transform:Xo}),B3=bi({prop:"minHeight",transform:Xo});bi({prop:"size",cssProperty:"width",transform:Xo});bi({prop:"size",cssProperty:"height",transform:Xo});const $3=bi({prop:"boxSizing"});dm(N3,d1,I3,L3,F3,B3,$3);const vp={border:{themeKey:"borders",transform:Sa},borderTop:{themeKey:"borders",transform:Sa},borderRight:{themeKey:"borders",transform:Sa},borderBottom:{themeKey:"borders",transform:Sa},borderLeft:{themeKey:"borders",transform:Sa},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Sa},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:fm},color:{themeKey:"palette",transform:Wu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Wu},backgroundColor:{themeKey:"palette",transform:Wu},p:{style:li},pt:{style:li},pr:{style:li},pb:{style:li},pl:{style:li},px:{style:li},py:{style:li},padding:{style:li},paddingTop:{style:li},paddingRight:{style:li},paddingBottom:{style:li},paddingLeft:{style:li},paddingX:{style:li},paddingY:{style:li},paddingInline:{style:li},paddingInlineStart:{style:li},paddingInlineEnd:{style:li},paddingBlock:{style:li},paddingBlockStart:{style:li},paddingBlockEnd:{style:li},m:{style:si},mt:{style:si},mr:{style:si},mb:{style:si},ml:{style:si},mx:{style:si},my:{style:si},margin:{style:si},marginTop:{style:si},marginRight:{style:si},marginBottom:{style:si},marginLeft:{style:si},marginX:{style:si},marginY:{style:si},marginInline:{style:si},marginInlineStart:{style:si},marginInlineEnd:{style:si},marginBlock:{style:si},marginBlockStart:{style:si},marginBlockEnd:{style:si},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:pm},rowGap:{style:gm},columnGap:{style:hm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Xo},maxWidth:{style:d1},minWidth:{transform:Xo},height:{transform:Xo},maxHeight:{transform:Xo},minHeight:{transform:Xo},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function D3(...t){const e=t.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function z3(t,e){return typeof t=="function"?t(e):t}function U3(){function t(r,n,i,a){const l={[r]:n,theme:i},c=a[r];if(!c)return{[r]:n};const{cssProperty:d=r,themeKey:f,transform:h,style:g}=c;if(n==null)return null;if(f==="typography"&&n==="inherit")return{[r]:n};const p=Ll(i,f)||{};return g?g(l):No(l,n,b=>{let v=Ng(p,h,b);return b===v&&typeof b=="string"&&(v=Ng(p,h,`${r}${b==="default"?"":Ye(b)}`,b)),d===!1?v:{[d]:v}})}function e(r){const{sx:n,theme:i={},nested:a}=r||{};if(!n)return null;const l=i.unstable_sxConfig??vp;function c(d){let f=d;if(typeof d=="function")f=d(i);else if(typeof d!="object")return d;if(!f)return null;const h=g_(i.breakpoints),g=Object.keys(h);let p=h;return Object.keys(f).forEach(S=>{const b=z3(f[S],i);if(b!=null)if(typeof b=="object")if(l[S])p=Df(p,t(S,b,i,l));else{const v=No({theme:i},b,k=>({[S]:k}));D3(v,b)?p[S]=e({sx:b,theme:i,nested:!0}):p=Df(p,v)}else p=Df(p,t(S,b,i,l))}),!a&&i.modularCssLayers?{"@layer sx":uA(i,ox(g,p))}:uA(i,ox(g,p))}return Array.isArray(n)?n.map(c):c(n)}return e}const Vl=U3();Vl.filterProps=["sx"];function H3(t,e){const r=this;if(r.vars){if(!r.colorSchemes?.[t]||typeof r.getColorSchemeSelector!="function")return{};let n=r.getColorSchemeSelector(t);return n==="&"?e:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:e})}return r.palette.mode===t?e:{}}function Sp(t={},...e){const{breakpoints:r={},palette:n={},spacing:i,shape:a={},...l}=t,c=X$(r),d=y_(i);let f=Ti({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:d,shape:{...e3,...a}},l);return f=J$(f),f.applyStyles=H3,f=e.reduce((h,g)=>Ti(h,g),f),f.unstable_sxConfig={...vp,...l?.unstable_sxConfig},f.unstable_sx=function(g){return Vl({sx:g,theme:this})},f}function V3(t){return Object.keys(t).length===0}function mm(t=null){const e=x.useContext(mp);return!e||V3(e)?t:e}const q3=Sp();function xp(t=q3){return mm(t)}function r0(t){const e=Dl(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function b_({styles:t,themeId:e,defaultTheme:r={}}){const n=xp(r),i=e&&n[e]||n;let a=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(a)?a=a.map(l=>r0(typeof l=="function"?l(i):l)):a=r0(a)),m.jsx(p_,{styles:a})}const W3=t=>{const e={systemProps:{},otherProps:{}},r=t?.theme?.unstable_sxConfig??vp;return Object.keys(t).forEach(n=>{r[n]?e.systemProps[n]=t[n]:e.otherProps[n]=t[n]}),e};function wp(t){const{sx:e,...r}=t,{systemProps:n,otherProps:i}=W3(r);let a;return Array.isArray(e)?a=[n,...e]:typeof e=="function"?a=(...l)=>{const c=e(...l);return ls(c)?{...n,...c}:n}:a={...n,...e},{...i,sx:a}}function K3(t={}){const{themeId:e,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=t,a=h_("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(Vl);return x.forwardRef(function(d,f){const h=xp(r),{className:g,component:p="div",...S}=wp(d);return m.jsx(a,{as:p,ref:f,className:wt(g,i?i(n):n),theme:e&&h[e]||h,...S})})}function v_(t){const{variants:e,...r}=t,n={variants:e,style:Dl(r),isProcessed:!0};return n.style===r||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=Dl(i.style))}),n}const G3=Sp();function n0(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Ec(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function Y3(t){return t?(e,r)=>r[t]:null}function X3(t,e,r){t.theme=Q3(t.theme)?r:t.theme[e]||t.theme}function yg(t,e,r){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(i=>yg(t,i,r));if(Array.isArray(n?.variants)){let i;if(n.isProcessed)i=r?Ec(n.style,r):n.style;else{const{variants:a,...l}=n;i=r?Ec(Dl(l),r):l}return S_(t,n.variants,[i],r)}return n?.isProcessed?r?Ec(Dl(n.style),r):n.style:r?Ec(Dl(n),r):n}function S_(t,e,r=[],n=void 0){let i;e:for(let a=0;a<e.length;a+=1){const l=e[a];if(typeof l.props=="function"){if(i??={...t,...t.ownerState,ownerState:t.ownerState},!l.props(i))continue}else for(const c in l.props)if(t[c]!==l.props[c]&&t.ownerState?.[c]!==l.props[c])continue e;typeof l.style=="function"?(i??={...t,...t.ownerState,ownerState:t.ownerState},r.push(n?Ec(Dl(l.style(i)),n):l.style(i))):r.push(n?Ec(Dl(l.style),n):l.style)}return r}function x_(t={}){const{themeId:e,defaultTheme:r=G3,rootShouldForwardProp:n=n0,slotShouldForwardProp:i=n0}=t;function a(c){X3(c,e,r)}return(c,d={})=>{G$(c,M=>M.filter(j=>j!==Vl));const{name:f,slot:h,skipVariantsResolver:g,skipSx:p,overridesResolver:S=Y3(eD(h)),...b}=d,v=f&&f.startsWith("Mui")||h?"components":"custom",k=g!==void 0?g:h&&h!=="Root"&&h!=="root"||!1,T=p||!1;let A=n0;h==="Root"||h==="root"?A=n:h?A=i:J3(c)&&(A=void 0);const w=h_(c,{shouldForwardProp:A,label:Z3(),...b}),R=M=>{if(M.__emotion_real===M)return M;if(typeof M=="function")return function($){return yg($,M,$.theme.modularCssLayers?v:void 0)};if(ls(M)){const j=v_(M);return function(V){return j.variants?yg(V,j,V.theme.modularCssLayers?v:void 0):V.theme.modularCssLayers?Ec(j.style,v):j.style}}return M},O=(...M)=>{const j=[],$=M.map(R),V=[];if(j.push(a),f&&S&&V.push(function(I){const G=I.theme.components?.[f]?.styleOverrides;if(!G)return null;const U={};for(const X in G)U[X]=yg(I,G[X],I.theme.modularCssLayers?"theme":void 0);return S(I,U)}),f&&!k&&V.push(function(I){const G=I.theme?.components?.[f]?.variants;return G?S_(I,G,[],I.theme.modularCssLayers?"theme":void 0):null}),T||V.push(Vl),Array.isArray($[0])){const z=$.shift(),I=new Array(j.length).fill(""),B=new Array(V.length).fill("");let G;G=[...I,...z,...B],G.raw=[...I,...z.raw,...B],j.unshift(G)}const N=[...j,...$,...V],W=w(...N);return c.muiName&&(W.muiName=c.muiName),W};return w.withConfig&&(O.withConfig=w.withConfig),O}}function Z3(t,e){return void 0}function Q3(t){for(const e in t)return!1;return!0}function J3(t){return typeof t=="string"&&t.charCodeAt(0)>96}function eD(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const w_=x_();function k_(t){const{theme:e,name:r,props:n}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?n:Gf(e.components[r].defaultProps,n)}function C_({props:t,name:e,defaultTheme:r,themeId:n}){let i=xp(r);return n&&(i=i[n]||i),k_({theme:i,name:e,props:t})}function tD(t,e,r,n,i){const[a,l]=x.useState(()=>i&&r?r(t).matches:n?n(t).matches:e);return uo(()=>{if(!r)return;const c=r(t),d=()=>{l(c.matches)};return d(),c.addEventListener("change",d),()=>{c.removeEventListener("change",d)}},[t,r]),a}const rD={...Pg},T_=rD.useSyncExternalStore;function nD(t,e,r,n,i){const a=x.useCallback(()=>e,[e]),l=x.useMemo(()=>{if(i&&r)return()=>r(t).matches;if(n!==null){const{matches:h}=n(t);return()=>h}return a},[a,t,n,i,r]),[c,d]=x.useMemo(()=>{if(r===null)return[a,()=>()=>{}];const h=r(t);return[()=>h.matches,g=>(h.addEventListener("change",g),()=>{h.removeEventListener("change",g)})]},[a,r,t]);return T_(d,c,l)}function E_(t={}){const{themeId:e}=t;return function(n,i={}){let a=mm();a&&e&&(a=a[e]||a);const l=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:c=!1,matchMedia:d=l?window.matchMedia:null,ssrMatchMedia:f=null,noSsr:h=!1}=k_({name:"MuiUseMediaQuery",props:i,theme:a});let g=typeof n=="function"?n(a):n;return g=g.replace(/^@media( ?)/m,""),g.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(T_!==void 0?nD:tD)(g,c,d,f,h)}}E_();function f1(t,e=0,r=1){return Lu(t,e,r)}function iD(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function ql(t){if(t.type)return t;if(t.charAt(0)==="#")return ql(iD(t));const e=t.indexOf("("),r=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(qs(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(qs(10,i))}else n=n.split(",");return n=n.map(a=>parseFloat(a)),{type:r,values:n,colorSpace:i}}const oD=t=>{const e=ql(t);return e.values.slice(0,3).map((r,n)=>e.type.includes("hsl")&&n!==0?`${r}%`:r).join(" ")},_f=(t,e)=>{try{return oD(t)}catch{return t}};function ym(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.includes("rgb")?n=n.map((i,a)=>a<3?parseInt(i,10):i):e.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.includes("color")?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function A_(t){t=ql(t);const{values:e}=t,r=e[0],n=e[1]/100,i=e[2]/100,a=n*Math.min(i,1-i),l=(f,h=(f+r/30)%12)=>i-a*Math.max(Math.min(h-3,9-h,1),-1);let c="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return t.type==="hsla"&&(c+="a",d.push(e[3])),ym({type:c,values:d})}function ax(t){t=ql(t);let e=t.type==="hsl"||t.type==="hsla"?ql(A_(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function aD(t,e){const r=ax(t),n=ax(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function jr(t,e){return t=ql(t),e=f1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,ym(t)}function Dh(t,e,r){try{return jr(t,e)}catch{return t}}function Ws(t,e){if(t=ql(t),e=f1(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let r=0;r<3;r+=1)t.values[r]*=1-e;return ym(t)}function Bn(t,e,r){try{return Ws(t,e)}catch{return t}}function Ks(t,e){if(t=ql(t),e=f1(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.includes("color"))for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return ym(t)}function $n(t,e,r){try{return Ks(t,e)}catch{return t}}function sD(t,e=.15){return ax(t)>.5?Ws(t,e):Ks(t,e)}function zh(t,e,r){try{return sD(t,e)}catch{return t}}const R_=x.createContext();function lD({value:t,...e}){return m.jsx(R_.Provider,{value:t??!0,...e})}const Bc=()=>x.useContext(R_)??!1,O_=x.createContext(void 0);function cD({value:t,children:e}){return m.jsx(O_.Provider,{value:t,children:e})}function uD(t){const{theme:e,name:r,props:n}=t;if(!e||!e.components||!e.components[r])return n;const i=e.components[r];return i.defaultProps?Gf(i.defaultProps,n):!i.styleOverrides&&!i.variants?Gf(i,n):n}function dD({props:t,name:e}){const r=x.useContext(O_);return uD({props:t,name:e,theme:{components:r}})}function fD(t){const e=mm(),r=Zs()||"",{modularCssLayers:n}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!n||e!==null?i="":typeof n=="string"?i=n.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,uo(()=>{const a=document.querySelector("head");if(!a)return;const l=a.firstChild;if(i){if(l&&l.hasAttribute?.("data-mui-layer-order")&&l.getAttribute("data-mui-layer-order")===r)return;const c=document.createElement("style");c.setAttribute("data-mui-layer-order",r),c.textContent=i,a.prepend(c)}else a.querySelector(`style[data-mui-layer-order="${r}"]`)?.remove()},[i,r]),i?m.jsx(b_,{styles:i}):null}const pA={};function hA(t,e,r,n=!1){return x.useMemo(()=>{const i=t&&e[t]||e;if(typeof r=="function"){const a=r(i),l=t?{...e,[t]:a}:a;return n?()=>l:l}return t?{...e,[t]:r}:{...e,...r}},[t,e,r,n])}function P_(t){const{children:e,theme:r,themeId:n}=t,i=mm(pA),a=rm()||pA,l=hA(n,i,r),c=hA(n,a,r,!0),d=(n?l[n]:l).direction==="rtl",f=fD(l);return m.jsx(qL,{theme:c,children:m.jsx(mp.Provider,{value:l,children:m.jsx(lD,{value:d,children:m.jsxs(cD,{value:n?l[n].components:l.components,children:[f,e]})})})})}const gA={theme:void 0};function pD(t){let e,r;return function(i){let a=e;return(a===void 0||i.theme!==r)&&(gA.theme=i.theme,a=v_(t(gA)),e=a,r=i.theme),a}}const p1="mode",h1="color-scheme",hD="data-color-scheme";function gD(t){const{defaultMode:e="system",defaultLightColorScheme:r="light",defaultDarkColorScheme:n="dark",modeStorageKey:i=p1,colorSchemeStorageKey:a=h1,attribute:l=hD,colorSchemeNode:c="document.documentElement",nonce:d}=t||{};let f="",h=l;if(l==="class"&&(h=".%s"),l==="data"&&(h="[data-%s]"),h.startsWith(".")){const p=h.substring(1);f+=`${c}.classList.remove('${p}'.replace('%s', light), '${p}'.replace('%s', dark));
      ${c}.classList.add('${p}'.replace('%s', colorScheme));`}const g=h.match(/\[([^\]]+)\]/);if(g){const[p,S]=g[1].split("=");S||(f+=`${c}.removeAttribute('${p}'.replace('%s', light));
      ${c}.removeAttribute('${p}'.replace('%s', dark));`),f+=`
      ${c}.setAttribute('${p}'.replace('%s', colorScheme), ${S?`${S}.replace('%s', colorScheme)`:'""'});`}else f+=`${c}.setAttribute('${h}', colorScheme);`;return m.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${e}';
  const dark = localStorage.getItem('${a}-dark') || '${n}';
  const light = localStorage.getItem('${a}-light') || '${r}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${f}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function mD(){}const yD=({key:t,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(r){if(typeof window>"u")return;if(!e)return r;let n;try{n=e.localStorage.getItem(t)}catch{}return n||r},set:r=>{if(e)try{e.localStorage.setItem(t,r)}catch{}},subscribe:r=>{if(!e)return mD;const n=i=>{const a=i.newValue;i.key===t&&r(a)};return e.addEventListener("storage",n),()=>{e.removeEventListener("storage",n)}}});function i0(){}function mA(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function __(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function bD(t){return __(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function vD(t){const{defaultMode:e="light",defaultLightColorScheme:r,defaultDarkColorScheme:n,supportedColorSchemes:i=[],modeStorageKey:a=p1,colorSchemeStorageKey:l=h1,storageWindow:c=typeof window>"u"?void 0:window,storageManager:d=yD,noSsr:f=!1}=t,h=i.join(","),g=i.length>1,p=x.useMemo(()=>d?.({key:a,storageWindow:c}),[d,a,c]),S=x.useMemo(()=>d?.({key:`${l}-light`,storageWindow:c}),[d,l,c]),b=x.useMemo(()=>d?.({key:`${l}-dark`,storageWindow:c}),[d,l,c]),[v,k]=x.useState(()=>{const $=p?.get(e)||e,V=S?.get(r)||r,N=b?.get(n)||n;return{mode:$,systemMode:mA($),lightColorScheme:V,darkColorScheme:N}}),[T,A]=x.useState(f||!g);x.useEffect(()=>{A(!0)},[]);const w=bD(v),R=x.useCallback($=>{k(V=>{if($===V.mode)return V;const N=$??e;return p?.set(N),{...V,mode:N,systemMode:mA(N)}})},[p,e]),O=x.useCallback($=>{$?typeof $=="string"?$&&!h.includes($)?console.error(`\`${$}\` does not exist in \`theme.colorSchemes\`.`):k(V=>{const N={...V};return __(V,W=>{W==="light"&&(S?.set($),N.lightColorScheme=$),W==="dark"&&(b?.set($),N.darkColorScheme=$)}),N}):k(V=>{const N={...V},W=$.light===null?r:$.light,z=$.dark===null?n:$.dark;return W&&(h.includes(W)?(N.lightColorScheme=W,S?.set(W)):console.error(`\`${W}\` does not exist in \`theme.colorSchemes\`.`)),z&&(h.includes(z)?(N.darkColorScheme=z,b?.set(z)):console.error(`\`${z}\` does not exist in \`theme.colorSchemes\`.`)),N}):k(V=>(S?.set(r),b?.set(n),{...V,lightColorScheme:r,darkColorScheme:n}))},[h,S,b,r,n]),M=x.useCallback($=>{v.mode==="system"&&k(V=>{const N=$?.matches?"dark":"light";return V.systemMode===N?V:{...V,systemMode:N}})},[v.mode]),j=x.useRef(M);return j.current=M,x.useEffect(()=>{if(typeof window.matchMedia!="function"||!g)return;const $=(...N)=>j.current(...N),V=window.matchMedia("(prefers-color-scheme: dark)");return V.addListener($),$(V),()=>{V.removeListener($)}},[g]),x.useEffect(()=>{if(g){const $=p?.subscribe(W=>{(!W||["light","dark","system"].includes(W))&&R(W||e)})||i0,V=S?.subscribe(W=>{(!W||h.match(W))&&O({light:W})})||i0,N=b?.subscribe(W=>{(!W||h.match(W))&&O({dark:W})})||i0;return()=>{$(),V(),N()}}},[O,R,h,e,c,g,p,S,b]),{...v,mode:T?v.mode:void 0,systemMode:T?v.systemMode:void 0,colorScheme:T?w:void 0,setMode:R,setColorScheme:O}}const SD="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function xD(t){const{themeId:e,theme:r={},modeStorageKey:n=p1,colorSchemeStorageKey:i=h1,disableTransitionOnChange:a=!1,defaultColorScheme:l,resolveTheme:c}=t,d={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},f=x.createContext(void 0),h=()=>x.useContext(f)||d,g={},p={};function S(T){const{children:A,theme:w,modeStorageKey:R=n,colorSchemeStorageKey:O=i,disableTransitionOnChange:M=a,storageManager:j,storageWindow:$=typeof window>"u"?void 0:window,documentNode:V=typeof document>"u"?void 0:document,colorSchemeNode:N=typeof document>"u"?void 0:document.documentElement,disableNestedContext:W=!1,disableStyleSheetGeneration:z=!1,defaultMode:I="system",noSsr:B}=T,G=x.useRef(!1),U=rm(),X=x.useContext(f),q=!!X&&!W,Z=x.useMemo(()=>w||(typeof r=="function"?r():r),[w]),F=Z[e],D=F||Z,{colorSchemes:J=g,components:ee=p,cssVarPrefix:te}=D,ie=Object.keys(J).filter(_t=>!!J[_t]).join(","),oe=x.useMemo(()=>ie.split(","),[ie]),ke=typeof l=="string"?l:l.light,ve=typeof l=="string"?l:l.dark,Q=J[ke]&&J[ve]?I:J[D.defaultColorScheme]?.palette?.mode||D.palette?.mode,{mode:de,setMode:we,systemMode:ue,lightColorScheme:rt,darkColorScheme:ye,colorScheme:Le,setColorScheme:ut}=vD({supportedColorSchemes:oe,defaultLightColorScheme:ke,defaultDarkColorScheme:ve,modeStorageKey:R,colorSchemeStorageKey:O,defaultMode:Q,storageManager:j,storageWindow:$,noSsr:B});let Be=de,bt=Le;q&&(Be=X.mode,bt=X.colorScheme);const Ot=x.useMemo(()=>{const _t=bt||D.defaultColorScheme,it=D.generateThemeVars?.()||D.vars,je={...D,components:ee,colorSchemes:J,cssVarPrefix:te,vars:it};if(typeof je.generateSpacing=="function"&&(je.spacing=je.generateSpacing()),_t){const qe=J[_t];qe&&typeof qe=="object"&&Object.keys(qe).forEach(Oe=>{qe[Oe]&&typeof qe[Oe]=="object"?je[Oe]={...je[Oe],...qe[Oe]}:je[Oe]=qe[Oe]})}return c?c(je):je},[D,bt,ee,J,te]),Mt=D.colorSchemeSelector;uo(()=>{if(bt&&N&&Mt&&Mt!=="media"){const _t=Mt;let it=Mt;if(_t==="class"&&(it=".%s"),_t==="data"&&(it="[data-%s]"),_t?.startsWith("data-")&&!_t.includes("%s")&&(it=`[${_t}="%s"]`),it.startsWith("."))N.classList.remove(...oe.map(je=>it.substring(1).replace("%s",je))),N.classList.add(it.substring(1).replace("%s",bt));else{const je=it.replace("%s",bt).match(/\[([^\]]+)\]/);if(je){const[qe,Oe]=je[1].split("=");Oe||oe.forEach(ot=>{N.removeAttribute(qe.replace(bt,ot))}),N.setAttribute(qe,Oe?Oe.replace(/"|'/g,""):"")}else N.setAttribute(it,bt)}}},[bt,Mt,N,oe]),x.useEffect(()=>{let _t;if(M&&G.current&&V){const it=V.createElement("style");it.appendChild(V.createTextNode(SD)),V.head.appendChild(it),window.getComputedStyle(V.body),_t=setTimeout(()=>{V.head.removeChild(it)},1)}return()=>{clearTimeout(_t)}},[bt,M,V]),x.useEffect(()=>(G.current=!0,()=>{G.current=!1}),[]);const et=x.useMemo(()=>({allColorSchemes:oe,colorScheme:bt,darkColorScheme:ye,lightColorScheme:rt,mode:Be,setColorScheme:ut,setMode:we,systemMode:ue}),[oe,bt,ye,rt,Be,ut,we,ue,Ot.colorSchemeSelector]);let ht=!0;(z||D.cssVariables===!1||q&&U?.cssVarPrefix===te)&&(ht=!1);const Bt=m.jsxs(x.Fragment,{children:[m.jsx(P_,{themeId:F?e:void 0,theme:Ot,children:A}),ht&&m.jsx(p_,{styles:Ot.generateStyleSheets?.()||[]})]});return q?Bt:m.jsx(f.Provider,{value:et,children:Bt})}const b=typeof l=="string"?l:l.light,v=typeof l=="string"?l:l.dark;return{CssVarsProvider:S,useColorScheme:h,getInitColorSchemeScript:T=>gD({colorSchemeStorageKey:i,defaultLightColorScheme:b,defaultDarkColorScheme:v,modeStorageKey:n,...T})}}function wD(t=""){function e(...n){if(!n.length)return"";const i=n[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...n.slice(1))})`:`, ${i}`}return(n,...i)=>`var(--${t?`${t}-`:""}${n}${e(...i)})`}const yA=(t,e,r,n=[])=>{let i=t;e.forEach((a,l)=>{l===e.length-1?Array.isArray(i)?i[Number(a)]=r:i&&typeof i=="object"&&(i[a]=r):i&&typeof i=="object"&&(i[a]||(i[a]=n.includes(a)?[]:{}),i=i[a])})},kD=(t,e,r)=>{function n(i,a=[],l=[]){Object.entries(i).forEach(([c,d])=>{(!r||r&&!r([...a,c]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?n(d,[...a,c],Array.isArray(d)?[...l,c]:l):e([...a,c],d,l))})}n(t)},CD=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>t.includes(n))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function o0(t,e){const{prefix:r,shouldSkipGeneratingVar:n}=e||{},i={},a={},l={};return kD(t,(c,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!n||!n(c,d))){const h=`--${r?`${r}-`:""}${c.join("-")}`,g=CD(c,d);Object.assign(i,{[h]:g}),yA(a,c,`var(${h})`,f),yA(l,c,`var(${h}, ${g})`,f)}},c=>c[0]==="vars"),{css:i,vars:a,varsWithDefaults:l}}function TD(t,e={}){const{getSelector:r=k,disableCssColorScheme:n,colorSchemeSelector:i}=e,{colorSchemes:a={},components:l,defaultColorScheme:c="light",...d}=t,{vars:f,css:h,varsWithDefaults:g}=o0(d,e);let p=g;const S={},{[c]:b,...v}=a;if(Object.entries(v||{}).forEach(([w,R])=>{const{vars:O,css:M,varsWithDefaults:j}=o0(R,e);p=Ti(p,j),S[w]={css:M,vars:O}}),b){const{css:w,vars:R,varsWithDefaults:O}=o0(b,e);p=Ti(p,O),S[c]={css:w,vars:R}}function k(w,R){let O=i;if(i==="class"&&(O=".%s"),i==="data"&&(O="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(O=`[${i}="%s"]`),w){if(O==="media")return t.defaultColorScheme===w?":root":{[`@media (prefers-color-scheme: ${a[w]?.palette?.mode||w})`]:{":root":R}};if(O)return t.defaultColorScheme===w?`:root, ${O.replace("%s",String(w))}`:O.replace("%s",String(w))}return":root"}return{vars:p,generateThemeVars:()=>{let w={...f};return Object.entries(S).forEach(([,{vars:R}])=>{w=Ti(w,R)}),w},generateStyleSheets:()=>{const w=[],R=t.defaultColorScheme||"light";function O($,V){Object.keys(V).length&&w.push(typeof $=="string"?{[$]:{...V}}:$)}O(r(void 0,{...h}),h);const{[R]:M,...j}=S;if(M){const{css:$}=M,V=a[R]?.palette?.mode,N=!n&&V?{colorScheme:V,...$}:{...$};O(r(R,{...N}),N)}return Object.entries(j).forEach(([$,{css:V}])=>{const N=a[$]?.palette?.mode,W=!n&&N?{colorScheme:N,...V}:{...V};O(r($,{...W}),W)}),w}}}function ED(t){return function(r){return t==="media"?`@media (prefers-color-scheme: ${r})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${r}"] &`:t==="class"?`.${r} &`:t==="data"?`[data-${r}] &`:`${t.replace("%s",r)} &`:"&"}}const AD=(t,e)=>t.filter(r=>e.includes(r)),cd=(t,e,r)=>{const n=t.keys[0];Array.isArray(e)?e.forEach((i,a)=>{r((l,c)=>{a<=t.keys.length-1&&(a===0?Object.assign(l,c):l[t.up(t.keys[a])]=c)},i)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:AD(t.keys,Object.keys(e))).forEach(a=>{if(t.keys.includes(a)){const l=e[a];l!==void 0&&r((c,d)=>{n===a?Object.assign(c,d):c[t.up(a)]=d},l)}}):(typeof e=="number"||typeof e=="string")&&r((i,a)=>{Object.assign(i,a)},e)};function Ig(t){return`--Grid-${t}Spacing`}function bm(t){return`--Grid-parent-${t}Spacing`}const bA="--Grid-columns",Ku="--Grid-parent-columns",RD=({theme:t,ownerState:e})=>{const r={};return cd(t.breakpoints,e.size,(n,i)=>{let a={};i==="grow"&&(a={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(a={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(${Ku}) - (var(${Ku}) - ${i}) * (var(${bm("column")}) / var(${Ku})))`}),n(r,a)}),r},OD=({theme:t,ownerState:e})=>{const r={};return cd(t.breakpoints,e.offset,(n,i)=>{let a={};i==="auto"&&(a={marginLeft:"auto"}),typeof i=="number"&&(a={marginLeft:i===0?"0px":`calc(100% * ${i} / var(${Ku}) + var(${bm("column")}) * ${i} / var(${Ku}))`}),n(r,a)}),r},PD=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={[bA]:12};return cd(t.breakpoints,e.columns,(n,i)=>{const a=i??12;n(r,{[bA]:a,"> *":{[Ku]:a}})}),r},_D=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={};return cd(t.breakpoints,e.rowSpacing,(n,i)=>{const a=typeof i=="string"?i:t.spacing?.(i);n(r,{[Ig("row")]:a,"> *":{[bm("row")]:a}})}),r},MD=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={};return cd(t.breakpoints,e.columnSpacing,(n,i)=>{const a=typeof i=="string"?i:t.spacing?.(i);n(r,{[Ig("column")]:a,"> *":{[bm("column")]:a}})}),r},jD=({theme:t,ownerState:e})=>{if(!e.container)return{};const r={};return cd(t.breakpoints,e.direction,(n,i)=>{n(r,{flexDirection:i})}),r},ND=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${Ig("row")}) var(${Ig("column")})`}}),ID=t=>{const e=[];return Object.entries(t).forEach(([r,n])=>{n!==!1&&n!==void 0&&e.push(`grid-${r}-${String(n)}`)}),e},LD=(t,e="xs")=>{function r(n){return n===void 0?!1:typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number"&&n>0}if(r(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const n=[];return Object.entries(t).forEach(([i,a])=>{r(a)&&n.push(`spacing-${i}-${String(a)}`)}),n}return[]},FD=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,r])=>`direction-${e}-${r}`):[`direction-xs-${String(t)}`];function BD(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(r=>{t[r]!==void 0&&delete t[r]})}const $D=Sp(),DD=w_("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>e.root});function zD(t){return C_({props:t,name:"MuiGrid",defaultTheme:$D})}function UD(t={}){const{createStyledComponent:e=DD,useThemeProps:r=zD,useTheme:n=xp,componentName:i="MuiGrid"}=t,a=(f,h)=>{const{container:g,direction:p,spacing:S,wrap:b,size:v}=f,k={root:["root",g&&"container",b!=="wrap"&&`wrap-xs-${String(b)}`,...FD(p),...ID(v),...g?LD(S,h.breakpoints.keys[0]):[]]};return er(k,T=>tr(i,T),{})};function l(f,h,g=()=>!0){const p={};return f===null||(Array.isArray(f)?f.forEach((S,b)=>{S!==null&&g(S)&&h.keys[b]&&(p[h.keys[b]]=S)}):typeof f=="object"?Object.keys(f).forEach(S=>{const b=f[S];b!=null&&g(b)&&(p[S]=b)}):p[h.keys[0]]=f),p}const c=e(PD,MD,_D,RD,jD,ND,OD),d=x.forwardRef(function(h,g){const p=n(),S=r(h),b=wp(S);BD(b,p.breakpoints);const{className:v,children:k,columns:T=12,container:A=!1,component:w="div",direction:R="row",wrap:O="wrap",size:M={},offset:j={},spacing:$=0,rowSpacing:V=$,columnSpacing:N=$,unstable_level:W=0,...z}=b,I=l(M,p.breakpoints,D=>D!==!1),B=l(j,p.breakpoints),G=h.columns??(W?void 0:T),U=h.spacing??(W?void 0:$),X=h.rowSpacing??h.spacing??(W?void 0:V),q=h.columnSpacing??h.spacing??(W?void 0:N),Z={...b,level:W,columns:G,container:A,direction:R,wrap:O,spacing:U,rowSpacing:X,columnSpacing:q,size:I,offset:B},F=a(Z,p);return m.jsx(c,{ref:g,as:w,ownerState:Z,className:wt(F.root,v),...z,children:x.Children.map(k,D=>x.isValidElement(D)&&Lf(D,["Grid"])&&A&&D.props.container?x.cloneElement(D,{unstable_level:D.props?.unstable_level??W+1}):D)})});return d.muiName="Grid",d}const HD=Sp(),VD=w_("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function qD(t){return C_({props:t,name:"MuiStack",defaultTheme:HD})}function WD(t,e){const r=x.Children.toArray(t).filter(Boolean);return r.reduce((n,i,a)=>(n.push(i),a<r.length-1&&n.push(x.cloneElement(e,{key:`separator-${a}`})),n),[])}const KD=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],GD=({ownerState:t,theme:e})=>{let r={display:"flex",flexDirection:"column",...No({theme:e},Oc({values:t.direction,breakpoints:e.breakpoints.values}),n=>({flexDirection:n}))};if(t.spacing){const n=um(e),i=Object.keys(e.breakpoints.values).reduce((d,f)=>((typeof t.spacing=="object"&&t.spacing[f]!=null||typeof t.direction=="object"&&t.direction[f]!=null)&&(d[f]=!0),d),{}),a=Oc({values:t.direction,base:i}),l=Oc({values:t.spacing,base:i});typeof a=="object"&&Object.keys(a).forEach((d,f,h)=>{if(!a[d]){const p=f>0?a[h[f-1]]:"column";a[d]=p}}),r=Ti(r,No({theme:e},l,(d,f)=>t.useFlexGap?{gap:Mc(n,d)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${KD(f?a[f]:t.direction)}`]:Mc(n,d)}}))}return r=r3(e.breakpoints,r),r};function YD(t={}){const{createStyledComponent:e=VD,useThemeProps:r=qD,componentName:n="MuiStack"}=t,i=()=>er({root:["root"]},d=>tr(n,d),{}),a=e(GD);return x.forwardRef(function(d,f){const h=r(d),g=wp(h),{component:p="div",direction:S="column",spacing:b=0,divider:v,children:k,className:T,useFlexGap:A=!1,...w}=g,R={direction:S,spacing:b,useFlexGap:A},O=i();return m.jsx(a,{as:p,ownerState:R,ref:f,className:wt(O.root,T),...w,children:v?WD(k,v):k})})}const Da="$$material";function XD({theme:t,...e}){const r=Da in t?t[Da]:void 0;return m.jsx(P_,{...e,themeId:r?Da:void 0,theme:r||t})}const Jf={black:"#000",white:"#fff"},ZD={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Cu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},bc={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828",A400:"#ff1744"},ff={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Tu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Eu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Au={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function M_(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Jf.white,default:Jf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const QD=M_();function j_(){return{text:{primary:Jf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Jf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const vA=j_();function SA(t,e,r,n){const i=n.light||n,a=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=Ks(t.main,i):e==="dark"&&(t.dark=Ws(t.main,a)))}function JD(t="light"){return t==="dark"?{main:Tu[200],light:Tu[50],dark:Tu[400]}:{main:Tu[700],light:Tu[400],dark:Tu[800]}}function e5(t="light"){return t==="dark"?{main:Cu[200],light:Cu[50],dark:Cu[400]}:{main:Cu[500],light:Cu[300],dark:Cu[700]}}function t5(t="light"){return t==="dark"?{main:bc[500],light:bc[300],dark:bc[700]}:{main:bc[700],light:bc[400],dark:bc[800]}}function r5(t="light"){return t==="dark"?{main:Eu[400],light:Eu[300],dark:Eu[700]}:{main:Eu[700],light:Eu[500],dark:Eu[900]}}function n5(t="light"){return t==="dark"?{main:Au[400],light:Au[300],dark:Au[700]}:{main:Au[800],light:Au[500],dark:Au[900]}}function i5(t="light"){return t==="dark"?{main:ff[400],light:ff[300],dark:ff[700]}:{main:"#ed6c02",light:ff[500],dark:ff[900]}}function g1(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2,...i}=t,a=t.primary||JD(e),l=t.secondary||e5(e),c=t.error||t5(e),d=t.info||r5(e),f=t.success||n5(e),h=t.warning||i5(e);function g(v){return aD(v,vA.text.primary)>=r?vA.text.primary:QD.text.primary}const p=({color:v,name:k,mainShade:T=500,lightShade:A=300,darkShade:w=700})=>{if(v={...v},!v.main&&v[T]&&(v.main=v[T]),!v.hasOwnProperty("main"))throw new Error(qs(11,k?` (${k})`:"",T));if(typeof v.main!="string")throw new Error(qs(12,k?` (${k})`:"",JSON.stringify(v.main)));return SA(v,"light",A,n),SA(v,"dark",w,n),v.contrastText||(v.contrastText=g(v.main)),v};let S;return e==="light"?S=M_():e==="dark"&&(S=j_()),Ti({common:{...Jf},mode:e,primary:p({color:a,name:"primary"}),secondary:p({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:c,name:"error"}),warning:p({color:h,name:"warning"}),info:p({color:d,name:"info"}),success:p({color:f,name:"success"}),grey:ZD,contrastThreshold:r,getContrastText:g,augmentColor:p,tonalOffset:n,...S},i)}function o5(t){const e={};return Object.entries(t).forEach(n=>{const[i,a]=n;typeof a=="object"&&(e[i]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function a5(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function s5(t){return Math.round(t*1e5)/1e5}const xA={textTransform:"uppercase"},wA='"Roboto", "Helvetica", "Arial", sans-serif';function N_(t,e){const{fontFamily:r=wA,fontSize:n=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:f,pxToRem:h,...g}=typeof e=="function"?e(t):e,p=n/14,S=h||(k=>`${k/d*p}rem`),b=(k,T,A,w,R)=>({fontFamily:r,fontWeight:k,fontSize:S(T),lineHeight:A,...r===wA?{letterSpacing:`${s5(w/T)}em`}:{},...R,...f}),v={h1:b(i,96,1.167,-1.5),h2:b(i,60,1.2,-.5),h3:b(a,48,1.167,0),h4:b(a,34,1.235,.25),h5:b(a,24,1.334,0),h6:b(l,20,1.6,.15),subtitle1:b(a,16,1.75,.15),subtitle2:b(l,14,1.57,.1),body1:b(a,16,1.5,.15),body2:b(a,14,1.43,.15),button:b(l,14,1.75,.4,xA),caption:b(a,12,1.66,.4),overline:b(a,12,2.66,1,xA),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ti({htmlFontSize:d,pxToRem:S,fontFamily:r,fontSize:n,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:c,...v},g,{clone:!1})}const l5=.2,c5=.14,u5=.12;function Xn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${l5})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${c5})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${u5})`].join(",")}const d5=["none",Xn(0,2,1,-1,0,1,1,0,0,1,3,0),Xn(0,3,1,-2,0,2,2,0,0,1,5,0),Xn(0,3,3,-2,0,3,4,0,0,1,8,0),Xn(0,2,4,-1,0,4,5,0,0,1,10,0),Xn(0,3,5,-1,0,5,8,0,0,1,14,0),Xn(0,3,5,-1,0,6,10,0,0,1,18,0),Xn(0,4,5,-2,0,7,10,1,0,2,16,1),Xn(0,5,5,-3,0,8,10,1,0,3,14,2),Xn(0,5,6,-3,0,9,12,1,0,3,16,2),Xn(0,6,6,-3,0,10,14,1,0,4,18,3),Xn(0,6,7,-4,0,11,15,1,0,4,20,3),Xn(0,7,8,-4,0,12,17,2,0,5,22,4),Xn(0,7,8,-4,0,13,19,2,0,5,24,4),Xn(0,7,9,-4,0,14,21,2,0,5,26,4),Xn(0,8,9,-5,0,15,22,2,0,6,28,5),Xn(0,8,10,-5,0,16,24,2,0,6,30,5),Xn(0,8,11,-5,0,17,26,2,0,6,32,5),Xn(0,9,11,-5,0,18,28,2,0,7,34,6),Xn(0,9,12,-6,0,19,29,2,0,7,36,6),Xn(0,10,13,-6,0,20,31,3,0,8,38,7),Xn(0,10,13,-6,0,21,33,3,0,8,40,7),Xn(0,10,14,-6,0,22,35,3,0,8,42,7),Xn(0,11,14,-7,0,23,36,3,0,9,44,8),Xn(0,11,15,-7,0,24,38,3,0,9,46,8)],f5={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},p5={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function kA(t){return`${Math.round(t)}ms`}function h5(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function g5(t){const e={...f5,...t.easing},r={...p5,...t.duration};return{getAutoHeightDuration:h5,create:(i=["all"],a={})=>{const{duration:l=r.standard,easing:c=e.easeInOut,delay:d=0,...f}=a;return(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof l=="string"?l:kA(l)} ${c} ${typeof d=="string"?d:kA(d)}`).join(",")},...t,easing:e,duration:r}}const m5={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function y5(t){return ls(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function I_(t={}){const e={...t};function r(n){const i=Object.entries(n);for(let a=0;a<i.length;a++){const[l,c]=i[a];!y5(c)||l.startsWith("unstable_")?delete n[l]:ls(c)&&(n[l]={...c},r(n[l]))}}return r(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function sx(t={},...e){const{breakpoints:r,mixins:n={},spacing:i,palette:a={},transitions:l={},typography:c={},shape:d,...f}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(qs(20));const h=g1(a),g=Sp(t);let p=Ti(g,{mixins:a5(g.breakpoints,n),palette:h,shadows:d5.slice(),typography:N_(h,c),transitions:g5(l),zIndex:{...m5}});return p=Ti(p,f),p=e.reduce((S,b)=>Ti(S,b),p),p.unstable_sxConfig={...vp,...f?.unstable_sxConfig},p.unstable_sx=function(b){return Vl({sx:b,theme:this})},p.toRuntimeSource=I_,p}function lx(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const b5=[...Array(25)].map((t,e)=>{if(e===0)return"none";const r=lx(e);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function L_(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function F_(t){return t==="dark"?b5:[]}function v5(t){const{palette:e={mode:"light"},opacity:r,overlays:n,...i}=t,a=g1(e);return{palette:a,opacity:{...L_(a.mode),...r},overlays:n||F_(a.mode),...i}}function S5(t){return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!t[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const x5=t=>[...[...Array(25)].map((e,r)=>`--${t?`${t}-`:""}overlays-${r}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],w5=t=>(e,r)=>{const n=t.rootSelector||":root",i=t.colorSchemeSelector;let a=i;if(i==="class"&&(a=".%s"),i==="data"&&(a="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(a=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const l={};return x5(t.cssVarPrefix).forEach(c=>{l[c]=r[c],delete r[c]}),a==="media"?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:l}}:a?{[a.replace("%s",e)]:l,[`${n}, ${a.replace("%s",e)}`]:r}:{[n]:{...r,...l}}}if(a&&a!=="media")return`${n}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[n]:r}};if(a)return a.replace("%s",String(e))}return n};function k5(t,e){e.forEach(r=>{t[r]||(t[r]={})})}function ct(t,e,r){!t[e]&&r&&(t[e]=r)}function Mf(t){return typeof t!="string"||!t.startsWith("hsl")?t:A_(t)}function Bs(t,e){`${e}Channel`in t||(t[`${e}Channel`]=_f(Mf(t[e])))}function C5(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const is=t=>{try{return t()}catch{}},T5=(t="mui")=>wD(t);function a0(t,e,r,n){if(!e)return;e=e===!0?{}:e;const i=n==="dark"?"dark":"light";if(!r){t[n]=v5({...e,palette:{mode:i,...e?.palette}});return}const{palette:a,...l}=sx({...r,palette:{mode:i,...e?.palette}});return t[n]={...e,palette:a,opacity:{...L_(i),...e?.opacity},overlays:e?.overlays||F_(i)},l}function E5(t={},...e){const{colorSchemes:r={light:!0},defaultColorScheme:n,disableCssColorScheme:i=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:l=S5,colorSchemeSelector:c=r.light&&r.dark?"media":void 0,rootSelector:d=":root",...f}=t,h=Object.keys(r)[0],g=n||(r.light&&h!=="light"?"light":h),p=T5(a),{[g]:S,light:b,dark:v,...k}=r,T={...k};let A=S;if((g==="dark"&&!("dark"in r)||g==="light"&&!("light"in r))&&(A=!0),!A)throw new Error(qs(21,g));const w=a0(T,A,f,g);b&&!T.light&&a0(T,b,void 0,"light"),v&&!T.dark&&a0(T,v,void 0,"dark");let R={defaultColorScheme:g,...w,cssVarPrefix:a,colorSchemeSelector:c,rootSelector:d,getCssVar:p,colorSchemes:T,font:{...o5(w.typography),...w.font},spacing:C5(f.spacing)};Object.keys(R.colorSchemes).forEach(V=>{const N=R.colorSchemes[V].palette,W=z=>{const I=z.split("-"),B=I[1],G=I[2];return p(z,N[B][G])};if(N.mode==="light"&&(ct(N.common,"background","#fff"),ct(N.common,"onBackground","#000")),N.mode==="dark"&&(ct(N.common,"background","#000"),ct(N.common,"onBackground","#fff")),k5(N,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),N.mode==="light"){ct(N.Alert,"errorColor",Bn(N.error.light,.6)),ct(N.Alert,"infoColor",Bn(N.info.light,.6)),ct(N.Alert,"successColor",Bn(N.success.light,.6)),ct(N.Alert,"warningColor",Bn(N.warning.light,.6)),ct(N.Alert,"errorFilledBg",W("palette-error-main")),ct(N.Alert,"infoFilledBg",W("palette-info-main")),ct(N.Alert,"successFilledBg",W("palette-success-main")),ct(N.Alert,"warningFilledBg",W("palette-warning-main")),ct(N.Alert,"errorFilledColor",is(()=>N.getContrastText(N.error.main))),ct(N.Alert,"infoFilledColor",is(()=>N.getContrastText(N.info.main))),ct(N.Alert,"successFilledColor",is(()=>N.getContrastText(N.success.main))),ct(N.Alert,"warningFilledColor",is(()=>N.getContrastText(N.warning.main))),ct(N.Alert,"errorStandardBg",$n(N.error.light,.9)),ct(N.Alert,"infoStandardBg",$n(N.info.light,.9)),ct(N.Alert,"successStandardBg",$n(N.success.light,.9)),ct(N.Alert,"warningStandardBg",$n(N.warning.light,.9)),ct(N.Alert,"errorIconColor",W("palette-error-main")),ct(N.Alert,"infoIconColor",W("palette-info-main")),ct(N.Alert,"successIconColor",W("palette-success-main")),ct(N.Alert,"warningIconColor",W("palette-warning-main")),ct(N.AppBar,"defaultBg",W("palette-grey-100")),ct(N.Avatar,"defaultBg",W("palette-grey-400")),ct(N.Button,"inheritContainedBg",W("palette-grey-300")),ct(N.Button,"inheritContainedHoverBg",W("palette-grey-A100")),ct(N.Chip,"defaultBorder",W("palette-grey-400")),ct(N.Chip,"defaultAvatarColor",W("palette-grey-700")),ct(N.Chip,"defaultIconColor",W("palette-grey-700")),ct(N.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ct(N.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ct(N.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ct(N.LinearProgress,"primaryBg",$n(N.primary.main,.62)),ct(N.LinearProgress,"secondaryBg",$n(N.secondary.main,.62)),ct(N.LinearProgress,"errorBg",$n(N.error.main,.62)),ct(N.LinearProgress,"infoBg",$n(N.info.main,.62)),ct(N.LinearProgress,"successBg",$n(N.success.main,.62)),ct(N.LinearProgress,"warningBg",$n(N.warning.main,.62)),ct(N.Skeleton,"bg",`rgba(${W("palette-text-primaryChannel")} / 0.11)`),ct(N.Slider,"primaryTrack",$n(N.primary.main,.62)),ct(N.Slider,"secondaryTrack",$n(N.secondary.main,.62)),ct(N.Slider,"errorTrack",$n(N.error.main,.62)),ct(N.Slider,"infoTrack",$n(N.info.main,.62)),ct(N.Slider,"successTrack",$n(N.success.main,.62)),ct(N.Slider,"warningTrack",$n(N.warning.main,.62));const z=zh(N.background.default,.8);ct(N.SnackbarContent,"bg",z),ct(N.SnackbarContent,"color",is(()=>N.getContrastText(z))),ct(N.SpeedDialAction,"fabHoverBg",zh(N.background.paper,.15)),ct(N.StepConnector,"border",W("palette-grey-400")),ct(N.StepContent,"border",W("palette-grey-400")),ct(N.Switch,"defaultColor",W("palette-common-white")),ct(N.Switch,"defaultDisabledColor",W("palette-grey-100")),ct(N.Switch,"primaryDisabledColor",$n(N.primary.main,.62)),ct(N.Switch,"secondaryDisabledColor",$n(N.secondary.main,.62)),ct(N.Switch,"errorDisabledColor",$n(N.error.main,.62)),ct(N.Switch,"infoDisabledColor",$n(N.info.main,.62)),ct(N.Switch,"successDisabledColor",$n(N.success.main,.62)),ct(N.Switch,"warningDisabledColor",$n(N.warning.main,.62)),ct(N.TableCell,"border",$n(Dh(N.divider,1),.88)),ct(N.Tooltip,"bg",Dh(N.grey[700],.92))}if(N.mode==="dark"){ct(N.Alert,"errorColor",$n(N.error.light,.6)),ct(N.Alert,"infoColor",$n(N.info.light,.6)),ct(N.Alert,"successColor",$n(N.success.light,.6)),ct(N.Alert,"warningColor",$n(N.warning.light,.6)),ct(N.Alert,"errorFilledBg",W("palette-error-dark")),ct(N.Alert,"infoFilledBg",W("palette-info-dark")),ct(N.Alert,"successFilledBg",W("palette-success-dark")),ct(N.Alert,"warningFilledBg",W("palette-warning-dark")),ct(N.Alert,"errorFilledColor",is(()=>N.getContrastText(N.error.dark))),ct(N.Alert,"infoFilledColor",is(()=>N.getContrastText(N.info.dark))),ct(N.Alert,"successFilledColor",is(()=>N.getContrastText(N.success.dark))),ct(N.Alert,"warningFilledColor",is(()=>N.getContrastText(N.warning.dark))),ct(N.Alert,"errorStandardBg",Bn(N.error.light,.9)),ct(N.Alert,"infoStandardBg",Bn(N.info.light,.9)),ct(N.Alert,"successStandardBg",Bn(N.success.light,.9)),ct(N.Alert,"warningStandardBg",Bn(N.warning.light,.9)),ct(N.Alert,"errorIconColor",W("palette-error-main")),ct(N.Alert,"infoIconColor",W("palette-info-main")),ct(N.Alert,"successIconColor",W("palette-success-main")),ct(N.Alert,"warningIconColor",W("palette-warning-main")),ct(N.AppBar,"defaultBg",W("palette-grey-900")),ct(N.AppBar,"darkBg",W("palette-background-paper")),ct(N.AppBar,"darkColor",W("palette-text-primary")),ct(N.Avatar,"defaultBg",W("palette-grey-600")),ct(N.Button,"inheritContainedBg",W("palette-grey-800")),ct(N.Button,"inheritContainedHoverBg",W("palette-grey-700")),ct(N.Chip,"defaultBorder",W("palette-grey-700")),ct(N.Chip,"defaultAvatarColor",W("palette-grey-300")),ct(N.Chip,"defaultIconColor",W("palette-grey-300")),ct(N.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ct(N.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ct(N.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ct(N.LinearProgress,"primaryBg",Bn(N.primary.main,.5)),ct(N.LinearProgress,"secondaryBg",Bn(N.secondary.main,.5)),ct(N.LinearProgress,"errorBg",Bn(N.error.main,.5)),ct(N.LinearProgress,"infoBg",Bn(N.info.main,.5)),ct(N.LinearProgress,"successBg",Bn(N.success.main,.5)),ct(N.LinearProgress,"warningBg",Bn(N.warning.main,.5)),ct(N.Skeleton,"bg",`rgba(${W("palette-text-primaryChannel")} / 0.13)`),ct(N.Slider,"primaryTrack",Bn(N.primary.main,.5)),ct(N.Slider,"secondaryTrack",Bn(N.secondary.main,.5)),ct(N.Slider,"errorTrack",Bn(N.error.main,.5)),ct(N.Slider,"infoTrack",Bn(N.info.main,.5)),ct(N.Slider,"successTrack",Bn(N.success.main,.5)),ct(N.Slider,"warningTrack",Bn(N.warning.main,.5));const z=zh(N.background.default,.98);ct(N.SnackbarContent,"bg",z),ct(N.SnackbarContent,"color",is(()=>N.getContrastText(z))),ct(N.SpeedDialAction,"fabHoverBg",zh(N.background.paper,.15)),ct(N.StepConnector,"border",W("palette-grey-600")),ct(N.StepContent,"border",W("palette-grey-600")),ct(N.Switch,"defaultColor",W("palette-grey-300")),ct(N.Switch,"defaultDisabledColor",W("palette-grey-600")),ct(N.Switch,"primaryDisabledColor",Bn(N.primary.main,.55)),ct(N.Switch,"secondaryDisabledColor",Bn(N.secondary.main,.55)),ct(N.Switch,"errorDisabledColor",Bn(N.error.main,.55)),ct(N.Switch,"infoDisabledColor",Bn(N.info.main,.55)),ct(N.Switch,"successDisabledColor",Bn(N.success.main,.55)),ct(N.Switch,"warningDisabledColor",Bn(N.warning.main,.55)),ct(N.TableCell,"border",Bn(Dh(N.divider,1),.68)),ct(N.Tooltip,"bg",Dh(N.grey[700],.92))}Bs(N.background,"default"),Bs(N.background,"paper"),Bs(N.common,"background"),Bs(N.common,"onBackground"),Bs(N,"divider"),Object.keys(N).forEach(z=>{const I=N[z];z!=="tonalOffset"&&I&&typeof I=="object"&&(I.main&&ct(N[z],"mainChannel",_f(Mf(I.main))),I.light&&ct(N[z],"lightChannel",_f(Mf(I.light))),I.dark&&ct(N[z],"darkChannel",_f(Mf(I.dark))),I.contrastText&&ct(N[z],"contrastTextChannel",_f(Mf(I.contrastText))),z==="text"&&(Bs(N[z],"primary"),Bs(N[z],"secondary")),z==="action"&&(I.active&&Bs(N[z],"active"),I.selected&&Bs(N[z],"selected")))})}),R=e.reduce((V,N)=>Ti(V,N),R);const O={prefix:a,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:w5(R)},{vars:M,generateThemeVars:j,generateStyleSheets:$}=TD(R,O);return R.vars=M,Object.entries(R.colorSchemes[R.defaultColorScheme]).forEach(([V,N])=>{R[V]=N}),R.generateThemeVars=j,R.generateStyleSheets=$,R.generateSpacing=function(){return y_(f.spacing,um(this))},R.getColorSchemeSelector=ED(c),R.spacing=R.generateSpacing(),R.shouldSkipGeneratingVar=l,R.unstable_sxConfig={...vp,...f?.unstable_sxConfig},R.unstable_sx=function(N){return Vl({sx:N,theme:this})},R.toRuntimeSource=I_,R}function CA(t,e,r){t.colorSchemes&&r&&(t.colorSchemes[e]={...r!==!0&&r,palette:g1({...r===!0?{}:r.palette,mode:e})})}function vm(t={},...e){const{palette:r,cssVariables:n=!1,colorSchemes:i=r?void 0:{light:!0},defaultColorScheme:a=r?.mode,...l}=t,c=a||"light",d=i?.[c],f={...i,...r?{[c]:{...typeof d!="boolean"&&d,palette:r}}:void 0};if(n===!1){if(!("colorSchemes"in t))return sx(t,...e);let h=r;"palette"in t||f[c]&&(f[c]!==!0?h=f[c].palette:c==="dark"&&(h={mode:"dark"}));const g=sx({...t,palette:h},...e);return g.defaultColorScheme=c,g.colorSchemes=f,g.palette.mode==="light"&&(g.colorSchemes.light={...f.light!==!0&&f.light,palette:g.palette},CA(g,"dark",f.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:g.palette},CA(g,"light",f.light)),g}return!r&&!("light"in f)&&c==="light"&&(f.light=!0),E5({...l,colorSchemes:f,defaultColorScheme:c,...typeof n!="boolean"&&n},...e)}const Uh={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:A5}=xD({themeId:Da,theme:()=>vm({cssVariables:!0}),colorSchemeStorageKey:Uh.colorSchemeStorageKey,modeStorageKey:Uh.modeStorageKey,defaultColorScheme:{light:Uh.defaultLightColorScheme,dark:Uh.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:N_(t.palette,t.typography)};return e.unstable_sx=function(n){return Vl({sx:n,theme:this})},e}}),R5=A5;function O5({theme:t,...e}){const r=x.useMemo(()=>{if(typeof t=="function")return t;const n=Da in t?t[Da]:t;return"colorSchemes"in n?null:"vars"in n?t:{...t,vars:null}},[t]);return r?m.jsx(XD,{theme:r,...e}):m.jsx(R5,{theme:t,...e})}function m1(t){const[e,r]=x.useState([0,0]);return x.useLayoutEffect(()=>{function n(){t&&r([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",n),screen.orientation.addEventListener("change",n),n(),()=>{window.removeEventListener("resize",n),screen.orientation.removeEventListener("change",n)}},[t]),e}const y1=vm();function fo(){const t=xp(y1);return t[Da]||t}function Sm(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Hi=t=>Sm(t)&&t!=="classes",tt=x_({themeId:Da,defaultTheme:y1,rootShouldForwardProp:Hi}),P5=t=>vm({palette:{primary:{main:"#ff3f78"},error:{main:bc.A400},background:{default:"rgba(0, 0, 0, 0)"},mode:t}});class B_{static async encode(e,r){return new Promise(async(n,i)=>{var a=new FileReader;a.onload=async l=>{try{const c=new AudioContext;if(l.target===null){i(new Error("Could not obtain buffer to encode"));return}const d=await c.decodeAudioData(l.target.result),f=[];for(let p=0;p<d.numberOfChannels;++p)f.push(d.getChannelData(p));const h=r(),g=h instanceof Worker?h:await h;g.postMessage({command:"encode",audioBuffer:{channels:f,numberOfChannels:d.numberOfChannels,length:d.length,sampleRate:d.sampleRate}}),g.onmessage=p=>{n(new Blob(p.data.buffer,{type:"audio/mp3"})),g.terminate()},g.onerror=p=>{const S=p?.error??new Error("MP3 encoding failed: "+p?.message);i(S),g.terminate()}}catch(c){i(c)}},a.readAsArrayBuffer(e)})}}const _5=24,$_=(t,e)=>`${t.replaceAll(" ","_").substring(0,Math.min(t.length,_5))}_${Math.floor(e)}`,D_=(t,e)=>{for(let r=t.length-1;r>=0;--r)if(e===t[r]){t.splice(r,1);break}},zi=(t,e)=>{for(const r of e[t])r()};function M5(){const t={"audio/ogg;codecs=opus":"ogg","audio/webm;codecs=opus":"webm"};return Object.keys(t).filter(MediaRecorder.isTypeSupported).map(e=>[e,t[e]])[0]}class j5{_name;_start;_end;playbackRate;_base64;_extension;_error;_callbacks={play:[],pause:[]};playingAudio;stopAudioTimeout;cachedBlob;constructor(e,r,n,i,a,l,c){this._name=$_(e,r),this._start=r,this._end=n,this.playbackRate=i,this._base64=a,this._extension=l,this._error=c}get name(){return this._name}get extension(){return this._extension}get start(){return this._start}get end(){return this._end}async base64(){return this._base64}async blob(){return await this._blob()}get playing(){return this.playingAudio!==void 0}onEvent(e,r){return this._callbacks[e].push(r),()=>{D_(this._callbacks[e],r)}}async play(){if(this.playingAudio){this.stop(),zi("pause",this._callbacks);return}const e=await this._blob(),r=new Audio;r.src=URL.createObjectURL(e),r.preload="metadata",this.playingAudio=r,await r.play(),zi("play",this._callbacks),this.stopAudioTimeout=setTimeout(()=>{this.stopAudio(r),this.playingAudio=void 0,this.stopAudioTimeout=void 0,zi("pause",this._callbacks)},(this._end-this._start)/this.playbackRate+100)}stop(){this.playingAudio&&(this.stopAudio(this.playingAudio),clearTimeout(this.stopAudioTimeout),this.playingAudio=void 0,this.stopAudioTimeout=void 0,zi("pause",this._callbacks))}stopAudio(e){e.pause();const r=e.src;e.removeAttribute("src"),e.load(),URL.revokeObjectURL(r)}async _blob(){return this.cachedBlob||(this.cachedBlob=AL(this._base64,`audio/${this.extension}`)),this.cachedBlob}slice(e,r){return this}isSliceable(){return!1}get error(){return this._error}}class z_ extends Error{}class TA{_file;_start;_end;_playbackRate;_recorderMimeType;_trackId;_clippingAudioElement;_clippingAudibly;_clippingAudioReject;_stopClippingTimeout;_playingAudioElement;_stopAudioTimeout;_blob;_blobPromise;_callbacks;constructor(e,r,n,i,a,l,c){this._file=e,this._start=r,this._end=n,this._playbackRate=i,this._recorderMimeType=a,this._callbacks=l,this._trackId=c}latestBlobPromise(){return this._blobPromise}get isPlayingAudibly(){return!Jg&&this._clippingAudioElement!==void 0&&this._clippingAudibly===!0||this._playingAudioElement!==void 0}get isRecordingSilently(){return this._clippingAudioElement!==void 0&&this._clippingAudibly===!1}get finishedRecording(){return this._blob!==void 0}async play(){if(this._playingAudioElement){this._stopPlayingAudio(),zi("pause",this._callbacks);return}if(this._blob){const e=await this._audioElement(URL.createObjectURL(this._blob),!1);e.currentTime=0,await e.play(),zi("play",this._callbacks),this._playingAudioElement=e}else{const e=await this._audioElement(this._file.blobUrl,!0);e.oncanplay=async r=>{e.play(),zi("play",this._callbacks),e.oncanplay=null},this._playingAudioElement=e}this._stopAudioTimeout=setTimeout(()=>{this._playingAudioElement!==void 0&&(this._stopAudio(this._playingAudioElement,!0),zi("pause",this._callbacks),this._playingAudioElement=void 0),this._stopAudioTimeout=void 0},(this._end-this._start)/this._playbackRate+100)}async clip(e){return this._stopClippingAudio(),this._clippingAudibly=e,this._blobPromise=new Promise(async(r,n)=>{try{const i=await this._audioElement(this._file.blobUrl,!0);i.oncanplay=async a=>{if(i.oncanplay=null,!e){const h=new AudioContext,g=h.createMediaStreamDestination();h.createMediaElementSource(i).connect(g)}await i.play(),e&&zi("play",this._callbacks);const l=this._captureStream(i),c=new MediaRecorder(l,{mimeType:this._recorderMimeType}),d=[];c.ondataavailable=h=>{d.push(h.data)};let f=!1;c.onstop=h=>{f&&(this._blob=new Blob(d,{type:this._recorderMimeType}),r(this._blob))},c.start(),this._clippingAudioReject=n,this._clippingAudioElement=i,this._stopClippingTimeout=setTimeout(()=>{this._stopAudio(i,!1),this._clippingAudioElement=void 0,this._stopClippingTimeout=void 0,this._clippingAudioReject=void 0,f=!0,c.stop();for(const h of l.getAudioTracks())h.stop()},(this._end-this._start)/this._playbackRate+100)}}catch(i){n(i)}}),this._blobPromise}stop(){this._playingAudioElement&&(this._stopPlayingAudio(),zi("pause",this._callbacks)),this._clippingAudioElement&&(this._stopClippingAudio(),zi("pause",this._callbacks))}_stopClippingAudio(){this._clippingAudioElement&&(this._stopAudio(this._clippingAudioElement,!1),clearTimeout(this._stopClippingTimeout),this._clippingAudioReject?.(new z_),this._clippingAudioElement=void 0,this._stopClippingTimeout=void 0,this._clippingAudioReject=void 0,this._blobPromise=void 0)}_stopPlayingAudio(){this._playingAudioElement&&(this._stopAudio(this._playingAudioElement,!0),clearTimeout(this._stopAudioTimeout),this._playingAudioElement=void 0,this._stopAudioTimeout=void 0)}_audioElement(e,r){const n=new Audio;return n.preload="auto",n.src=e,new Promise((i,a)=>{const l=Date.now(),c=setInterval(()=>{if(n.seekable.length>0&&n.seekable.end(0)===n.duration||Date.now()-l>=5e3){if(r&&this._trackId&&n.audioTracks&&n.audioTracks.length>0)for(const d of n.audioTracks)d.enabled=this._trackId===d.id;n.onerror=()=>{a(n.error?.message??"Could not load audio")},n.currentTime=this._start/1e3,n.playbackRate=this._playbackRate,clearInterval(c),i(n)}},100)})}_stopAudio(e,r){e.pause();const n=e.src;e.removeAttribute("src"),e.load(),r&&URL.revokeObjectURL(n)}_captureStream(e){let r;if(typeof e.captureStream=="function"&&(r=e.captureStream()),typeof e.mozCaptureStream=="function"&&(r=e.mozCaptureStream()),r===void 0)throw new Error("Unable to capture stream from audio");const n=new MediaStream;for(const i of r.getVideoTracks())i.stop();for(const i of r.getAudioTracks())i.enabled&&n.addTrack(i);return n}}class b1{_file;_name;_start;_end;_playbackRate;_recordAudibly;_trackId;_extension;_recorderMimeType;_callbacks;_blobClipper;_playClipper;constructor(e,r,n,i,a,l,c){const[d,f]=M5();this._recorderMimeType=d,this._file=e,this._name=$_(e.name,r),this._start=r,this._end=n,this._playbackRate=i,this._recordAudibly=a,this._trackId=l,this._callbacks=c??{play:[],pause:[]},this._extension=f,this._blobClipper=new TA(e,r,n,i,d,this._callbacks,l)}get name(){return this._name}get extension(){return this._extension}get start(){return this._start}get end(){return this._end}async base64(){return new Promise(async(e,r)=>{var n=new FileReader;const i=await this.blob();n.readAsDataURL(i),n.onloadend=()=>{const a=n.result,l=a.substring(a.indexOf(",")+1);e(l)}})}get playing(){return this._playClipper?.isPlayingAudibly??!1}onEvent(e,r){return this._callbacks[e].push(r),()=>{D_(this._callbacks[e],r)}}async play(){this._blobClipper.isPlayingAudibly?(this._blobClipper.stop(),zi("pause",this._callbacks)):this._playClipper?.isPlayingAudibly?(this._playClipper.stop(),zi("pause",this._callbacks)):this._blobClipper.isRecordingSilently?(this._playClipper=this._playClipper??new TA(this._file,this._start,this._end,this._playbackRate,this._recorderMimeType,this._callbacks,this._trackId),this._playClipper.play(),zi("play",this._callbacks)):this._blobClipper.finishedRecording?(this._blobClipper.play(),zi("play",this._callbacks),this._playClipper=void 0):(this._blobClipper.clip(!0).then(()=>{zi("pause",this._callbacks)}).catch(e=>{e instanceof z_||console.error(e)}),zi("play",this._callbacks))}stop(){this._blobClipper.stop(),this._playClipper?.stop(),zi("pause",this._callbacks)}async blob(){return this._blobClipper.latestBlobPromise()??this._blobClipper.clip(this._recordAudibly)}slice(e,r){return new b1(this._file,e,r,this._playbackRate,this._recordAudibly,this._trackId)}isSliceable(){return!0}get error(){if(this._file.blobUrl)return QP(this._file.blobUrl)?void 0:Ag.fileLinkLost}}class Lg{data;workerFactory;_blob;constructor(e,r){this.data=e,this.workerFactory=r}get name(){return this.data.name}get extension(){return"mp3"}get start(){return this.data.start}get end(){return this.data.end}async base64(){return S2(await this.blob())}async play(){await this.data.play()}get playing(){return this.data.playing}onEvent(e,r){return this.onEvent(e,r)}stop(){this.data.stop()}async blob(){return this._blob||(this._blob=await B_.encode(await this.data.blob(),this.workerFactory)),this._blob}slice(e,r){return new Lg(this.data.slice(e,r),this.workerFactory)}isSliceable(){return this.data.isSliceable()}get error(){return this.data.error}}class v1{_data;_encoder;_extension;_blob;constructor(e,r,n){this._data=e,this._encoder=r,this._extension=n}get name(){return this._data.name}get extension(){return"mp3"}get start(){return this._data.start}get end(){return this._data.end}async base64(){return S2(await this.blob())}async play(){await this._data.play()}get playing(){return this._data.playing}onEvent(e,r){return this._data.onEvent(e,r)}stop(){this._data.stop()}async blob(){return this._blob===void 0&&(this._blob=await this._encoder(await this._data.blob(),this._data.extension)),this._blob}slice(e,r){return new v1(this._data.slice(e,r),this._encoder,this._extension)}isSliceable(){return this._data.isSliceable()}get error(){return this._data.error}}class qo{data;constructor(e){this.data=e}static fromCard(e,r,n,i){if(e.audio){const a=e.audio.start??e.subtitle.start,l=e.audio.end??e.subtitle.end;return qo.fromBase64(e.subtitleFileName,Math.max(0,a-(e.audio.paddingStart??0)),l+(e.audio.paddingEnd??0),e.audio.playbackRate??1,e.audio.base64,e.audio.extension,e.audio.error)}if(e.file)return qo.fromFile(e.file,Math.max(0,e.subtitle.start-r),e.subtitle.end+n,e.file?.playbackRate??1,i,e.file?.audioTrack)}static fromBase64(e,r,n,i,a,l,c){return new qo(new j5(e.substring(0,e.lastIndexOf(".")),r,n,i,a,l,c))}static fromFile(e,r,n,i,a,l){return new qo(new b1(e,r,n,i,a,l))}get start(){return this.data.start}get end(){return this.data.end}get name(){return this.data.name+"."+this.data.extension}get extension(){return this.data.extension}async play(){await this.data.play()}get playing(){return this.data.playing}onEvent(e,r){return this.data.onEvent(e,r)}stop(){this.data.stop()}async base64(){return await this.data.base64()}async blob(){return await this.data.blob()}async download(){const e=await this.data.blob();Xu(e,this.name)}toMp3(e){return this.data instanceof Lg?this:this.data.extension==="mp3"?this:new qo(new Lg(this.data,e))}toEncoded(e,r){return new qo(new v1(this.data,e,r))}slice(e,r){return new qo(this.data.slice(e,r))}isSliceable(){return this.data.isSliceable()}get error(){return this.data.error}get errorLocKey(){if(this.data.error!==void 0)switch(this.data.error){case Ag.drmProtected:return"audioCaptureFailed.message";case Ag.fileLinkLost:return"ankiDialog.audioFileLinkLost"}}}function N5(t){const e=t.toLowerCase().trim().split(/\s*;\s*/);return e[0]==="banner"?{name:e[0],delay:e[1]*1||0,leftToRight:e[2]*1||0,fadeAwayWidth:e[3]*1||0}:/^scroll\s/.test(e[0])?{name:e[0],y1:Math.min(e[1]*1,e[2]*1),y2:Math.max(e[1]*1,e[2]*1),delay:e[3]*1||0,fadeAwayHeight:e[4]*1||0}:null}function cx(t){return t?t.toLowerCase().replace(/([+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)/g," $1 ").replace(/([mnlbspc])/g," $1 ").trim().replace(/\s+/g," ").split(/\s(?=[mnlbspc])/).map(e=>e.split(" ").filter((r,n)=>!(n&&Number.isNaN(r*1)))):[]}const I5=["b","i","u","s","fsp","k","K","kf","ko","kt","fe","q","p","pbo","a","an","fscx","fscy","fax","fay","frx","fry","frz","fr","be","blur","bord","xbord","ybord","shad","xshad","yshad"],EA=I5.map(t=>({name:t,regex:new RegExp(`^${t}-?\\d`)}));function U_(t){const e={};for(let r=0;r<EA.length;r++){const{name:n,regex:i}=EA[r];if(i.test(t))return e[n]=t.slice(n.length)*1,e}if(/^fn/.test(t))e.fn=t.slice(2);else if(/^r/.test(t))e.r=t.slice(1);else if(/^fs[\d+-]/.test(t))e.fs=t.slice(2);else if(/^\d?c&?H?[0-9a-f]+|^\d?c$/i.test(t)){const[,r,n]=t.match(/^(\d?)c&?H?(\w*)/);e[`c${r||1}`]=n&&`000000${n}`.slice(-6)}else if(/^\da&?H?[0-9a-f]+/i.test(t)){const[,r,n]=t.match(/^(\d)a&?H?(\w\w)/);e[`a${r}`]=n}else if(/^alpha&?H?[0-9a-f]+/i.test(t))[,e.alpha]=t.match(/^alpha&?H?([0-9a-f]+)/i),e.alpha=`00${e.alpha}`.slice(-2);else if(/^(?:pos|org|move|fad|fade)\(/.test(t)){const[,r,n]=t.match(/^(\w+)\((.*?)\)?$/);e[r]=n.trim().split(/\s*,\s*/).map(Number)}else if(/^i?clip/.test(t)){const r=t.match(/^i?clip\((.*?)\)?$/)[1].trim().split(/\s*,\s*/);e.clip={inverse:/iclip/.test(t),scale:1,drawing:null,dots:null},r.length===1&&(e.clip.drawing=cx(r[0])),r.length===2&&(e.clip.scale=r[0]*1,e.clip.drawing=cx(r[1])),r.length===4&&(e.clip.dots=r.map(Number))}else if(/^t\(/.test(t)){const r=t.match(/^t\((.*?)\)?$/)[1].trim().replace(/\\.*/,n=>n.replace(/,/g,`
`)).split(/\s*,\s*/);if(!r[0])return e;e.t={t1:0,t2:0,accel:1,tags:r[r.length-1].replace(/\n/g,",").split("\\").slice(1).map(U_)},r.length===2&&(e.t.accel=r[0]*1),r.length===3&&(e.t.t1=r[0]*1,e.t.t2=r[1]*1),r.length===4&&(e.t.t1=r[0]*1,e.t.t2=r[1]*1,e.t.accel=r[2]*1)}return e}function L5(t){const e=[];let r=0,n="";for(let i=0;i<t.length;i++){const a=t[i];a==="("&&r++,a===")"&&r--,r<0&&(r=0),!r&&a==="\\"?(n&&e.push(n),n=""):n+=a}return e.push(n),e.map(U_)}function F5(t){const e=t.split(/{([^{}]*?)}/),r=[];e[0].length&&r.push({tags:[],text:e[0],drawing:[]});for(let n=1;n<e.length;n+=2){const i=L5(e[n]),a=i.reduce((l,c)=>c.p===void 0?l:!!c.p,!1);r.push({tags:i,text:a?"":e[n+1],drawing:a?cx(e[n+1]):[]})}return{raw:t,combined:r.map(n=>n.text).join(""),parsed:r}}function B5(t){const e=t.split(":");return e[0]*3600+e[1]*60+e[2]*1}function $5(t,e){let r=t.split(",");if(r.length>e.length){const i=r.slice(e.length-1).join();r=r.slice(0,e.length-1),r.push(i)}const n={};for(let i=0;i<r.length;i++){const a=e[i],l=r[i].trim();switch(a){case"Layer":case"MarginL":case"MarginR":case"MarginV":n[a]=l*1;break;case"Start":case"End":n[a]=B5(l);break;case"Effect":n[a]=N5(l);break;case"Text":n[a]=F5(l);break;default:n[a]=l}}return n}function AA(t){return t.match(/Format\s*:\s*(.*)/i)[1].split(/\s*,\s*/)}const Wl=Object.assign||function(e,...r){for(let n=0;n<r.length;n++){if(!r[n])continue;const i=Object.keys(r[n]);for(let a=0;a<i.length;a++)e[i[a]]=r[n][i[a]]}return e};function D5(t,e){const r=t.match(/Style\s*:\s*(.*)/i)[1].split(/\s*,\s*/);return Wl({},...e.map((n,i)=>({[n]:r[i]})))}function z5(t){const e={info:{},styles:{format:[],style:[]},events:{format:[],comment:[],dialogue:[]}},r=t.split(/\r?\n/);let n=0;for(let i=0;i<r.length;i++){const a=r[i].trim();if(!/^;/.test(a)&&(/^\[Script Info\]/i.test(a)?n=1:/^\[V4\+? Styles\]/i.test(a)?n=2:/^\[Events\]/i.test(a)?n=3:/^\[.*\]/.test(a)&&(n=0),n!==0)){if(n===1&&/:/.test(a)){const[,l,c]=a.match(/(.*?)\s*:\s*(.*)/);e.info[l]=c}if(n===2&&(/^Format\s*:/i.test(a)&&(e.styles.format=AA(a)),/^Style\s*:/i.test(a)&&e.styles.style.push(D5(a,e.styles.format))),n===3&&(/^Format\s*:/i.test(a)&&(e.events.format=AA(a)),/^(?:Comment|Dialogue)\s*:/i.test(a))){const[,l,c]=a.match(/^(\w+?)\s*:\s*(.*)/i);e.events[l.toLowerCase()].push($5(c,e.events.format))}}}return e}function U5(t){const e={type:null,prev:null,next:null,points:[]};/[mnlbs]/.test(t[0])&&(e.type=t[0].toUpperCase().replace("N","L").replace("B","C"));for(let r=t.length-!(t.length&1),n=1;n<r;n+=2)e.points.push({x:t[n]*1,y:t[n+1]*1});return e}function H5(t){return!(!t.points.length||!t.type||/C|S/.test(t.type)&&t.points.length<3)}function V5(t){let e=1/0,r=1/0,n=-1/0,i=-1/0;return[].concat(...t.map(({points:a})=>a)).forEach(({x:a,y:l})=>{e=Math.min(e,a),r=Math.min(r,l),n=Math.max(n,a),i=Math.max(i,l)}),{minX:e,minY:r,width:n-e,height:i-r}}function q5(t,e,r){const n=[],i=[0,.6666666666666666,.3333333333333333,0],a=[0,1/3,2/3,0],l=[0,1/6,2/3,1/6],c=(h,g)=>h[0]*g[0]+h[1]*g[1]+h[2]*g[2]+h[3]*g[3];let d=[t[t.length-1].x,t[0].x,t[1].x,t[2].x],f=[t[t.length-1].y,t[0].y,t[1].y,t[2].y];n.push({type:e==="M"?"M":"L",points:[{x:c(l,d),y:c(l,f)}]});for(let h=3;h<t.length;h++)d=[t[h-3].x,t[h-2].x,t[h-1].x,t[h].x],f=[t[h-3].y,t[h-2].y,t[h-1].y,t[h].y],n.push({type:"C",points:[{x:c(i,d),y:c(i,f)},{x:c(a,d),y:c(a,f)},{x:c(l,d),y:c(l,f)}]});if(r==="L"||r==="C"){const h=t[t.length-1];n.push({type:"L",points:[{x:h.x,y:h.y}]})}return n}function W5(t){return t.map(({type:e,points:r})=>e+r.map(({x:n,y:i})=>`${n},${i}`).join(",")).join("")}function H_(t){const e=[];let r=0;for(;r<t.length;){const i=t[r],a=U5(i);if(H5(a)){if(a.type==="S"){const{x:l,y:c}=(e[r-1]||{points:[{x:0,y:0}]}).points.slice(-1)[0];a.points.unshift({x:l,y:c})}r&&(a.prev=e[r-1].type,e[r-1].next=a.type),e.push(a),r++}else{if(r&&e[r-1].type==="S"){const l={p:a.points,c:e[r-1].points.slice(0,3)};e[r-1].points=e[r-1].points.concat((l[i[0]]||[]).map(({x:c,y:d})=>({x:c,y:d})))}t.splice(r,1)}}const n=[].concat(...e.map(({type:i,points:a,prev:l,next:c})=>i==="S"?q5(a,l,c):{type:i,points:a}));return Wl({instructions:n,d:W5(n)},V5(e))}const K5=["fs","clip","c1","c2","c3","c4","a1","a2","a3","a4","alpha","fscx","fscy","fax","fay","frx","fry","frz","fr","be","blur","bord","xbord","ybord","shad","xshad","yshad"];function jl(t,e,r={}){let n=t[e];if(n===void 0)return null;if(e==="pos"||e==="org")return n.length===2?{[e]:{x:n[0],y:n[1]}}:null;if(e==="move"){const[i,a,l,c,d=0,f=0]=n;return n.length===4||n.length===6?{move:{x1:i,y1:a,x2:l,y2:c,t1:d,t2:f}}:null}if(e==="fad"||e==="fade"){if(n.length===2){const[i,a]=n;return{fade:{type:"fad",t1:i,t2:a}}}if(n.length===7){const[i,a,l,c,d,f,h]=n;return{fade:{type:"fade",a1:i,a2:a,a3:l,t1:c,t2:d,t3:f,t4:h}}}return null}if(e==="clip"){const{inverse:i,scale:a,drawing:l,dots:c}=n;if(l)return{clip:{inverse:i,scale:a,drawing:H_(l),dots:c}};if(c){const[d,f,h,g]=c;return{clip:{inverse:i,scale:a,drawing:l,dots:{x1:d,y1:f,x2:h,y2:g}}}}return null}if(/^[xy]?(bord|shad)$/.test(e)&&(n=Math.max(n,0)),e==="bord")return{xbord:n,ybord:n};if(e==="shad")return{xshad:n,yshad:n};if(/^c\d$/.test(e))return{[e]:n||r[e]};if(e==="alpha")return{a1:n,a2:n,a3:n,a4:n};if(e==="fr")return{frz:n};if(e==="fs")return{fs:/^\+|-/.test(n)?(n*1>-10?1+n/10:1)*r.fs:n*1};if(e==="K")return{kf:n};if(e==="t"){const{t1:i,accel:a,tags:l}=n,c=n.t2||(r.end-r.start)*1e3,d={};return l.forEach(f=>{const h=Object.keys(f)[0];~K5.indexOf(h)&&!(h==="clip"&&!f[h].dots)&&Wl(d,jl(f,h,r))}),{t:{t1:i,t2:c,accel:a,tag:d}}}return{[e]:n}}const G5=[null,1,2,3,null,7,8,9,null,4,5,6],Y5=["r","a","an","pos","org","move","fade","fad","clip"];function X5(t){return JSON.parse(JSON.stringify(Wl({},t,{k:void 0,kf:void 0,ko:void 0,kt:void 0})))}function Z5({styles:t,style:e,parsed:r,start:n,end:i}){let a,l,c,d,f,h;const g=[];let p={style:e,fragments:[]},S={};for(let b=0;b<r.length;b++){const{tags:v,text:k,drawing:T}=r[b];let A;for(let R=0;R<v.length;R++){const O=v[R];A=O.r===void 0?A:O.r}const w={tag:A===void 0?X5(S):{},text:k,drawing:T.length?H_(T):null};for(let R=0;R<v.length;R++){const O=v[R];a=a||G5[O.a||0]||O.an,l=l||jl(O,"pos"),c=c||jl(O,"org"),d=d||jl(O,"move"),f=f||jl(O,"fade")||jl(O,"fad"),h=jl(O,"clip")||h;const M=Object.keys(O)[0];if(M&&!~Y5.indexOf(M)){const j=t[e].tag,{c1:$,c2:V,c3:N,c4:W}=j,z=S.fs||j.fs,I=jl(O,M,{start:n,end:i,c1:$,c2:V,c3:N,c4:W,fs:z});M==="t"?(w.tag.t=w.tag.t||[],w.tag.t.push(I.t)):Wl(w.tag,I)}}if(S=w.tag,A!==void 0&&(g.push(p),p={style:t[A]?A:e,fragments:[]}),w.text||w.drawing){const R=p.fragments[p.fragments.length-1]||{};R.text&&w.text&&!Object.keys(w.tag).length?R.text+=w.text:p.fragments.push(w)}}return g.push(p),Wl({alignment:a,slices:g},l,c,d,f,h)}function Q5({styles:t,dialogues:e}){let r=1/0;const n=[];for(let i=0;i<e.length;i++){const a=e[i];if(a.Start>=a.End)continue;t[a.Style]||(a.Style="Default");const l=t[a.Style].style,c=Z5({styles:t,style:a.Style,parsed:a.Text.parsed,start:a.Start,end:a.End}),d=c.alignment||l.Alignment;r=Math.min(r,a.Layer),n.push(Wl({layer:a.Layer,start:a.Start,end:a.End,style:a.Style,name:a.Name,margin:{left:a.MarginL||l.MarginL,right:a.MarginR||l.MarginR,vertical:a.MarginV||l.MarginV},effect:a.Effect},c,{alignment:d}))}for(let i=0;i<n.length;i++)n[i].layer-=r;return n.sort((i,a)=>i.start-a.start||i.end-a.end)}const J5={Name:"Default",Fontname:"Arial",Fontsize:"20",PrimaryColour:"&H00FFFFFF&",SecondaryColour:"&H000000FF&",OutlineColour:"&H00000000&",BackColour:"&H00000000&",Bold:"0",Italic:"0",Underline:"0",StrikeOut:"0",ScaleX:"100",ScaleY:"100",Spacing:"0",Angle:"0",BorderStyle:"1",Outline:"2",Shadow:"2",Alignment:"2",MarginL:"10",MarginR:"10",MarginV:"10",Encoding:"1"};function Hh(t){if(/^(&|H|&H)[0-9a-f]{6,}/i.test(t)){const[,r,n]=t.match(/&?H?([0-9a-f]{2})?([0-9a-f]{6})/i);return[r||"00",n]}const e=parseInt(t,10);if(!Number.isNaN(e)){if(e<-2147483648)return["00","000000"];const i=-2147483648<=e&&e<=2147483647?`00000000${(e<0?e+4294967296:e).toString(16)}`.slice(-8):String(e).slice(0,8);return[i.slice(0,2),i.slice(2)]}return["00","000000"]}function e4({info:t,style:e,defaultStyle:r}){const n={},i=[Wl({},J5,r,{Name:"Default"})].concat(e);for(let a=0;a<i.length;a++){const l=i[a];/^(\*+)Default$/.test(l.Name)&&(l.Name="Default"),Object.keys(l).forEach(k=>{k!=="Name"&&k!=="Fontname"&&!/Colour/.test(k)&&(l[k]*=1)});const[c,d]=Hh(l.PrimaryColour),[f,h]=Hh(l.SecondaryColour),[g,p]=Hh(l.OutlineColour),[S,b]=Hh(l.BackColour),v={fn:l.Fontname,fs:l.Fontsize,c1:d,a1:c,c2:h,a2:f,c3:p,a3:g,c4:b,a4:S,b:Math.abs(l.Bold),i:Math.abs(l.Italic),u:Math.abs(l.Underline),s:Math.abs(l.StrikeOut),fscx:l.ScaleX,fscy:l.ScaleY,fsp:l.Spacing,frz:l.Angle,xbord:l.Outline,ybord:l.Outline,xshad:l.Shadow,yshad:l.Shadow,fe:l.Encoding,q:/^[0-3]$/.test(t.WrapStyle)?t.WrapStyle*1:2};n[l.Name]={style:l,tag:v}}return n}function t4(t,e={}){const r=z5(t),n=e4({info:r.info,style:r.styles.style,defaultStyle:e.defaultStyle||{}});return{info:r.info,width:r.info.PlayResX*1||null,height:r.info.PlayResY*1||null,collisions:r.info.Collisions||"Normal",styles:n,dialogues:Q5({styles:n,dialogues:r.events.dialogue})}}class RA{endOfLine=`\r
`;numericTimestamps=!1;constructor(e){e!=null&&(this.endOfLine=e.endOfLine??`\r
`,this.numericTimestamps=e.numericTimestamps??!1)}timestampToSeconds(e){const[r,n]=e.split(","),i=parseInt(n),[a,l,c]=r.split(":").map(f=>parseInt(f)),d=i*.001+c+60*l+3600*a;return Math.round(d*1e3)/1e3}secondsToTimestamp(e){const r=new Date(0,0,0,0,0,0,e),n=r.getHours(),i=r.getMinutes(),a=r.getSeconds(),l=Math.floor(e-(n*36e5+i*6e4+a*1e3));function c(d,f=2){return d.toString().padStart(f,"0")}return`${c(n)}:${c(i)}:${c(a)},${c(l,3)}`}correctFormat(e){const r=e.replace(".",","),[n,i]=r.split(","),a=this.fixedStrDigit(3,i),[l,c,d]=n.split(":"),f=this.fixedStrDigit(2,l,!1),h=this.fixedStrDigit(2,c,!1),g=this.fixedStrDigit(2,d,!1);return`${f}:${h}:${g},${a}`}fixedStrDigit(e,r,n=!0){return r.length===e?r:r.length>e?r.slice(0,e):n?r.padEnd(e,"0"):r.padStart(e,"0")}tryComma(e){e=e.replace(/\r/g,"");const r=/(\d+)\n(\d{1,2}:\d{2}:\d{2},\d{1,3}) --> (\d{1,2}:\d{2}:\d{2},\d{1,3})/g,n=e.split(r);return n.shift(),n}tryDot(e){e=e.replace(/\r/g,"");const r=/(\d+)\n(\d{1,2}:\d{2}:\d{2}\.\d{1,3}) --> (\d{1,2}:\d{2}:\d{2}\.\d{1,3})/g,n=e.split(r);return n.shift(),n}fromSrt(e){const r=e;let n=this.tryComma(r);n.length===0&&(n=this.tryDot(r));const i=[];for(let a=0;a<n.length;a+=4){let l=this.correctFormat(n[a+1].trim()),c=this.correctFormat(n[a+2].trim());this.numericTimestamps&&(l=this.timestampToSeconds(l),c=this.timestampToSeconds(c));const d={id:n[a].trim(),startTime:l,endTime:c,text:n[a+3].trim()};i.push(d)}return i}toSrt(e){const r=this.endOfLine;let n="";for(let i=0;i<e.length;i++){const a=e[i];let l=a.startTime,c=a.endTime;typeof l=="number"&&(l=this.secondsToTimestamp(l)),typeof c=="number"&&(c=this.secondsToTimestamp(c)),n+=a.id+r+l+" --> "+c+r+a.text.replace(`
`,r)+r+r}return n}}var s0={},OA;function r4(){return OA||(OA=1,function(t){function e(I,B){return B===void 0&&(B=1),"rgba("+[parseInt(I.substring(0,2),16),parseInt(I.substring(2,4),16),parseInt(I.substring(4,6),16),B].join(",")+")"}var r=["webvtt.font.color","webvtt.font.opacity","webvtt.font.scale","webvtt.bg.color","webvtt.bg.opacity","webvtt.edge.color","webvtt.edge.type"],n=1;function i(I,B,G){switch(G){case"webvtt.font.color":case"webvtt.font.opacity":var U=Services.prefs.getCharPref("webvtt.font.color"),X=Services.prefs.getIntPref("webvtt.font.opacity")/100;a.fontSet=e(U,X);break;case"webvtt.font.scale":n=Services.prefs.getIntPref("webvtt.font.scale")/100;break;case"webvtt.bg.color":case"webvtt.bg.opacity":var q=Services.prefs.getCharPref("webvtt.bg.color"),Z=Services.prefs.getIntPref("webvtt.bg.opacity")/100;a.backgroundSet=e(q,Z);break;case"webvtt.edge.color":case"webvtt.edge.type":var F=["","0px 0px ","4px 4px 4px ","-2px -2px ","2px 2px "],D=Services.prefs.getIntPref("webvtt.edge.type"),J=Services.prefs.getCharPref("webvtt.edge.color");a.edgeSet=F[D]+e(J);break}}if(typeof Services<"u"){var a={};r.forEach(function(I){i(void 0,void 0,I),Services.prefs.addObserver(I,i,!1)})}var l=Object.create||function(){function I(){}return function(B){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return I.prototype=B,new I}}();function c(I,B){this.name="ParsingError",this.code=I.code,this.message=B||I.message}c.prototype=l(Error.prototype),c.prototype.constructor=c,c.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function d(I){function B(U,X,q,Z){return(U|0)*3600+(X|0)*60+(q|0)+(Z|0)/1e3}var G=I.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return G?G[3]?B(G[1],G[2],G[3].replace(":",""),G[4]):G[1]>59?B(G[1],G[2],0,G[4]):B(0,G[1],G[2],G[4]):null}function f(){this.values=l(null)}f.prototype={set:function(I,B){!this.get(I)&&B!==""&&(this.values[I]=B)},get:function(I,B,G){return G?this.has(I)?this.values[I]:B[G]:this.has(I)?this.values[I]:B},has:function(I){return I in this.values},alt:function(I,B,G){for(var U=0;U<G.length;++U)if(B===G[U]){this.set(I,B);break}},integer:function(I,B){/^-?\d+$/.test(B)&&this.set(I,parseInt(B,10))},percent:function(I,B){return B.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(B=parseFloat(B),B>=0&&B<=100)?(this.set(I,B),!0):!1}};function h(I,B,G,U){var X=U?I.split(U):[I];for(var q in X)if(typeof X[q]=="string"){var Z=X[q].split(G);if(Z.length===2){var F=Z[0],D=Z[1];B(F,D)}}}function g(I,B,G){var U=I;function X(){var F=d(I);if(F===null)throw new c(c.Errors.BadTimeStamp,"Malformed timestamp: "+U);return I=I.replace(/^[^\sa-zA-Z-]+/,""),F}function q(F,D){var J=new f;h(F,function(ee,te){switch(ee){case"region":for(var ie=G.length-1;ie>=0;ie--)if(G[ie].id===te){J.set(ee,G[ie].region);break}break;case"vertical":J.alt(ee,te,["rl","lr"]);break;case"line":var oe=te.split(","),ke=oe[0];J.integer(ee,ke),J.percent(ee,ke)&&J.set("snapToLines",!1),J.alt(ee,ke,["auto"]),oe.length===2&&J.alt("lineAlign",oe[1],["start","middle","end"]);break;case"position":oe=te.split(","),J.percent(ee,oe[0]),oe.length===2&&J.alt("positionAlign",oe[1],["start","middle","end"]);break;case"size":J.percent(ee,te);break;case"align":J.alt(ee,te,["start","middle","end","left","right"]);break}},/:/,/\s/),D.region=J.get("region",null),D.vertical=J.get("vertical",""),D.line=J.get("line","auto"),D.lineAlign=J.get("lineAlign","start"),D.snapToLines=J.get("snapToLines",!0),D.size=J.get("size",100),D.align=J.get("align","middle"),D.position=J.get("position","auto"),D.positionAlign=J.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},D.align)}function Z(){I=I.replace(/^\s+/,"")}if(Z(),B.startTime=X(),Z(),I.substr(0,3)!=="-->")throw new c(c.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+U);I=I.substr(3),Z(),B.endTime=X(),Z(),q(I,B)}var p={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},S={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},b={v:"title",lang:"lang"},v={rt:"ruby"};function k(I,B){function G(){if(!B)return null;function ke(Q){return B=B.substr(Q.length),Q}var ve=B.match(/^([^<]*)(<[^>]+>?)?/);return ke(ve[1]?ve[1]:ve[2])}function U(ke){return p[ke]}function X(ke){for(;oe=ke.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)ke=ke.replace(oe[0],U);return ke}function q(ke,ve){return!v[ve.localName]||v[ve.localName]===ke.localName}function Z(ke,ve){var Q=S[ke];if(!Q)return null;var de=I.document.createElement(Q);de.localName=Q;var we=b[ke];return we&&ve&&(de[we]=ve.trim()),de}for(var F=I.document.createElement("div"),D=F,J,ee=[];(J=G())!==null;){if(J[0]==="<"){if(J[1]==="/"){ee.length&&ee[ee.length-1]===J.substr(2).replace(">","")&&(ee.pop(),D=D.parentNode);continue}var te=d(J.substr(1,J.length-2)),ie;if(te){ie=I.document.createProcessingInstruction("timestamp",te),D.appendChild(ie);continue}var oe=J.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!oe||(ie=Z(oe[1],oe[3]),!ie)||!q(D,ie))continue;oe[2]&&(ie.className=oe[2].substr(1).replace("."," ")),ee.push(oe[1]),D.appendChild(ie),D=ie;continue}D.appendChild(I.document.createTextNode(X(J)))}return F}var T=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function A(I){for(var B=0;B<T.length;B++){var G=T[B];if(I>=G[0]&&I<=G[1])return!0}return!1}function w(I){var B=[],G="",U;if(!I||!I.childNodes)return"ltr";function X(F,D){for(var J=D.childNodes.length-1;J>=0;J--)F.push(D.childNodes[J])}function q(F){if(!F||!F.length)return null;var D=F.pop(),J=D.textContent||D.innerText;if(J){var ee=J.match(/^.*(\n|\r)/);return ee?(F.length=0,ee[0]):J}if(D.tagName==="ruby")return q(F);if(D.childNodes)return X(F,D),q(F)}for(X(B,I);G=q(B);)for(var Z=0;Z<G.length;Z++)if(U=G.charCodeAt(Z),A(U))return"rtl";return"ltr"}function R(I){if(typeof I.line=="number"&&(I.snapToLines||I.line>=0&&I.line<=100))return I.line;if(!I.track||!I.track.textTrackList||!I.track.textTrackList.mediaElement)return-1;for(var B=I.track,G=B.textTrackList,U=0,X=0;X<G.length&&G[X]!==B;X++)G[X].mode==="showing"&&U++;return++U*-1}function O(){}O.prototype.applyStyles=function(I,B){B=B||this.div;for(var G in I)I.hasOwnProperty(G)&&(B.style[G]=I[G])},O.prototype.formatStyle=function(I,B){return I===0?0:I+B};function M(I,B,G){var U=typeof navigator<"u"&&/MSIE\s8\.0/.test(navigator.userAgent),X="rgba(255, 255, 255, 1)",q="rgba(0, 0, 0, 0.8)",Z="";typeof a<"u"&&(X=a.fontSet,q=a.backgroundSet,Z=a.edgeSet),U&&(X="rgb(255, 255, 255)",q="rgb(0, 0, 0)"),O.call(this),this.cue=B,this.cueDiv=k(I,B.text);var F={color:X,backgroundColor:q,textShadow:Z,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};U||(F.writingMode=B.vertical===""?"horizontal-tb":B.vertical==="lr"?"vertical-lr":"vertical-rl",F.unicodeBidi="plaintext"),this.applyStyles(F,this.cueDiv),this.div=I.document.createElement("div"),F={textAlign:B.align==="middle"?"center":B.align,font:G.font,whiteSpace:"pre-line",position:"absolute"},U||(F.direction=w(this.cueDiv),F.writingMode=B.vertical===""?"horizontal-tb":B.vertical==="lr"?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(F),this.div.appendChild(this.cueDiv);var D=0;switch(B.positionAlign){case"start":D=B.position;break;case"middle":D=B.position-B.size/2;break;case"end":D=B.position-B.size;break}B.vertical===""?this.applyStyles({left:this.formatStyle(D,"%"),width:this.formatStyle(B.size,"%")}):this.applyStyles({top:this.formatStyle(D,"%"),height:this.formatStyle(B.size,"%")}),this.move=function(J){this.applyStyles({top:this.formatStyle(J.top,"px"),bottom:this.formatStyle(J.bottom,"px"),left:this.formatStyle(J.left,"px"),right:this.formatStyle(J.right,"px"),height:this.formatStyle(J.height,"px"),width:this.formatStyle(J.width,"px")})}}M.prototype=l(O.prototype),M.prototype.constructor=M;function j(I){var B=typeof navigator<"u"&&/MSIE\s8\.0/.test(navigator.userAgent),G,U,X,q;if(I.div){U=I.div.offsetHeight,X=I.div.offsetWidth,q=I.div.offsetTop;var Z=(Z=I.div.childNodes)&&(Z=Z[0])&&Z.getClientRects&&Z.getClientRects();I=I.div.getBoundingClientRect(),G=Z?Math.max(Z[0]&&Z[0].height||0,I.height/Z.length):0}this.left=I.left,this.right=I.right,this.top=I.top||q,this.height=I.height||U,this.bottom=I.bottom||q+(I.height||U),this.width=I.width||X,this.lineHeight=G!==void 0?G:I.lineHeight,B&&!this.lineHeight&&(this.lineHeight=13)}j.prototype.move=function(I,B){switch(B=B!==void 0?B:this.lineHeight,I){case"+x":this.left+=B,this.right+=B;break;case"-x":this.left-=B,this.right-=B;break;case"+y":this.top+=B,this.bottom+=B;break;case"-y":this.top-=B,this.bottom-=B;break}},j.prototype.overlaps=function(I){return this.left<I.right&&this.right>I.left&&this.top<I.bottom&&this.bottom>I.top},j.prototype.overlapsAny=function(I){for(var B=0;B<I.length;B++)if(this.overlaps(I[B]))return!0;return!1},j.prototype.within=function(I){return this.top>=I.top&&this.bottom<=I.bottom&&this.left>=I.left&&this.right<=I.right},j.prototype.overlapsOppositeAxis=function(I,B){switch(B){case"+x":return this.left<I.left;case"-x":return this.right>I.right;case"+y":return this.top<I.top;case"-y":return this.bottom>I.bottom}},j.prototype.intersectPercentage=function(I){var B=Math.max(0,Math.min(this.right,I.right)-Math.max(this.left,I.left)),G=Math.max(0,Math.min(this.bottom,I.bottom)-Math.max(this.top,I.top)),U=B*G;return U/(this.height*this.width)},j.prototype.toCSSCompatValues=function(I){return{top:this.top-I.top,bottom:I.bottom-this.bottom,left:this.left-I.left,right:I.right-this.right,height:this.height,width:this.width}},j.getSimpleBoxPosition=function(I){var B=I.div?I.div.offsetHeight:I.tagName?I.offsetHeight:0,G=I.div?I.div.offsetWidth:I.tagName?I.offsetWidth:0,U=I.div?I.div.offsetTop:I.tagName?I.offsetTop:0;I=I.div?I.div.getBoundingClientRect():I.tagName?I.getBoundingClientRect():I;var X={left:I.left,right:I.right,top:I.top||U,height:I.height||B,bottom:I.bottom||U+(I.height||B),width:I.width||G};return X};function $(I,B,G,U){function X(Q,de){for(var we,ue=new j(Q),rt=1,ye=0;ye<de.length;ye++){for(;Q.overlapsOppositeAxis(G,de[ye])||Q.within(G)&&Q.overlapsAny(U);)Q.move(de[ye]);if(Q.within(G))return Q;var Le=Q.intersectPercentage(G);rt>Le&&(we=new j(Q),rt=Le),Q=new j(ue)}return we||ue}var q=new j(B),Z=B.cue,F=R(Z),D=[];if(Z.snapToLines){var J;switch(Z.vertical){case"":D=["+y","-y"],J="height";break;case"rl":D=["+x","-x"],J="width";break;case"lr":D=["-x","+x"],J="width";break}var ee=q.lineHeight,te=ee*Math.round(F),ie=G[J]+ee,oe=D[0];Math.abs(te)>ie&&(te=te<0?-1:1,te*=Math.ceil(ie/ee)*ee),F<0&&(te+=Z.vertical===""?G.height:G.width,D=D.reverse()),q.move(oe,te)}else{var ke=q.lineHeight/G.height*100;switch(Z.lineAlign){case"middle":F-=ke/2;break;case"end":F-=ke;break}switch(Z.vertical){case"":B.applyStyles({top:B.formatStyle(F,"%")});break;case"rl":B.applyStyles({left:B.formatStyle(F,"%")});break;case"lr":B.applyStyles({right:B.formatStyle(F,"%")});break}D=["+y","-x","+x","-y"],q=new j(B)}var ve=X(q,D);B.move(ve.toCSSCompatValues(G))}function V(){}V.StringDecoder=function(){return{decode:function(I){if(!I)return"";if(typeof I!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(I))}}},V.convertCueToDOMTree=function(I,B){return!I||!B?null:k(I,B)};var N=.05,W="sans-serif",z="1.5%";V.processCues=function(I,B,G){if(!I||!B||!G)return null;for(;G.firstChild;)G.removeChild(G.firstChild);var U=I.document.createElement("div");U.style.position="absolute",U.style.left="0",U.style.right="0",U.style.top="0",U.style.bottom="0",U.style.margin=z,G.appendChild(U);function X(ee){for(var te=0;te<ee.length;te++)if(ee[te].hasBeenReset||!ee[te].displayState)return!0;return!1}if(!X(B)){for(var q=0;q<B.length;q++)U.appendChild(B[q].displayState);return}var Z=[],F=j.getSimpleBoxPosition(U),D=Math.round(F.height*N*100)/100,J={font:D*n+"px "+W};(function(){for(var ee,te,ie=0;ie<B.length;ie++)te=B[ie],ee=new M(I,te,J),U.appendChild(ee.div),$(I,ee,F,Z),te.displayState=ee.div,Z.push(j.getSimpleBoxPosition(ee))})()},V.Parser=function(I,B){this.window=I,this.state="INITIAL",this.buffer="",this.decoder=B||new TextDecoder("utf8"),this.regionList=[]},V.Parser.prototype={reportOrThrowError:function(I){if(I instanceof c)this.onparsingerror&&this.onparsingerror(I);else throw I},parse:function(I){var B=this;I&&(B.buffer+=B.decoder.decode(I,{stream:!0}));function G(){for(var J=B.buffer,ee=0;ee<J.length&&J[ee]!=="\r"&&J[ee]!==`
`;)++ee;var te=J.substr(0,ee);return J[ee]==="\r"&&++ee,J[ee]===`
`&&++ee,B.buffer=J.substr(ee),te}function U(J){var ee=new f;if(h(J,function(ie,oe){switch(ie){case"id":ee.set(ie,oe);break;case"width":ee.percent(ie,oe);break;case"lines":ee.integer(ie,oe);break;case"regionanchor":case"viewportanchor":var ke=oe.split(",");if(ke.length!==2)break;var ve=new f;if(ve.percent("x",ke[0]),ve.percent("y",ke[1]),!ve.has("x")||!ve.has("y"))break;ee.set(ie+"X",ve.get("x")),ee.set(ie+"Y",ve.get("y"));break;case"scroll":ee.alt(ie,oe,["up"]);break}},/=/,/\s/),ee.has("id")){var te=new B.window.VTTRegion;te.width=ee.get("width",100),te.lines=ee.get("lines",3),te.regionAnchorX=ee.get("regionanchorX",0),te.regionAnchorY=ee.get("regionanchorY",100),te.viewportAnchorX=ee.get("viewportanchorX",0),te.viewportAnchorY=ee.get("viewportanchorY",100),te.scroll=ee.get("scroll",""),B.onregion&&B.onregion(te),B.regionList.push({id:ee.get("id"),region:te})}}function X(J){h(J,function(ee,te){switch(ee){case"Region":U(te);break}},/:/)}try{var q;if(B.state==="INITIAL"){if(!/\r\n|\n/.test(B.buffer))return this;q=G();var Z=q.match(/^WEBVTT([ \t].*)?$/);if(!Z||!Z[0])throw new c(c.Errors.BadSignature);B.state="HEADER"}for(var F=!1;B.buffer;){if(!/\r\n|\n/.test(B.buffer))return this;switch(F?F=!1:q=G(),B.state){case"HEADER":/:/.test(q)?X(q):q||(B.state="ID");continue;case"NOTE":q||(B.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(q)){B.state="NOTE";break}if(!q)continue;if(B.cue=new B.window.VTTCue(0,0,""),B.state="CUE",q.indexOf("-->")===-1){B.cue.id=q;continue}case"CUE":try{g(q,B.cue,B.regionList)}catch(J){B.reportOrThrowError(J),B.cue=null,B.state="BADCUE";continue}B.state="CUETEXT";continue;case"CUETEXT":var D=q.indexOf("-->")!==-1;if(!q||D&&(F=!0)){B.oncue&&B.oncue(B.cue),B.cue=null,B.state="ID";continue}B.cue.text&&(B.cue.text+=`
`),B.cue.text+=q;continue;case"BADCUE":q||(B.state="ID");continue}}}catch(J){B.reportOrThrowError(J),B.state==="CUETEXT"&&B.cue&&B.oncue&&B.oncue(B.cue),B.cue=null,B.state=B.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var I=this;try{if(I.buffer+=I.decoder.decode(),(I.cue||I.state==="HEADER")&&(I.buffer+=`

`,I.parse()),I.state==="INITIAL")throw new c(c.Errors.BadSignature)}catch(B){I.reportOrThrowError(B)}return I.onflush&&I.onflush(),this}},t.WebVTT=V}(s0)),s0}var bg={exports:{}},l0={},PA;function n4(){return PA||(PA=1,function(t){var e="auto",r={"":!0,lr:!0,rl:!0},n={start:!0,middle:!0,end:!0,left:!0,right:!0};function i(d){if(typeof d!="string")return!1;var f=r[d.toLowerCase()];return f?d.toLowerCase():!1}function a(d){if(typeof d!="string")return!1;var f=n[d.toLowerCase()];return f?d.toLowerCase():!1}function l(d){for(var f=1;f<arguments.length;f++){var h=arguments[f];for(var g in h)d[g]=h[g]}return d}function c(d,f,h){var g=this,p=/MSIE\s8\.0/.test(navigator.userAgent),S={};p?g=document.createElement("custom"):S.enumerable=!0,g.hasBeenReset=!1;var b="",v=!1,k=d,T=f,A=h,w=null,R="",O=!0,M="auto",j="start",$=50,V="middle",N=50,W="middle";if(Object.defineProperty(g,"id",l({},S,{get:function(){return b},set:function(z){b=""+z}})),Object.defineProperty(g,"pauseOnExit",l({},S,{get:function(){return v},set:function(z){v=!!z}})),Object.defineProperty(g,"startTime",l({},S,{get:function(){return k},set:function(z){if(typeof z!="number")throw new TypeError("Start time must be set to a number.");k=z,this.hasBeenReset=!0}})),Object.defineProperty(g,"endTime",l({},S,{get:function(){return T},set:function(z){if(typeof z!="number")throw new TypeError("End time must be set to a number.");T=z,this.hasBeenReset=!0}})),Object.defineProperty(g,"text",l({},S,{get:function(){return A},set:function(z){A=""+z,this.hasBeenReset=!0}})),Object.defineProperty(g,"region",l({},S,{get:function(){return w},set:function(z){w=z,this.hasBeenReset=!0}})),Object.defineProperty(g,"vertical",l({},S,{get:function(){return R},set:function(z){var I=i(z);if(I===!1)throw new SyntaxError("An invalid or illegal string was specified.");R=I,this.hasBeenReset=!0}})),Object.defineProperty(g,"snapToLines",l({},S,{get:function(){return O},set:function(z){O=!!z,this.hasBeenReset=!0}})),Object.defineProperty(g,"line",l({},S,{get:function(){return M},set:function(z){if(typeof z!="number"&&z!==e)throw new SyntaxError("An invalid number or illegal string was specified.");M=z,this.hasBeenReset=!0}})),Object.defineProperty(g,"lineAlign",l({},S,{get:function(){return j},set:function(z){var I=a(z);if(!I)throw new SyntaxError("An invalid or illegal string was specified.");j=I,this.hasBeenReset=!0}})),Object.defineProperty(g,"position",l({},S,{get:function(){return $},set:function(z){if(z<0||z>100)throw new Error("Position must be between 0 and 100.");$=z,this.hasBeenReset=!0}})),Object.defineProperty(g,"positionAlign",l({},S,{get:function(){return V},set:function(z){var I=a(z);if(!I)throw new SyntaxError("An invalid or illegal string was specified.");V=I,this.hasBeenReset=!0}})),Object.defineProperty(g,"size",l({},S,{get:function(){return N},set:function(z){if(z<0||z>100)throw new Error("Size must be between 0 and 100.");N=z,this.hasBeenReset=!0}})),Object.defineProperty(g,"align",l({},S,{get:function(){return W},set:function(z){var I=a(z);if(!I)throw new SyntaxError("An invalid or illegal string was specified.");W=I,this.hasBeenReset=!0}})),g.displayState=void 0,p)return g}c.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.VTTCue=t.VTTCue||c}(l0)),l0}var c0=bg.exports,_A;function i4(){return _A||(_A=1,function(t){t.exports&&(c0.VTTCue=c0.VTTCue||n4().VTTCue),function(e){e.VTTCue.prototype.toJSON=function(){var r={},n=this;return Object.keys(this).forEach(function(i){i!=="getCueAsHTML"&&i!=="hasBeenReset"&&i!=="displayState"&&(r[i]=n[i])}),r},e.VTTCue.create=function(r){if(!r.hasOwnProperty("startTime")||!r.hasOwnProperty("endTime")||!r.hasOwnProperty("text"))throw new Error("You must at least have start time, end time, and text.");var n=new e.VTTCue(r.startTime,r.endTime,r.text);for(var i in r)n.hasOwnProperty(i)&&(n[i]=r[i]);return n},e.VTTCue.fromJSON=function(r){return this.create(JSON.parse(r))}}(c0)}(bg)),bg.exports}var vg={exports:{}},u0={},MA;function o4(){return MA||(MA=1,function(t){var e={"":!0,up:!0};function r(a){if(typeof a!="string")return!1;var l=e[a.toLowerCase()];return l?a.toLowerCase():!1}function n(a){return typeof a=="number"&&a>=0&&a<=100}function i(){var a=100,l=3,c=0,d=100,f=0,h=100,g="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return a},set:function(p){if(!n(p))throw new Error("Width must be between 0 and 100.");a=p}},lines:{enumerable:!0,get:function(){return l},set:function(p){if(typeof p!="number")throw new TypeError("Lines must be set to a number.");l=p}},regionAnchorY:{enumerable:!0,get:function(){return d},set:function(p){if(!n(p))throw new Error("RegionAnchorX must be between 0 and 100.");d=p}},regionAnchorX:{enumerable:!0,get:function(){return c},set:function(p){if(!n(p))throw new Error("RegionAnchorY must be between 0 and 100.");c=p}},viewportAnchorY:{enumerable:!0,get:function(){return h},set:function(p){if(!n(p))throw new Error("ViewportAnchorY must be between 0 and 100.");h=p}},viewportAnchorX:{enumerable:!0,get:function(){return f},set:function(p){if(!n(p))throw new Error("ViewportAnchorX must be between 0 and 100.");f=p}},scroll:{enumerable:!0,get:function(){return g},set:function(p){var S=r(p);if(S===!1)throw new SyntaxError("An invalid or illegal string was specified.");g=S}}})}t.VTTRegion=t.VTTRegion||i}(u0)),u0}var jA=vg.exports,NA;function a4(){return NA||(NA=1,function(t){t.exports&&(jA.VTTRegion=o4().VTTRegion),function(e){e.VTTRegion.create=function(r){var n=new e.VTTRegion;for(var i in r)n.hasOwnProperty(i)&&(n[i]=r[i]);return n},e.VTTRegion.fromJSON=function(r){return this.create(JSON.parse(r))}}(jA)}(vg)),vg.exports}var d0,IA;function s4(){return IA||(IA=1,d0={WebVTT:r4().WebVTT,VTTCue:i4().VTTCue,VTTRegion:a4().VTTRegion}),d0}var LA=s4(),f0={},p0={},FA;function V_(){return FA||(FA=1,function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",n="["+e+"]["+r+"]*",i=new RegExp("^"+n+"$"),a=function(c,d){const f=[];let h=d.exec(c);for(;h;){const g=[];g.startIndex=d.lastIndex-h[0].length;const p=h.length;for(let S=0;S<p;S++)g.push(h[S]);f.push(g),h=d.exec(c)}return f},l=function(c){const d=i.exec(c);return!(d===null||typeof d>"u")};t.isExist=function(c){return typeof c<"u"},t.isEmptyObject=function(c){return Object.keys(c).length===0},t.merge=function(c,d,f){if(d){const h=Object.keys(d),g=h.length;for(let p=0;p<g;p++)f==="strict"?c[h[p]]=[d[h[p]]]:c[h[p]]=d[h[p]]}},t.getValue=function(c){return t.isExist(c)?c:""},t.isName=l,t.getAllMatches=a,t.nameRegexp=n}(p0)),p0}var BA;function q_(){if(BA)return f0;BA=1;const t=V_(),e={allowBooleanAttributes:!1,unpairedTags:[]};f0.validate=function(T,A){A=Object.assign({},e,A);const w=[];let R=!1,O=!1;T[0]==="\uFEFF"&&(T=T.substr(1));for(let M=0;M<T.length;M++)if(T[M]==="<"&&T[M+1]==="?"){if(M+=2,M=n(T,M),M.err)return M}else if(T[M]==="<"){let j=M;if(M++,T[M]==="!"){M=i(T,M);continue}else{let $=!1;T[M]==="/"&&($=!0,M++);let V="";for(;M<T.length&&T[M]!==">"&&T[M]!==" "&&T[M]!=="	"&&T[M]!==`
`&&T[M]!=="\r";M++)V+=T[M];if(V=V.trim(),V[V.length-1]==="/"&&(V=V.substring(0,V.length-1),M--),!b(V)){let z;return V.trim().length===0?z="Invalid space after '<'.":z="Tag '"+V+"' is an invalid name.",p("InvalidTag",z,v(T,M))}const N=c(T,M);if(N===!1)return p("InvalidAttr","Attributes for '"+V+"' have open quote.",v(T,M));let W=N.value;if(M=N.index,W[W.length-1]==="/"){const z=M-W.length;W=W.substring(0,W.length-1);const I=f(W,A);if(I===!0)R=!0;else return p(I.err.code,I.err.msg,v(T,z+I.err.line))}else if($)if(N.tagClosed){if(W.trim().length>0)return p("InvalidTag","Closing tag '"+V+"' can't have attributes or invalid starting.",v(T,j));{const z=w.pop();if(V!==z.tagName){let I=v(T,z.tagStartPos);return p("InvalidTag","Expected closing tag '"+z.tagName+"' (opened in line "+I.line+", col "+I.col+") instead of closing tag '"+V+"'.",v(T,j))}w.length==0&&(O=!0)}}else return p("InvalidTag","Closing tag '"+V+"' doesn't have proper closing.",v(T,M));else{const z=f(W,A);if(z!==!0)return p(z.err.code,z.err.msg,v(T,M-W.length+z.err.line));if(O===!0)return p("InvalidXml","Multiple possible root nodes found.",v(T,M));A.unpairedTags.indexOf(V)!==-1||w.push({tagName:V,tagStartPos:j}),R=!0}for(M++;M<T.length;M++)if(T[M]==="<")if(T[M+1]==="!"){M++,M=i(T,M);continue}else if(T[M+1]==="?"){if(M=n(T,++M),M.err)return M}else break;else if(T[M]==="&"){const z=g(T,M);if(z==-1)return p("InvalidChar","char '&' is not expected.",v(T,M));M=z}else if(O===!0&&!r(T[M]))return p("InvalidXml","Extra text at the end",v(T,M));T[M]==="<"&&M--}}else{if(r(T[M]))continue;return p("InvalidChar","char '"+T[M]+"' is not expected.",v(T,M))}if(R){if(w.length==1)return p("InvalidTag","Unclosed tag '"+w[0].tagName+"'.",v(T,w[0].tagStartPos));if(w.length>0)return p("InvalidXml","Invalid '"+JSON.stringify(w.map(M=>M.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return p("InvalidXml","Start tag expected.",1);return!0};function r(T){return T===" "||T==="	"||T===`
`||T==="\r"}function n(T,A){const w=A;for(;A<T.length;A++)if(T[A]=="?"||T[A]==" "){const R=T.substr(w,A-w);if(A>5&&R==="xml")return p("InvalidXml","XML declaration allowed only at the start of the document.",v(T,A));if(T[A]=="?"&&T[A+1]==">"){A++;break}else continue}return A}function i(T,A){if(T.length>A+5&&T[A+1]==="-"&&T[A+2]==="-"){for(A+=3;A<T.length;A++)if(T[A]==="-"&&T[A+1]==="-"&&T[A+2]===">"){A+=2;break}}else if(T.length>A+8&&T[A+1]==="D"&&T[A+2]==="O"&&T[A+3]==="C"&&T[A+4]==="T"&&T[A+5]==="Y"&&T[A+6]==="P"&&T[A+7]==="E"){let w=1;for(A+=8;A<T.length;A++)if(T[A]==="<")w++;else if(T[A]===">"&&(w--,w===0))break}else if(T.length>A+9&&T[A+1]==="["&&T[A+2]==="C"&&T[A+3]==="D"&&T[A+4]==="A"&&T[A+5]==="T"&&T[A+6]==="A"&&T[A+7]==="["){for(A+=8;A<T.length;A++)if(T[A]==="]"&&T[A+1]==="]"&&T[A+2]===">"){A+=2;break}}return A}const a='"',l="'";function c(T,A){let w="",R="",O=!1;for(;A<T.length;A++){if(T[A]===a||T[A]===l)R===""?R=T[A]:R!==T[A]||(R="");else if(T[A]===">"&&R===""){O=!0;break}w+=T[A]}return R!==""?!1:{value:w,index:A,tagClosed:O}}const d=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function f(T,A){const w=t.getAllMatches(T,d),R={};for(let O=0;O<w.length;O++){if(w[O][1].length===0)return p("InvalidAttr","Attribute '"+w[O][2]+"' has no space in starting.",k(w[O]));if(w[O][3]!==void 0&&w[O][4]===void 0)return p("InvalidAttr","Attribute '"+w[O][2]+"' is without value.",k(w[O]));if(w[O][3]===void 0&&!A.allowBooleanAttributes)return p("InvalidAttr","boolean attribute '"+w[O][2]+"' is not allowed.",k(w[O]));const M=w[O][2];if(!S(M))return p("InvalidAttr","Attribute '"+M+"' is an invalid name.",k(w[O]));if(!R.hasOwnProperty(M))R[M]=1;else return p("InvalidAttr","Attribute '"+M+"' is repeated.",k(w[O]))}return!0}function h(T,A){let w=/\d/;for(T[A]==="x"&&(A++,w=/[\da-fA-F]/);A<T.length;A++){if(T[A]===";")return A;if(!T[A].match(w))break}return-1}function g(T,A){if(A++,T[A]===";")return-1;if(T[A]==="#")return A++,h(T,A);let w=0;for(;A<T.length;A++,w++)if(!(T[A].match(/\w/)&&w<20)){if(T[A]===";")break;return-1}return A}function p(T,A,w){return{err:{code:T,msg:A,line:w.line||w,col:w.col}}}function S(T){return t.isName(T)}function b(T){return t.isName(T)}function v(T,A){const w=T.substring(0,A).split(/\r?\n/);return{line:w.length,col:w[w.length-1].length+1}}function k(T){return T.startIndex+T[1].length}return f0}var Vh={},$A;function l4(){if($A)return Vh;$A=1;const t={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(r,n){return n},attributeValueProcessor:function(r,n){return n},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1},e=function(r){return Object.assign({},t,r)};return Vh.buildOptions=e,Vh.defaultOptions=t,Vh}var h0,DA;function c4(){if(DA)return h0;DA=1;class t{constructor(r){this.tagname=r,this.child=[],this[":@"]={}}add(r,n){this.child.push({[r]:n})}addChild(r){r[":@"]&&Object.keys(r[":@"]).length>0?this.child.push({[r.tagname]:r.child,":@":r[":@"]}):this.child.push({[r.tagname]:r.child})}}return h0=t,h0}var g0,zA;function u4(){if(zA)return g0;zA=1;function t(n,i){const a={};if(n[i+3]==="O"&&n[i+4]==="C"&&n[i+5]==="T"&&n[i+6]==="Y"&&n[i+7]==="P"&&n[i+8]==="E"){i=i+9;let l=1,c=!1,d=!1,f=!1,h="";for(;i<n.length;i++)if(n[i]==="<"){if(c&&n[i+1]==="!"&&n[i+2]==="E"&&n[i+3]==="N"&&n[i+4]==="T"&&n[i+5]==="I"&&n[i+6]==="T"&&n[i+7]==="Y")i+=7,d=!0;else if(c&&n[i+1]==="!"&&n[i+2]==="E"&&n[i+3]==="L"&&n[i+4]==="E"&&n[i+5]==="M"&&n[i+6]==="E"&&n[i+7]==="N"&&n[i+8]==="T")i+=8;else if(n[i+1]==="!"&&n[i+2]==="-"&&n[i+3]==="-")f=!0;else throw new Error("Invalid DOCTYPE");l++,h=""}else if(n[i]===">"){if(f)if(n[i-1]==="-"&&n[i-2]==="-")f=!1;else throw new Error("Invalid XML comment in DOCTYPE");else d&&(r(h,a),d=!1);if(l--,l===0)break}else n[i]==="["?c=!0:h+=n[i];if(l!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:a,i}}const e=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function r(n,i){const a=e.exec(n);a&&(i[a[1]]={regx:RegExp(`&${a[1]};`,"g"),val:a[3]})}return g0=t,g0}var m0,UA;function d4(){if(UA)return m0;UA=1;const t=/^[-+]?0x[a-fA-F0-9]+$/,e=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function n(a,l={}){if(l=Object.assign({},r,l),!a||typeof a!="string")return a;let c=a.trim();if(l.skipLike!==void 0&&l.skipLike.test(c))return a;if(l.hex&&t.test(c))return Number.parseInt(c,16);{const d=e.exec(c);if(d){const f=d[1],h=d[2];let g=i(d[3]);const p=d[4]||d[6];if(!l.leadingZeros&&h.length>0&&f&&c[2]!==".")return a;if(!l.leadingZeros&&h.length>0&&!f&&c[1]!==".")return a;{const S=Number(c),b=""+S;return b.search(/[eE]/)!==-1||p?l.eNotation?S:a:c.indexOf(".")!==-1?b==="0"&&g===""||b===g||f&&b==="-"+g?S:a:h?g===b||f+g===b?S:a:c===b||c===f+b?S:a}}else return a}}function i(a){return a&&a.indexOf(".")!==-1&&(a=a.replace(/0+$/,""),a==="."?a="0":a[0]==="."?a="0"+a:a[a.length-1]==="."&&(a=a.substr(0,a.length-1))),a}return m0=n,m0}var y0,HA;function f4(){if(HA)return y0;HA=1;const t=V_(),e=c4(),r=u4(),n=d4();"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,t.nameRegexp);class i{constructor(R){this.options=R,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={amp:{regex:/&(amp|#38|#x26);/g,val:"&"},apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""}},this.addExternalEntities=a,this.parseXml=h,this.parseTextData=l,this.resolveNameSpace=c,this.buildAttributesMap=f,this.isItStopNode=S,this.replaceEntitiesValue=g,this.readStopNodeData=T,this.saveTextToParentTag=p}}function a(w){const R=Object.keys(w);for(let O=0;O<R.length;O++){const M=R[O];this.lastEntities[M]={regex:new RegExp("&"+M+";","g"),val:w[M]}}}function l(w,R,O,M,j,$,V){if(w!==void 0&&(this.options.trimValues&&!M&&(w=w.trim()),w.length>0)){V||(w=this.replaceEntitiesValue(w));const N=this.options.tagValueProcessor(R,w,O,j,$);return N==null?w:typeof N!=typeof w||N!==w?N:this.options.trimValues?A(w,this.options.parseTagValue,this.options.numberParseOptions):w.trim()===w?A(w,this.options.parseTagValue,this.options.numberParseOptions):w}}function c(w){if(this.options.removeNSPrefix){const R=w.split(":"),O=w.charAt(0)==="/"?"/":"";if(R[0]==="xmlns")return"";R.length===2&&(w=O+R[1])}return w}const d=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function f(w,R){if(!this.options.ignoreAttributes&&typeof w=="string"){const O=t.getAllMatches(w,d),M=O.length,j={};for(let $=0;$<M;$++){const V=this.resolveNameSpace(O[$][1]);let N=O[$][4];const W=this.options.attributeNamePrefix+V;if(V.length)if(N!==void 0){this.options.trimValues&&(N=N.trim()),N=this.replaceEntitiesValue(N);const z=this.options.attributeValueProcessor(V,N,R);z==null?j[W]=N:typeof z!=typeof N||z!==N?j[W]=z:j[W]=A(N,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(j[W]=!0)}if(!Object.keys(j).length)return;if(this.options.attributesGroupName){const $={};return $[this.options.attributesGroupName]=j,$}return j}}const h=function(w){w=w.replace(/\r\n?/g,`
`);const R=new e("!xml");let O=R,M="",j="";for(let $=0;$<w.length;$++)if(w[$]==="<")if(w[$+1]==="/"){const N=v(w,">",$,"Closing Tag is not closed.");let W=w.substring($+2,N).trim();if(this.options.removeNSPrefix){const z=W.indexOf(":");z!==-1&&(W=W.substr(z+1))}O&&(M=this.saveTextToParentTag(M,O,j)),j=j.substr(0,j.lastIndexOf(".")),O=this.tagsNodeStack.pop(),M="",$=N}else if(w[$+1]==="?"){let N=k(w,$,!1,"?>");if(!N)throw new Error("Pi Tag is not closed.");if(M=this.saveTextToParentTag(M,O,j),!(this.options.ignoreDeclaration&&N.tagName==="?xml"||this.options.ignorePiTags)){const W=new e(N.tagName);W.add(this.options.textNodeName,""),N.tagName!==N.tagExp&&N.attrExpPresent&&(W[":@"]=this.buildAttributesMap(N.tagExp,j)),O.addChild(W)}$=N.closeIndex+1}else if(w.substr($+1,3)==="!--"){const N=v(w,"-->",$+4,"Comment is not closed.");if(this.options.commentPropName){const W=w.substring($+4,N-2);M=this.saveTextToParentTag(M,O,j),O.add(this.options.commentPropName,[{[this.options.textNodeName]:W}])}$=N}else if(w.substr($+1,2)==="!D"){const N=r(w,$);this.docTypeEntities=N.entities,$=N.i}else if(w.substr($+1,2)==="!["){const N=v(w,"]]>",$,"CDATA is not closed.")-2,W=w.substring($+9,N);if(M=this.saveTextToParentTag(M,O,j),this.options.cdataPropName)O.add(this.options.cdataPropName,[{[this.options.textNodeName]:W}]);else{let z=this.parseTextData(W,O.tagname,j,!0,!1,!0);z||(z=""),O.add(this.options.textNodeName,z)}$=N+2}else{let N=k(w,$,this.options.removeNSPrefix),W=N.tagName,z=N.tagExp,I=N.attrExpPresent,B=N.closeIndex;O&&M&&O.tagname!=="!xml"&&(M=this.saveTextToParentTag(M,O,j,!1)),W!==R.tagname&&(j+=j?"."+W:W);const G=O;if(G&&this.options.unpairedTags.indexOf(G.tagname)!==-1&&(O=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,j,W)){let U="";if(z.length>0&&z.lastIndexOf("/")===z.length-1)$=N.closeIndex;else if(this.options.unpairedTags.indexOf(W)!==-1)$=N.closeIndex;else{const q=this.readStopNodeData(w,W,B+1);if(!q)throw new Error(`Unexpected end of ${W}`);$=q.i,U=q.tagContent}const X=new e(W);W!==z&&I&&(X[":@"]=this.buildAttributesMap(z,j)),U&&(U=this.parseTextData(U,W,j,!0,I,!0,!0)),j=j.substr(0,j.lastIndexOf(".")),X.add(this.options.textNodeName,U),O.addChild(X)}else{if(z.length>0&&z.lastIndexOf("/")===z.length-1){W[W.length-1]==="/"?(W=W.substr(0,W.length-1),z=W):z=z.substr(0,z.length-1);const U=new e(W);W!==z&&I&&(U[":@"]=this.buildAttributesMap(z,j)),j=j.substr(0,j.lastIndexOf(".")),O.addChild(U)}else{const U=new e(W);this.tagsNodeStack.push(O),W!==z&&I&&(U[":@"]=this.buildAttributesMap(z,j)),O.addChild(U),O=U}M="",$=B}}else M+=w[$];return R.child},g=function(w){if(this.options.processEntities){for(let R in this.docTypeEntities){const O=this.docTypeEntities[R];w=w.replace(O.regx,O.val)}for(let R in this.lastEntities){const O=this.lastEntities[R];w=w.replace(O.regex,O.val)}if(this.options.htmlEntities)for(let R in this.htmlEntities){const O=this.htmlEntities[R];w=w.replace(O.regex,O.val)}}return w};function p(w,R,O,M){return w&&(M===void 0&&(M=Object.keys(R.child).length===0),w=this.parseTextData(w,R.tagname,O,!1,R[":@"]?Object.keys(R[":@"]).length!==0:!1,M),w!==void 0&&w!==""&&R.add(this.options.textNodeName,w),w=""),w}function S(w,R,O){const M="*."+O;for(const j in w){const $=w[j];if(M===$||R===$)return!0}return!1}function b(w,R,O=">"){let M,j="";for(let $=R;$<w.length;$++){let V=w[$];if(M)V===M&&(M="");else if(V==='"'||V==="'")M=V;else if(V===O[0])if(O[1]){if(w[$+1]===O[1])return{data:j,index:$}}else return{data:j,index:$};else V==="	"&&(V=" ");j+=V}}function v(w,R,O,M){const j=w.indexOf(R,O);if(j===-1)throw new Error(M);return j+R.length-1}function k(w,R,O,M=">"){const j=b(w,R+1,M);if(!j)return;let $=j.data;const V=j.index,N=$.search(/\s/);let W=$,z=!0;if(N!==-1&&(W=$.substr(0,N).replace(/\s\s*$/,""),$=$.substr(N+1)),O){const I=W.indexOf(":");I!==-1&&(W=W.substr(I+1),z=W!==j.data.substr(I+1))}return{tagName:W,tagExp:$,closeIndex:V,attrExpPresent:z}}function T(w,R,O){const M=O;for(;O<w.length;O++)if(w[O]==="<"&&w[O+1]==="/"){const j=v(w,">",O,`${R} is not closed`);if(w.substring(O+2,j).trim()===R)return{tagContent:w.substring(M,O),i:j};O=j}}function A(w,R,O){if(R&&typeof w=="string"){const M=w.trim();return M==="true"?!0:M==="false"?!1:n(w,O)}else return t.isExist(w)?w:""}return y0=i,y0}var b0={},VA;function p4(){if(VA)return b0;VA=1;function t(a,l){return e(a,l)}function e(a,l,c){let d;const f={};for(let h=0;h<a.length;h++){const g=a[h],p=r(g);let S="";if(c===void 0?S=p:S=c+"."+p,p===l.textNodeName)d===void 0?d=g[p]:d+=""+g[p];else{if(p===void 0)continue;if(g[p]){let b=e(g[p],l,S);const v=i(b,l);g[":@"]?n(b,g[":@"],S,l):Object.keys(b).length===1&&b[l.textNodeName]!==void 0&&!l.alwaysCreateTextNode?b=b[l.textNodeName]:Object.keys(b).length===0&&(l.alwaysCreateTextNode?b[l.textNodeName]="":b=""),f[p]!==void 0?(Array.isArray(f[p])||(f[p]=[f[p]]),f[p].push(b)):l.isArray(p,S,v)?f[p]=[b]:f[p]=b}}}return typeof d=="string"?d.length>0&&(f[l.textNodeName]=d):d!==void 0&&(f[l.textNodeName]=d),f}function r(a){const l=Object.keys(a);for(let c=0;c<l.length;c++){const d=l[c];if(d!==":@")return d}}function n(a,l,c,d){if(l){const f=Object.keys(l),h=f.length;for(let g=0;g<h;g++){const p=f[g];d.isArray(p,c+"."+p,!0,!0)?a[p]=[l[p]]:a[p]=l[p]}}}function i(a,l){const c=Object.keys(a).length;return!!(c===0||c===1&&a[l.textNodeName])}return b0.prettify=t,b0}var v0,qA;function h4(){if(qA)return v0;qA=1;const{buildOptions:t}=l4(),e=f4(),{prettify:r}=p4(),n=q_();class i{constructor(l){this.externalEntities={},this.options=t(l)}parse(l,c){if(typeof l!="string")if(l.toString)l=l.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(c){c===!0&&(c={});const h=n.validate(l,c);if(h!==!0)throw Error(`${h.err.msg}:${h.err.line}:${h.err.col}`)}const d=new e(this.options);d.addExternalEntities(this.externalEntities);const f=d.parseXml(l);return this.options.preserveOrder||f===void 0?f:r(f,this.options)}addEntity(l,c){if(c.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(l.indexOf("&")!==-1||l.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");this.externalEntities[l]=c}}return v0=i,v0}var S0,WA;function g4(){if(WA)return S0;WA=1;const t=`
`;function e(c,d){return r(c,d,"",0)}function r(c,d,f,h){let g="",p="";d.format&&d.indentBy.length>0&&(p=t+""+d.indentBy.repeat(h));for(let S=0;S<c.length;S++){const b=c[S],v=n(b);let k="";if(f.length===0?k=v:k=`${f}.${v}`,v===d.textNodeName){let R=b[v];a(k,d)||(R=d.tagValueProcessor(v,R),R=l(R,d)),g+=p+R;continue}else if(v===d.cdataPropName){g+=p+`<![CDATA[${b[v][0][d.textNodeName]}]]>`;continue}else if(v===d.commentPropName){g+=p+`<!--${b[v][0][d.textNodeName]}-->`;continue}else if(v[0]==="?"){const R=i(b[":@"],d),O=v==="?xml"?"":p;let M=b[v][0][d.textNodeName];M=M.length!==0?" "+M:"",g+=O+`<${v}${M}${R}?>`;continue}const T=i(b[":@"],d);let A=p+`<${v}${T}`,w=r(b[v],d,k,h+1);d.unpairedTags.indexOf(v)!==-1?d.suppressUnpairedNode?g+=A+">":g+=A+"/>":(!w||w.length===0)&&d.suppressEmptyNode?g+=A+"/>":g+=A+`>${w}${p}</${v}>`}return g}function n(c){const d=Object.keys(c);for(let f=0;f<d.length;f++){const h=d[f];if(h!==":@")return h}}function i(c,d){let f="";if(c&&!d.ignoreAttributes)for(let h in c){let g=d.attributeValueProcessor(h,c[h]);g=l(g,d),g===!0&&d.suppressBooleanAttributes?f+=` ${h.substr(d.attributeNamePrefix.length)}`:f+=` ${h.substr(d.attributeNamePrefix.length)}="${g}"`}return f}function a(c,d){c=c.substr(0,c.length-d.textNodeName.length-1);let f=c.substr(c.lastIndexOf(".")+1);for(let h in d.stopNodes)if(d.stopNodes[h]===c||d.stopNodes[h]==="*."+f)return!0;return!1}function l(c,d){if(c&&c.length>0&&d.processEntities)for(let f=0;f<d.entities.length;f++){const h=d.entities[f];c=c.replace(h.regex,h.val)}return c}return S0=e,S0}var x0,KA;function m4(){if(KA)return x0;KA=1;const t=g4(),e={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(p,S){return S},attributeValueProcessor:function(p,S){return S},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[]};function r(p){this.options=Object.assign({},e,p),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=g),this.processTextOrObjNode=i,this.options.format?(this.indentate=h,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.suppressEmptyNode?(this.buildTextNode=f,this.buildObjNode=l):(this.buildTextNode=c,this.buildObjNode=a),this.buildTextValNode=c,this.buildObjectNode=a,this.replaceEntitiesValue=d,this.buildAttrPairStr=n}r.prototype.build=function(p){return this.options.preserveOrder?t(p,this.options):(Array.isArray(p)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(p={[this.options.arrayNodeName]:p}),this.j2x(p,0).val)},r.prototype.j2x=function(p,S){let b="",v="";for(let k in p)if(!(typeof p[k]>"u"))if(p[k]===null)k[0]==="?"?v+=this.indentate(S)+"<"+k+"?"+this.tagEndChar:v+=this.indentate(S)+"<"+k+"/"+this.tagEndChar;else if(p[k]instanceof Date)v+=this.buildTextNode(p[k],k,"",S);else if(typeof p[k]!="object"){const T=this.isAttribute(k);if(T)b+=this.buildAttrPairStr(T,""+p[k]);else if(k===this.options.textNodeName){let A=this.options.tagValueProcessor(k,""+p[k]);v+=this.replaceEntitiesValue(A)}else v+=this.buildTextNode(p[k],k,"",S)}else if(Array.isArray(p[k])){const T=p[k].length;for(let A=0;A<T;A++){const w=p[k][A];typeof w>"u"||(w===null?k[0]==="?"?v+=this.indentate(S)+"<"+k+"?"+this.tagEndChar:v+=this.indentate(S)+"<"+k+"/"+this.tagEndChar:typeof w=="object"?v+=this.processTextOrObjNode(w,k,S):v+=this.buildTextNode(w,k,"",S))}}else if(this.options.attributesGroupName&&k===this.options.attributesGroupName){const T=Object.keys(p[k]),A=T.length;for(let w=0;w<A;w++)b+=this.buildAttrPairStr(T[w],""+p[k][T[w]])}else v+=this.processTextOrObjNode(p[k],k,S);return{attrStr:b,val:v}};function n(p,S){return S=this.options.attributeValueProcessor(p,""+S),S=this.replaceEntitiesValue(S),this.options.suppressBooleanAttributes&&S==="true"?" "+p:" "+p+'="'+S+'"'}function i(p,S,b){const v=this.j2x(p,b+1);return p[this.options.textNodeName]!==void 0&&Object.keys(p).length===1?this.buildTextNode(p[this.options.textNodeName],S,v.attrStr,b):this.buildObjNode(v.val,S,v.attrStr,b)}function a(p,S,b,v){let k="</"+S+this.tagEndChar,T="";return S[0]==="?"&&(T="?",k=""),b&&p.indexOf("<")===-1?this.indentate(v)+"<"+S+b+T+">"+p+k:this.options.commentPropName!==!1&&S===this.options.commentPropName&&T.length===0?this.indentate(v)+`<!--${p}-->`+this.newLine:this.indentate(v)+"<"+S+b+T+this.tagEndChar+p+this.indentate(v)+k}function l(p,S,b,v){return p!==""?this.buildObjectNode(p,S,b,v):S[0]==="?"?this.indentate(v)+"<"+S+b+"?"+this.tagEndChar:this.indentate(v)+"<"+S+b+"/"+this.tagEndChar}function c(p,S,b,v){if(this.options.cdataPropName!==!1&&S===this.options.cdataPropName)return this.indentate(v)+`<![CDATA[${p}]]>`+this.newLine;if(this.options.commentPropName!==!1&&S===this.options.commentPropName)return this.indentate(v)+`<!--${p}-->`+this.newLine;{let k=this.options.tagValueProcessor(S,p);return k=this.replaceEntitiesValue(k),k===""&&this.options.unpairedTags.indexOf(S)!==-1?this.options.suppressUnpairedNode?this.indentate(v)+"<"+S+this.tagEndChar:this.indentate(v)+"<"+S+"/"+this.tagEndChar:this.indentate(v)+"<"+S+b+">"+k+"</"+S+this.tagEndChar}}function d(p){if(p&&p.length>0&&this.options.processEntities)for(let S=0;S<this.options.entities.length;S++){const b=this.options.entities[S];p=p.replace(b.regex,b.val)}return p}function f(p,S,b,v){return p===""&&this.options.unpairedTags.indexOf(S)!==-1?this.options.suppressUnpairedNode?this.indentate(v)+"<"+S+this.tagEndChar:this.indentate(v)+"<"+S+"/"+this.tagEndChar:p!==""?this.buildTextValNode(p,S,b,v):S[0]==="?"?this.indentate(v)+"<"+S+b+"?"+this.tagEndChar:this.indentate(v)+"<"+S+b+"/"+this.tagEndChar}function h(p){return this.options.indentBy.repeat(p)}function g(p){return p.startsWith(this.options.attributeNamePrefix)?p.substr(this.attrPrefixLen):!1}return x0=r,x0}var w0,GA;function y4(){if(GA)return w0;GA=1;const t=q_(),e=h4(),r=m4();return w0={XMLParser:e,XMLValidator:t,XMLBuilder:r},w0}var b4=y4();const v4=/<(\/)?c(\.[^>]*)?>/g,S4=RegExp(/\\[nN]/,"ig"),x4=/([\p{sc=Hira}\p{sc=Kana}\p{sc=Han}]+)\((?=[^)]*[\p{sc=Hira}\p{sc=Kana}])([^)]+)\)/gu,qh=document.createElement("div"),w4=(t,e)=>{if(typeof t.line=="number"&&typeof e.line=="number"){if(t.line<e.line)return-1;if(t.line>e.line)return 1;if(typeof t.position=="number"&&typeof e.position=="number")return t.position<e.position?-1:t.position>e.position?1:0}return 0},YA=t=>t.length<=1?t:t.sort(w4);class k4{_textFilter;_removeXml;_convertNetflixRuby;_pgsWorkerFactory;xmlParser;constructor({regexFilter:e,regexFilterTextReplacement:r,subtitleHtml:n,convertNetflixRuby:i,pgsParserWorkerFactory:a}){let l;try{l=e.trim()===""?void 0:new RegExp(e,"gv")}catch{l=void 0}l===void 0?this._textFilter=void 0:this._textFilter={regex:l,replacement:r},this._removeXml=n===zs.remove,this._convertNetflixRuby=i,this._pgsWorkerFactory=a}async subtitles(e,r){const n=(await Promise.all(e.map((i,a)=>this._subtitles(i,r===!0?0:a)))).flatMap(i=>i).filter(i=>i.textImage!==void 0||i.text!=="").sort((i,a)=>i.start-a.start);if(r)return this._deduplicate(n);if(this._convertNetflixRuby)for(const i of n)this._convertNetflixRubyToHtml(i);return n}_deduplicate(e){const r=[];for(const n of e)(r.length==0||!this._isSame(n,r[r.length-1]))&&r.push(n);return r}_isSame(e,r){return e.textImage||r.textImage?!1:e.start===r.start&&e.end===r.end&&e.text===r.text}async _subtitles(e,r){if(e.name.endsWith(".srt")||e.name.endsWith(".subrip"))return new RA({numericTimestamps:!0}).fromSrt(await e.text()).map(a=>({start:Math.floor(a.startTime*1e3),end:Math.floor(a.endTime*1e3),text:this._filterText(a.text),track:r}));if(e.name.endsWith(".vtt")||e.name.endsWith(".nfvtt"))return new Promise(async(n,i)=>{const a=e.name.endsWith(".nfvtt"),l=new LA.WebVTT.Parser(window,LA.WebVTT.StringDecoder()),c=[];let d,f=[];l.oncue=h=>{if(h.text=this._filterText(h.text.replaceAll(v4,"")),a){const p=h.text.split(`
`),S=[];for(const b of p)S.push(this._fixRTL(b));h.text=S.join(`
`)}const g=Math.floor(h.startTime*1e3);d===void 0||d===g?f.push(h):(f=YA(f),c.push(f),f=[h]),d=g},l.onflush=()=>{f=YA(f),c.push(f);const h=[];for(const g of c)for(const p of g)h.push({start:Math.floor(p.startTime*1e3),end:Math.floor(p.endTime*1e3),text:p.text,track:r});n(h)},l.parse(await e.text()),l.flush()});if(e.name.endsWith(".ass"))return t4(await e.text(),{}).dialogues.map(i=>({start:Math.round(i.start*1e3),end:Math.round(i.end*1e3),text:this._filterText(i.slices.flatMap(a=>a.fragments.map(l=>l.text)).join("")).replace(S4,`
`),track:r}));if(e.name.endsWith(".ytsrv3")){const n=await e.text(),a=this._xmlParser().parse(n).timedtext.body.p,l=[];for(let c=0;c<a.length;c++){const d=a[c];if(typeof d["@_t"]!="string"||typeof d["@_d"]!="string")continue;const f=Number(d["@_t"]);let h=Number(d["@_d"]);if(Number.isNaN(f)||Number.isNaN(h))continue;let g=[];typeof d["#text"]=="string"&&g.push(d["#text"]);const p=d.s;if(p!==void 0)if(typeof p=="object"&&Array.isArray(p))for(const b of d.s)typeof b=="string"?g.push(b):typeof b["#text"]=="string"&&g.push(b["#text"]);else typeof p["#text"]=="string"&&g.push(p["#text"]);const S=g.join("").trim();if(S){let b=a[c+1];if(b?.["#text"]===`
`&&typeof b["@_t"]=="string"){const v=Number(b["@_t"]);Number.isNaN(v)||(h=Math.min(h,v-f))}l.push({start:f,end:f+h,text:this._filterText(S),track:r})}}return l}if(e.name.endsWith(".ytxml")){const n=await e.text(),i=this._xmlParser().parse(n);if(Object.keys(i).length===0)return[];const a=i.transcript.text,l=[];let c=0,d;for(let h=0,g=a.length;h<g;h++){const p=a[h];if(!("#text"in p)||!("@_dur"in p)||!("@_start"in p))continue;const S=parseFloat(p["@_start"]),b={start:Math.floor(S*1e3),end:Math.floor((S+parseFloat(p["@_dur"]))*1e3),text:this._filterText(this._decodeHTML(String(p["#text"]))),track:r};d!==void 0&&d.end>b.start&&++c,l.push(b),d=b}return l.length>0&&c/l.length>.5?l.map((h,g)=>g<l.length-1?{...h,end:Math.max(h.start,Math.min(l[g+1].start-1,h.end))}:h):l}if(e.name.endsWith(".sup"))return await this._parsePgs(e,r);if(e.name.endsWith(".dfxp")||e.name.endsWith("ttml2")){const n=await e.text(),a=new DOMParser().parseFromString(n,"application/xml"),l=this._xmlNodePath(a.documentElement,["body","div"]),c=[];for(let d=0,f=l.length;d<f;d++){const h=l[d],g=h.getAttribute("begin"),p=h.getAttribute("end");if(g===null||p===null)continue;const S=this._decodeHTML(h.innerHTML.replaceAll(/<br(\s[^\s]+)?(\/)?>/g,`
`));c.push({text:this._filterText(S),start:this._parseTtmlTimestamp(g),end:this._parseTtmlTimestamp(p),track:r})}return c}if(e.name.endsWith(".bbjson"))return JSON.parse(await e.text()).body.map(i=>({text:i.content,start:i.from*1e3,end:i.to*1e3,track:r}));throw new Error("Unsupported subtitle file format")}_parsePgs(e,r){const n=[];return new Promise(async(i,a)=>{const l=await this._pgsWorkerFactory();l.onmessage=async h=>{switch(h.data.command){case"subtitle":const g={...h.data.subtitle,track:r},p=h.data.imageBlob;g.textImage.dataUrl=await this._blobToDataUrl(p),n.push(g);break;case"finished":l.terminate(),i(n);break;case"error":l.terminate(),a(h.data.error);break}},l.onerror=h=>{const g=h?.error??new Error("PGS decoding failed: "+h?.message);a(g),l.terminate()};const d=document.createElement("canvas").transferControlToOffscreen(),f=await e.stream();l.postMessage({fileStream:f,canvas:d},[f,d])})}_blobToDataUrl(e){return new Promise((r,n)=>{var i=new FileReader;i.readAsDataURL(e),i.onloadend=()=>{r(i.result)}})}_parseTtmlTimestamp(e){const r=e.split(":"),n=Math.floor(parseFloat(r[r.length-1])*1e3),i=r.length<2?0:Number(r[r.length-2]),a=r.length<3?0:Number(r[r.length-3]);return n+i*6e4+a*36e5}_xmlNodePath(e,r){if(r.length===0){const n=[];for(let i=0;i<e.children.length;++i){const a=e.children[i];n.push(a)}return n}for(let n=0;n<e.children.length;++n){const i=e.children[n];if(this._dropTagNamespace(i.tagName)===r[0])return this._xmlNodePath(i,r.slice(1))}throw new Error("Failied to parse XML path")}_dropTagNamespace(e){const r=e.lastIndexOf(":");return r!==-1?e.substring(r+1):e}_fixRTL(e){const r=e.indexOf("&lrm;"),n=e.indexOf("&rlm;");let i="";return r>-1?(i=e.substring(0,r)+""+e.substring(r+5)+"",this._fixRTL(i)):n>-1?(i=e.substring(0,n)+""+e.substring(n+5)+"",this._fixRTL(i)):e}_decodeHTML(e){qh.innerHTML=e;const r=[...qh.getElementsByTagName("rt")];for(const n of r)n.remove();return qh.textContent??qh.innerText}_convertNetflixRubyToHtml(e){if(!e.text)return;const r=[];e.text=e.text.replace(x4,(n,i,a,l)=>(r.push({pos:[l,l+i.length],readings:[{pos:[0,i.length],reading:a}],states:[]}),i)),r.length>0&&(e.tokenization={tokens:r})}_xmlParser(){return this.xmlParser===void 0&&(this.xmlParser=new b4.XMLParser({ignoreAttributes:!1,trimValues:!1,parseTagValue:!1,parseAttributeValue:!1})),this.xmlParser}_filterText(e){return e=this._textFilter===void 0?e:e.replace(this._textFilter.regex,this._textFilter.replacement).trim(),this._removeXml&&(e=this._decodeHTML(e)),e}subtitlesToSrt(e){const r=new RA({numericTimestamps:!0}),n=e.map((i,a)=>({id:String(a),startTime:i.start,endTime:i.end,text:i.text}));return r.toSrt(n)}async filesToSrt(e){return this.subtitlesToSrt(await this.subtitles(e))}}function C4(t){return m.jsx(b_,{...t,defaultTheme:y1,themeId:Da})}function S1(t){return function(r){return m.jsx(C4,{styles:typeof t=="function"?n=>t({theme:n,...r}):t})}}function T4(){return wp}const Qt=pD;function or(t){return dD(t)}function Sr(t,e){const{className:r,elementType:n,ownerState:i,externalForwardedProps:a,internalForwardedProps:l,shouldForwardComponentProp:c=!1,...d}=e,{component:f,slots:h={[t]:void 0},slotProps:g={[t]:void 0},...p}=a,S=h[t]||n,b=P2(g[t],i),{props:{component:v,...k},internalRef:T}=O2({className:r,...d,externalForwardedProps:t==="root"?p:void 0,externalSlotProps:b}),A=Jn(T,b?.ref,e.ref),w=t==="root"?v||f:v,R=A2(S,{...t==="root"&&!f&&!h[t]&&l,...t!=="root"&&!h[t]&&l,...k,...w&&!c&&{as:w},...w&&c&&{component:w},ref:A},i);return[S,R]}function E4(t){return typeof t.main=="string"}function A4(t,e=[]){if(!E4(t))return!1;for(const r of e)if(!t.hasOwnProperty(r)||typeof t[r]!="string")return!1;return!0}function Dn(t=[]){return([,e])=>e&&A4(e,t)}function R4(t){return tr("MuiPaper",t)}nr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const O4=t=>{const{square:e,elevation:r,variant:n,classes:i}=t,a={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${r}`]};return er(a,R4,i)},P4=tt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],!r.square&&e.rounded,r.variant==="elevation"&&e[`elevation${r.elevation}`]]}})(Qt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Ei=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiPaper"}),i=fo(),{className:a,component:l="div",elevation:c=1,square:d=!1,variant:f="elevation",...h}=n,g={...n,component:l,elevation:c,square:d,variant:f},p=O4(g);return m.jsx(P4,{as:l,ownerState:g,className:wt(p.root,a),ref:r,...h,style:{...f==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[c],...i.vars&&{"--Paper-overlay":i.vars.overlays?.[c]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${jr("#fff",lx(c))}, ${jr("#fff",lx(c))})`}},...h.style}})});function _4(t){return tr("MuiAlert",t)}const XA=nr("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function M4(t){return tr("MuiSvgIcon",t)}nr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const j4=t=>{const{color:e,fontSize:r,classes:n}=t,i={root:["root",e!=="inherit"&&`color${Ye(e)}`,`fontSize${Ye(r)}`]};return er(i,M4,n)},N4=tt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e[`color${Ye(r.color)}`],e[`fontSize${Ye(r.fontSize)}`]]}})(Qt(({theme:t})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(t.vars??t).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),ed=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiSvgIcon"}),{children:i,className:a,color:l="inherit",component:c="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:h=!1,titleAccess:g,viewBox:p="0 0 24 24",...S}=n,b=x.isValidElement(i)&&i.type==="svg",v={...n,color:l,component:c,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:p,hasSvgAsChild:b},k={};h||(k.viewBox=p);const T=j4(v);return m.jsxs(N4,{as:c,className:wt(T.root,a),focusable:"false",color:f,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:r,...k,...S,...b&&i.props,ownerState:v,children:[b?i.props.children:i,g?m.jsx("title",{children:g}):null]})});ed.muiName="SvgIcon";function lr(t,e){function r(n,i){return m.jsx(ed,{"data-testid":`${e}Icon`,ref:i,...n,children:t})}return r.muiName=ed.muiName,x.memo(x.forwardRef(r))}function x1(t,e){if(!t)return e;if(typeof t=="function"||typeof e=="function")return i=>{const a=typeof e=="function"?e(i):e,l=typeof t=="function"?t({...i,...a}):t,c=wt(i?.className,a?.className,l?.className);return{...a,...l,...!!c&&{className:c},...a?.style&&l?.style&&{style:{...a.style,...l.style}},...a?.sx&&l?.sx&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const r=e,n=wt(r?.className,t?.className);return{...e,...t,...!!n&&{className:n},...r?.style&&t?.style&&{style:{...r.style,...t.style}},...r?.sx&&t?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}class Fg{static create(){return new Fg}static use(){const e=C2(Fg.create).current,[r,n]=x.useState(!1);return e.shouldMount=r,e.setShouldMount=n,x.useEffect(e.mountEffect,[r]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=L4(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function I4(){return Fg.use()}function L4(){let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r}var W_=KP();const Wh=Yl(W_),ZA={disabled:!1},Bg=Ln.createContext(null);var F4=function(e){return e.scrollTop},jf="unmounted",vc="exited",Sc="entering",Fu="entered",ux="exiting",Va=function(t){nm(e,t);function e(n,i){var a;a=t.call(this,n,i)||this;var l=i,c=l&&!l.isMounting?n.enter:n.appear,d;return a.appearStatus=null,n.in?c?(d=vc,a.appearStatus=Sc):d=Fu:n.unmountOnExit||n.mountOnEnter?d=jf:d=vc,a.state={status:d},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var l=i.in;return l&&a.status===jf?{status:vc}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var a=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Sc&&l!==Fu&&(a=Sc):(l===Sc||l===Fu)&&(a=ux)}this.updateStatus(!1,a)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,a,l,c;return a=l=c=i,i!=null&&typeof i!="number"&&(a=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:a,enter:l,appear:c}},r.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===Sc){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Wh.findDOMNode(this);l&&F4(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===vc&&this.setState({status:jf})},r.performEnter=function(i){var a=this,l=this.props.enter,c=this.context?this.context.isMounting:i,d=this.props.nodeRef?[c]:[Wh.findDOMNode(this),c],f=d[0],h=d[1],g=this.getTimeouts(),p=c?g.appear:g.enter;if(!i&&!l||ZA.disabled){this.safeSetState({status:Fu},function(){a.props.onEntered(f)});return}this.props.onEnter(f,h),this.safeSetState({status:Sc},function(){a.props.onEntering(f,h),a.onTransitionEnd(p,function(){a.safeSetState({status:Fu},function(){a.props.onEntered(f,h)})})})},r.performExit=function(){var i=this,a=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:Wh.findDOMNode(this);if(!a||ZA.disabled){this.safeSetState({status:vc},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:ux},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:vc},function(){i.props.onExited(c)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},r.setNextCallback=function(i){var a=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,a.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},r.onTransitionEnd=function(i,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:Wh.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],f=d[0],h=d[1];this.props.addEndListener(f,h)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===jf)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=Gx(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ln.createElement(Bg.Provider,{value:null},typeof l=="function"?l(i,c):Ln.cloneElement(Ln.Children.only(l),c))},e}(Ln.Component);Va.contextType=Bg;Va.propTypes={};function Ru(){}Va.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ru,onEntering:Ru,onEntered:Ru,onExit:Ru,onExiting:Ru,onExited:Ru};Va.UNMOUNTED=jf;Va.EXITED=vc;Va.ENTERING=Sc;Va.ENTERED=Fu;Va.EXITING=ux;function w1(t,e){var r=function(a){return e&&x.isValidElement(a)?e(a):a},n=Object.create(null);return t&&x.Children.map(t,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function B4(t,e){t=t||{},e=e||{};function r(h){return h in e?e[h]:t[h]}var n=Object.create(null),i=[];for(var a in t)a in e?i.length&&(n[a]=i,i=[]):i.push(a);var l,c={};for(var d in e){if(n[d])for(l=0;l<n[d].length;l++){var f=n[d][l];c[n[d][l]]=r(f)}c[d]=r(d)}for(l=0;l<i.length;l++)c[i[l]]=r(i[l]);return c}function Ac(t,e,r){return r[e]!=null?r[e]:t.props[e]}function $4(t,e){return w1(t.children,function(r){return x.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:Ac(r,"appear",t),enter:Ac(r,"enter",t),exit:Ac(r,"exit",t)})})}function D4(t,e,r){var n=w1(t.children),i=B4(e,n);return Object.keys(i).forEach(function(a){var l=i[a];if(x.isValidElement(l)){var c=a in e,d=a in n,f=e[a],h=x.isValidElement(f)&&!f.props.in;d&&(!c||h)?i[a]=x.cloneElement(l,{onExited:r.bind(null,l),in:!0,exit:Ac(l,"exit",t),enter:Ac(l,"enter",t)}):!d&&c&&!h?i[a]=x.cloneElement(l,{in:!1}):d&&c&&x.isValidElement(f)&&(i[a]=x.cloneElement(l,{onExited:r.bind(null,l),in:f.props.in,exit:Ac(l,"exit",t),enter:Ac(l,"enter",t)}))}}),i}var z4=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},U4={component:"div",childFactory:function(e){return e}},k1=function(t){nm(e,t);function e(n,i){var a;a=t.call(this,n,i)||this;var l=a.handleExited.bind($a(a));return a.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},a}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,a){var l=a.children,c=a.handleExited,d=a.firstRender;return{children:d?$4(i,c):D4(i,l,c),firstRender:!1}},r.handleExited=function(i,a){var l=w1(this.props.children);i.key in l||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(c){var d=di({},c.children);return delete d[i.key],{children:d}}))},r.render=function(){var i=this.props,a=i.component,l=i.childFactory,c=Gx(i,["component","childFactory"]),d=this.state.contextValue,f=z4(this.state.children).map(l);return delete c.appear,delete c.enter,delete c.exit,a===null?Ln.createElement(Bg.Provider,{value:d},f):Ln.createElement(Bg.Provider,{value:d},Ln.createElement(a,c,f))},e}(Ln.Component);k1.propTypes={};k1.defaultProps=U4;function H4(t){const{className:e,classes:r,pulsate:n=!1,rippleX:i,rippleY:a,rippleSize:l,in:c,onExited:d,timeout:f}=t,[h,g]=x.useState(!1),p=wt(e,r.ripple,r.rippleVisible,n&&r.ripplePulsate),S={width:l,height:l,top:-(l/2)+a,left:-(l/2)+i},b=wt(r.child,h&&r.childLeaving,n&&r.childPulsate);return!c&&!h&&g(!0),x.useEffect(()=>{if(!c&&d!=null){const v=setTimeout(d,f);return()=>{clearTimeout(v)}}},[d,c,f]),m.jsx("span",{className:p,style:S,children:m.jsx("span",{className:b})})}const ba=nr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),dx=550,V4=80,q4=yp`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,W4=yp`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,K4=yp`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,G4=tt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Y4=tt(H4,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${ba.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${q4};
    animation-duration: ${dx}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${ba.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${ba.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${ba.childLeaving} {
    opacity: 0;
    animation-name: ${W4};
    animation-duration: ${dx}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${ba.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${K4};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,X4=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:a={},className:l,...c}=n,[d,f]=x.useState([]),h=x.useRef(0),g=x.useRef(null);x.useEffect(()=>{g.current&&(g.current(),g.current=null)},[d]);const p=x.useRef(!1),S=zu(),b=x.useRef(null),v=x.useRef(null),k=x.useCallback(R=>{const{pulsate:O,rippleX:M,rippleY:j,rippleSize:$,cb:V}=R;f(N=>[...N,m.jsx(Y4,{classes:{ripple:wt(a.ripple,ba.ripple),rippleVisible:wt(a.rippleVisible,ba.rippleVisible),ripplePulsate:wt(a.ripplePulsate,ba.ripplePulsate),child:wt(a.child,ba.child),childLeaving:wt(a.childLeaving,ba.childLeaving),childPulsate:wt(a.childPulsate,ba.childPulsate)},timeout:dx,pulsate:O,rippleX:M,rippleY:j,rippleSize:$},h.current)]),h.current+=1,g.current=V},[a]),T=x.useCallback((R={},O={},M=()=>{})=>{const{pulsate:j=!1,center:$=i||O.pulsate,fakeElement:V=!1}=O;if(R?.type==="mousedown"&&p.current){p.current=!1;return}R?.type==="touchstart"&&(p.current=!0);const N=V?null:v.current,W=N?N.getBoundingClientRect():{width:0,height:0,left:0,top:0};let z,I,B;if($||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)z=Math.round(W.width/2),I=Math.round(W.height/2);else{const{clientX:G,clientY:U}=R.touches&&R.touches.length>0?R.touches[0]:R;z=Math.round(G-W.left),I=Math.round(U-W.top)}if($)B=Math.sqrt((2*W.width**2+W.height**2)/3),B%2===0&&(B+=1);else{const G=Math.max(Math.abs((N?N.clientWidth:0)-z),z)*2+2,U=Math.max(Math.abs((N?N.clientHeight:0)-I),I)*2+2;B=Math.sqrt(G**2+U**2)}R?.touches?b.current===null&&(b.current=()=>{k({pulsate:j,rippleX:z,rippleY:I,rippleSize:B,cb:M})},S.start(V4,()=>{b.current&&(b.current(),b.current=null)})):k({pulsate:j,rippleX:z,rippleY:I,rippleSize:B,cb:M})},[i,k,S]),A=x.useCallback(()=>{T({},{pulsate:!0})},[T]),w=x.useCallback((R,O)=>{if(S.clear(),R?.type==="touchend"&&b.current){b.current(),b.current=null,S.start(0,()=>{w(R,O)});return}b.current=null,f(M=>M.length>0?M.slice(1):M),g.current=O},[S]);return x.useImperativeHandle(r,()=>({pulsate:A,start:T,stop:w}),[A,T,w]),m.jsx(G4,{className:wt(ba.root,a.root,l),ref:v,...c,children:m.jsx(k1,{component:null,exit:!0,children:d})})});function Z4(t){return tr("MuiButtonBase",t)}const Q4=nr("MuiButtonBase",["root","disabled","focusVisible"]),J4=t=>{const{disabled:e,focusVisible:r,focusVisibleClassName:n,classes:i}=t,l=er({root:["root",e&&"disabled",r&&"focusVisible"]},Z4,i);return r&&n&&(l.root+=` ${n}`),l},ez=tt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Q4.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Gs=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:a=!1,children:l,className:c,component:d="button",disabled:f=!1,disableRipple:h=!1,disableTouchRipple:g=!1,focusRipple:p=!1,focusVisibleClassName:S,LinkComponent:b="a",onBlur:v,onClick:k,onContextMenu:T,onDragLeave:A,onFocus:w,onFocusVisible:R,onKeyDown:O,onKeyUp:M,onMouseDown:j,onMouseLeave:$,onMouseUp:V,onTouchEnd:N,onTouchMove:W,onTouchStart:z,tabIndex:I=0,TouchRippleProps:B,touchRippleRef:G,type:U,...X}=n,q=x.useRef(null),Z=I4(),F=Jn(Z.ref,G),[D,J]=x.useState(!1);f&&D&&J(!1),x.useImperativeHandle(i,()=>({focusVisible:()=>{J(!0),q.current.focus()}}),[]);const ee=Z.shouldMount&&!h&&!f;x.useEffect(()=>{D&&p&&!h&&Z.pulsate()},[h,p,D,Z]);const te=$s(Z,"start",j,g),ie=$s(Z,"stop",T,g),oe=$s(Z,"stop",A,g),ke=$s(Z,"stop",V,g),ve=$s(Z,"stop",ht=>{D&&ht.preventDefault(),$&&$(ht)},g),Q=$s(Z,"start",z,g),de=$s(Z,"stop",N,g),we=$s(Z,"stop",W,g),ue=$s(Z,"stop",ht=>{Ul(ht.target)||J(!1),v&&v(ht)},!1),rt=_i(ht=>{q.current||(q.current=ht.currentTarget),Ul(ht.target)&&(J(!0),R&&R(ht)),w&&w(ht)}),ye=()=>{const ht=q.current;return d&&d!=="button"&&!(ht.tagName==="A"&&ht.href)},Le=_i(ht=>{p&&!ht.repeat&&D&&ht.key===" "&&Z.stop(ht,()=>{Z.start(ht)}),ht.target===ht.currentTarget&&ye()&&ht.key===" "&&ht.preventDefault(),O&&O(ht),ht.target===ht.currentTarget&&ye()&&ht.key==="Enter"&&!f&&(ht.preventDefault(),k&&k(ht))}),ut=_i(ht=>{p&&ht.key===" "&&D&&!ht.defaultPrevented&&Z.stop(ht,()=>{Z.pulsate(ht)}),M&&M(ht),k&&ht.target===ht.currentTarget&&ye()&&ht.key===" "&&!ht.defaultPrevented&&k(ht)});let Be=d;Be==="button"&&(X.href||X.to)&&(Be=b);const bt={};Be==="button"?(bt.type=U===void 0?"button":U,bt.disabled=f):(!X.href&&!X.to&&(bt.role="button"),f&&(bt["aria-disabled"]=f));const Ot=Jn(r,q),Mt={...n,centerRipple:a,component:d,disabled:f,disableRipple:h,disableTouchRipple:g,focusRipple:p,tabIndex:I,focusVisible:D},et=J4(Mt);return m.jsxs(ez,{as:Be,className:wt(et.root,c),ownerState:Mt,onBlur:ue,onClick:k,onContextMenu:ie,onFocus:rt,onKeyDown:Le,onKeyUp:ut,onMouseDown:te,onMouseLeave:ve,onMouseUp:ke,onDragLeave:oe,onTouchEnd:de,onTouchMove:we,onTouchStart:Q,ref:Ot,tabIndex:f?-1:I,type:U,...bt,...X,children:[l,ee?m.jsx(X4,{ref:F,center:a,...B}):null]})});function $s(t,e,r,n=!1){return _i(i=>(r&&r(i),n||t[e](i),!0))}function tz(t){return tr("MuiCircularProgress",t)}nr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Tl=44,fx=yp`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,px=yp`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,rz=typeof fx!="string"?l1`
        animation: ${fx} 1.4s linear infinite;
      `:null,nz=typeof px!="string"?l1`
        animation: ${px} 1.4s ease-in-out infinite;
      `:null,iz=t=>{const{classes:e,variant:r,color:n,disableShrink:i}=t,a={root:["root",r,`color${Ye(n)}`],svg:["svg"],circle:["circle",`circle${Ye(r)}`,i&&"circleDisableShrink"]};return er(a,tz,e)},oz=tt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`color${Ye(r.color)}`]]}})(Qt(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:rz||{animation:`${fx} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Dn()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),az=tt("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),sz=tt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.circle,e[`circle${Ye(r.variant)}`],r.disableShrink&&e.circleDisableShrink]}})(Qt(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:nz||{animation:`${px} 1.4s ease-in-out infinite`}}]}))),K_=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiCircularProgress"}),{className:i,color:a="primary",disableShrink:l=!1,size:c=40,style:d,thickness:f=3.6,value:h=0,variant:g="indeterminate",...p}=n,S={...n,color:a,disableShrink:l,size:c,thickness:f,value:h,variant:g},b=iz(S),v={},k={},T={};if(g==="determinate"){const A=2*Math.PI*((Tl-f)/2);v.strokeDasharray=A.toFixed(3),T["aria-valuenow"]=Math.round(h),v.strokeDashoffset=`${((100-h)/100*A).toFixed(3)}px`,k.transform="rotate(-90deg)"}return m.jsx(oz,{className:wt(b.root,i),style:{width:c,height:c,...k,...d},ownerState:S,ref:r,role:"progressbar",...T,...p,children:m.jsx(az,{className:b.svg,ownerState:S,viewBox:`${Tl/2} ${Tl/2} ${Tl} ${Tl}`,children:m.jsx(sz,{className:b.circle,style:v,ownerState:S,cx:Tl,cy:Tl,r:(Tl-f)/2,fill:"none",strokeWidth:f})})})});function lz(t){return tr("MuiIconButton",t)}const QA=nr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),cz=t=>{const{classes:e,disabled:r,color:n,edge:i,size:a,loading:l}=t,c={root:["root",l&&"loading",r&&"disabled",n!=="default"&&`color${Ye(n)}`,i&&`edge${Ye(i)}`,`size${Ye(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return er(c,lz,e)},uz=tt(Gs,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.loading&&e.loading,r.color!=="default"&&e[`color${Ye(r.color)}`],r.edge&&e[`edge${Ye(r.edge)}`],e[`size${Ye(r.size)}`]]}})(Qt(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:jr(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Qt(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Dn()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(Dn()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:jr((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${QA.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${QA.loading}`]:{color:"transparent"}}))),dz=tt("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),pr=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiIconButton"}),{edge:i=!1,children:a,className:l,color:c="default",disabled:d=!1,disableFocusRipple:f=!1,size:h="medium",id:g,loading:p=null,loadingIndicator:S,...b}=n,v=Zs(g),k=S??m.jsx(K_,{"aria-labelledby":v,color:"inherit",size:16}),T={...n,edge:i,color:c,disabled:d,disableFocusRipple:f,loading:p,loadingIndicator:k,size:h},A=cz(T);return m.jsxs(uz,{id:p?v:g,className:wt(A.root,l),centerRipple:!0,focusRipple:!f,disabled:d||p,ref:r,...b,ownerState:T,children:[typeof p=="boolean"&&m.jsx("span",{className:A.loadingWrapper,style:{display:"contents"},children:m.jsx(dz,{className:A.loadingIndicator,ownerState:T,children:p&&k})}),a]})}),fz=lr(m.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),pz=lr(m.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),hz=lr(m.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),gz=lr(m.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),G_=lr(m.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),mz=t=>{const{variant:e,color:r,severity:n,classes:i}=t,a={root:["root",`color${Ye(r||n)}`,`${e}${Ye(r||n)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return er(a,_4,i)},yz=tt(Ei,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${Ye(r.color||r.severity)}`]]}})(Qt(({theme:t})=>{const e=t.palette.mode==="light"?Ws:Ks,r=t.palette.mode==="light"?Ks:Ws;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(Dn(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${n}Color`]:e(t.palette[n].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${n}StandardBg`]:r(t.palette[n].light,.9),[`& .${XA.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}}})),...Object.entries(t.palette).filter(Dn(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${n}Color`]:e(t.palette[n].light,.6),border:`1px solid ${(t.vars||t).palette[n].light}`,[`& .${XA.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}}})),...Object.entries(t.palette).filter(Dn(["dark"])).map(([n])=>({props:{colorSeverity:n,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)}}}))]}})),bz=tt("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),vz=tt("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Sz=tt("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),JA={success:m.jsx(fz,{fontSize:"inherit"}),warning:m.jsx(pz,{fontSize:"inherit"}),error:m.jsx(hz,{fontSize:"inherit"}),info:m.jsx(gz,{fontSize:"inherit"})},kp=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiAlert"}),{action:i,children:a,className:l,closeText:c="Close",color:d,components:f={},componentsProps:h={},icon:g,iconMapping:p=JA,onClose:S,role:b="alert",severity:v="success",slotProps:k={},slots:T={},variant:A="standard",...w}=n,R={...n,color:d,severity:v,variant:A,colorSeverity:d||v},O=mz(R),M={slots:{closeButton:f.CloseButton,closeIcon:f.CloseIcon,...T},slotProps:{...h,...k}},[j,$]=Sr("root",{ref:r,shouldForwardComponentProp:!0,className:wt(O.root,l),elementType:yz,externalForwardedProps:{...M,...w},ownerState:R,additionalProps:{role:b,elevation:0}}),[V,N]=Sr("icon",{className:O.icon,elementType:bz,externalForwardedProps:M,ownerState:R}),[W,z]=Sr("message",{className:O.message,elementType:vz,externalForwardedProps:M,ownerState:R}),[I,B]=Sr("action",{className:O.action,elementType:Sz,externalForwardedProps:M,ownerState:R}),[G,U]=Sr("closeButton",{elementType:pr,externalForwardedProps:M,ownerState:R}),[X,q]=Sr("closeIcon",{elementType:G_,externalForwardedProps:M,ownerState:R});return m.jsxs(j,{...$,children:[g!==!1?m.jsx(V,{...N,children:g||p[v]||JA[v]}):null,m.jsx(W,{...z,children:a}),i!=null?m.jsx(I,{...B,children:i}):null,i==null&&S?m.jsx(I,{...B,children:m.jsx(G,{size:"small","aria-label":c,title:c,color:"inherit",onClick:S,...U,children:m.jsx(X,{fontSize:"small",...q})})}):null]})}),C1=t=>t.scrollTop;function td(t,e){const{timeout:r,easing:n,style:i={}}=t;return{duration:i.transitionDuration??(typeof r=="number"?r:r[e.mode]||0),easing:i.transitionTimingFunction??(typeof n=="object"?n[e.mode]:n),delay:i.transitionDelay}}function hx(t){return`scale(${t}, ${t**2})`}const xz={entering:{opacity:1,transform:hx(1)},entered:{opacity:1,transform:"none"}},k0=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),ep=x.forwardRef(function(e,r){const{addEndListener:n,appear:i=!0,children:a,easing:l,in:c,onEnter:d,onEntered:f,onEntering:h,onExit:g,onExited:p,onExiting:S,style:b,timeout:v="auto",TransitionComponent:k=Va,...T}=e,A=zu(),w=x.useRef(),R=fo(),O=x.useRef(null),M=Jn(O,Fc(a),r),j=G=>U=>{if(G){const X=O.current;U===void 0?G(X):G(X,U)}},$=j(h),V=j((G,U)=>{C1(G);const{duration:X,delay:q,easing:Z}=td({style:b,timeout:v,easing:l},{mode:"enter"});let F;v==="auto"?(F=R.transitions.getAutoHeightDuration(G.clientHeight),w.current=F):F=X,G.style.transition=[R.transitions.create("opacity",{duration:F,delay:q}),R.transitions.create("transform",{duration:k0?F:F*.666,delay:q,easing:Z})].join(","),d&&d(G,U)}),N=j(f),W=j(S),z=j(G=>{const{duration:U,delay:X,easing:q}=td({style:b,timeout:v,easing:l},{mode:"exit"});let Z;v==="auto"?(Z=R.transitions.getAutoHeightDuration(G.clientHeight),w.current=Z):Z=U,G.style.transition=[R.transitions.create("opacity",{duration:Z,delay:X}),R.transitions.create("transform",{duration:k0?Z:Z*.666,delay:k0?X:X||Z*.333,easing:q})].join(","),G.style.opacity=0,G.style.transform=hx(.75),g&&g(G)}),I=j(p),B=G=>{v==="auto"&&A.start(w.current||0,G),n&&n(O.current,G)};return m.jsx(k,{appear:i,in:c,nodeRef:O,onEnter:V,onEntered:N,onEntering:$,onExit:z,onExited:I,onExiting:W,addEndListener:B,timeout:v==="auto"?null:v,...T,children:(G,{ownerState:U,...X})=>x.cloneElement(a,{style:{opacity:0,transform:hx(.75),visibility:G==="exited"&&!c?"hidden":void 0,...xz[G],...b,...a.props.style},ref:M,...X})})});ep&&(ep.muiSupportAuto=!0);const wz=yn(()=>({root:{display:"flex",justifyContent:"center",position:"fixed",width:"100%",pointerEvents:"none",zIndex:2e3},bottom:{bottom:"10vh"},top:{top:"10vh"}}));function Y_(t){const e=wz();x.useEffect(()=>{if(t.open&&!t.disableAutoHide){const n=setTimeout(t.onClose,t.autoHideDuration);return()=>clearTimeout(n)}},[t.open,t.autoHideDuration,t.disableAutoHide,t.onClose]);const r=t.anchor==="bottom"?e.bottom:e.top;return m.jsx("div",{className:`${e.root} ${r}`,children:m.jsx(ep,{in:t.open,children:m.jsx(kp,{severity:t.severity,children:t.children})})})}var C0,eR;function kz(){return eR||(eR=1,C0={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),C0}var Cz=kz();const Tz=Yl(Cz);var Ez=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function tR(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=t.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(e.name=r[1],(Tz[r[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var n=t.indexOf("-->");return{type:"comment",comment:n!==-1?t.slice(4,n):""}}for(var i=new RegExp(Ez),a=null;(a=i.exec(t))!==null;)if(a[0].trim())if(a[1]){var l=a[1].trim(),c=[l,""];l.indexOf("=")>-1&&(c=l.split("=")),e.attrs[c[0]]=c[1],i.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var Az=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Rz=/^\s*$/,Oz=Object.create(null);function X_(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(X_,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var Pz={parse:function(t,e){e||(e={}),e.components||(e.components=Oz);var r,n=[],i=[],a=-1,l=!1;if(t.indexOf("<")!==0){var c=t.indexOf("<");n.push({type:"text",content:c===-1?t:t.substring(0,c)})}return t.replace(Az,function(d,f){if(l){if(d!=="</"+r.name+">")return;l=!1}var h,g=d.charAt(1)!=="/",p=d.startsWith("<!--"),S=f+d.length,b=t.charAt(S);if(p){var v=tR(d);return a<0?(n.push(v),n):((h=i[a]).children.push(v),n)}if(g&&(a++,(r=tR(d)).type==="tag"&&e.components[r.name]&&(r.type="component",l=!0),r.voidElement||l||!b||b==="<"||r.children.push({type:"text",content:t.slice(S,t.indexOf("<",S))}),a===0&&n.push(r),(h=i[a-1])&&h.children.push(r),i[a]=r),(!g||r.voidElement)&&(a>-1&&(r.voidElement||r.name===d.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!l&&b!=="<"&&b)){h=a===-1?n:i[a].children;var k=t.indexOf("<",S),T=t.slice(S,k===-1?void 0:k);Rz.test(T)&&(T=" "),(k>-1&&a+h.length>=0||T!==" ")&&h.push({type:"text",content:T})}}),n},stringify:function(t){return t.reduce(function(e,r){return e+X_("",r)},"")}};const Sg=(t,e,r,n)=>{const i=[r,{code:e,...n||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);wa(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...i):console?.warn&&console.warn(...i)},rR={},tp=(t,e,r,n)=>{wa(r)&&rR[r]||(wa(r)&&(rR[r]=new Date),Sg(t,e,r,n))},Z_=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},gx=(t,e,r)=>{t.loadNamespaces(e,Z_(t,r))},nR=(t,e,r,n)=>{if(wa(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return gx(t,r,n);r.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,Z_(t,n))},_z=(t,e,r={})=>!e.languages||!e.languages.length?(tp(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,i)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,t))return!1}}),wa=t=>typeof t=="string",Fl=t=>typeof t=="object"&&t!==null,Mz=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,jz={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Nz=t=>jz[t],Iz=t=>t.replace(Mz,Nz);let mx={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Iz};const Lz=(t={})=>{mx={...mx,...t}},Q_=()=>mx;let J_;const Fz=t=>{J_=t},T1=()=>J_,T0=(t,e)=>{if(!t)return!1;const r=t.props?.children??t.children;return e?r.length>0:!!r},E0=t=>{if(!t)return[];const e=t.props?.children??t.children;return t.props?.i18nIsDynamicList?Hu(e):e},Bz=t=>Array.isArray(t)&&t.every(x.isValidElement),Hu=t=>Array.isArray(t)?t:[t],$z=(t,e)=>{const r={...e};return r.props=Object.assign(t.props,e.props),r},eM=(t,e,r,n)=>{if(!t)return"";let i="";const a=Hu(t),l=e?.transSupportBasicHtmlNodes?e.transKeepBasicHtmlNodesFor??[]:[];return a.forEach((c,d)=>{if(wa(c)){i+=`${c}`;return}if(x.isValidElement(c)){const{props:f,type:h}=c,g=Object.keys(f).length,p=l.indexOf(h)>-1,S=f.children;if(!S&&p&&!g){i+=`<${h}/>`;return}if(!S&&(!p||g)||f.i18nIsDynamicList){i+=`<${d}></${d}>`;return}if(p&&g===1&&wa(S)){i+=`<${h}>${S}</${h}>`;return}const b=eM(S,e,r,n);i+=`<${d}>${b}</${d}>`;return}if(c===null){Sg(r,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:n});return}if(Fl(c)){const{format:f,...h}=c,g=Object.keys(h);if(g.length===1){const p=f?`${g[0]}, ${f}`:g[0];i+=`{{${p}}}`;return}Sg(r,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:n,child:c});return}Sg(r,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:n,child:c})}),i},Dz=(t,e,r,n,i,a,l)=>{if(r==="")return[];const c=i.transKeepBasicHtmlNodesFor||[],d=r&&new RegExp(c.map(T=>`<${T}`).join("|")).test(r);if(!t&&!e&&!d&&!l)return[r];const f=e??{},h=T=>{Hu(T).forEach(w=>{wa(w)||(T0(w)?h(E0(w)):Fl(w)&&!x.isValidElement(w)&&Object.assign(f,w))})};h(t);const g=Pz.parse(`<0>${r}</0>`),p={...f,...a},S=(T,A,w)=>{const R=E0(T),O=v(R,A.children,w);return Bz(R)&&O.length===0||T.props?.i18nIsDynamicList?R:O},b=(T,A,w,R,O)=>{T.dummy?(T.children=A,w.push(x.cloneElement(T,{key:R},O?void 0:A))):w.push(...x.Children.map([T],M=>{const j={...M.props};return delete j.i18nIsDynamicList,x.createElement(M.type,{...j,key:R,ref:M.props.ref??M.ref},O?null:A)}))},v=(T,A,w)=>{const R=Hu(T);return Hu(A).reduce((M,j,$)=>{const V=j.children?.[0]?.content&&n.services.interpolator.interpolate(j.children[0].content,p,n.language);if(j.type==="tag"){let N=R[parseInt(j.name,10)];!N&&e&&(N=e[j.name]),w.length===1&&!N&&(N=w[0][j.name]),N||(N={});const W=Object.keys(j.attrs).length!==0?$z({props:j.attrs},N):N,z=x.isValidElement(W),I=z&&T0(j,!0)&&!j.voidElement,B=d&&Fl(W)&&W.dummy&&!z,G=Fl(e)&&Object.hasOwnProperty.call(e,j.name);if(wa(W)){const U=n.services.interpolator.interpolate(W,p,n.language);M.push(U)}else if(T0(W)||I){const U=S(W,j,w);b(W,U,M,$)}else if(B){const U=v(R,j.children,w);b(W,U,M,$)}else if(Number.isNaN(parseFloat(j.name)))if(G){const U=S(W,j,w);b(W,U,M,$,j.voidElement)}else if(i.transSupportBasicHtmlNodes&&c.indexOf(j.name)>-1)if(j.voidElement)M.push(x.createElement(j.name,{key:`${j.name}-${$}`}));else{const U=v(R,j.children,w);M.push(x.createElement(j.name,{key:`${j.name}-${$}`},U))}else if(j.voidElement)M.push(`<${j.name} />`);else{const U=v(R,j.children,w);M.push(`<${j.name}>${U}</${j.name}>`)}else if(Fl(W)&&!z){const U=j.children[0]?V:null;U&&M.push(U)}else b(W,V,M,$,j.children.length!==1||!V)}else if(j.type==="text"){const N=i.transWrapTextNodes,W=l?i.unescape(n.services.interpolator.interpolate(j.content,p,n.language)):n.services.interpolator.interpolate(j.content,p,n.language);N?M.push(x.createElement(N,{key:`${j.name}-${$}`},W)):M.push(W)}return M},[])},k=v([{dummy:!0,children:t||[]}],g,Hu(t||[]));return E0(k[0])},tM=(t,e,r)=>{const n=t.key||e,i=x.cloneElement(t,{key:n});if(!i.props||!i.props.children||r.indexOf(`${e}/>`)<0&&r.indexOf(`${e} />`)<0)return i;function a(){return x.createElement(x.Fragment,null,i)}return x.createElement(a,{key:n})},zz=(t,e)=>t.map((r,n)=>tM(r,n,e)),Uz=(t,e)=>{const r={};return Object.keys(t).forEach(n=>{Object.assign(r,{[n]:tM(t[n],n,e)})}),r},Hz=(t,e,r,n)=>t?Array.isArray(t)?zz(t,e):Fl(t)?Uz(t,e):(tp(r,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:n}),null):null,Vz=t=>!Fl(t)||Array.isArray(t)?!1:Object.keys(t).reduce((e,r)=>e&&Number.isNaN(Number.parseFloat(r)),!0);function qz({children:t,count:e,parent:r,i18nKey:n,context:i,tOptions:a={},values:l,defaults:c,components:d,ns:f,i18n:h,t:g,shouldUnescape:p,...S}){const b=h||T1();if(!b)return tp(b,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:n}),t;const v=g||b.t.bind(b)||(B=>B),k={...Q_(),...b.options?.react};let T=f||v.ns||b.options?.defaultNS;T=wa(T)?[T]:T||["translation"];const A=eM(t,k,b,n),w=c||A||k.transEmptyNodeValue||n,{hashTransKey:R}=k,O=n||(R?R(A||w):A||w);b.options?.interpolation?.defaultVariables&&(l=l&&Object.keys(l).length>0?{...l,...b.options.interpolation.defaultVariables}:{...b.options.interpolation.defaultVariables});const M=l||e!==void 0&&!b.options?.interpolation?.alwaysFormat||!t?a.interpolation:{interpolation:{...a.interpolation,prefix:"#$?",suffix:"?$#"}},j={...a,context:i||a.context,count:e,...l,...M,defaultValue:w,ns:T},$=O?v(O,j):w,V=Hz(d,$,b,n);let N=V||t,W=null;Vz(V)&&(W=V,N=t);const z=Dz(N,W,$,b,k,j,p),I=r??k.defaultTransParent;return I?x.createElement(I,S,z):z}const Wz={type:"3rdParty",init(t){Lz(t.options.react),Fz(t)}},rM=x.createContext();class Kz{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function Ci({children:t,count:e,parent:r,i18nKey:n,context:i,tOptions:a={},values:l,defaults:c,components:d,ns:f,i18n:h,t:g,shouldUnescape:p,...S}){const{i18n:b,defaultNS:v}=x.useContext(rM)||{},k=h||b||T1(),T=g||k?.t.bind(k);return qz({children:t,count:e,parent:r,i18nKey:n,context:i,tOptions:a,values:l,defaults:c,components:d,ns:f||T?.ns||v||k?.options?.defaultNS,i18n:k,t:g,shouldUnescape:p,...S})}const Gz=(t,e)=>{const r=x.useRef();return x.useEffect(()=>{r.current=t},[t,e]),r.current},nM=(t,e,r,n)=>t.getFixedT(e,r,n),Yz=(t,e,r,n)=>x.useCallback(nM(t,e,r,n),[t,e,r,n]),Wr=(t,e={})=>{const{i18n:r}=e,{i18n:n,defaultNS:i}=x.useContext(rM)||{},a=r||n||T1();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Kz),!a){tp(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const R=(M,j)=>wa(j)?j:Fl(j)&&wa(j.defaultValue)?j.defaultValue:Array.isArray(M)?M[M.length-1]:M,O=[R,{},!1];return O.t=R,O.i18n={},O.ready=!1,O}a.options.react?.wait&&tp(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...Q_(),...a.options.react,...e},{useSuspense:c,keyPrefix:d}=l;let f=i||a.options?.defaultNS;f=wa(f)?[f]:f||["translation"],a.reportNamespaces.addUsedNamespaces?.(f);const h=(a.isInitialized||a.initializedStoreOnce)&&f.every(R=>_z(R,a,l)),g=Yz(a,e.lng||null,l.nsMode==="fallback"?f:f[0],d),p=()=>g,S=()=>nM(a,e.lng||null,l.nsMode==="fallback"?f:f[0],d),[b,v]=x.useState(p);let k=f.join();e.lng&&(k=`${e.lng}${k}`);const T=Gz(k),A=x.useRef(!0);x.useEffect(()=>{const{bindI18n:R,bindI18nStore:O}=l;A.current=!0,!h&&!c&&(e.lng?nR(a,e.lng,f,()=>{A.current&&v(S)}):gx(a,f,()=>{A.current&&v(S)})),h&&T&&T!==k&&A.current&&v(S);const M=()=>{A.current&&v(S)};return R&&a?.on(R,M),O&&a?.store.on(O,M),()=>{A.current=!1,a&&R&&R?.split(" ").forEach(j=>a.off(j,M)),O&&a&&O.split(" ").forEach(j=>a.store.off(j,M))}},[a,k]),x.useEffect(()=>{A.current&&h&&v(p)},[a,d,h]);const w=[b,a,h];if(w.t=b,w.i18n=a,w.ready=h,h||!h&&!c)return w;throw new Promise(R=>{e.lng?nR(a,e.lng,f,()=>R()):gx(a,f,()=>R())})};function Xz(t){const{badgeContent:e,invisible:r=!1,max:n=99,showZero:i=!1}=t,a=Kx({badgeContent:e,max:n});let l=r;r===!1&&e===0&&!i&&(l=!0);const{badgeContent:c,max:d=n}=l?a:t,f=c&&Number(c)>d?`${d}+`:c;return{badgeContent:c,invisible:l,max:d,displayValue:f}}function Zz(t){return tr("MuiBadge",t)}const El=nr("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),A0=10,R0=4,Qz=t=>{const{color:e,anchorOrigin:r,invisible:n,overlap:i,variant:a,classes:l={}}=t,c={root:["root"],badge:["badge",a,n&&"invisible",`anchorOrigin${Ye(r.vertical)}${Ye(r.horizontal)}`,`anchorOrigin${Ye(r.vertical)}${Ye(r.horizontal)}${Ye(i)}`,`overlap${Ye(i)}`,e!=="default"&&`color${Ye(e)}`]};return er(c,Zz,l)},Jz=tt("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),e6=tt("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.badge,e[r.variant],e[`anchorOrigin${Ye(r.anchorOrigin.vertical)}${Ye(r.anchorOrigin.horizontal)}${Ye(r.overlap)}`],r.color!=="default"&&e[`color${Ye(r.color)}`],r.invisible&&e.invisible]}})(Qt(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:A0*2,lineHeight:1,padding:"0 6px",height:A0*2,borderRadius:A0,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(Dn(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:R0,height:R0*2,minWidth:R0*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${El.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${El.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${El.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${El.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${El.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${El.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${El.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${El.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function iR(t){return{vertical:t?.vertical??"top",horizontal:t?.horizontal??"right"}}const E1=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiBadge"}),{anchorOrigin:i,className:a,classes:l,component:c,components:d={},componentsProps:f={},children:h,overlap:g="rectangular",color:p="default",invisible:S=!1,max:b=99,badgeContent:v,slots:k,slotProps:T,showZero:A=!1,variant:w="standard",...R}=n,{badgeContent:O,invisible:M,max:j,displayValue:$}=Xz({max:b,invisible:S,badgeContent:v,showZero:A}),V=Kx({anchorOrigin:iR(i),color:p,overlap:g,variant:w,badgeContent:v}),N=M||O==null&&w!=="dot",{color:W=p,overlap:z=g,anchorOrigin:I,variant:B=w}=N?V:n,G=iR(I),U=B!=="dot"?$:void 0,X={...n,badgeContent:O,invisible:N,max:j,displayValue:U,showZero:A,anchorOrigin:G,color:W,overlap:z,variant:B},q=Qz(X),Z={slots:{root:k?.root??d.Root,badge:k?.badge??d.Badge},slotProps:{root:T?.root??f.root,badge:T?.badge??f.badge}},[F,D]=Sr("root",{elementType:Jz,externalForwardedProps:{...Z,...R},ownerState:X,className:wt(q.root,a),ref:r,additionalProps:{as:c}}),[J,ee]=Sr("badge",{elementType:e6,externalForwardedProps:Z,ownerState:X,className:q.badge});return m.jsxs(F,{...D,children:[h,m.jsx(J,{...ee,children:U})]})});function t6(t){return tr("MuiButton",t)}const yc=nr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),r6=x.createContext({}),n6=x.createContext(void 0),i6=t=>{const{color:e,disableElevation:r,fullWidth:n,size:i,variant:a,loading:l,loadingPosition:c,classes:d}=t,f={root:["root",l&&"loading",a,`${a}${Ye(e)}`,`size${Ye(i)}`,`${a}Size${Ye(i)}`,`color${Ye(e)}`,r&&"disableElevation",n&&"fullWidth",l&&`loadingPosition${Ye(c)}`],startIcon:["icon","startIcon",`iconSize${Ye(i)}`],endIcon:["icon","endIcon",`iconSize${Ye(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=er(f,t6,d);return{...d,...h}},iM=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],o6=tt(Gs,{shouldForwardProp:t=>Hi(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${Ye(r.color)}`],e[`size${Ye(r.size)}`],e[`${r.variant}Size${Ye(r.size)}`],r.color==="inherit"&&e.colorInherit,r.disableElevation&&e.disableElevation,r.fullWidth&&e.fullWidth,r.loading&&e.loading]}})(Qt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],r=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${yc.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${yc.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${yc.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${yc.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Dn()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.5)`:jr(t.palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:jr(t.palette[n].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:jr(t.palette[n].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:jr(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:jr(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${yc.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${yc.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${yc.loading}`]:{color:"transparent"}}}]}})),a6=tt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.startIcon,r.loading&&e.startIconLoadingStart,e[`iconSize${Ye(r.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...iM]})),s6=tt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.endIcon,r.loading&&e.endIconLoadingEnd,e[`iconSize${Ye(r.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...iM]})),l6=tt("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),oR=tt("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),fi=x.forwardRef(function(e,r){const n=x.useContext(r6),i=x.useContext(n6),a=Gf(n,e),l=or({props:a,name:"MuiButton"}),{children:c,color:d="primary",component:f="button",className:h,disabled:g=!1,disableElevation:p=!1,disableFocusRipple:S=!1,endIcon:b,focusVisibleClassName:v,fullWidth:k=!1,id:T,loading:A=null,loadingIndicator:w,loadingPosition:R="center",size:O="medium",startIcon:M,type:j,variant:$="text",...V}=l,N=Zs(T),W=w??m.jsx(K_,{"aria-labelledby":N,color:"inherit",size:16}),z={...l,color:d,component:f,disabled:g,disableElevation:p,disableFocusRipple:S,fullWidth:k,loading:A,loadingIndicator:W,loadingPosition:R,size:O,type:j,variant:$},I=i6(z),B=(M||A&&R==="start")&&m.jsx(a6,{className:I.startIcon,ownerState:z,children:M||m.jsx(oR,{className:I.loadingIconPlaceholder,ownerState:z})}),G=(b||A&&R==="end")&&m.jsx(s6,{className:I.endIcon,ownerState:z,children:b||m.jsx(oR,{className:I.loadingIconPlaceholder,ownerState:z})}),U=i||"",X=typeof A=="boolean"?m.jsx("span",{className:I.loadingWrapper,style:{display:"contents"},children:A&&m.jsx(l6,{className:I.loadingIndicator,ownerState:z,children:W})}):null;return m.jsxs(o6,{ownerState:z,className:wt(n.className,I.root,h,U),component:f,disabled:g||A,focusRipple:!S,focusVisibleClassName:wt(I.focusVisible,v),ref:r,type:j,id:A?N:T,...V,classes:I,children:[B,R!=="end"&&X,c,R==="end"&&X,G]})});function Kh(t){return parseInt(t,10)||0}const c6={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function u6(t){for(const e in t)return!1;return!0}function aR(t){return u6(t)||t.outerHeightStyle===0&&!t.overflowing}const d6=x.forwardRef(function(e,r){const{onChange:n,maxRows:i,minRows:a=1,style:l,value:c,...d}=e,{current:f}=x.useRef(c!=null),h=x.useRef(null),g=Jn(r,h),p=x.useRef(null),S=x.useRef(null),b=x.useCallback(()=>{const w=h.current,R=S.current;if(!w||!R)return;const M=ta(w).getComputedStyle(w);if(M.width==="0px")return{outerHeightStyle:0,overflowing:!1};R.style.width=M.width,R.value=w.value||e.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const j=M.boxSizing,$=Kh(M.paddingBottom)+Kh(M.paddingTop),V=Kh(M.borderBottomWidth)+Kh(M.borderTopWidth),N=R.scrollHeight;R.value="x";const W=R.scrollHeight;let z=N;a&&(z=Math.max(Number(a)*W,z)),i&&(z=Math.min(Number(i)*W,z)),z=Math.max(z,W);const I=z+(j==="border-box"?$+V:0),B=Math.abs(z-N)<=1;return{outerHeightStyle:I,overflowing:B}},[i,a,e.placeholder]),v=_i(()=>{const w=h.current,R=b();if(!w||!R||aR(R))return!1;const O=R.outerHeightStyle;return p.current!=null&&p.current!==O}),k=x.useCallback(()=>{const w=h.current,R=b();if(!w||!R||aR(R))return;const O=R.outerHeightStyle;p.current!==O&&(p.current=O,w.style.height=`${O}px`),w.style.overflow=R.overflowing?"hidden":""},[b]),T=x.useRef(-1);uo(()=>{const w=fp(k),R=h?.current;if(!R)return;const O=ta(R);O.addEventListener("resize",w);let M;return typeof ResizeObserver<"u"&&(M=new ResizeObserver(()=>{v()&&(M.unobserve(R),cancelAnimationFrame(T.current),k(),T.current=requestAnimationFrame(()=>{M.observe(R)}))}),M.observe(R)),()=>{w.clear(),cancelAnimationFrame(T.current),O.removeEventListener("resize",w),M&&M.disconnect()}},[b,k,v]),uo(()=>{k()});const A=w=>{f||k(),n&&n(w)};return m.jsxs(x.Fragment,{children:[m.jsx("textarea",{value:c,onChange:A,ref:g,rows:a,style:l,...d}),m.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:S,tabIndex:-1,style:{...c6.shadow,...l,paddingTop:0,paddingBottom:0}})]})});function Vs(t){return typeof t=="string"}function Xl({props:t,states:e,muiFormControl:r}){return e.reduce((n,i)=>(n[i]=t[i],r&&typeof t[i]>"u"&&(n[i]=r[i]),n),{})}const xm=x.createContext(void 0);function qa(){return x.useContext(xm)}function sR(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function $g(t,e=!1){return t&&(sR(t.value)&&t.value!==""||e&&sR(t.defaultValue)&&t.defaultValue!=="")}function f6(t){return t.startAdornment}function p6(t){return tr("MuiInputBase",t)}const Wo=nr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var lR;const wm=(t,e)=>{const{ownerState:r}=t;return[e.root,r.formControl&&e.formControl,r.startAdornment&&e.adornedStart,r.endAdornment&&e.adornedEnd,r.error&&e.error,r.size==="small"&&e.sizeSmall,r.multiline&&e.multiline,r.color&&e[`color${Ye(r.color)}`],r.fullWidth&&e.fullWidth,r.hiddenLabel&&e.hiddenLabel]},km=(t,e)=>{const{ownerState:r}=t;return[e.input,r.size==="small"&&e.inputSizeSmall,r.multiline&&e.inputMultiline,r.type==="search"&&e.inputTypeSearch,r.startAdornment&&e.inputAdornedStart,r.endAdornment&&e.inputAdornedEnd,r.hiddenLabel&&e.inputHiddenLabel]},h6=t=>{const{classes:e,color:r,disabled:n,error:i,endAdornment:a,focused:l,formControl:c,fullWidth:d,hiddenLabel:f,multiline:h,readOnly:g,size:p,startAdornment:S,type:b}=t,v={root:["root",`color${Ye(r)}`,n&&"disabled",i&&"error",d&&"fullWidth",l&&"focused",c&&"formControl",p&&p!=="medium"&&`size${Ye(p)}`,h&&"multiline",S&&"adornedStart",a&&"adornedEnd",f&&"hiddenLabel",g&&"readOnly"],input:["input",n&&"disabled",b==="search"&&"inputTypeSearch",h&&"inputMultiline",p==="small"&&"inputSizeSmall",f&&"inputHiddenLabel",S&&"inputAdornedStart",a&&"inputAdornedEnd",g&&"readOnly"]};return er(v,p6,e)},Cm=tt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:wm})(Qt(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Wo.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:r})=>e.multiline&&r==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),Tm=tt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:km})(Qt(({theme:t})=>{const e=t.palette.mode==="light",r={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},n={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Wo.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Wo.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:a})=>!a.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:a})=>a.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),cR=S1({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),A1=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:a,autoFocus:l,className:c,color:d,components:f={},componentsProps:h={},defaultValue:g,disabled:p,disableInjectingGlobalStyles:S,endAdornment:b,error:v,fullWidth:k=!1,id:T,inputComponent:A="input",inputProps:w={},inputRef:R,margin:O,maxRows:M,minRows:j,multiline:$=!1,name:V,onBlur:N,onChange:W,onClick:z,onFocus:I,onKeyDown:B,onKeyUp:G,placeholder:U,readOnly:X,renderSuffix:q,rows:Z,size:F,slotProps:D={},slots:J={},startAdornment:ee,type:te="text",value:ie,...oe}=n,ke=w.value!=null?w.value:ie,{current:ve}=x.useRef(ke!=null),Q=x.useRef(),de=x.useCallback(vt=>{},[]),we=Jn(Q,R,w.ref,de),[ue,rt]=x.useState(!1),ye=qa(),Le=Xl({props:n,muiFormControl:ye,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Le.focused=ye?ye.focused:ue,x.useEffect(()=>{!ye&&p&&ue&&(rt(!1),N&&N())},[ye,p,ue,N]);const ut=ye&&ye.onFilled,Be=ye&&ye.onEmpty,bt=x.useCallback(vt=>{$g(vt)?ut&&ut():Be&&Be()},[ut,Be]);uo(()=>{ve&&bt({value:ke})},[ke,bt,ve]);const Ot=vt=>{I&&I(vt),w.onFocus&&w.onFocus(vt),ye&&ye.onFocus?ye.onFocus(vt):rt(!0)},Mt=vt=>{N&&N(vt),w.onBlur&&w.onBlur(vt),ye&&ye.onBlur?ye.onBlur(vt):rt(!1)},et=(vt,...Pt)=>{if(!ve){const se=vt.target||Q.current;if(se==null)throw new Error(qs(1));bt({value:se.value})}w.onChange&&w.onChange(vt,...Pt),W&&W(vt,...Pt)};x.useEffect(()=>{bt(Q.current)},[]);const ht=vt=>{Q.current&&vt.currentTarget===vt.target&&Q.current.focus(),z&&z(vt)};let Bt=A,_t=w;$&&Bt==="input"&&(Z?_t={type:void 0,minRows:Z,maxRows:Z,..._t}:_t={type:void 0,maxRows:M,minRows:j,..._t},Bt=d6);const it=vt=>{bt(vt.animationName==="mui-auto-fill-cancel"?Q.current:{value:"x"})};x.useEffect(()=>{ye&&ye.setAdornedStart(!!ee)},[ye,ee]);const je={...n,color:Le.color||"primary",disabled:Le.disabled,endAdornment:b,error:Le.error,focused:Le.focused,formControl:ye,fullWidth:k,hiddenLabel:Le.hiddenLabel,multiline:$,size:Le.size,startAdornment:ee,type:te},qe=h6(je),Oe=J.root||f.Root||Cm,ot=D.root||h.root||{},Se=J.input||f.Input||Tm;return _t={..._t,...D.input??h.input},m.jsxs(x.Fragment,{children:[!S&&typeof cR=="function"&&(lR||(lR=m.jsx(cR,{}))),m.jsxs(Oe,{...ot,ref:r,onClick:ht,...oe,...!Vs(Oe)&&{ownerState:{...je,...ot.ownerState}},className:wt(qe.root,ot.className,c,X&&"MuiInputBase-readOnly"),children:[ee,m.jsx(xm.Provider,{value:null,children:m.jsx(Se,{"aria-invalid":Le.error,"aria-describedby":i,autoComplete:a,autoFocus:l,defaultValue:g,disabled:Le.disabled,id:T,onAnimationStart:it,name:V,placeholder:U,readOnly:X,required:Le.required,rows:Z,value:ke,onKeyDown:B,onKeyUp:G,type:te,..._t,...!Vs(Se)&&{as:Bt,ownerState:{...je,..._t.ownerState}},ref:we,className:wt(qe.input,_t.className,X&&"MuiInputBase-readOnly"),onBlur:Mt,onChange:et,onFocus:Ot})}),b,q?q({...Le,startAdornment:ee}):null]})]})});function g6(t){return tr("MuiInput",t)}const Il={...Wo,...nr("MuiInput",["root","underline","input"])},m6=t=>{const{classes:e,disableUnderline:r}=t,i=er({root:["root",!r&&"underline"],input:["input"]},g6,e);return{...e,...i}},y6=tt(Cm,{shouldForwardProp:t=>Hi(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...wm(t,e),!r.disableUnderline&&e.underline]}})(Qt(({theme:t})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:n})=>n.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:n})=>!n.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Il.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Il.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Il.disabled}, .${Il.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Il.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Dn()).map(([n])=>({props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n].main}`}}}))]}})),b6=tt(Tm,{name:"MuiInput",slot:"Input",overridesResolver:km})({}),Em=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:a={},componentsProps:l,fullWidth:c=!1,inputComponent:d="input",multiline:f=!1,slotProps:h,slots:g={},type:p="text",...S}=n,b=m6(n),k={root:{ownerState:{disableUnderline:i}}},T=h??l?Ti(h??l,k):k,A=g.root??a.Root??y6,w=g.input??a.Input??b6;return m.jsx(A1,{slots:{root:A,input:w},slotProps:T,fullWidth:c,inputComponent:d,multiline:f,ref:r,type:p,...S,classes:b})});Em.muiName="Input";function v6(t){return tr("MuiFilledInput",t)}const Ko={...Wo,...nr("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},S6=t=>{const{classes:e,disableUnderline:r,startAdornment:n,endAdornment:i,size:a,hiddenLabel:l,multiline:c}=t,d={root:["root",!r&&"underline",n&&"adornedStart",i&&"adornedEnd",a==="small"&&`size${Ye(a)}`,l&&"hiddenLabel",c&&"multiline"],input:["input"]},f=er(d,v6,e);return{...e,...f}},x6=tt(Cm,{shouldForwardProp:t=>Hi(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...wm(t,e),!r.disableUnderline&&e.underline]}})(Qt(({theme:t})=>{const e=t.palette.mode==="light",r=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n}},[`&.${Ko.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:n},[`&.${Ko.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a},variants:[{props:({ownerState:l})=>!l.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ko.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ko.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ko.disabled}, .${Ko.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Ko.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Dn()).map(([l])=>({props:{disableUnderline:!1,color:l},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[l]?.main}`}}})),{props:({ownerState:l})=>l.startAdornment,style:{paddingLeft:12}},{props:({ownerState:l})=>l.endAdornment,style:{paddingRight:12}},{props:({ownerState:l})=>l.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:l,size:c})=>l.multiline&&c==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel&&l.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),w6=tt(Tm,{name:"MuiFilledInput",slot:"Input",overridesResolver:km})(Qt(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),R1=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:a={},componentsProps:l,fullWidth:c=!1,hiddenLabel:d,inputComponent:f="input",multiline:h=!1,slotProps:g,slots:p={},type:S="text",...b}=n,v={...n,disableUnderline:i,fullWidth:c,inputComponent:f,multiline:h,type:S},k=S6(n),T={root:{ownerState:v},input:{ownerState:v}},A=g??l?Ti(T,g??l):T,w=p.root??a.Root??x6,R=p.input??a.Input??w6;return m.jsx(A1,{slots:{root:w,input:R},slotProps:A,fullWidth:c,inputComponent:f,multiline:h,ref:r,type:S,...b,classes:k})});R1.muiName="Input";var uR;const k6=tt("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Hi})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),C6=tt("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Hi})(Qt(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function T6(t){const{children:e,classes:r,className:n,label:i,notched:a,...l}=t,c=i!=null&&i!=="",d={...t,notched:a,withLabel:c};return m.jsx(k6,{"aria-hidden":!0,className:n,ownerState:d,...l,children:m.jsx(C6,{ownerState:d,children:c?m.jsx("span",{children:i}):uR||(uR=m.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}function E6(t){return tr("MuiOutlinedInput",t)}const ma={...Wo,...nr("MuiOutlinedInput",["root","notchedOutline","input"])},A6=t=>{const{classes:e}=t,n=er({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},E6,e);return{...e,...n}},R6=tt(Cm,{shouldForwardProp:t=>Hi(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:wm})(Qt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${ma.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${ma.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${ma.focused} .${ma.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Dn()).map(([r])=>({props:{color:r},style:{[`&.${ma.focused} .${ma.notchedOutline}`]:{borderColor:(t.vars||t).palette[r].main}}})),{props:{},style:{[`&.${ma.error} .${ma.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${ma.disabled} .${ma.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:14}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:14}},{props:({ownerState:r})=>r.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:r,size:n})=>r.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),O6=tt(T6,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(Qt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),P6=tt(Tm,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:km})(Qt(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),O1=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiOutlinedInput"}),{components:i={},fullWidth:a=!1,inputComponent:l="input",label:c,multiline:d=!1,notched:f,slots:h={},slotProps:g={},type:p="text",...S}=n,b=A6(n),v=qa(),k=Xl({props:n,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),T={...n,color:k.color||"primary",disabled:k.disabled,error:k.error,focused:k.focused,formControl:v,fullWidth:a,hiddenLabel:k.hiddenLabel,multiline:d,size:k.size,type:p},A=h.root??i.Root??R6,w=h.input??i.Input??P6,[R,O]=Sr("notchedOutline",{elementType:O6,className:b.notchedOutline,shouldForwardComponentProp:!0,ownerState:T,externalForwardedProps:{slots:h,slotProps:g},additionalProps:{label:c!=null&&c!==""&&k.required?m.jsxs(x.Fragment,{children:[c,"","*"]}):c}});return m.jsx(A1,{slots:{root:A,input:w},slotProps:g,renderSuffix:M=>m.jsx(R,{...O,notched:typeof f<"u"?f:!!(M.startAdornment||M.filled||M.focused)}),fullWidth:a,inputComponent:l,multiline:d,ref:r,type:p,...S,classes:{...b,notchedOutline:null}})});O1.muiName="Input";function _6(t){return tr("MuiFormLabel",t)}const zf=nr("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),M6=t=>{const{classes:e,color:r,focused:n,disabled:i,error:a,filled:l,required:c}=t,d={root:["root",`color${Ye(r)}`,i&&"disabled",a&&"error",l&&"filled",n&&"focused",c&&"required"],asterisk:["asterisk",a&&"error"]};return er(d,_6,e)},j6=tt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color==="secondary"&&e.colorSecondary,r.filled&&e.filled]}})(Qt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Dn()).map(([e])=>({props:{color:e},style:{[`&.${zf.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${zf.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${zf.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),N6=tt("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(Qt(({theme:t})=>({[`&.${zf.error}`]:{color:(t.vars||t).palette.error.main}}))),So=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiFormLabel"}),{children:i,className:a,color:l,component:c="label",disabled:d,error:f,filled:h,focused:g,required:p,...S}=n,b=qa(),v=Xl({props:n,muiFormControl:b,states:["color","required","focused","disabled","error","filled"]}),k={...n,color:v.color||"primary",component:c,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required},T=M6(k);return m.jsxs(j6,{as:c,ownerState:k,className:wt(T.root,a),ref:r,...S,children:[i,v.required&&m.jsxs(N6,{ownerState:k,"aria-hidden":!0,className:T.asterisk,children:["","*"]})]})});function I6(t){return tr("MuiInputLabel",t)}nr("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const L6=t=>{const{classes:e,formControl:r,size:n,shrink:i,disableAnimation:a,variant:l,required:c}=t,d={root:["root",r&&"formControl",!a&&"animated",i&&"shrink",n&&n!=="normal"&&`size${Ye(n)}`,l],asterisk:[c&&"asterisk"]},f=er(d,I6,e);return{...e,...f}},F6=tt(So,{shouldForwardProp:t=>Hi(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${zf.asterisk}`]:e.asterisk},e.root,r.formControl&&e.formControl,r.size==="small"&&e.sizeSmall,r.shrink&&e.shrink,!r.disableAnimation&&e.animated,r.focused&&e.focused,e[r.variant]]}})(Qt(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:r})=>e==="filled"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:r,size:n})=>e==="filled"&&r.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:r})=>e==="outlined"&&r.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),B6=x.forwardRef(function(e,r){const n=or({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:a,shrink:l,variant:c,className:d,...f}=n,h=qa();let g=l;typeof g>"u"&&h&&(g=h.filled||h.focused||h.adornedStart);const p=Xl({props:n,muiFormControl:h,states:["size","variant","required","focused"]}),S={...n,disableAnimation:i,formControl:h,shrink:g,size:p.size,variant:p.variant,required:p.required,focused:p.focused},b=L6(S);return m.jsx(F6,{"data-shrink":g,ref:r,className:wt(b.root,d),...f,ownerState:S,classes:b})});function $6(t){return tr("MuiFormControl",t)}nr("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const D6=t=>{const{classes:e,margin:r,fullWidth:n}=t,i={root:["root",r!=="none"&&`margin${Ye(r)}`,n&&"fullWidth"]};return er(i,$6,e)},z6=tt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`margin${Ye(r.margin)}`],r.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),xo=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiFormControl"}),{children:i,className:a,color:l="primary",component:c="div",disabled:d=!1,error:f=!1,focused:h,fullWidth:g=!1,hiddenLabel:p=!1,margin:S="none",required:b=!1,size:v="medium",variant:k="outlined",...T}=n,A={...n,color:l,component:c,disabled:d,error:f,fullWidth:g,hiddenLabel:p,margin:S,required:b,size:v,variant:k},w=D6(A),[R,O]=x.useState(()=>{let G=!1;return i&&x.Children.forEach(i,U=>{if(!Lf(U,["Input","Select"]))return;const X=Lf(U,["Select"])?U.props.input:U;X&&f6(X.props)&&(G=!0)}),G}),[M,j]=x.useState(()=>{let G=!1;return i&&x.Children.forEach(i,U=>{Lf(U,["Input","Select"])&&($g(U.props,!0)||$g(U.props.inputProps,!0))&&(G=!0)}),G}),[$,V]=x.useState(!1);d&&$&&V(!1);const N=h!==void 0&&!d?h:$;let W;x.useRef(!1);const z=x.useCallback(()=>{j(!0)},[]),I=x.useCallback(()=>{j(!1)},[]),B=x.useMemo(()=>({adornedStart:R,setAdornedStart:O,color:l,disabled:d,error:f,filled:M,focused:N,fullWidth:g,hiddenLabel:p,size:v,onBlur:()=>{V(!1)},onFocus:()=>{V(!0)},onEmpty:I,onFilled:z,registerEffect:W,required:b,variant:k}),[R,l,d,f,M,N,g,p,W,I,z,b,v,k]);return m.jsx(xm.Provider,{value:B,children:m.jsx(z6,{as:c,ownerState:A,className:wt(w.root,a),ref:r,...T,children:i})})});function U6(t){return tr("MuiFormHelperText",t)}const dR=nr("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var fR;const H6=t=>{const{classes:e,contained:r,size:n,disabled:i,error:a,filled:l,focused:c,required:d}=t,f={root:["root",i&&"disabled",a&&"error",n&&`size${Ye(n)}`,r&&"contained",c&&"focused",l&&"filled",d&&"required"]};return er(f,U6,e)},V6=tt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size&&e[`size${Ye(r.size)}`],r.contained&&e.contained,r.filled&&e.filled]}})(Qt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${dR.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${dR.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),oM=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiFormHelperText"}),{children:i,className:a,component:l="p",disabled:c,error:d,filled:f,focused:h,margin:g,required:p,variant:S,...b}=n,v=qa(),k=Xl({props:n,muiFormControl:v,states:["variant","size","disabled","error","filled","focused","required"]}),T={...n,component:l,contained:k.variant==="filled"||k.variant==="outlined",variant:k.variant,size:k.size,disabled:k.disabled,error:k.error,filled:k.filled,focused:k.focused,required:k.required};delete T.ownerState;const A=H6(T);return m.jsx(V6,{as:l,className:wt(A.root,a),ref:r,...b,ownerState:T,children:i===" "?fR||(fR=m.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})}),za=x.createContext({});function q6(t){return tr("MuiList",t)}nr("MuiList",["root","padding","dense","subheader"]);const W6=t=>{const{classes:e,disablePadding:r,dense:n,subheader:i}=t;return er({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},q6,e)},K6=tt("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disablePadding&&e.padding,r.dense&&e.dense,r.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),Ua=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiList"}),{children:i,className:a,component:l="ul",dense:c=!1,disablePadding:d=!1,subheader:f,...h}=n,g=x.useMemo(()=>({dense:c}),[c]),p={...n,component:l,dense:c,disablePadding:d},S=W6(p);return m.jsx(za.Provider,{value:g,children:m.jsxs(K6,{as:l,className:wt(S.root,a),ref:r,ownerState:p,...h,children:[f,i]})})});function O0(t,e,r){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:r?null:t.firstChild}function pR(t,e,r){return t===e?r?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:r?null:t.lastChild}function aM(t,e){if(e===void 0)return!0;let r=t.innerText;return r===void 0&&(r=t.textContent),r=r.trim().toLowerCase(),r.length===0?!1:e.repeating?r[0]===e.keys[0]:r.startsWith(e.keys.join(""))}function pf(t,e,r,n,i,a){let l=!1,c=i(t,e,e?r:!1);for(;c;){if(c===t.firstChild){if(l)return!1;l=!0}const d=n?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!aM(c,a)||d)c=i(t,c,r);else return c.focus(),!0}return!1}const G6=x.forwardRef(function(e,r){const{actions:n,autoFocus:i=!1,autoFocusItem:a=!1,children:l,className:c,disabledItemsFocusable:d=!1,disableListWrap:f=!1,onKeyDown:h,variant:g="selectedMenu",...p}=e,S=x.useRef(null),b=x.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});uo(()=>{i&&S.current.focus()},[i]),x.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(w,{direction:R})=>{const O=!S.current.style.width;if(w.clientHeight<S.current.clientHeight&&O){const M=`${T2(ta(w))}px`;S.current.style[R==="rtl"?"paddingLeft":"paddingRight"]=M,S.current.style.width=`calc(100% + ${M})`}return S.current}}),[]);const v=w=>{const R=S.current,O=w.key;if(w.ctrlKey||w.metaKey||w.altKey){h&&h(w);return}const j=Ui(R).activeElement;if(O==="ArrowDown")w.preventDefault(),pf(R,j,f,d,O0);else if(O==="ArrowUp")w.preventDefault(),pf(R,j,f,d,pR);else if(O==="Home")w.preventDefault(),pf(R,null,f,d,O0);else if(O==="End")w.preventDefault(),pf(R,null,f,d,pR);else if(O.length===1){const $=b.current,V=O.toLowerCase(),N=performance.now();$.keys.length>0&&(N-$.lastTime>500?($.keys=[],$.repeating=!0,$.previousKeyMatched=!0):$.repeating&&V!==$.keys[0]&&($.repeating=!1)),$.lastTime=N,$.keys.push(V);const W=j&&!$.repeating&&aM(j,$);$.previousKeyMatched&&(W||pf(R,j,!1,d,O0,$))?w.preventDefault():$.previousKeyMatched=!1}h&&h(w)},k=Jn(S,r);let T=-1;x.Children.forEach(l,(w,R)=>{if(!x.isValidElement(w)){T===R&&(T+=1,T>=l.length&&(T=-1));return}w.props.disabled||(g==="selectedMenu"&&w.props.selected||T===-1)&&(T=R),T===R&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(T+=1,T>=l.length&&(T=-1))});const A=x.Children.map(l,(w,R)=>{if(R===T){const O={};return a&&(O.autoFocus=!0),w.props.tabIndex===void 0&&g==="selectedMenu"&&(O.tabIndex=0),x.cloneElement(w,O)}return w});return m.jsx(Ua,{role:"menu",ref:k,className:c,onKeyDown:v,tabIndex:i?0:-1,...p,children:A})});function Y6(t){const e=Ui(t);return e.body===t?ta(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Uf(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function hR(t){return parseInt(ta(t).getComputedStyle(t).paddingRight,10)||0}function X6(t){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),n=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return r||n}function gR(t,e,r,n,i){const a=[e,r,...n];[].forEach.call(t.children,l=>{const c=!a.includes(l),d=!X6(l);c&&d&&Uf(l,i)})}function P0(t,e){let r=-1;return t.some((n,i)=>e(n)?(r=i,!0):!1),r}function Z6(t,e){const r=[],n=t.container;if(!e.disableScrollLock){if(Y6(n)){const l=T2(ta(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${hR(n)+l}px`;const c=Ui(n).querySelectorAll(".mui-fixed");[].forEach.call(c,d=>{r.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${hR(d)+l}px`})}let a;if(n.parentNode instanceof DocumentFragment)a=Ui(n).body;else{const l=n.parentElement,c=ta(n);a=l?.nodeName==="HTML"&&c.getComputedStyle(l).overflowY==="scroll"?l:n}r.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{r.forEach(({value:a,el:l,property:c})=>{a?l.style.setProperty(c,a):l.style.removeProperty(c)})}}function Q6(t){const e=[];return[].forEach.call(t.children,r=>{r.getAttribute("aria-hidden")==="true"&&e.push(r)}),e}class J6{constructor(){this.modals=[],this.containers=[]}add(e,r){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Uf(e.modalRef,!1);const i=Q6(r);gR(r,e.mount,e.modalRef,i,!0);const a=P0(this.containers,l=>l.container===r);return a!==-1?(this.containers[a].modals.push(e),n):(this.containers.push({modals:[e],container:r,restore:null,hiddenSiblings:i}),n)}mount(e,r){const n=P0(this.containers,a=>a.modals.includes(e)),i=this.containers[n];i.restore||(i.restore=Z6(i,r))}remove(e,r=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const i=P0(this.containers,l=>l.modals.includes(e)),a=this.containers[i];if(a.modals.splice(a.modals.indexOf(e),1),this.modals.splice(n,1),a.modals.length===0)a.restore&&a.restore(),e.modalRef&&Uf(e.modalRef,r),gR(a.container,e.mount,e.modalRef,a.hiddenSiblings,!1),this.containers.splice(i,1);else{const l=a.modals[a.modals.length-1];l.modalRef&&Uf(l.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const e9=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function t9(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function r9(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=n=>t.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=e(`[name="${t.name}"]:checked`);return r||(r=e(`[name="${t.name}"]`)),r!==t}function n9(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||r9(t))}function i9(t){const e=[],r=[];return Array.from(t.querySelectorAll(e9)).forEach((n,i)=>{const a=t9(n);a===-1||!n9(n)||(a===0?e.push(n):r.push({documentOrder:i,tabIndex:a,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(e)}function o9(){return!0}function a9(t){const{children:e,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:a=i9,isEnabled:l=o9,open:c}=t,d=x.useRef(!1),f=x.useRef(null),h=x.useRef(null),g=x.useRef(null),p=x.useRef(null),S=x.useRef(!1),b=x.useRef(null),v=Jn(Fc(e),b),k=x.useRef(null);x.useEffect(()=>{!c||!b.current||(S.current=!r)},[r,c]),x.useEffect(()=>{if(!c||!b.current)return;const w=Ui(b.current);return b.current.contains(w.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex","-1"),S.current&&b.current.focus()),()=>{i||(g.current&&g.current.focus&&(d.current=!0,g.current.focus()),g.current=null)}},[c]),x.useEffect(()=>{if(!c||!b.current)return;const w=Ui(b.current),R=j=>{k.current=j,!(n||!l()||j.key!=="Tab")&&w.activeElement===b.current&&j.shiftKey&&(d.current=!0,h.current&&h.current.focus())},O=()=>{const j=b.current;if(j===null)return;if(!w.hasFocus()||!l()||d.current){d.current=!1;return}if(j.contains(w.activeElement)||n&&w.activeElement!==f.current&&w.activeElement!==h.current)return;if(w.activeElement!==p.current)p.current=null;else if(p.current!==null)return;if(!S.current)return;let $=[];if((w.activeElement===f.current||w.activeElement===h.current)&&($=a(b.current)),$.length>0){const V=!!(k.current?.shiftKey&&k.current?.key==="Tab"),N=$[0],W=$[$.length-1];typeof N!="string"&&typeof W!="string"&&(V?W.focus():N.focus())}else j.focus()};w.addEventListener("focusin",O),w.addEventListener("keydown",R,!0);const M=setInterval(()=>{w.activeElement&&w.activeElement.tagName==="BODY"&&O()},50);return()=>{clearInterval(M),w.removeEventListener("focusin",O),w.removeEventListener("keydown",R,!0)}},[r,n,i,l,c,a]);const T=w=>{g.current===null&&(g.current=w.relatedTarget),S.current=!0,p.current=w.target;const R=e.props.onFocus;R&&R(w)},A=w=>{g.current===null&&(g.current=w.relatedTarget),S.current=!0};return m.jsxs(x.Fragment,{children:[m.jsx("div",{tabIndex:c?0:-1,onFocus:A,ref:f,"data-testid":"sentinelStart"}),x.cloneElement(e,{ref:v,onFocus:T}),m.jsx("div",{tabIndex:c?0:-1,onFocus:A,ref:h,"data-testid":"sentinelEnd"})]})}function s9(t){return typeof t=="function"?t():t}const sM=x.forwardRef(function(e,r){const{children:n,container:i,disablePortal:a=!1}=e,[l,c]=x.useState(null),d=Jn(x.isValidElement(n)?Fc(n):null,r);if(uo(()=>{a||c(s9(i)||document.body)},[i,a]),uo(()=>{if(l&&!a)return HS(r,l),()=>{HS(r,null)}},[r,l,a]),a){if(x.isValidElement(n)){const f={ref:d};return x.cloneElement(n,f)}return n}return l&&W_.createPortal(n,l)}),l9={entering:{opacity:1},entered:{opacity:1}},jc=x.forwardRef(function(e,r){const n=fo(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:l=!0,children:c,easing:d,in:f,onEnter:h,onEntered:g,onEntering:p,onExit:S,onExited:b,onExiting:v,style:k,timeout:T=i,TransitionComponent:A=Va,...w}=e,R=x.useRef(null),O=Jn(R,Fc(c),r),M=B=>G=>{if(B){const U=R.current;G===void 0?B(U):B(U,G)}},j=M(p),$=M((B,G)=>{C1(B);const U=td({style:k,timeout:T,easing:d},{mode:"enter"});B.style.webkitTransition=n.transitions.create("opacity",U),B.style.transition=n.transitions.create("opacity",U),h&&h(B,G)}),V=M(g),N=M(v),W=M(B=>{const G=td({style:k,timeout:T,easing:d},{mode:"exit"});B.style.webkitTransition=n.transitions.create("opacity",G),B.style.transition=n.transitions.create("opacity",G),S&&S(B)}),z=M(b),I=B=>{a&&a(R.current,B)};return m.jsx(A,{appear:l,in:f,nodeRef:R,onEnter:$,onEntered:V,onEntering:j,onExit:W,onExited:z,onExiting:N,addEndListener:I,timeout:T,...w,children:(B,{ownerState:G,...U})=>x.cloneElement(c,{style:{opacity:0,visibility:B==="exited"&&!f?"hidden":void 0,...l9[B],...k,...c.props.style},ref:O,...U})})});function c9(t){return tr("MuiBackdrop",t)}nr("MuiBackdrop",["root","invisible"]);const u9=t=>{const{classes:e,invisible:r}=t;return er({root:["root",r&&"invisible"]},c9,e)},d9=tt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),lM=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiBackdrop"}),{children:i,className:a,component:l="div",invisible:c=!1,open:d,components:f={},componentsProps:h={},slotProps:g={},slots:p={},TransitionComponent:S,transitionDuration:b,...v}=n,k={...n,component:l,invisible:c},T=u9(k),A={transition:S,root:f.Root,...p},w={...h,...g},R={slots:A,slotProps:w},[O,M]=Sr("root",{elementType:d9,externalForwardedProps:R,className:wt(T.root,a),ownerState:k}),[j,$]=Sr("transition",{elementType:jc,externalForwardedProps:R,ownerState:k});return m.jsx(j,{in:d,timeout:b,...v,...$,children:m.jsx(O,{"aria-hidden":!0,...M,classes:T,ref:r,children:i})})});function f9(t){return typeof t=="function"?t():t}function p9(t){return t?t.props.hasOwnProperty("in"):!1}const mR=()=>{},Gh=new J6;function h9(t){const{container:e,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,closeAfterTransition:i=!1,onTransitionEnter:a,onTransitionExited:l,children:c,onClose:d,open:f,rootRef:h}=t,g=x.useRef({}),p=x.useRef(null),S=x.useRef(null),b=Jn(S,h),[v,k]=x.useState(!f),T=p9(c);let A=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(A=!1);const w=()=>Ui(p.current),R=()=>(g.current.modalRef=S.current,g.current.mount=p.current,g.current),O=()=>{Gh.mount(R(),{disableScrollLock:n}),S.current&&(S.current.scrollTop=0)},M=_i(()=>{const G=f9(e)||w().body;Gh.add(R(),G),S.current&&O()}),j=()=>Gh.isTopModal(R()),$=_i(G=>{p.current=G,G&&(f&&j()?O():S.current&&Uf(S.current,A))}),V=x.useCallback(()=>{Gh.remove(R(),A)},[A]);x.useEffect(()=>()=>{V()},[V]),x.useEffect(()=>{f?M():(!T||!i)&&V()},[f,V,T,i,M]);const N=G=>U=>{G.onKeyDown?.(U),!(U.key!=="Escape"||U.which===229||!j())&&(r||(U.stopPropagation(),d&&d(U,"escapeKeyDown")))},W=G=>U=>{G.onClick?.(U),U.target===U.currentTarget&&d&&d(U,"backdropClick")};return{getRootProps:(G={})=>{const U=Ff(t);delete U.onTransitionEnter,delete U.onTransitionExited;const X={...U,...G};return{role:"presentation",...X,onKeyDown:N(X),ref:b}},getBackdropProps:(G={})=>{const U=G;return{"aria-hidden":!0,...U,onClick:W(U),open:f}},getTransitionProps:()=>{const G=()=>{k(!1),a&&a()},U=()=>{k(!0),l&&l(),i&&V()};return{onEnter:US(G,c?.props.onEnter??mR),onExited:US(U,c?.props.onExited??mR)}},rootRef:b,portalRef:$,isTopModal:j,exited:v,hasTransition:T}}function g9(t){return tr("MuiModal",t)}nr("MuiModal",["root","hidden","backdrop"]);const m9=t=>{const{open:e,exited:r,classes:n}=t;return er({root:["root",!e&&r&&"hidden"],backdrop:["backdrop"]},g9,n)},y9=tt("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.open&&r.exited&&e.hidden]}})(Qt(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),b9=tt(lM,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Am=x.forwardRef(function(e,r){const n=or({name:"MuiModal",props:e}),{BackdropComponent:i=b9,BackdropProps:a,classes:l,className:c,closeAfterTransition:d=!1,children:f,container:h,component:g,components:p={},componentsProps:S={},disableAutoFocus:b=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:k=!1,disablePortal:T=!1,disableRestoreFocus:A=!1,disableScrollLock:w=!1,hideBackdrop:R=!1,keepMounted:O=!1,onBackdropClick:M,onClose:j,onTransitionEnter:$,onTransitionExited:V,open:N,slotProps:W={},slots:z={},theme:I,...B}=n,G={...n,closeAfterTransition:d,disableAutoFocus:b,disableEnforceFocus:v,disableEscapeKeyDown:k,disablePortal:T,disableRestoreFocus:A,disableScrollLock:w,hideBackdrop:R,keepMounted:O},{getRootProps:U,getBackdropProps:X,getTransitionProps:q,portalRef:Z,isTopModal:F,exited:D,hasTransition:J}=h9({...G,rootRef:r}),ee={...G,exited:D},te=m9(ee),ie={};if(f.props.tabIndex===void 0&&(ie.tabIndex="-1"),J){const{onEnter:we,onExited:ue}=q();ie.onEnter=we,ie.onExited=ue}const oe={slots:{root:p.Root,backdrop:p.Backdrop,...z},slotProps:{...S,...W}},[ke,ve]=Sr("root",{ref:r,elementType:y9,externalForwardedProps:{...oe,...B,component:g},getSlotProps:U,ownerState:ee,className:wt(c,te?.root,!ee.open&&ee.exited&&te?.hidden)}),[Q,de]=Sr("backdrop",{ref:a?.ref,elementType:i,externalForwardedProps:oe,shouldForwardComponentProp:!0,additionalProps:a,getSlotProps:we=>X({...we,onClick:ue=>{M&&M(ue),we?.onClick&&we.onClick(ue)}}),className:wt(a?.className,te?.backdrop),ownerState:ee});return!O&&!N&&(!J||D)?null:m.jsx(sM,{ref:Z,container:h,disablePortal:T,children:m.jsxs(ke,{...ve,children:[!R&&i?m.jsx(Q,{...de}):null,m.jsx(a9,{disableEnforceFocus:v,disableAutoFocus:b,disableRestoreFocus:A,isEnabled:F,open:N,children:x.cloneElement(f,ie)})]})})});function v9(t){return tr("MuiPopover",t)}nr("MuiPopover",["root","paper"]);function yR(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.height/2:e==="bottom"&&(r=t.height),r}function bR(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.width/2:e==="right"&&(r=t.width),r}function vR(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Yh(t){return typeof t=="function"?t():t}const S9=t=>{const{classes:e}=t;return er({root:["root"],paper:["paper"]},v9,e)},x9=tt(Am,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),cM=tt(Ei,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ys=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiPopover"}),{action:i,anchorEl:a,anchorOrigin:l={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:f,className:h,container:g,elevation:p=8,marginThreshold:S=16,open:b,PaperProps:v={},slots:k={},slotProps:T={},transformOrigin:A={vertical:"top",horizontal:"left"},TransitionComponent:w,transitionDuration:R="auto",TransitionProps:O={},disableScrollLock:M=!1,...j}=n,$=x.useRef(),V={...n,anchorOrigin:l,anchorReference:d,elevation:p,marginThreshold:S,transformOrigin:A,TransitionComponent:w,transitionDuration:R,TransitionProps:O},N=S9(V),W=x.useCallback(()=>{if(d==="anchorPosition")return c;const de=Yh(a),ue=(de&&de.nodeType===1?de:Ui($.current).body).getBoundingClientRect();return{top:ue.top+yR(ue,l.vertical),left:ue.left+bR(ue,l.horizontal)}},[a,l.horizontal,l.vertical,c,d]),z=x.useCallback(de=>({vertical:yR(de,A.vertical),horizontal:bR(de,A.horizontal)}),[A.horizontal,A.vertical]),I=x.useCallback(de=>{const we={width:de.offsetWidth,height:de.offsetHeight},ue=z(we);if(d==="none")return{top:null,left:null,transformOrigin:vR(ue)};const rt=W();let ye=rt.top-ue.vertical,Le=rt.left-ue.horizontal;const ut=ye+we.height,Be=Le+we.width,bt=ta(Yh(a)),Ot=bt.innerHeight-S,Mt=bt.innerWidth-S;if(S!==null&&ye<S){const et=ye-S;ye-=et,ue.vertical+=et}else if(S!==null&&ut>Ot){const et=ut-Ot;ye-=et,ue.vertical+=et}if(S!==null&&Le<S){const et=Le-S;Le-=et,ue.horizontal+=et}else if(Be>Mt){const et=Be-Mt;Le-=et,ue.horizontal+=et}return{top:`${Math.round(ye)}px`,left:`${Math.round(Le)}px`,transformOrigin:vR(ue)}},[a,d,W,z,S]),[B,G]=x.useState(b),U=x.useCallback(()=>{const de=$.current;if(!de)return;const we=I(de);we.top!==null&&de.style.setProperty("top",we.top),we.left!==null&&(de.style.left=we.left),de.style.transformOrigin=we.transformOrigin,G(!0)},[I]);x.useEffect(()=>(M&&window.addEventListener("scroll",U),()=>window.removeEventListener("scroll",U)),[a,M,U]);const X=()=>{U()},q=()=>{G(!1)};x.useEffect(()=>{b&&U()}),x.useImperativeHandle(i,()=>b?{updatePosition:()=>{U()}}:null,[b,U]),x.useEffect(()=>{if(!b)return;const de=fp(()=>{U()}),we=ta(Yh(a));return we.addEventListener("resize",de),()=>{de.clear(),we.removeEventListener("resize",de)}},[a,b,U]);let Z=R;const F={slots:{transition:w,...k},slotProps:{transition:O,paper:v,...T}},[D,J]=Sr("transition",{elementType:ep,externalForwardedProps:F,ownerState:V,getSlotProps:de=>({...de,onEntering:(we,ue)=>{de.onEntering?.(we,ue),X()},onExited:we=>{de.onExited?.(we),q()}}),additionalProps:{appear:!0,in:b}});R==="auto"&&!D.muiSupportAuto&&(Z=void 0);const ee=g||(a?Ui(Yh(a)).body:void 0),[te,{slots:ie,slotProps:oe,...ke}]=Sr("root",{ref:r,elementType:x9,externalForwardedProps:{...F,...j},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:k.backdrop},slotProps:{backdrop:x1(typeof T.backdrop=="function"?T.backdrop(V):T.backdrop,{invisible:!0})},container:ee,open:b},ownerState:V,className:wt(N.root,h)}),[ve,Q]=Sr("paper",{ref:$,className:N.paper,elementType:cM,externalForwardedProps:F,shouldForwardComponentProp:!0,additionalProps:{elevation:p,style:B?void 0:{opacity:0}},ownerState:V});return m.jsx(te,{...ke,...!Vs(te)&&{slots:ie,slotProps:oe,disableScrollLock:M},children:m.jsx(D,{...J,timeout:Z,children:m.jsx(ve,{...Q,children:f})})})});function w9(t){return tr("MuiMenu",t)}nr("MuiMenu",["root","paper","list"]);const k9={vertical:"top",horizontal:"right"},C9={vertical:"top",horizontal:"left"},T9=t=>{const{classes:e}=t;return er({root:["root"],paper:["paper"],list:["list"]},w9,e)},E9=tt(Ys,{shouldForwardProp:t=>Hi(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),A9=tt(cM,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),R9=tt(G6,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),uM=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:d={},onClose:f,open:h,PaperProps:g={},PopoverClasses:p,transitionDuration:S="auto",TransitionProps:{onEntering:b,...v}={},variant:k="selectedMenu",slots:T={},slotProps:A={},...w}=n,R=Bc(),O={...n,autoFocus:i,disableAutoFocusItem:c,MenuListProps:d,onEntering:b,PaperProps:g,transitionDuration:S,TransitionProps:v,variant:k},M=T9(O),j=i&&!c&&h,$=x.useRef(null),V=(Z,F)=>{$.current&&$.current.adjustStyleForScrollbar(Z,{direction:R?"rtl":"ltr"}),b&&b(Z,F)},N=Z=>{Z.key==="Tab"&&(Z.preventDefault(),f&&f(Z,"tabKeyDown"))};let W=-1;x.Children.map(a,(Z,F)=>{x.isValidElement(Z)&&(Z.props.disabled||(k==="selectedMenu"&&Z.props.selected||W===-1)&&(W=F))});const z={slots:T,slotProps:{list:d,transition:v,paper:g,...A}},I=Oo({elementType:T.root,externalSlotProps:A.root,ownerState:O,className:[M.root,l]}),[B,G]=Sr("paper",{className:M.paper,elementType:A9,externalForwardedProps:z,shouldForwardComponentProp:!0,ownerState:O}),[U,X]=Sr("list",{className:wt(M.list,d.className),elementType:R9,shouldForwardComponentProp:!0,externalForwardedProps:z,getSlotProps:Z=>({...Z,onKeyDown:F=>{N(F),Z.onKeyDown?.(F)}}),ownerState:O}),q=typeof z.slotProps.transition=="function"?z.slotProps.transition(O):z.slotProps.transition;return m.jsx(E9,{onClose:f,anchorOrigin:{vertical:"bottom",horizontal:R?"right":"left"},transformOrigin:R?k9:C9,slots:{root:T.root,paper:B,backdrop:T.backdrop,...T.transition&&{transition:T.transition}},slotProps:{root:I,paper:G,backdrop:typeof A.backdrop=="function"?A.backdrop(O):A.backdrop,transition:{...q,onEntering:(...Z)=>{V(...Z),q?.onEntering?.(...Z)}}},open:h,ref:r,transitionDuration:S,ownerState:O,...w,classes:p,children:m.jsx(U,{actions:$,autoFocus:i&&(W===-1||c),autoFocusItem:j,variant:k,...X,children:a})})});function O9(t){return tr("MuiNativeSelect",t)}const P1=nr("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),P9=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:a,error:l}=t,c={select:["select",r,n&&"disabled",i&&"multiple",l&&"error"],icon:["icon",`icon${Ye(r)}`,a&&"iconOpen",n&&"disabled"]};return er(c,O9,e)},dM=tt("select",{name:"MuiNativeSelect"})(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${P1.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),_9=tt(dM,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Hi,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.select,e[r.variant],r.error&&e.error,{[`&.${P1.multiple}`]:e.multiple}]}})({}),fM=tt("svg",{name:"MuiNativeSelect"})(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${P1.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),M9=tt(fM,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${Ye(r.variant)}`],r.open&&e.iconOpen]}})({}),j9=x.forwardRef(function(e,r){const{className:n,disabled:i,error:a,IconComponent:l,inputRef:c,variant:d="standard",...f}=e,h={...e,disabled:i,variant:d,error:a},g=P9(h);return m.jsxs(x.Fragment,{children:[m.jsx(_9,{ownerState:h,className:wt(g.select,n),disabled:i,ref:c||r,...f}),e.multiple?null:m.jsx(M9,{as:l,ownerState:h,className:g.icon})]})});function pM(t){return tr("MuiSelect",t)}const hf=nr("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var SR;const N9=tt(dM,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`&.${hf.select}`]:e.select},{[`&.${hf.select}`]:e[r.variant]},{[`&.${hf.error}`]:e.error},{[`&.${hf.multiple}`]:e.multiple}]}})({[`&.${hf.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),I9=tt(fM,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${Ye(r.variant)}`],r.open&&e.iconOpen]}})({}),L9=tt("input",{shouldForwardProp:t=>Sm(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function xR(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function F9(t){return t==null||typeof t=="string"&&!t.trim()}const B9=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:a,error:l}=t,c={select:["select",r,n&&"disabled",i&&"multiple",l&&"error"],icon:["icon",`icon${Ye(r)}`,a&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return er(c,pM,e)},$9=x.forwardRef(function(e,r){const{"aria-describedby":n,"aria-label":i,autoFocus:a,autoWidth:l,children:c,className:d,defaultOpen:f,defaultValue:h,disabled:g,displayEmpty:p,error:S=!1,IconComponent:b,inputRef:v,labelId:k,MenuProps:T={},multiple:A,name:w,onBlur:R,onChange:O,onClose:M,onFocus:j,onOpen:$,open:V,readOnly:N,renderValue:W,required:z,SelectDisplayProps:I={},tabIndex:B,type:G,value:U,variant:X="standard",...q}=e,[Z,F]=Hs({controlled:U,default:h,name:"Select"}),[D,J]=Hs({controlled:V,default:f,name:"Select"}),ee=x.useRef(null),te=x.useRef(null),[ie,oe]=x.useState(null),{current:ke}=x.useRef(V!=null),[ve,Q]=x.useState(),de=Jn(r,v),we=x.useCallback(le=>{te.current=le,le&&oe(le)},[]),ue=ie?.parentNode;x.useImperativeHandle(de,()=>({focus:()=>{te.current.focus()},node:ee.current,value:Z}),[Z]),x.useEffect(()=>{f&&D&&ie&&!ke&&(Q(l?null:ue.clientWidth),te.current.focus())},[ie,l]),x.useEffect(()=>{a&&te.current.focus()},[a]),x.useEffect(()=>{if(!k)return;const le=Ui(te.current).getElementById(k);if(le){const st=()=>{getSelection().isCollapsed&&te.current.focus()};return le.addEventListener("click",st),()=>{le.removeEventListener("click",st)}}},[k]);const rt=(le,st)=>{le?$&&$(st):M&&M(st),ke||(Q(l?null:ue.clientWidth),J(le))},ye=le=>{le.button===0&&(le.preventDefault(),te.current.focus(),rt(!0,le))},Le=le=>{rt(!1,le)},ut=x.Children.toArray(c),Be=le=>{const st=ut.find($e=>$e.props.value===le.target.value);st!==void 0&&(F(st.props.value),O&&O(le,st))},bt=le=>st=>{let $e;if(st.currentTarget.hasAttribute("tabindex")){if(A){$e=Array.isArray(Z)?Z.slice():[];const Xt=Z.indexOf(le.props.value);Xt===-1?$e.push(le.props.value):$e.splice(Xt,1)}else $e=le.props.value;if(le.props.onClick&&le.props.onClick(st),Z!==$e&&(F($e),O)){const Xt=st.nativeEvent||st,Et=new Xt.constructor(Xt.type,Xt);Object.defineProperty(Et,"target",{writable:!0,value:{value:$e,name:w}}),O(Et,le)}A||rt(!1,st)}},Ot=le=>{N||[" ","ArrowUp","ArrowDown","Enter"].includes(le.key)&&(le.preventDefault(),rt(!0,le))},Mt=ie!==null&&D,et=le=>{!Mt&&R&&(Object.defineProperty(le,"target",{writable:!0,value:{value:Z,name:w}}),R(le))};delete q["aria-invalid"];let ht,Bt;const _t=[];let it=!1;($g({value:Z})||p)&&(W?ht=W(Z):it=!0);const je=ut.map(le=>{if(!x.isValidElement(le))return null;let st;if(A){if(!Array.isArray(Z))throw new Error(qs(2));st=Z.some($e=>xR($e,le.props.value)),st&&it&&_t.push(le.props.children)}else st=xR(Z,le.props.value),st&&it&&(Bt=le.props.children);return x.cloneElement(le,{"aria-selected":st?"true":"false",onClick:bt(le),onKeyUp:$e=>{$e.key===" "&&$e.preventDefault(),le.props.onKeyUp&&le.props.onKeyUp($e)},role:"option",selected:st,value:void 0,"data-value":le.props.value})});it&&(A?_t.length===0?ht=null:ht=_t.reduce((le,st,$e)=>(le.push(st),$e<_t.length-1&&le.push(", "),le),[]):ht=Bt);let qe=ve;!l&&ke&&ie&&(qe=ue.clientWidth);let Oe;typeof B<"u"?Oe=B:Oe=g?null:0;const ot=I.id||(w?`mui-component-select-${w}`:void 0),Se={...e,variant:X,value:Z,open:Mt,error:S},vt=B9(Se),Pt={...T.PaperProps,...T.slotProps?.paper},se=Zs();return m.jsxs(x.Fragment,{children:[m.jsx(N9,{as:"div",ref:we,tabIndex:Oe,role:"combobox","aria-controls":Mt?se:void 0,"aria-disabled":g?"true":void 0,"aria-expanded":Mt?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[k,ot].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":z?"true":void 0,"aria-invalid":S?"true":void 0,onKeyDown:Ot,onMouseDown:g||N?null:ye,onBlur:et,onFocus:j,...I,ownerState:Se,className:wt(I.className,vt.select,d),id:ot,children:F9(ht)?SR||(SR=m.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):ht}),m.jsx(L9,{"aria-invalid":S,value:Array.isArray(Z)?Z.join(","):Z,name:w,ref:ee,"aria-hidden":!0,onChange:Be,tabIndex:-1,disabled:g,className:vt.nativeInput,autoFocus:a,required:z,...q,ownerState:Se}),m.jsx(I9,{as:b,className:vt.icon,ownerState:Se}),m.jsx(uM,{id:`menu-${w||""}`,anchorEl:ue,open:Mt,onClose:Le,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...T,slotProps:{...T.slotProps,list:{"aria-labelledby":k,role:"listbox","aria-multiselectable":A?"true":void 0,disableListWrap:!0,id:se,...T.MenuListProps},paper:{...Pt,style:{minWidth:qe,...Pt!=null?Pt.style:null}}},children:je})]})}),hM=lr(m.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),D9=t=>{const{classes:e}=t,n=er({root:["root"]},pM,e);return{...e,...n}},_1={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Hi(t)&&t!=="variant",slot:"Root"},z9=tt(Em,_1)(""),U9=tt(O1,_1)(""),H9=tt(R1,_1)(""),gM=x.forwardRef(function(e,r){const n=or({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:a,classes:l={},className:c,defaultOpen:d=!1,displayEmpty:f=!1,IconComponent:h=hM,id:g,input:p,inputProps:S,label:b,labelId:v,MenuProps:k,multiple:T=!1,native:A=!1,onClose:w,onOpen:R,open:O,renderValue:M,SelectDisplayProps:j,variant:$="outlined",...V}=n,N=A?j9:$9,W=qa(),z=Xl({props:n,muiFormControl:W,states:["variant","error"]}),I=z.variant||$,B={...n,variant:I,classes:l},G=D9(B),{root:U,...X}=G,q=p||{standard:m.jsx(z9,{ownerState:B}),outlined:m.jsx(U9,{label:b,ownerState:B}),filled:m.jsx(H9,{ownerState:B})}[I],Z=Jn(r,Fc(q));return m.jsx(x.Fragment,{children:x.cloneElement(q,{inputComponent:N,inputProps:{children:a,error:z.error,IconComponent:h,variant:I,type:void 0,multiple:T,...A?{id:g}:{autoWidth:i,defaultOpen:d,displayEmpty:f,labelId:v,MenuProps:k,onClose:w,onOpen:R,open:O,renderValue:M,SelectDisplayProps:{id:g,...j}},...S,classes:S?Ti(X,S.classes):X,...p?p.props.inputProps:{}},...(T&&A||f)&&I==="outlined"?{notched:!0}:{},ref:Z,className:wt(q.props.className,c,G.root),...!p&&{variant:I},...V})})});gM.muiName="Select";function V9(t){return tr("MuiTextField",t)}nr("MuiTextField",["root"]);const q9={standard:Em,filled:R1,outlined:O1},W9=t=>{const{classes:e}=t;return er({root:["root"]},V9,e)},K9=tt(xo,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ra=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:a=!1,children:l,className:c,color:d="primary",defaultValue:f,disabled:h=!1,error:g=!1,FormHelperTextProps:p,fullWidth:S=!1,helperText:b,id:v,InputLabelProps:k,inputProps:T,InputProps:A,inputRef:w,label:R,maxRows:O,minRows:M,multiline:j=!1,name:$,onBlur:V,onChange:N,onFocus:W,placeholder:z,required:I=!1,rows:B,select:G=!1,SelectProps:U,slots:X={},slotProps:q={},type:Z,value:F,variant:D="outlined",...J}=n,ee={...n,autoFocus:a,color:d,disabled:h,error:g,fullWidth:S,multiline:j,required:I,select:G,variant:D},te=W9(ee),ie=Zs(v),oe=b&&ie?`${ie}-helper-text`:void 0,ke=R&&ie?`${ie}-label`:void 0,ve=q9[D],Q={slots:X,slotProps:{input:A,inputLabel:k,htmlInput:T,formHelperText:p,select:U,...q}},de={},we=Q.slotProps.inputLabel;D==="outlined"&&(we&&typeof we.shrink<"u"&&(de.notched=we.shrink),de.label=R),G&&((!U||!U.native)&&(de.id=void 0),de["aria-describedby"]=void 0);const[ue,rt]=Sr("root",{elementType:K9,shouldForwardComponentProp:!0,externalForwardedProps:{...Q,...J},ownerState:ee,className:wt(te.root,c),ref:r,additionalProps:{disabled:h,error:g,fullWidth:S,required:I,color:d,variant:D}}),[ye,Le]=Sr("input",{elementType:ve,externalForwardedProps:Q,additionalProps:de,ownerState:ee}),[ut,Be]=Sr("inputLabel",{elementType:B6,externalForwardedProps:Q,ownerState:ee}),[bt,Ot]=Sr("htmlInput",{elementType:"input",externalForwardedProps:Q,ownerState:ee}),[Mt,et]=Sr("formHelperText",{elementType:oM,externalForwardedProps:Q,ownerState:ee}),[ht,Bt]=Sr("select",{elementType:gM,externalForwardedProps:Q,ownerState:ee}),_t=m.jsx(ye,{"aria-describedby":oe,autoComplete:i,autoFocus:a,defaultValue:f,fullWidth:S,multiline:j,name:$,rows:B,maxRows:O,minRows:M,type:Z,value:F,id:ie,inputRef:w,onBlur:V,onChange:N,onFocus:W,placeholder:z,inputProps:Ot,slots:{input:X.htmlInput?bt:void 0},...Le});return m.jsxs(ue,{...rt,children:[R!=null&&R!==""&&m.jsx(ut,{htmlFor:ie,id:ke,...Be,children:R}),G?m.jsx(ht,{"aria-describedby":oe,id:ie,labelId:ke,value:F,input:_t,...Bt,children:l}):_t,b&&m.jsx(Mt,{id:oe,...et,children:b})]})});function G9(t){return tr("MuiDialog",t)}const _0=nr("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),mM=x.createContext({}),Y9=tt(lM,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),X9=t=>{const{classes:e,scroll:r,maxWidth:n,fullWidth:i,fullScreen:a}=t,l={root:["root"],container:["container",`scroll${Ye(r)}`],paper:["paper",`paperScroll${Ye(r)}`,`paperWidth${Ye(String(n))}`,i&&"paperFullWidth",a&&"paperFullScreen"]};return er(l,G9,e)},Z9=tt(Am,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),Q9=tt("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.container,e[`scroll${Ye(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),J9=tt(Ei,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`scrollPaper${Ye(r.scroll)}`],e[`paperWidth${Ye(String(r.maxWidth))}`],r.fullWidth&&e.paperFullWidth,r.fullScreen&&e.paperFullScreen]}})(Qt(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${_0.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${_0.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${_0.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Cp=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiDialog"}),i=fo(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":c,"aria-modal":d=!0,BackdropComponent:f,BackdropProps:h,children:g,className:p,disableEscapeKeyDown:S=!1,fullScreen:b=!1,fullWidth:v=!1,maxWidth:k="sm",onBackdropClick:T,onClick:A,onClose:w,open:R,PaperComponent:O=Ei,PaperProps:M={},scroll:j="paper",slots:$={},slotProps:V={},TransitionComponent:N=jc,transitionDuration:W=a,TransitionProps:z,...I}=n,B={...n,disableEscapeKeyDown:S,fullScreen:b,fullWidth:v,maxWidth:k,scroll:j},G=X9(B),U=x.useRef(),X=ye=>{U.current=ye.target===ye.currentTarget},q=ye=>{A&&A(ye),U.current&&(U.current=null,T&&T(ye),w&&w(ye,"backdropClick"))},Z=Zs(c),F=x.useMemo(()=>({titleId:Z}),[Z]),D={transition:N,...$},J={transition:z,paper:M,backdrop:h,...V},ee={slots:D,slotProps:J},[te,ie]=Sr("root",{elementType:Z9,shouldForwardComponentProp:!0,externalForwardedProps:ee,ownerState:B,className:wt(G.root,p),ref:r}),[oe,ke]=Sr("backdrop",{elementType:Y9,shouldForwardComponentProp:!0,externalForwardedProps:ee,ownerState:B}),[ve,Q]=Sr("paper",{elementType:J9,shouldForwardComponentProp:!0,externalForwardedProps:ee,ownerState:B,className:wt(G.paper,M.className)}),[de,we]=Sr("container",{elementType:Q9,externalForwardedProps:ee,ownerState:B,className:wt(G.container)}),[ue,rt]=Sr("transition",{elementType:jc,externalForwardedProps:ee,ownerState:B,additionalProps:{appear:!0,in:R,timeout:W,role:"presentation"}});return m.jsx(te,{closeAfterTransition:!0,slots:{backdrop:oe},slotProps:{backdrop:{transitionDuration:W,as:f,...ke}},disableEscapeKeyDown:S,onClose:w,open:R,onClick:q,...ie,...I,children:m.jsx(ue,{...rt,children:m.jsx(de,{onMouseDown:X,...we,children:m.jsx(ve,{as:O,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":Z,"aria-modal":d,...Q,children:m.jsx(mM.Provider,{value:F,children:g})})})})})});function eU(t){return tr("MuiDialogActions",t)}nr("MuiDialogActions",["root","spacing"]);const tU=t=>{const{classes:e,disableSpacing:r}=t;return er({root:["root",!r&&"spacing"]},eU,e)},rU=tt("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Rm=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:a=!1,...l}=n,c={...n,disableSpacing:a},d=tU(c);return m.jsx(rU,{className:wt(d.root,i),ownerState:c,ref:r,...l})});function nU(t){return tr("MuiDialogContent",t)}nr("MuiDialogContent",["root","dividers"]);function iU(t){return tr("MuiDialogTitle",t)}const oU=nr("MuiDialogTitle",["root"]),aU=t=>{const{classes:e,dividers:r}=t;return er({root:["root",r&&"dividers"]},nU,e)},sU=tt("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.dividers&&e.dividers]}})(Qt(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${oU.root} + &`]:{paddingTop:0}}}]}))),rd=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiDialogContent"}),{className:i,dividers:a=!1,...l}=n,c={...n,dividers:a},d=aU(c);return m.jsx(sU,{className:wt(d.root,i),ownerState:c,ref:r,...l})}),wR=x.createContext();function lU(t){return tr("MuiGrid",t)}const cU=[0,1,2,3,4,5,6,7,8,9,10],uU=["column-reverse","column","row-reverse","row"],dU=["nowrap","wrap-reverse","wrap"],gf=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],rp=nr("MuiGrid",["root","container","item","zeroMinWidth",...cU.map(t=>`spacing-xs-${t}`),...uU.map(t=>`direction-xs-${t}`),...dU.map(t=>`wrap-xs-${t}`),...gf.map(t=>`grid-xs-${t}`),...gf.map(t=>`grid-sm-${t}`),...gf.map(t=>`grid-md-${t}`),...gf.map(t=>`grid-lg-${t}`),...gf.map(t=>`grid-xl-${t}`)]);function fU({theme:t,ownerState:e}){let r;return t.breakpoints.keys.reduce((n,i)=>{let a={};if(e[i]&&(r=e[i]),!r)return n;if(r===!0)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const l=Oc({values:e.columns,breakpoints:t.breakpoints.values}),c=typeof l=="object"?l[i]:l;if(c==null)return n;const d=`${Math.round(r/c*1e8)/1e6}%`;let f={};if(e.container&&e.item&&e.columnSpacing!==0){const h=t.spacing(e.columnSpacing);if(h!=="0px"){const g=`calc(${d} + ${h})`;f={flexBasis:g,maxWidth:g}}}a={flexBasis:d,flexGrow:0,maxWidth:d,...f}}return t.breakpoints.values[i]===0?Object.assign(n,a):n[t.breakpoints.up(i)]=a,n},{})}function pU({theme:t,ownerState:e}){const r=Oc({values:e.direction,breakpoints:t.breakpoints.values});return No({theme:t},r,n=>{const i={flexDirection:n};return n.startsWith("column")&&(i[`& > .${rp.item}`]={maxWidth:"none"}),i})}function yM({breakpoints:t,values:e}){let r="";Object.keys(e).forEach(i=>{r===""&&e[i]!==0&&(r=i)});const n=Object.keys(t).sort((i,a)=>t[i]-t[a]);return n.slice(0,n.indexOf(r))}function hU({theme:t,ownerState:e}){const{container:r,rowSpacing:n}=e;let i={};if(r&&n!==0){const a=Oc({values:n,breakpoints:t.breakpoints.values});let l;typeof a=="object"&&(l=yM({breakpoints:t.breakpoints.values,values:a})),i=No({theme:t},a,(c,d)=>{const f=t.spacing(c);return f!=="0px"?{marginTop:`calc(-1 * ${f})`,[`& > .${rp.item}`]:{paddingTop:f}}:l?.includes(d)?{}:{marginTop:0,[`& > .${rp.item}`]:{paddingTop:0}}})}return i}function gU({theme:t,ownerState:e}){const{container:r,columnSpacing:n}=e;let i={};if(r&&n!==0){const a=Oc({values:n,breakpoints:t.breakpoints.values});let l;typeof a=="object"&&(l=yM({breakpoints:t.breakpoints.values,values:a})),i=No({theme:t},a,(c,d)=>{const f=t.spacing(c);if(f!=="0px"){const h=`calc(-1 * ${f})`;return{width:`calc(100% + ${f})`,marginLeft:h,[`& > .${rp.item}`]:{paddingLeft:f}}}return l?.includes(d)?{}:{width:"100%",marginLeft:0,[`& > .${rp.item}`]:{paddingLeft:0}}})}return i}function mU(t,e,r={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[r[`spacing-xs-${String(t)}`]];const n=[];return e.forEach(i=>{const a=t[i];Number(a)>0&&n.push(r[`spacing-${i}-${String(a)}`])}),n}const yU=tt("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{container:n,direction:i,item:a,spacing:l,wrap:c,zeroMinWidth:d,breakpoints:f}=r;let h=[];n&&(h=mU(l,f,e));const g=[];return f.forEach(p=>{const S=r[p];S&&g.push(e[`grid-${p}-${String(S)}`])}),[e.root,n&&e.container,a&&e.item,d&&e.zeroMinWidth,...h,i!=="row"&&e[`direction-xs-${String(i)}`],c!=="wrap"&&e[`wrap-xs-${String(c)}`],...g]}})(({ownerState:t})=>({boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...t.item&&{margin:0},...t.zeroMinWidth&&{minWidth:0},...t.wrap!=="wrap"&&{flexWrap:t.wrap}}),pU,hU,gU,fU);function bU(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const r=[];return e.forEach(n=>{const i=t[n];if(Number(i)>0){const a=`spacing-${n}-${String(i)}`;r.push(a)}}),r}const vU=t=>{const{classes:e,container:r,direction:n,item:i,spacing:a,wrap:l,zeroMinWidth:c,breakpoints:d}=t;let f=[];r&&(f=bU(a,d));const h=[];d.forEach(p=>{const S=t[p];S&&h.push(`grid-${p}-${String(S)}`)});const g={root:["root",r&&"container",i&&"item",c&&"zeroMinWidth",...f,n!=="row"&&`direction-xs-${String(n)}`,l!=="wrap"&&`wrap-xs-${String(l)}`,...h]};return er(g,lU,e)},hn=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiGrid"}),{breakpoints:i}=fo(),a=wp(n),{className:l,columns:c,columnSpacing:d,component:f="div",container:h=!1,direction:g="row",item:p=!1,rowSpacing:S,spacing:b=0,wrap:v="wrap",zeroMinWidth:k=!1,...T}=a,A=S||b,w=d||b,R=x.useContext(wR),O=h?c||12:R,M={},j={...T};i.keys.forEach(N=>{T[N]!=null&&(M[N]=T[N],delete j[N])});const $={...a,columns:O,container:h,direction:g,item:p,rowSpacing:A,columnSpacing:w,wrap:v,zeroMinWidth:k,spacing:b,...M,breakpoints:i.keys},V=vU($);return m.jsx(wR.Provider,{value:O,children:m.jsx(yU,{ownerState:$,className:wt(V.root,l),as:f,ref:r,...j})})}),SU=lr(m.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"Restore"),bM=lr(m.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),Om=lr(m.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function xU(t,e,r=(n,i)=>n===i){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}const wU=2;function Ou(t,e,r,n,i){return r===1?Math.min(t+e,i):Math.max(t-e,n)}function vM(t,e){return t-e}function kR(t,e){const{index:r}=t.reduce((n,i,a)=>{const l=Math.abs(e-i);return n===null||l<n.distance||l===n.distance?{distance:l,index:a}:n},null)??{};return r}function Xh(t,e){if(e.current!==void 0&&t.changedTouches){const r=t;for(let n=0;n<r.changedTouches.length;n+=1){const i=r.changedTouches[n];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function Dg(t,e,r){return(t-e)*100/(r-e)}function kU(t,e,r){return(r-e)*t+e}function CU(t){if(Math.abs(t)<1){const r=t.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function TU(t,e,r){const n=Math.round((t-r)/e)*e+r;return Number(n.toFixed(CU(e)))}function CR({values:t,newValue:e,index:r}){const n=t.slice();return n[r]=e,n.sort(vM)}function Zh({sliderRef:t,activeIndex:e,setActive:r}){const n=Ui(t.current);(!t.current?.contains(n.activeElement)||Number(n?.activeElement?.getAttribute("data-index"))!==e)&&t.current?.querySelector(`[type="range"][data-index="${e}"]`).focus(),r&&r(e)}function Qh(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?xU(t,e):!1}const EU={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},AU=t=>t;let Jh;function TR(){return Jh===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Jh=CSS.supports("touch-action","none"):Jh=!0),Jh}function RU(t){const{"aria-labelledby":e,defaultValue:r,disabled:n=!1,disableSwap:i=!1,isRtl:a=!1,marks:l=!1,max:c=100,min:d=0,name:f,onChange:h,onChangeCommitted:g,orientation:p="horizontal",rootRef:S,scale:b=AU,step:v=1,shiftStep:k=10,tabIndex:T,value:A}=t,w=x.useRef(void 0),[R,O]=x.useState(-1),[M,j]=x.useState(-1),[$,V]=x.useState(!1),N=x.useRef(0),W=x.useRef(null),[z,I]=Hs({controlled:A,default:r??d,name:"Slider"}),B=h&&((it,je,qe)=>{const Oe=it.nativeEvent||it,ot=new Oe.constructor(Oe.type,Oe);Object.defineProperty(ot,"target",{writable:!0,value:{value:je,name:f}}),W.current=je,h(ot,je,qe)}),G=Array.isArray(z);let U=G?z.slice().sort(vM):[z];U=U.map(it=>it==null?d:Lu(it,d,c));const X=l===!0&&v!==null?[...Array(Math.floor((c-d)/v)+1)].map((it,je)=>({value:d+v*je})):l||[],q=X.map(it=>it.value),[Z,F]=x.useState(-1),D=x.useRef(null),J=Jn(S,D),ee=it=>je=>{const qe=Number(je.currentTarget.getAttribute("data-index"));Ul(je.target)&&F(qe),j(qe),it?.onFocus?.(je)},te=it=>je=>{Ul(je.target)||F(-1),j(-1),it?.onBlur?.(je)},ie=(it,je)=>{const qe=Number(it.currentTarget.getAttribute("data-index")),Oe=U[qe],ot=q.indexOf(Oe);let Se=je;if(X&&v==null){const vt=q[q.length-1];Se>=vt?Se=vt:Se<=q[0]?Se=q[0]:Se=Se<Oe?q[ot-1]:q[ot+1]}if(Se=Lu(Se,d,c),G){i&&(Se=Lu(Se,U[qe-1]||-1/0,U[qe+1]||1/0));const vt=Se;Se=CR({values:U,newValue:Se,index:qe});let Pt=qe;i||(Pt=Se.indexOf(vt)),Zh({sliderRef:D,activeIndex:Pt})}I(Se),F(qe),B&&!Qh(Se,z)&&B(it,Se,qe),g&&g(it,W.current??Se)},oe=it=>je=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(je.key)){je.preventDefault();const qe=Number(je.currentTarget.getAttribute("data-index")),Oe=U[qe];let ot=null;if(v!=null){const Se=je.shiftKey?k:v;switch(je.key){case"ArrowUp":ot=Ou(Oe,Se,1,d,c);break;case"ArrowRight":ot=Ou(Oe,Se,a?-1:1,d,c);break;case"ArrowDown":ot=Ou(Oe,Se,-1,d,c);break;case"ArrowLeft":ot=Ou(Oe,Se,a?1:-1,d,c);break;case"PageUp":ot=Ou(Oe,k,1,d,c);break;case"PageDown":ot=Ou(Oe,k,-1,d,c);break;case"Home":ot=d;break;case"End":ot=c;break}}else if(X){const Se=q[q.length-1],vt=q.indexOf(Oe),Pt=[a?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],se=[a?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];Pt.includes(je.key)?vt===0?ot=q[0]:ot=q[vt-1]:se.includes(je.key)&&(vt===q.length-1?ot=Se:ot=q[vt+1])}ot!=null&&ie(je,ot)}it?.onKeyDown?.(je)};uo(()=>{n&&D.current.contains(document.activeElement)&&document.activeElement?.blur()},[n]),n&&R!==-1&&O(-1),n&&Z!==-1&&F(-1);const ke=it=>je=>{it.onChange?.(je),ie(je,je.target.valueAsNumber)},ve=x.useRef(void 0);let Q=p;a&&p==="horizontal"&&(Q+="-reverse");const de=({finger:it,move:je=!1})=>{const{current:qe}=D,{width:Oe,height:ot,bottom:Se,left:vt}=qe.getBoundingClientRect();let Pt;Q.startsWith("vertical")?Pt=(Se-it.y)/ot:Pt=(it.x-vt)/Oe,Q.includes("-reverse")&&(Pt=1-Pt);let se;if(se=kU(Pt,d,c),v)se=TU(se,v,d);else{const st=kR(q,se);se=q[st]}se=Lu(se,d,c);let le=0;if(G){je?le=ve.current:le=kR(U,se),i&&(se=Lu(se,U[le-1]||-1/0,U[le+1]||1/0));const st=se;se=CR({values:U,newValue:se,index:le}),i&&je||(le=se.indexOf(st),ve.current=le)}return{newValue:se,activeIndex:le}},we=_i(it=>{const je=Xh(it,w);if(!je)return;if(N.current+=1,it.type==="mousemove"&&it.buttons===0){ue(it);return}const{newValue:qe,activeIndex:Oe}=de({finger:je,move:!0});Zh({sliderRef:D,activeIndex:Oe,setActive:O}),I(qe),!$&&N.current>wU&&V(!0),B&&!Qh(qe,z)&&B(it,qe,Oe)}),ue=_i(it=>{const je=Xh(it,w);if(V(!1),!je)return;const{newValue:qe}=de({finger:je,move:!0});O(-1),it.type==="touchend"&&j(-1),g&&g(it,W.current??qe),w.current=void 0,ye()}),rt=_i(it=>{if(n)return;TR()||it.preventDefault();const je=it.changedTouches[0];je!=null&&(w.current=je.identifier);const qe=Xh(it,w);if(qe!==!1){const{newValue:ot,activeIndex:Se}=de({finger:qe});Zh({sliderRef:D,activeIndex:Se,setActive:O}),I(ot),B&&!Qh(ot,z)&&B(it,ot,Se)}N.current=0;const Oe=Ui(D.current);Oe.addEventListener("touchmove",we,{passive:!0}),Oe.addEventListener("touchend",ue,{passive:!0})}),ye=x.useCallback(()=>{const it=Ui(D.current);it.removeEventListener("mousemove",we),it.removeEventListener("mouseup",ue),it.removeEventListener("touchmove",we),it.removeEventListener("touchend",ue)},[ue,we]);x.useEffect(()=>{const{current:it}=D;return it.addEventListener("touchstart",rt,{passive:TR()}),()=>{it.removeEventListener("touchstart",rt),ye()}},[ye,rt]),x.useEffect(()=>{n&&ye()},[n,ye]);const Le=it=>je=>{if(it.onMouseDown?.(je),n||je.defaultPrevented||je.button!==0)return;je.preventDefault();const qe=Xh(je,w);if(qe!==!1){const{newValue:ot,activeIndex:Se}=de({finger:qe});Zh({sliderRef:D,activeIndex:Se,setActive:O}),I(ot),B&&!Qh(ot,z)&&B(je,ot,Se)}N.current=0;const Oe=Ui(D.current);Oe.addEventListener("mousemove",we,{passive:!0}),Oe.addEventListener("mouseup",ue)},ut=Dg(G?U[0]:d,d,c),Be=Dg(U[U.length-1],d,c)-ut,bt=(it={})=>{const je=Ff(it),qe={onMouseDown:Le(je||{})},Oe={...je,...qe};return{...it,ref:J,...Oe}},Ot=it=>je=>{it.onMouseOver?.(je);const qe=Number(je.currentTarget.getAttribute("data-index"));j(qe)},Mt=it=>je=>{it.onMouseLeave?.(je),j(-1)},et=(it={})=>{const je=Ff(it),qe={onMouseOver:Ot(je||{}),onMouseLeave:Mt(je||{})};return{...it,...je,...qe}},ht=it=>({pointerEvents:R!==-1&&R!==it?"none":void 0});let Bt;return p==="vertical"&&(Bt=a?"vertical-rl":"vertical-lr"),{active:R,axis:Q,axisProps:EU,dragging:$,focusedThumbIndex:Z,getHiddenInputProps:(it={})=>{const je=Ff(it),qe={onChange:ke(je||{}),onFocus:ee(je||{}),onBlur:te(je||{}),onKeyDown:oe(je||{})},Oe={...je,...qe};return{tabIndex:T,"aria-labelledby":e,"aria-orientation":p,"aria-valuemax":b(c),"aria-valuemin":b(d),name:f,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":t.step??void 0,disabled:n,...it,...Oe,style:{...$L,direction:a?"rtl":"ltr",width:"100%",height:"100%",writingMode:Bt}}},getRootProps:bt,getThumbProps:et,marks:X,open:M,range:G,rootRef:J,trackLeap:Be,trackOffset:ut,values:U,getThumbStyle:ht}}const OU=t=>!t||!Vs(t);function PU(t){return tr("MuiSlider",t)}const xa=nr("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),_U=t=>{const{open:e}=t;return{offset:wt(e&&xa.valueLabelOpen),circle:xa.valueLabelCircle,label:xa.valueLabelLabel}};function MU(t){const{children:e,className:r,value:n}=t,i=_U(t);return e?x.cloneElement(e,{className:wt(e.props.className)},m.jsxs(x.Fragment,{children:[e.props.children,m.jsx("span",{className:wt(i.offset,r),"aria-hidden":!0,children:m.jsx("span",{className:i.circle,children:m.jsx("span",{className:i.label,children:n})})})]})):null}function ER(t){return t}const jU=tt("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`color${Ye(r.color)}`],r.size!=="medium"&&e[`size${Ye(r.size)}`],r.marked&&e.marked,r.orientation==="vertical"&&e.vertical,r.track==="inverted"&&e.trackInverted,r.track===!1&&e.trackFalse]}})(Qt(({theme:t})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${xa.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${xa.dragging}`]:{[`& .${xa.thumb}, & .${xa.track}`]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(Dn()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),NU=tt("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),IU=tt("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(Qt(({theme:t})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(Dn()).map(([e])=>({props:{color:e,track:"inverted"},style:{...t.vars?{backgroundColor:t.vars.palette.Slider[`${e}Track`],borderColor:t.vars.palette.Slider[`${e}Track`]}:{backgroundColor:Ks(t.palette[e].main,.62),borderColor:Ks(t.palette[e].main,.62),...t.applyStyles("dark",{backgroundColor:Ws(t.palette[e].main,.5)}),...t.applyStyles("dark",{borderColor:Ws(t.palette[e].main,.5)})}}}))]}))),LU=tt("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.thumb,e[`thumbColor${Ye(r.color)}`],r.size!=="medium"&&e[`thumbSize${Ye(r.size)}`]]}})(Qt(({theme:t})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${xa.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(Dn()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${xa.focusVisible}`]:{...t.vars?{boxShadow:`0px 0px 0px 8px rgba(${t.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${jr(t.palette[e].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${xa.active}`]:{...t.vars?{boxShadow:`0px 0px 0px 14px rgba(${t.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${jr(t.palette[e].main,.16)}`}}}}))]}))),FU=tt(MU,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(Qt(({theme:t})=>({zIndex:1,whiteSpace:"nowrap",...t.typography.body2,fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${xa.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${xa.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),BU=tt("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>Sm(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:r}=t;return[e.mark,r&&e.markActive]}})(Qt(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}))),$U=tt("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>Sm(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(Qt(({theme:t})=>({...t.typography.body2,color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]}))),DU=t=>{const{disabled:e,dragging:r,marked:n,orientation:i,track:a,classes:l,color:c,size:d}=t,f={root:["root",e&&"disabled",r&&"dragging",n&&"marked",i==="vertical"&&"vertical",a==="inverted"&&"trackInverted",a===!1&&"trackFalse",c&&`color${Ye(c)}`,d&&`size${Ye(d)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",d&&`thumbSize${Ye(d)}`,c&&`thumbColor${Ye(c)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return er(f,PU,l)},zU=({children:t})=>t,Pm=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiSlider"}),i=Bc(),{"aria-label":a,"aria-valuetext":l,"aria-labelledby":c,component:d="span",components:f={},componentsProps:h={},color:g="primary",classes:p,className:S,disableSwap:b=!1,disabled:v=!1,getAriaLabel:k,getAriaValueText:T,marks:A=!1,max:w=100,min:R=0,name:O,onChange:M,onChangeCommitted:j,orientation:$="horizontal",shiftStep:V=10,size:N="medium",step:W=1,scale:z=ER,slotProps:I,slots:B,tabIndex:G,track:U="normal",value:X,valueLabelDisplay:q="off",valueLabelFormat:Z=ER,...F}=n,D={...n,isRtl:i,max:w,min:R,classes:p,disabled:v,disableSwap:b,orientation:$,marks:A,color:g,size:N,step:W,shiftStep:V,scale:z,track:U,valueLabelDisplay:q,valueLabelFormat:Z},{axisProps:J,getRootProps:ee,getHiddenInputProps:te,getThumbProps:ie,open:oe,active:ke,axis:ve,focusedThumbIndex:Q,range:de,dragging:we,marks:ue,values:rt,trackOffset:ye,trackLeap:Le,getThumbStyle:ut}=RU({...D,rootRef:r});D.marked=ue.length>0&&ue.some(dt=>dt.label),D.dragging=we,D.focusedThumbIndex=Q;const Be=DU(D),bt=B?.root??f.Root??jU,Ot=B?.rail??f.Rail??NU,Mt=B?.track??f.Track??IU,et=B?.thumb??f.Thumb??LU,ht=B?.valueLabel??f.ValueLabel??FU,Bt=B?.mark??f.Mark??BU,_t=B?.markLabel??f.MarkLabel??$U,it=B?.input??f.Input??"input",je=I?.root??h.root,qe=I?.rail??h.rail,Oe=I?.track??h.track,ot=I?.thumb??h.thumb,Se=I?.valueLabel??h.valueLabel,vt=I?.mark??h.mark,Pt=I?.markLabel??h.markLabel,se=I?.input??h.input,le=Oo({elementType:bt,getSlotProps:ee,externalSlotProps:je,externalForwardedProps:F,additionalProps:{...OU(bt)&&{as:d}},ownerState:{...D,...je?.ownerState},className:[Be.root,S]}),st=Oo({elementType:Ot,externalSlotProps:qe,ownerState:D,className:Be.rail}),$e=Oo({elementType:Mt,externalSlotProps:Oe,additionalProps:{style:{...J[ve].offset(ye),...J[ve].leap(Le)}},ownerState:{...D,...Oe?.ownerState},className:Be.track}),Xt=Oo({elementType:et,getSlotProps:ie,externalSlotProps:ot,ownerState:{...D,...ot?.ownerState},className:Be.thumb}),Et=Oo({elementType:ht,externalSlotProps:Se,ownerState:{...D,...Se?.ownerState},className:Be.valueLabel}),yr=Oo({elementType:Bt,externalSlotProps:vt,ownerState:D,className:Be.mark}),fe=Oo({elementType:_t,externalSlotProps:Pt,ownerState:D,className:Be.markLabel}),xe=Oo({elementType:it,getSlotProps:te,externalSlotProps:se,ownerState:D});return m.jsxs(bt,{...le,children:[m.jsx(Ot,{...st}),m.jsx(Mt,{...$e}),ue.filter(dt=>dt.value>=R&&dt.value<=w).map((dt,qt)=>{const ir=Dg(dt.value,R,w),zt=J[ve].offset(ir);let Jt;return U===!1?Jt=rt.includes(dt.value):Jt=U==="normal"&&(de?dt.value>=rt[0]&&dt.value<=rt[rt.length-1]:dt.value<=rt[0])||U==="inverted"&&(de?dt.value<=rt[0]||dt.value>=rt[rt.length-1]:dt.value>=rt[0]),m.jsxs(x.Fragment,{children:[m.jsx(Bt,{"data-index":qt,...yr,...!Vs(Bt)&&{markActive:Jt},style:{...zt,...yr.style},className:wt(yr.className,Jt&&Be.markActive)}),dt.label!=null?m.jsx(_t,{"aria-hidden":!0,"data-index":qt,...fe,...!Vs(_t)&&{markLabelActive:Jt},style:{...zt,...fe.style},className:wt(Be.markLabel,fe.className,Jt&&Be.markLabelActive),children:dt.label}):null]},qt)}),rt.map((dt,qt)=>{const ir=Dg(dt,R,w),zt=J[ve].offset(ir),Jt=q==="off"?zU:ht;return m.jsx(Jt,{...!Vs(Jt)&&{valueLabelFormat:Z,valueLabelDisplay:q,value:typeof Z=="function"?Z(z(dt),qt):Z,index:qt,open:oe===qt||ke===qt||q==="on",disabled:v},...Et,children:m.jsx(et,{"data-index":qt,...Xt,className:wt(Be.thumb,Xt.className,ke===qt&&Be.active,Q===qt&&Be.focusVisible),style:{...zt,...ut(qt),...Xt.style},children:m.jsx(it,{"data-index":qt,"aria-label":k?k(qt):a,"aria-valuenow":z(dt),"aria-labelledby":c,"aria-valuetext":T?T(z(dt),qt):l,value:rt[qt],...xe})})},qt)})]})});function UU(t){return tr("MuiToolbar",t)}nr("MuiToolbar",["root","gutters","regular","dense"]);const HU=t=>{const{classes:e,disableGutters:r,variant:n}=t;return er({root:["root",!r&&"gutters",n]},UU,e)},VU=tt("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableGutters&&e.gutters,e[r.variant]]}})(Qt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}))),_m=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiToolbar"}),{className:i,component:a="div",disableGutters:l=!1,variant:c="regular",...d}=n,f={...n,component:a,disableGutters:l,variant:c},h=HU(f);return m.jsx(VU,{as:a,className:wt(h.root,i),ref:r,ownerState:f,...d})});var _o="top",Ca="bottom",Ta="right",Mo="left",M1="auto",Tp=[_o,Ca,Ta,Mo],nd="start",np="end",qU="clippingParents",SM="viewport",mf="popper",WU="reference",AR=Tp.reduce(function(t,e){return t.concat([e+"-"+nd,e+"-"+np])},[]),xM=[].concat(Tp,[M1]).reduce(function(t,e){return t.concat([e,e+"-"+nd,e+"-"+np])},[]),KU="beforeRead",GU="read",YU="afterRead",XU="beforeMain",ZU="main",QU="afterMain",JU="beforeWrite",e8="write",t8="afterWrite",r8=[KU,GU,YU,XU,ZU,QU,JU,e8,t8];function gs(t){return t?(t.nodeName||"").toLowerCase():null}function na(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Nc(t){var e=na(t).Element;return t instanceof e||t instanceof Element}function ka(t){var e=na(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function j1(t){if(typeof ShadowRoot>"u")return!1;var e=na(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function n8(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},a=e.elements[r];!ka(a)||!gs(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(l){var c=i[l];c===!1?a.removeAttribute(l):a.setAttribute(l,c===!0?"":c)}))})}function i8(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],a=e.attributes[n]||{},l=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),c=l.reduce(function(d,f){return d[f]="",d},{});!ka(i)||!gs(i)||(Object.assign(i.style,c),Object.keys(a).forEach(function(d){i.removeAttribute(d)}))})}}const o8={name:"applyStyles",enabled:!0,phase:"write",fn:n8,effect:i8,requires:["computeStyles"]};function ps(t){return t.split("-")[0]}var Pc=Math.max,zg=Math.min,id=Math.round;function yx(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function wM(){return!/^((?!chrome|android).)*safari/i.test(yx())}function od(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,a=1;e&&ka(t)&&(i=t.offsetWidth>0&&id(n.width)/t.offsetWidth||1,a=t.offsetHeight>0&&id(n.height)/t.offsetHeight||1);var l=Nc(t)?na(t):window,c=l.visualViewport,d=!wM()&&r,f=(n.left+(d&&c?c.offsetLeft:0))/i,h=(n.top+(d&&c?c.offsetTop:0))/a,g=n.width/i,p=n.height/a;return{width:g,height:p,top:h,right:f+g,bottom:h+p,left:f,x:f,y:h}}function N1(t){var e=od(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function kM(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&j1(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Xs(t){return na(t).getComputedStyle(t)}function a8(t){return["table","td","th"].indexOf(gs(t))>=0}function Zl(t){return((Nc(t)?t.ownerDocument:t.document)||window.document).documentElement}function Mm(t){return gs(t)==="html"?t:t.assignedSlot||t.parentNode||(j1(t)?t.host:null)||Zl(t)}function RR(t){return!ka(t)||Xs(t).position==="fixed"?null:t.offsetParent}function s8(t){var e=/firefox/i.test(yx()),r=/Trident/i.test(yx());if(r&&ka(t)){var n=Xs(t);if(n.position==="fixed")return null}var i=Mm(t);for(j1(i)&&(i=i.host);ka(i)&&["html","body"].indexOf(gs(i))<0;){var a=Xs(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Ep(t){for(var e=na(t),r=RR(t);r&&a8(r)&&Xs(r).position==="static";)r=RR(r);return r&&(gs(r)==="html"||gs(r)==="body"&&Xs(r).position==="static")?e:r||s8(t)||e}function I1(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Hf(t,e,r){return Pc(t,zg(e,r))}function l8(t,e,r){var n=Hf(t,e,r);return n>r?r:n}function CM(){return{top:0,right:0,bottom:0,left:0}}function TM(t){return Object.assign({},CM(),t)}function EM(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var c8=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,TM(typeof e!="number"?e:EM(e,Tp))};function u8(t){var e,r=t.state,n=t.name,i=t.options,a=r.elements.arrow,l=r.modifiersData.popperOffsets,c=ps(r.placement),d=I1(c),f=[Mo,Ta].indexOf(c)>=0,h=f?"height":"width";if(!(!a||!l)){var g=c8(i.padding,r),p=N1(a),S=d==="y"?_o:Mo,b=d==="y"?Ca:Ta,v=r.rects.reference[h]+r.rects.reference[d]-l[d]-r.rects.popper[h],k=l[d]-r.rects.reference[d],T=Ep(a),A=T?d==="y"?T.clientHeight||0:T.clientWidth||0:0,w=v/2-k/2,R=g[S],O=A-p[h]-g[b],M=A/2-p[h]/2+w,j=Hf(R,M,O),$=d;r.modifiersData[n]=(e={},e[$]=j,e.centerOffset=j-M,e)}}function d8(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||kM(e.elements.popper,i)&&(e.elements.arrow=i))}const f8={name:"arrow",enabled:!0,phase:"main",fn:u8,effect:d8,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ad(t){return t.split("-")[1]}var p8={top:"auto",right:"auto",bottom:"auto",left:"auto"};function h8(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:id(r*i)/i||0,y:id(n*i)/i||0}}function OR(t){var e,r=t.popper,n=t.popperRect,i=t.placement,a=t.variation,l=t.offsets,c=t.position,d=t.gpuAcceleration,f=t.adaptive,h=t.roundOffsets,g=t.isFixed,p=l.x,S=p===void 0?0:p,b=l.y,v=b===void 0?0:b,k=typeof h=="function"?h({x:S,y:v}):{x:S,y:v};S=k.x,v=k.y;var T=l.hasOwnProperty("x"),A=l.hasOwnProperty("y"),w=Mo,R=_o,O=window;if(f){var M=Ep(r),j="clientHeight",$="clientWidth";if(M===na(r)&&(M=Zl(r),Xs(M).position!=="static"&&c==="absolute"&&(j="scrollHeight",$="scrollWidth")),M=M,i===_o||(i===Mo||i===Ta)&&a===np){R=Ca;var V=g&&M===O&&O.visualViewport?O.visualViewport.height:M[j];v-=V-n.height,v*=d?1:-1}if(i===Mo||(i===_o||i===Ca)&&a===np){w=Ta;var N=g&&M===O&&O.visualViewport?O.visualViewport.width:M[$];S-=N-n.width,S*=d?1:-1}}var W=Object.assign({position:c},f&&p8),z=h===!0?h8({x:S,y:v},na(r)):{x:S,y:v};if(S=z.x,v=z.y,d){var I;return Object.assign({},W,(I={},I[R]=A?"0":"",I[w]=T?"0":"",I.transform=(O.devicePixelRatio||1)<=1?"translate("+S+"px, "+v+"px)":"translate3d("+S+"px, "+v+"px, 0)",I))}return Object.assign({},W,(e={},e[R]=A?v+"px":"",e[w]=T?S+"px":"",e.transform="",e))}function g8(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,l=a===void 0?!0:a,c=r.roundOffsets,d=c===void 0?!0:c,f={placement:ps(e.placement),variation:ad(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,OR(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,OR(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const m8={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:g8,data:{}};var eg={passive:!0};function y8(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,a=i===void 0?!0:i,l=n.resize,c=l===void 0?!0:l,d=na(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&f.forEach(function(h){h.addEventListener("scroll",r.update,eg)}),c&&d.addEventListener("resize",r.update,eg),function(){a&&f.forEach(function(h){h.removeEventListener("scroll",r.update,eg)}),c&&d.removeEventListener("resize",r.update,eg)}}const b8={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:y8,data:{}};var v8={left:"right",right:"left",bottom:"top",top:"bottom"};function xg(t){return t.replace(/left|right|bottom|top/g,function(e){return v8[e]})}var S8={start:"end",end:"start"};function PR(t){return t.replace(/start|end/g,function(e){return S8[e]})}function L1(t){var e=na(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function F1(t){return od(Zl(t)).left+L1(t).scrollLeft}function x8(t,e){var r=na(t),n=Zl(t),i=r.visualViewport,a=n.clientWidth,l=n.clientHeight,c=0,d=0;if(i){a=i.width,l=i.height;var f=wM();(f||!f&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:a,height:l,x:c+F1(t),y:d}}function w8(t){var e,r=Zl(t),n=L1(t),i=(e=t.ownerDocument)==null?void 0:e.body,a=Pc(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=Pc(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-n.scrollLeft+F1(t),d=-n.scrollTop;return Xs(i||r).direction==="rtl"&&(c+=Pc(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:l,x:c,y:d}}function B1(t){var e=Xs(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function AM(t){return["html","body","#document"].indexOf(gs(t))>=0?t.ownerDocument.body:ka(t)&&B1(t)?t:AM(Mm(t))}function Vf(t,e){var r;e===void 0&&(e=[]);var n=AM(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),a=na(n),l=i?[a].concat(a.visualViewport||[],B1(n)?n:[]):n,c=e.concat(l);return i?c:c.concat(Vf(Mm(l)))}function bx(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function k8(t,e){var r=od(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function _R(t,e,r){return e===SM?bx(x8(t,r)):Nc(e)?k8(e,r):bx(w8(Zl(t)))}function C8(t){var e=Vf(Mm(t)),r=["absolute","fixed"].indexOf(Xs(t).position)>=0,n=r&&ka(t)?Ep(t):t;return Nc(n)?e.filter(function(i){return Nc(i)&&kM(i,n)&&gs(i)!=="body"}):[]}function T8(t,e,r,n){var i=e==="clippingParents"?C8(t):[].concat(e),a=[].concat(i,[r]),l=a[0],c=a.reduce(function(d,f){var h=_R(t,f,n);return d.top=Pc(h.top,d.top),d.right=zg(h.right,d.right),d.bottom=zg(h.bottom,d.bottom),d.left=Pc(h.left,d.left),d},_R(t,l,n));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function RM(t){var e=t.reference,r=t.element,n=t.placement,i=n?ps(n):null,a=n?ad(n):null,l=e.x+e.width/2-r.width/2,c=e.y+e.height/2-r.height/2,d;switch(i){case _o:d={x:l,y:e.y-r.height};break;case Ca:d={x:l,y:e.y+e.height};break;case Ta:d={x:e.x+e.width,y:c};break;case Mo:d={x:e.x-r.width,y:c};break;default:d={x:e.x,y:e.y}}var f=i?I1(i):null;if(f!=null){var h=f==="y"?"height":"width";switch(a){case nd:d[f]=d[f]-(e[h]/2-r[h]/2);break;case np:d[f]=d[f]+(e[h]/2-r[h]/2);break}}return d}function ip(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,a=r.strategy,l=a===void 0?t.strategy:a,c=r.boundary,d=c===void 0?qU:c,f=r.rootBoundary,h=f===void 0?SM:f,g=r.elementContext,p=g===void 0?mf:g,S=r.altBoundary,b=S===void 0?!1:S,v=r.padding,k=v===void 0?0:v,T=TM(typeof k!="number"?k:EM(k,Tp)),A=p===mf?WU:mf,w=t.rects.popper,R=t.elements[b?A:p],O=T8(Nc(R)?R:R.contextElement||Zl(t.elements.popper),d,h,l),M=od(t.elements.reference),j=RM({reference:M,element:w,placement:i}),$=bx(Object.assign({},w,j)),V=p===mf?$:M,N={top:O.top-V.top+T.top,bottom:V.bottom-O.bottom+T.bottom,left:O.left-V.left+T.left,right:V.right-O.right+T.right},W=t.modifiersData.offset;if(p===mf&&W){var z=W[i];Object.keys(N).forEach(function(I){var B=[Ta,Ca].indexOf(I)>=0?1:-1,G=[_o,Ca].indexOf(I)>=0?"y":"x";N[I]+=z[G]*B})}return N}function E8(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,a=r.rootBoundary,l=r.padding,c=r.flipVariations,d=r.allowedAutoPlacements,f=d===void 0?xM:d,h=ad(n),g=h?c?AR:AR.filter(function(b){return ad(b)===h}):Tp,p=g.filter(function(b){return f.indexOf(b)>=0});p.length===0&&(p=g);var S=p.reduce(function(b,v){return b[v]=ip(t,{placement:v,boundary:i,rootBoundary:a,padding:l})[ps(v)],b},{});return Object.keys(S).sort(function(b,v){return S[b]-S[v]})}function A8(t){if(ps(t)===M1)return[];var e=xg(t);return[PR(t),e,PR(e)]}function R8(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,l=r.altAxis,c=l===void 0?!0:l,d=r.fallbackPlacements,f=r.padding,h=r.boundary,g=r.rootBoundary,p=r.altBoundary,S=r.flipVariations,b=S===void 0?!0:S,v=r.allowedAutoPlacements,k=e.options.placement,T=ps(k),A=T===k,w=d||(A||!b?[xg(k)]:A8(k)),R=[k].concat(w).reduce(function(te,ie){return te.concat(ps(ie)===M1?E8(e,{placement:ie,boundary:h,rootBoundary:g,padding:f,flipVariations:b,allowedAutoPlacements:v}):ie)},[]),O=e.rects.reference,M=e.rects.popper,j=new Map,$=!0,V=R[0],N=0;N<R.length;N++){var W=R[N],z=ps(W),I=ad(W)===nd,B=[_o,Ca].indexOf(z)>=0,G=B?"width":"height",U=ip(e,{placement:W,boundary:h,rootBoundary:g,altBoundary:p,padding:f}),X=B?I?Ta:Mo:I?Ca:_o;O[G]>M[G]&&(X=xg(X));var q=xg(X),Z=[];if(a&&Z.push(U[z]<=0),c&&Z.push(U[X]<=0,U[q]<=0),Z.every(function(te){return te})){V=W,$=!1;break}j.set(W,Z)}if($)for(var F=b?3:1,D=function(ie){var oe=R.find(function(ke){var ve=j.get(ke);if(ve)return ve.slice(0,ie).every(function(Q){return Q})});if(oe)return V=oe,"break"},J=F;J>0;J--){var ee=D(J);if(ee==="break")break}e.placement!==V&&(e.modifiersData[n]._skip=!0,e.placement=V,e.reset=!0)}}const O8={name:"flip",enabled:!0,phase:"main",fn:R8,requiresIfExists:["offset"],data:{_skip:!1}};function MR(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function jR(t){return[_o,Ta,Ca,Mo].some(function(e){return t[e]>=0})}function P8(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,l=ip(e,{elementContext:"reference"}),c=ip(e,{altBoundary:!0}),d=MR(l,n),f=MR(c,i,a),h=jR(d),g=jR(f);e.modifiersData[r]={referenceClippingOffsets:d,popperEscapeOffsets:f,isReferenceHidden:h,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":g})}const _8={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:P8};function M8(t,e,r){var n=ps(t),i=[Mo,_o].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,l=a[0],c=a[1];return l=l||0,c=(c||0)*i,[Mo,Ta].indexOf(n)>=0?{x:c,y:l}:{x:l,y:c}}function j8(t){var e=t.state,r=t.options,n=t.name,i=r.offset,a=i===void 0?[0,0]:i,l=xM.reduce(function(h,g){return h[g]=M8(g,e.rects,a),h},{}),c=l[e.placement],d=c.x,f=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=f),e.modifiersData[n]=l}const N8={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:j8};function I8(t){var e=t.state,r=t.name;e.modifiersData[r]=RM({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const L8={name:"popperOffsets",enabled:!0,phase:"read",fn:I8,data:{}};function F8(t){return t==="x"?"y":"x"}function B8(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,a=i===void 0?!0:i,l=r.altAxis,c=l===void 0?!1:l,d=r.boundary,f=r.rootBoundary,h=r.altBoundary,g=r.padding,p=r.tether,S=p===void 0?!0:p,b=r.tetherOffset,v=b===void 0?0:b,k=ip(e,{boundary:d,rootBoundary:f,padding:g,altBoundary:h}),T=ps(e.placement),A=ad(e.placement),w=!A,R=I1(T),O=F8(R),M=e.modifiersData.popperOffsets,j=e.rects.reference,$=e.rects.popper,V=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,N=typeof V=="number"?{mainAxis:V,altAxis:V}:Object.assign({mainAxis:0,altAxis:0},V),W=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,z={x:0,y:0};if(M){if(a){var I,B=R==="y"?_o:Mo,G=R==="y"?Ca:Ta,U=R==="y"?"height":"width",X=M[R],q=X+k[B],Z=X-k[G],F=S?-$[U]/2:0,D=A===nd?j[U]:$[U],J=A===nd?-$[U]:-j[U],ee=e.elements.arrow,te=S&&ee?N1(ee):{width:0,height:0},ie=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:CM(),oe=ie[B],ke=ie[G],ve=Hf(0,j[U],te[U]),Q=w?j[U]/2-F-ve-oe-N.mainAxis:D-ve-oe-N.mainAxis,de=w?-j[U]/2+F+ve+ke+N.mainAxis:J+ve+ke+N.mainAxis,we=e.elements.arrow&&Ep(e.elements.arrow),ue=we?R==="y"?we.clientTop||0:we.clientLeft||0:0,rt=(I=W?.[R])!=null?I:0,ye=X+Q-rt-ue,Le=X+de-rt,ut=Hf(S?zg(q,ye):q,X,S?Pc(Z,Le):Z);M[R]=ut,z[R]=ut-X}if(c){var Be,bt=R==="x"?_o:Mo,Ot=R==="x"?Ca:Ta,Mt=M[O],et=O==="y"?"height":"width",ht=Mt+k[bt],Bt=Mt-k[Ot],_t=[_o,Mo].indexOf(T)!==-1,it=(Be=W?.[O])!=null?Be:0,je=_t?ht:Mt-j[et]-$[et]-it+N.altAxis,qe=_t?Mt+j[et]+$[et]-it-N.altAxis:Bt,Oe=S&&_t?l8(je,Mt,qe):Hf(S?je:ht,Mt,S?qe:Bt);M[O]=Oe,z[O]=Oe-Mt}e.modifiersData[n]=z}}const $8={name:"preventOverflow",enabled:!0,phase:"main",fn:B8,requiresIfExists:["offset"]};function D8(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function z8(t){return t===na(t)||!ka(t)?L1(t):D8(t)}function U8(t){var e=t.getBoundingClientRect(),r=id(e.width)/t.offsetWidth||1,n=id(e.height)/t.offsetHeight||1;return r!==1||n!==1}function H8(t,e,r){r===void 0&&(r=!1);var n=ka(e),i=ka(e)&&U8(e),a=Zl(e),l=od(t,i,r),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(n||!n&&!r)&&((gs(e)!=="body"||B1(a))&&(c=z8(e)),ka(e)?(d=od(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):a&&(d.x=F1(a))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function V8(t){var e=new Map,r=new Set,n=[];t.forEach(function(a){e.set(a.name,a)});function i(a){r.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(c){if(!r.has(c)){var d=e.get(c);d&&i(d)}}),n.push(a)}return t.forEach(function(a){r.has(a.name)||i(a)}),n}function q8(t){var e=V8(t);return r8.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function W8(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function K8(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var NR={placement:"bottom",modifiers:[],strategy:"absolute"};function IR(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function G8(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,a=i===void 0?NR:i;return function(c,d,f){f===void 0&&(f=a);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},NR,a),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},g=[],p=!1,S={state:h,setOptions:function(T){var A=typeof T=="function"?T(h.options):T;v(),h.options=Object.assign({},a,h.options,A),h.scrollParents={reference:Nc(c)?Vf(c):c.contextElement?Vf(c.contextElement):[],popper:Vf(d)};var w=q8(K8([].concat(n,h.options.modifiers)));return h.orderedModifiers=w.filter(function(R){return R.enabled}),b(),S.update()},forceUpdate:function(){if(!p){var T=h.elements,A=T.reference,w=T.popper;if(IR(A,w)){h.rects={reference:H8(A,Ep(w),h.options.strategy==="fixed"),popper:N1(w)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(N){return h.modifiersData[N.name]=Object.assign({},N.data)});for(var R=0;R<h.orderedModifiers.length;R++){if(h.reset===!0){h.reset=!1,R=-1;continue}var O=h.orderedModifiers[R],M=O.fn,j=O.options,$=j===void 0?{}:j,V=O.name;typeof M=="function"&&(h=M({state:h,options:$,name:V,instance:S})||h)}}}},update:W8(function(){return new Promise(function(k){S.forceUpdate(),k(h)})}),destroy:function(){v(),p=!0}};if(!IR(c,d))return S;S.setOptions(f).then(function(k){!p&&f.onFirstUpdate&&f.onFirstUpdate(k)});function b(){h.orderedModifiers.forEach(function(k){var T=k.name,A=k.options,w=A===void 0?{}:A,R=k.effect;if(typeof R=="function"){var O=R({state:h,name:T,instance:S,options:w}),M=function(){};g.push(O||M)}})}function v(){g.forEach(function(k){return k()}),g=[]}return S}}var Y8=[b8,L8,m8,o8,N8,O8,$8,f8,_8],X8=G8({defaultModifiers:Y8});function Z8(t){return tr("MuiPopper",t)}nr("MuiPopper",["root"]);function Q8(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function vx(t){return typeof t=="function"?t():t}function J8(t){return t.nodeType!==void 0}const eH=t=>{const{classes:e}=t;return er({root:["root"]},Z8,e)},tH={},rH=x.forwardRef(function(e,r){const{anchorEl:n,children:i,direction:a,disablePortal:l,modifiers:c,open:d,placement:f,popperOptions:h,popperRef:g,slotProps:p={},slots:S={},TransitionProps:b,ownerState:v,...k}=e,T=x.useRef(null),A=Jn(T,r),w=x.useRef(null),R=Jn(w,g),O=x.useRef(R);uo(()=>{O.current=R},[R]),x.useImperativeHandle(g,()=>w.current,[]);const M=Q8(f,a),[j,$]=x.useState(M),[V,N]=x.useState(vx(n));x.useEffect(()=>{w.current&&w.current.forceUpdate()}),x.useEffect(()=>{n&&N(vx(n))},[n]),uo(()=>{if(!V||!d)return;const G=q=>{$(q.placement)};let U=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:q})=>{G(q)}}];c!=null&&(U=U.concat(c)),h&&h.modifiers!=null&&(U=U.concat(h.modifiers));const X=X8(V,T.current,{placement:M,...h,modifiers:U});return O.current(X),()=>{X.destroy(),O.current(null)}},[V,l,c,d,h,M]);const W={placement:j};b!==null&&(W.TransitionProps=b);const z=eH(e),I=S.root??"div",B=Oo({elementType:I,externalSlotProps:p.root,externalForwardedProps:k,additionalProps:{role:"tooltip",ref:A},ownerState:e,className:z.root});return m.jsx(I,{...B,children:typeof i=="function"?i(W):i})}),nH=x.forwardRef(function(e,r){const{anchorEl:n,children:i,container:a,direction:l="ltr",disablePortal:c=!1,keepMounted:d=!1,modifiers:f,open:h,placement:g="bottom",popperOptions:p=tH,popperRef:S,style:b,transition:v=!1,slotProps:k={},slots:T={},...A}=e,[w,R]=x.useState(!0),O=()=>{R(!1)},M=()=>{R(!0)};if(!d&&!h&&(!v||w))return null;let j;if(a)j=a;else if(n){const N=vx(n);j=N&&J8(N)?Ui(N).body:Ui(null).body}const $=!h&&d&&(!v||w)?"none":void 0,V=v?{in:h,onEnter:O,onExited:M}:void 0;return m.jsx(sM,{disablePortal:c,container:j,children:m.jsx(rH,{anchorEl:n,direction:l,disablePortal:c,modifiers:f,ref:r,open:v?!w:h,placement:g,popperOptions:p,popperRef:S,slotProps:k,slots:T,...A,style:{position:"fixed",top:0,left:0,display:$,...b},TransitionProps:V,children:i})})}),iH=tt(nH,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),jm=x.forwardRef(function(e,r){const n=Bc(),i=or({props:e,name:"MuiPopper"}),{anchorEl:a,component:l,components:c,componentsProps:d,container:f,disablePortal:h,keepMounted:g,modifiers:p,open:S,placement:b,popperOptions:v,popperRef:k,transition:T,slots:A,slotProps:w,...R}=i,O=A?.root??c?.Root,M={anchorEl:a,container:f,disablePortal:h,keepMounted:g,modifiers:p,open:S,placement:b,popperOptions:v,popperRef:k,transition:T,...R};return m.jsx(iH,{as:l,direction:n?"rtl":"ltr",slots:{root:O},slotProps:w??d,...M,ref:r})});function oH(t){return tr("MuiTooltip",t)}const ci=nr("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function aH(t){return Math.round(t*1e5)/1e5}const sH=t=>{const{classes:e,disableInteractive:r,arrow:n,touch:i,placement:a}=t,l={popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",i&&"touch",`tooltipPlacement${Ye(a.split("-")[0])}`],arrow:["arrow"]};return er(l,oH,e)},lH=tt(jm,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.popper,!r.disableInteractive&&e.popperInteractive,r.arrow&&e.popperArrow,!r.open&&e.popperClose]}})(Qt(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${ci.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${ci.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${ci.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${ci.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${ci.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${ci.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${ci.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${ci.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),cH=tt("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.tooltip,r.touch&&e.touch,r.arrow&&e.tooltipArrow,e[`tooltipPlacement${Ye(r.placement.split("-")[0])}`]]}})(Qt(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:jr(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${ci.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${ci.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${ci.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${ci.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${aH(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${ci.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${ci.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${ci.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${ci.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${ci.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${ci.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${ci.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${ci.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${ci.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${ci.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),uH=tt("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(Qt(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:jr(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let tg=!1;const LR=new tm;let yf={x:0,y:0};function rg(t,e){return(r,...n)=>{e&&e(r,...n),t(r,...n)}}const OM=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:a,classes:l,components:c={},componentsProps:d={},describeChild:f=!1,disableFocusListener:h=!1,disableHoverListener:g=!1,disableInteractive:p=!1,disableTouchListener:S=!1,enterDelay:b=100,enterNextDelay:v=0,enterTouchDelay:k=700,followCursor:T=!1,id:A,leaveDelay:w=0,leaveTouchDelay:R=1500,onClose:O,onOpen:M,open:j,placement:$="bottom",PopperComponent:V,PopperProps:N={},slotProps:W={},slots:z={},title:I,TransitionComponent:B,TransitionProps:G,...U}=n,X=x.isValidElement(a)?a:m.jsx("span",{children:a}),q=fo(),Z=Bc(),[F,D]=x.useState(),[J,ee]=x.useState(null),te=x.useRef(!1),ie=p||T,oe=zu(),ke=zu(),ve=zu(),Q=zu(),[de,we]=Hs({controlled:j,default:!1,name:"Tooltip",state:"open"});let ue=de;const rt=Zs(A),ye=x.useRef(),Le=_i(()=>{ye.current!==void 0&&(document.body.style.WebkitUserSelect=ye.current,ye.current=void 0),Q.clear()});x.useEffect(()=>Le,[Le]);const ut=jt=>{LR.clear(),tg=!0,we(!0),M&&!ue&&M(jt)},Be=_i(jt=>{LR.start(800+w,()=>{tg=!1}),we(!1),O&&ue&&O(jt),oe.start(q.transitions.duration.shortest,()=>{te.current=!1})}),bt=jt=>{te.current&&jt.type!=="touchstart"||(F&&F.removeAttribute("title"),ke.clear(),ve.clear(),b||tg&&v?ke.start(tg?v:b,()=>{ut(jt)}):ut(jt))},Ot=jt=>{ke.clear(),ve.start(w,()=>{Be(jt)})},[,Mt]=x.useState(!1),et=jt=>{Ul(jt.target)||(Mt(!1),Ot(jt))},ht=jt=>{F||D(jt.currentTarget),Ul(jt.target)&&(Mt(!0),bt(jt))},Bt=jt=>{te.current=!0;const hr=X.props;hr.onTouchStart&&hr.onTouchStart(jt)},_t=jt=>{Bt(jt),ve.clear(),oe.clear(),Le(),ye.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Q.start(k,()=>{document.body.style.WebkitUserSelect=ye.current,bt(jt)})},it=jt=>{X.props.onTouchEnd&&X.props.onTouchEnd(jt),Le(),ve.start(R,()=>{Be(jt)})};x.useEffect(()=>{if(!ue)return;function jt(hr){hr.key==="Escape"&&Be(hr)}return document.addEventListener("keydown",jt),()=>{document.removeEventListener("keydown",jt)}},[Be,ue]);const je=Jn(Fc(X),D,r);!I&&I!==0&&(ue=!1);const qe=x.useRef(),Oe=jt=>{const hr=X.props;hr.onMouseMove&&hr.onMouseMove(jt),yf={x:jt.clientX,y:jt.clientY},qe.current&&qe.current.update()},ot={},Se=typeof I=="string";f?(ot.title=!ue&&Se&&!g?I:null,ot["aria-describedby"]=ue?rt:null):(ot["aria-label"]=Se?I:null,ot["aria-labelledby"]=ue&&!Se?rt:null);const vt={...ot,...U,...X.props,className:wt(U.className,X.props.className),onTouchStart:Bt,ref:je,...T?{onMouseMove:Oe}:{}},Pt={};S||(vt.onTouchStart=_t,vt.onTouchEnd=it),g||(vt.onMouseOver=rg(bt,vt.onMouseOver),vt.onMouseLeave=rg(Ot,vt.onMouseLeave),ie||(Pt.onMouseOver=bt,Pt.onMouseLeave=Ot)),h||(vt.onFocus=rg(ht,vt.onFocus),vt.onBlur=rg(et,vt.onBlur),ie||(Pt.onFocus=ht,Pt.onBlur=et));const se={...n,isRtl:Z,arrow:i,disableInteractive:ie,placement:$,PopperComponentProp:V,touch:te.current},le=typeof W.popper=="function"?W.popper(se):W.popper,st=x.useMemo(()=>{let jt=[{name:"arrow",enabled:!!J,options:{element:J,padding:4}}];return N.popperOptions?.modifiers&&(jt=jt.concat(N.popperOptions.modifiers)),le?.popperOptions?.modifiers&&(jt=jt.concat(le.popperOptions.modifiers)),{...N.popperOptions,...le?.popperOptions,modifiers:jt}},[J,N.popperOptions,le?.popperOptions]),$e=sH(se),Xt=typeof W.transition=="function"?W.transition(se):W.transition,Et={slots:{popper:c.Popper,transition:c.Transition??B,tooltip:c.Tooltip,arrow:c.Arrow,...z},slotProps:{arrow:W.arrow??d.arrow,popper:{...N,...le??d.popper},tooltip:W.tooltip??d.tooltip,transition:{...G,...Xt??d.transition}}},[yr,fe]=Sr("popper",{elementType:lH,externalForwardedProps:Et,ownerState:se,className:wt($e.popper,N?.className)}),[xe,dt]=Sr("transition",{elementType:ep,externalForwardedProps:Et,ownerState:se}),[qt,ir]=Sr("tooltip",{elementType:cH,className:$e.tooltip,externalForwardedProps:Et,ownerState:se}),[zt,Jt]=Sr("arrow",{elementType:uH,className:$e.arrow,externalForwardedProps:Et,ownerState:se,ref:ee});return m.jsxs(x.Fragment,{children:[x.cloneElement(X,vt),m.jsx(yr,{as:V??jm,placement:$,anchorEl:T?{getBoundingClientRect:()=>({top:yf.y,left:yf.x,right:yf.x,bottom:yf.y,width:0,height:0})}:F,popperRef:qe,open:F?ue:!1,id:rt,transition:!0,...Pt,...fe,popperOptions:st,children:({TransitionProps:jt})=>m.jsx(xe,{timeout:q.transitions.duration.shorter,...jt,...dt,children:m.jsxs(qt,{...ir,children:[I,i?m.jsx(zt,{...Jt}):null]})})})]})}),cn=({children:t,disabled:e,...r})=>e?t:m.jsx(OM,{disableInteractive:!0,...r,children:t});function dH(t){return tr("MuiTypography",t)}const FR=nr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),fH={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},pH=T4(),hH=t=>{const{align:e,gutterBottom:r,noWrap:n,paragraph:i,variant:a,classes:l}=t,c={root:["root",a,t.align!=="inherit"&&`align${Ye(e)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return er(c,dH,l)},gH=tt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${Ye(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(Qt(({theme:t})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([e,r])=>e!=="inherit"&&r&&typeof r=="object").map(([e,r])=>({props:{variant:e},style:r})),...Object.entries(t.palette).filter(Dn()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${Ye(e)}`},style:{color:(t.vars||t).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),BR={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},An=x.forwardRef(function(e,r){const{color:n,...i}=or({props:e,name:"MuiTypography"}),a=!fH[n],l=pH({...i,...a&&{color:n}}),{align:c="inherit",className:d,component:f,gutterBottom:h=!1,noWrap:g=!1,paragraph:p=!1,variant:S="body1",variantMapping:b=BR,...v}=l,k={...l,align:c,color:n,className:d,component:f,gutterBottom:h,noWrap:g,paragraph:p,variant:S,variantMapping:b},T=f||(p?"p":b[S]||BR[S])||"span",A=hH(k);return m.jsx(gH,{as:T,ref:r,className:wt(A.root,d),...v,ownerState:k,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...v.style}})}),mH=lr([m.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"},"0"),m.jsx("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"},"1")],"ZoomIn"),yH=lr(m.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14M7 9h5v1H7z"}),"ZoomOut"),bH=lr(m.jsx("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"}),"Done");function vH(t){if(t==="")return[];const e=t.split(" ").join("").split(","),r=[];for(const n of e)r.push(n.trim());return r}function Nm({items:t,onItemsChange:e,textFieldComponent:r,...n}){const{t:i}=Wr(),[a,l]=x.useState("");x.useEffect(()=>{t.join(", ")!==a&&l(t.join(", "))},[a,t]);const c=x.useCallback(f=>{let h=f.target.value;a.length>h.length&&a.includes(h)&&h.endsWith(",")&&(h=h.substring(0,h.length-1));const g=vH(h);l(g.join(", ")),e(g)},[a,e]),d={...n,helperText:i("settings.tagsHelperText"),value:a,onChange:c};return r?r(d):m.jsx(ra,{...d})}function PM({subtitle:t,availableWidth:e,scale:r}){if(t.textImage===void 0)return null;const i=r*e/t.textImage.screen.width*t.textImage.image.width;return m.jsx("div",{style:{maxWidth:i,margin:"auto"},children:m.jsx("img",{style:{width:"100%"},alt:"subtitle",src:t.textImage.dataUrl})})}const SH=yn(t=>({root:{marginBottom:t.spacing(1),padding:t.spacing(1),backgroundColor:t.palette.action.disabledBackground}})),xH=({selectedSubtitles:t,width:e})=>{const r=SH();return t.length===0||e<=0?null:m.jsx(Ei,{className:r.root,children:t.map((n,i)=>m.jsx(PM,{availableWidth:e,subtitle:n,scale:1},i))})};function ng({width:t,text:e,label:r,onChangeText:n,selectedSubtitles:i}){return m.jsxs(m.Fragment,{children:[m.jsx(xH,{selectedSubtitles:i.filter(a=>a.textImage!==void 0),width:t}),m.jsx(ra,{variant:"filled",color:"primary",multiline:!0,fullWidth:!0,maxRows:8,label:r,value:e,onChange:a=>n(a.target.value)})]})}function wH({text:t,onTextChange:e}){const{t:r}=Wr();return m.jsx(ra,{variant:"filled",color:"primary",multiline:!0,maxRows:8,fullWidth:!0,label:r("ankiDialog.definition"),value:t,onChange:n=>e(n.target.value)})}function kH(t){return tr("MuiLink",t)}const CH=nr("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),TH=({theme:t,ownerState:e})=>{const r=e.color,n=Ll(t,`palette.${r}.main`,!1)||Ll(t,`palette.${r}`,!1)||e.color,i=Ll(t,`palette.${r}.mainChannel`)||Ll(t,`palette.${r}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:jr(n,.4)},$R={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},EH=t=>{const{classes:e,component:r,focusVisible:n,underline:i}=t,a={root:["root",`underline${Ye(i)}`,r==="button"&&"button",n&&"focusVisible"]};return er(a,kH,e)},AH=tt(An,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`underline${Ye(r.underline)}`],r.component==="button"&&e.button]}})(Qt(({theme:t})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:r})=>e==="always"&&r.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(t.palette).filter(Dn()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette[e].mainChannel} / 0.4)`:jr(t.palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:jr(t.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.secondaryChannel} / 0.4)`:jr(t.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${CH.focusVisible}`]:{outline:"auto"}}}]}))),co=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiLink"}),i=fo(),{className:a,color:l="primary",component:c="a",onBlur:d,onFocus:f,TypographyClasses:h,underline:g="always",variant:p="inherit",sx:S,...b}=n,[v,k]=x.useState(!1),T=O=>{Ul(O.target)||k(!1),d&&d(O)},A=O=>{Ul(O.target)&&k(!0),f&&f(O)},w={...n,color:l,component:c,focusVisible:v,underline:g,variant:p},R=EH(w);return m.jsx(AH,{color:l,className:wt(R.root,a),classes:h,component:c,onBlur:T,onFocus:A,ref:r,ownerState:w,variant:p,...b,sx:[...$R[l]===void 0?[{color:l}]:[],...Array.isArray(S)?S:[S]],style:{...b.style,...g==="always"&&l!=="inherit"&&!$R[l]&&{"--Link-underlineColor":TH({theme:i,ownerState:w})}}})});function RH(t){return tr("MuiInputAdornment",t)}const DR=nr("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var zR;const OH=(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${Ye(r.position)}`],r.disablePointerEvents===!0&&e.disablePointerEvents,e[r.variant]]},PH=t=>{const{classes:e,disablePointerEvents:r,hiddenLabel:n,position:i,size:a,variant:l}=t,c={root:["root",r&&"disablePointerEvents",i&&`position${Ye(i)}`,l,n&&"hiddenLabel",a&&`size${Ye(a)}`]};return er(c,RH,e)},_H=tt("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:OH})(Qt(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${DR.positionStart}&:not(.${DR.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),yi=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiInputAdornment"}),{children:i,className:a,component:l="div",disablePointerEvents:c=!1,disableTypography:d=!1,position:f,variant:h,...g}=n,p=qa()||{};let S=h;h&&p.variant,p&&!S&&(S=p.variant);const b={...n,hiddenLabel:p.hiddenLabel,size:p.size,disablePointerEvents:c,position:f,variant:S},v=PH(b);return m.jsx(xm.Provider,{value:null,children:m.jsx(_H,{as:l,ownerState:b,className:wt(v.root,a),ref:r,...g,children:typeof i=="string"&&!d?m.jsx(An,{color:"textSecondary",children:i}):m.jsxs(x.Fragment,{children:[f==="start"?zR||(zR=m.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,i]})})})}),MH=lr(m.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),Po=YD({createStyledComponent:tt("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>or({props:t,name:"MuiStack"})}),Kl=({disabled:t,placement:e,disableArrow:r,show:n,onConfirm:i,text:a,children:l})=>{const{t:c}=Wr();return m.jsx(cn,{disabled:t,arrow:r!==!0,placement:e,open:n,slotProps:{popper:{sx:{pointerEvents:"auto",zIndex:2147483648}}},title:m.jsxs(Po,{spacing:1,sx:{margin:.5,marginBottom:.75},children:[m.jsx(An,{variant:"subtitle1",children:a}),i&&m.jsx(fi,{variant:"contained",onClick:i,fullWidth:!0,children:c("action.gotIt")})]}),children:l})};function jH({anki:t,disabled:e,text:r,onText:n,wordField:i,disableTutorial:a,showTutorial:l,onConfirmTutorial:c}){const{t:d}=Wr(),[f,h]=x.useState(),[g,p]=x.useState([]),[S,b]=x.useState(0);x.useEffect(()=>{b(Date.now())},[r]),x.useEffect(()=>{if(!r||!i)return;const k=r.trim();if(k===""||k===f)return;const T=setTimeout(async()=>{try{p(await t.findNotesWithWord(k)),h(k)}catch(A){console.error(A)}},500);return()=>clearTimeout(T)},[r,S,f,t,i]);let v;return r&&r.trim()===f&&i?v=g.length>0?d("ankiDialog.foundDuplicateNotes",{count:g.length,word:r,field:i}):d("ankiDialog.foundNoDuplicateNote",{word:r,field:i}):v="",m.jsx(Kl,{disabled:a,placement:"bottom",text:m.jsxs(m.Fragment,{children:[m.jsx(Ci,{i18nKey:"ftue.ankiDialogDefinition",components:[m.jsx("b",{children:"Definition Field"},0),m.jsx("b",{children:"Word Field"},1)]}),m.jsx("p",{}),m.jsx(Ci,{i18nKey:"ftue.ankiDialogDefinitionHint",components:[m.jsx(co,{href:"https://yomitan.wiki/",target:"_blank",children:"Yomitan"},0)]})]}),show:l,onConfirm:()=>c?.(),children:m.jsx(ra,{variant:"filled",color:"primary",fullWidth:!0,label:d("ankiDialog.word"),value:r,onChange:k=>n(k.target.value),helperText:v,slotProps:{input:{endAdornment:m.jsx(yi,{position:"end",children:m.jsx(cn,{title:d("ankiDialog.searchInAnki"),children:m.jsx("span",{children:m.jsx(pr,{disabled:e||!i||!r||r.trim()==="",onClick:()=>t.findNotesWithWordGui(r.trim()),edge:"end",children:m.jsx(MH,{})})})})})}}})})}function NH({name:t,text:e,onTextChange:r}){return m.jsx(ra,{variant:"filled",color:"primary",fullWidth:!0,multiline:!0,maxRows:8,label:t,value:e,onChange:n=>r(t,n.target.value)},t)}const _M=lr(m.jsx("circle",{cx:"12",cy:"12",r:"8"}),"FiberManualRecord"),MM=lr(m.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),jM=lr(m.jsx("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"}),"Pause"),IH=yn(()=>({root:{cursor:"pointer","& input":{cursor:"pointer"}}})),LH=(t,e)=>{const{t:r}=Wr(),[n,i]=x.useState(),[a,l]=x.useState();return x.useEffect(()=>{if(t){const c=t.error===void 0;l(c),c?e===void 0&&!t.isSliceable()?i(r("ankiDialog.cannotUpdateAudio")):i(void 0):i(r(t.errorLocKey))}},[t,e,r]),{audioHelperText:n,audioClipPlayable:a}};function FH({audioClip:t,timestampIntervalSelectionNotApplied:e,onPlayAudio:r,onRerecord:n}){const i=IH(),{t:a}=Wr(),[l,c]=x.useState(!1);let d;x.useEffect(()=>c(t.playing),[t]),x.useEffect(()=>t.onEvent("play",()=>c(!0)),[t]),x.useEffect(()=>t.onEvent("pause",()=>c(!1)),[t]),d=m.jsxs(m.Fragment,{children:[m.jsxs(pr,{disabled:t?.error!==void 0,onClick:()=>{},edge:"end",children:[l&&m.jsx(jM,{}),!l&&m.jsx(MM,{})]}),n!==void 0&&m.jsx(cn,{title:a(e?"ankiDialog.rerecordAndApplySelection":"ankiDialog.rerecord"),children:m.jsx("span",{children:m.jsx(E1,{invisible:!e,badgeContent:"!",color:"error",children:m.jsx(pr,{disabled:t?.error!==void 0,onClick:g=>{g.stopPropagation(),n?.()},edge:"end",children:m.jsx(_M,{})})})})})]});const{audioHelperText:f,audioClipPlayable:h}=LH(t,n);return m.jsx("div",{className:i.root,onClick:r,children:m.jsx(ra,{variant:"filled",color:"primary",fullWidth:!0,value:t.name,label:a("ankiDialog.audio"),helperText:f,disabled:!h,slotProps:{input:{endAdornment:d&&m.jsx(yi,{position:"end",children:d})}}})})}const BH=lr(m.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm-1 4 6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2zm-1 7h5.5L14 6.5z"}),"FileCopy"),NM=({image:t,smoothTransition:e})=>{const[r,n]=x.useState(""),[i,a]=x.useState(0),[l,c]=x.useState(0);return x.useEffect(()=>{if(e||(n(""),a(0),c(0)),!t||t.error!==void 0)return;let d;function f(){t&&t.dataUrl().then(h=>{d=new Image,d.onload=()=>{d&&(a(d.width),c(d.height),n(h))},d.src=h}).catch(h=>{if(!(h instanceof e2))throw h})}return f(),()=>{d&&(d.onload=null)}},[t,e]),{dataUrl:r,width:i,height:l}},$H=lr(m.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),DH=yn(()=>({root:{cursor:"pointer","& input":{cursor:"pointer"}},imagePreview:({dataUrl:t})=>t?{position:"relative",top:8,borderRadius:2,marginRight:8}:{}})),zH=t=>{const{t:e}=Wr(),[r,n]=x.useState(),[i,a]=x.useState();return x.useEffect(()=>{t&&(t.error===void 0?(a(!0),n(void 0)):t.error===Yu.fileLinkLost?(a(!1),n(e("ankiDialog.imageFileLinkLost"))):t.error===Yu.captureFailed&&(a(!1),n(e("ankiDialog.imageCaptureFailed"))))},[t,e]),{imageHelperText:r,imageAvailable:i}};function UH({image:t,onViewImage:e,onCopyImageToClipboard:r,copyEnabled:n}){const{t:i}=Wr(),{dataUrl:a,width:l,height:c}=NM({image:t,smoothTransition:!1}),d=DH({dataUrl:a}),{imageHelperText:f,imageAvailable:h}=zH(t),g=c===0?0:20/c;return m.jsx("div",{className:d.root,onClick:e,children:m.jsx(ra,{variant:"filled",color:"primary",fullWidth:!0,value:t.name,label:i("ankiDialog.image"),helperText:f,disabled:!h,slotProps:{input:{startAdornment:a&&l>0&&c>0&&m.jsx("img",{src:a,width:l*g,height:c*g,className:d.imagePreview}),endAdornment:m.jsx(yi,{position:"end",children:m.jsxs(m.Fragment,{children:[m.jsx(cn,{disabled:!t.canChangeTimestamp||!h,title:i("ankiDialog.imagePreview"),children:m.jsx("span",{children:m.jsx(pr,{disabled:!h,onClick:()=>{},edge:"end",children:m.jsx($H,{})})})}),n&&m.jsx(cn,{disabled:!h,title:i("ankiDialog.copyToClipboard"),children:m.jsx("span",{children:m.jsx(pr,{disabled:!h,onClick:r,edge:"end",children:m.jsx(BH,{})})})})]})})}}})})}function HH(t){return tr("MuiCard",t)}nr("MuiCard",["root"]);const VH=t=>{const{classes:e}=t;return er({root:["root"]},HH,e)},qH=tt(Ei,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})({overflow:"hidden"}),WH=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiCard"}),{className:i,raised:a=!1,...l}=n,c={...n,raised:a},d=VH(c);return m.jsx(qH,{className:wt(d.root,i),elevation:a?8:void 0,ref:r,ownerState:c,...l})});function KH(t){return tr("MuiCardMedia",t)}nr("MuiCardMedia",["root","media","img"]);const GH=t=>{const{classes:e,isMediaComponent:r,isImageComponent:n}=t;return er({root:["root",r&&"media",n&&"img"]},KH,e)},YH=tt("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{isMediaComponent:n,isImageComponent:i}=r;return[e.root,n&&e.media,i&&e.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),XH=["video","audio","picture","iframe","img"],ZH=["picture","img"],QH=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiCardMedia"}),{children:i,className:a,component:l="div",image:c,src:d,style:f,...h}=n,g=XH.includes(l),p=!g&&c?{backgroundImage:`url("${c}")`,...f}:f,S={...n,component:l,isMediaComponent:g,isImageComponent:ZH.includes(l)},b=GH(S);return m.jsx(YH,{className:wt(b.root,a),as:l,role:!g&&c?"img":void 0,ref:r,style:p,ownerState:S,src:g?c||d:void 0,...h,children:i})}),JH=yn(()=>({image:({width:t,height:e})=>({width:t,height:e,backgroundSize:"contain"})}));function eV(){const[t,e]=x.useState([0,0]);return x.useLayoutEffect(()=>{function r(){e([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",r),r(),()=>window.removeEventListener("resize",r)},[]),t}const tV=({children:t,open:e,value:r})=>m.jsx(cn,{open:e,enterTouchDelay:0,placement:"bottom",title:r,children:t});function rV({open:t,image:e,interval:r,onClose:n,onTimestampChange:i}){const{width:a,height:l,dataUrl:c}=NM({image:e,smoothTransition:!0}),[d,f]=eV();let h;a>0&&l>0?h=Math.min(1,Math.min(d/(2*a),f/(2*l))):h=1;const g=JH({width:a*h,height:l*h});return!e||!c||!t?null:m.jsx("div",{children:m.jsx(Am,{disableRestoreFocus:!0,style:{width:"100vw",height:"100vh"},open:t,onClose:n,children:m.jsxs("div",{style:{position:"absolute",width:a*h,height:l*h,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[m.jsx(WH,{children:m.jsx(QH,{className:g.image,image:c,title:e.name,style:{}})}),r&&e.canChangeTimestamp&&m.jsx(Pm,{slots:{valueLabel:tV},color:"primary",value:e.timestamp,min:r[0],max:r[1],onChange:(p,S)=>{const b=r[1]-r[0];i(S/b*b)},valueLabelFormat:p=>_c(p,!0),valueLabelDisplay:"on",track:!1})]})})})}function nV(t){return tr("MuiListItem",t)}nr("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function iV(t){return tr("MuiListItemButton",t)}const Bu=nr("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),oV=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters]},aV=t=>{const{alignItems:e,classes:r,dense:n,disabled:i,disableGutters:a,divider:l,selected:c}=t,f=er({root:["root",n&&"dense",!a&&"gutters",l&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",c&&"selected"]},iV,r);return{...r,...f}},sV=tt(Gs,{shouldForwardProp:t=>Hi(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:oV})(Qt(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Bu.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:jr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Bu.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:jr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Bu.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:jr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:jr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Bu.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Bu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),Pi=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:a=!1,component:l="div",children:c,dense:d=!1,disableGutters:f=!1,divider:h=!1,focusVisibleClassName:g,selected:p=!1,className:S,...b}=n,v=x.useContext(za),k=x.useMemo(()=>({dense:d||v.dense||!1,alignItems:i,disableGutters:f}),[i,v.dense,d,f]),T=x.useRef(null);uo(()=>{a&&T.current&&T.current.focus()},[a]);const A={...n,alignItems:i,dense:k.dense,disableGutters:f,divider:h,selected:p},w=aV(A),R=Jn(T,r);return m.jsx(za.Provider,{value:k,children:m.jsx(sV,{ref:R,href:b.href||b.to,component:(b.href||b.to)&&l==="div"?"button":l,focusVisibleClassName:wt(w.focusVisible,g),ownerState:A,className:wt(w.root,S),...b,classes:w,children:c})})});function lV(t){return tr("MuiListItemSecondaryAction",t)}nr("MuiListItemSecondaryAction",["root","disableGutters"]);const cV=t=>{const{disableGutters:e,classes:r}=t;return er({root:["root",e&&"disableGutters"]},lV,r)},uV=tt("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),$1=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiListItemSecondaryAction"}),{className:i,...a}=n,l=x.useContext(za),c={...n,disableGutters:l.disableGutters},d=cV(c);return m.jsx(uV,{className:wt(d.root,i),ownerState:c,ref:r,...a})});$1.muiName="ListItemSecondaryAction";const dV=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters,!r.disablePadding&&e.padding,r.hasSecondaryAction&&e.secondaryAction]},fV=t=>{const{alignItems:e,classes:r,dense:n,disableGutters:i,disablePadding:a,divider:l,hasSecondaryAction:c}=t;return er({root:["root",n&&"dense",!i&&"gutters",!a&&"padding",l&&"divider",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction"],container:["container"]},nV,r)},pV=tt("div",{name:"MuiListItem",slot:"Root",overridesResolver:dV})(Qt(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${Bu.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),hV=tt("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),ui=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiListItem"}),{alignItems:i="center",children:a,className:l,component:c,components:d={},componentsProps:f={},ContainerComponent:h="li",ContainerProps:{className:g,...p}={},dense:S=!1,disableGutters:b=!1,disablePadding:v=!1,divider:k=!1,secondaryAction:T,slotProps:A={},slots:w={},...R}=n,O=x.useContext(za),M=x.useMemo(()=>({dense:S||O.dense||!1,alignItems:i,disableGutters:b}),[i,O.dense,S,b]),j=x.useRef(null),$=x.Children.toArray(a),V=$.length&&Lf($[$.length-1],["ListItemSecondaryAction"]),N={...n,alignItems:i,dense:M.dense,disableGutters:b,disablePadding:v,divider:k,hasSecondaryAction:V},W=fV(N),z=Jn(j,r),I=w.root||d.Root||pV,B=A.root||f.root||{},G={className:wt(W.root,B.className,l),...R};let U=c||"li";return V?(U=!G.component&&!c?"div":U,h==="li"&&(U==="li"?U="div":G.component==="li"&&(G.component="div")),m.jsx(za.Provider,{value:M,children:m.jsxs(hV,{as:h,className:wt(W.container,g),ref:z,ownerState:N,...p,children:[m.jsx(I,{...B,...!Vs(I)&&{as:U,ownerState:{...N,...B.ownerState}},...G,children:$}),$.pop()]})})):m.jsx(za.Provider,{value:M,children:m.jsxs(I,{...B,as:U,ref:z,...!Vs(I)&&{ownerState:{...N,...B.ownerState}},...G,children:[$,T&&m.jsx($1,{children:T})]})})}),gV=({profiles:t,activeProfile:e,onSetActiveProfile:r})=>{const{t:n}=Wr(),[i,a]=x.useState(!1),[l,c]=x.useState(),d=x.useCallback(g=>{c(g.currentTarget),a(!0)},[]),f=x.useCallback(()=>a(!1),[]),h=x.useCallback(g=>{a(!1),r(g?.name)},[r]);return t.length===0?null:m.jsxs(m.Fragment,{children:[m.jsx(Ys,{open:i,anchorEl:l,onClose:f,children:m.jsxs(Ua,{children:[m.jsx(ui,{disablePadding:!0,onClick:()=>h(void 0),children:m.jsx(Pi,{selected:e===void 0,children:n("settings.defaultProfile")})}),t.map(g=>m.jsx(ui,{disablePadding:!0,onClick:()=>h(g),children:m.jsx(Pi,{selected:g.name===e,children:g.name})},g.name))]})}),m.jsx(fi,{color:"inherit",variant:"outlined",onClick:d,children:e??n("settings.defaultProfile")})]})},mV=(navigator.userAgentData?.platform??navigator.platform)?.toUpperCase()?.indexOf("MAC")>-1,M0=Ln.forwardRef(function({children:e,focusVisible:r,onBlurVisible:n,...i},a){const l=x.useRef(null),c=x.useRef(null),[d,f]=x.useState(!1),h=x.useCallback(()=>{l.current?.focusVisible()},[]);x.useEffect(()=>{r&&d&&h()},[r,h,d]);const g=x.useCallback(S=>{a&&(typeof a=="function"?a(S):a.current=S,c.current=S),f(S!==null)},[a]),p=x.useCallback(()=>n(),[n]);return m.jsx(fi,{ref:g,onBlur:p,action:l,...i,children:e})}),yV=({disabled:t,show:e,children:r,onConfirm:n})=>{const[i,a]=x.useState();return m.jsx(Kl,{placement:"bottom",disabled:t,disableArrow:!0,text:i?m.jsx(Ci,{i18nKey:"ftue.anki",components:[m.jsx(co,{href:"https://apps.ankiweb.net/",target:"_blank",children:"Anki"},0),m.jsx("b",{children:"SRS"},1)]}):m.jsxs(m.Fragment,{children:[m.jsx(Ci,{i18nKey:"ftue.ankiDialog",components:[m.jsx("b",{children:"Anki Export Dialog"},0),m.jsx("b",{children:"sentence"},1),m.jsx("b",{children:"image"},2),m.jsx("b",{children:"audio"},3)]}),m.jsx("p",{}),m.jsx(fi,{onClick:()=>a(!0),variant:"contained",fullWidth:!0,children:m.jsx(Ci,{i18nKey:"ftue.whatsAnki"})})]}),onConfirm:n,show:e,children:r})},bV=mV?"++Enter":"Alt+Shift+Enter",vV=yn(t=>({root:{"& .MuiTextField-root":{marginBottom:t.spacing(1)}},title:{flexGrow:1},mediaField:{cursor:"pointer","& input":{cursor:"pointer"}},rangeSelectSlider:{"& .MuiSlider-markLabel":{transform:"translateX(-3%)",background:t.palette.mode==="dark"?"#222":"#ddd",borderRadius:t.spacing(1),paddingLeft:t.spacing(1),paddingRight:t.spacing(1),color:t.palette.text.disabled},"& .MuiSlider-markLabelActive":{opacity:1,color:t.palette.text.primary}}})),SV=1,xV=5e3,wV=(t,e)=>{let r=e.findIndex(l=>l.start===t.start);r=r===-1?e.length/2:r;const{surroundingSubtitles:n}=Px(e,t.start,t.end,SV,xV);let i=null,a=null;for(const l of n??[])(i===null||l.start<i)&&(i=l.start),(a===null||l.end>a)&&(a=l.end);return i!==null&&a!==null&&[i,a]},ig=(t,e)=>{const r={};return t.filter(n=>n.text.trim()!==""||n.textImage!==void 0).map(n=>n.start in r?null:(r[n.start]=!0,{value:n.start,label:`${n.text.trim().substring(0,Math.min(n.text.length,3))}...`})).filter(n=>n!==null).filter(n=>n.value>=e[0]&&n.value<=e[1])},kV=t=>_c(t,!0),CV=({children:t,open:e,value:r})=>m.jsx(cn,{open:e,enterTouchDelay:0,placement:"top",title:r,children:t}),UR=({open:t,disabled:e,card:r,onProceed:n,onCancel:i,onOpenSettings:a,onRerecord:l,onCopyToClipboard:c,settings:d,anki:f,source:h,timestampInterval:g,timestampBoundaryInterval:p,initialTimestampInterval:S,lastAppliedTimestampIntervalToText:b,lastAppliedTimestampIntervalToAudio:v,stateRef:k,mp3Encoder:T,profiles:A,activeProfile:w,onSetActiveProfile:R,lastSelectedExportMode:O,showQuickSelectFtue:M,onDismissShowQuickSelectFtue:j,inTutorial:$})=>{const V=vV(),[N,W]=x.useState(""),[z,I]=x.useState(""),[B,G]=x.useState(""),[U,X]=x.useState(""),[q,Z]=x.useState(d.tags),[F,D]=x.useState(r.url??""),[J,ee]=x.useState(""),[te,ie]=x.useState(""),[oe,ke]=x.useState(""),[ve,Q]=x.useState({}),[de,we]=x.useState(),[ue,rt]=x.useState([]),[ye,Le]=x.useState(),[ut,Be]=x.useState(),[bt,Ot]=x.useState(),[Mt,et]=x.useState(),[ht,Bt]=x.useState(),[_t,it]=x.useState(),[je,qe]=x.useState(0),[Oe,ot]=x.useState(),[Se,vt]=x.useState(!0),[Pt,se]=x.useState(!1),[le,st]=x.useState(),$e=x.useRef(void 0),Xt=x.useCallback(lt=>{$e.current=lt,qe(lt?.getBoundingClientRect().width??0)},[]),{t:Et}=Wr();k&&(k.current={text:z,subtitle:r.subtitle,surroundingSubtitles:r.surroundingSubtitles,definition:N,word:B,source:U,url:F,track1:J,track2:te,track3:oe,customFieldValues:ve,initialTimestampInterval:ye,timestampBoundaryInterval:bt,lastAppliedTimestampIntervalToText:ht,lastAppliedTimestampIntervalToAudio:_t,timestampInterval:de});const yr=x.useCallback((lt,Er)=>fg(r.surroundingSubtitles.filter(Wt=>Tf(Wt,lt)).filter(Wt=>Er===void 0||Wt.track===Er)),[r.surroundingSubtitles]),{text:fe,definition:xe,word:dt,customFieldValues:qt}=r;x.useEffect(()=>{I(fe??Zo(r.subtitle,r.surroundingSubtitles)??""),W(xe??""),G(dt??""),X(h??`${r.subtitleFileName} (${_c(r.subtitle.start)})`),D(r.url??""),ee(Zo(r.subtitle,r.surroundingSubtitles,0)),ie(Zo(r.subtitle,r.surroundingSubtitles,1)),ke(Zo(r.subtitle,r.surroundingSubtitles,2)),Q(qt??{})},[r.subtitle,r.surroundingSubtitles,r.url,r.subtitleFileName,fe,h,xe,dt,qt]),x.useEffect(()=>{f.version().then(()=>{vt(!0)}).catch(()=>{vt(!1)})},[f]),x.useEffect(()=>{Z(d.tags)},[d.tags]),x.useEffect(()=>{const lt=g||[r.subtitle.start,r.subtitle.end],Er=wV(r.subtitle,r.surroundingSubtitles)||void 0,Wt=ig(r.surroundingSubtitles,Er)||void 0,Ke=lt===void 0?[]:r.surroundingSubtitles.filter($t=>Tf($t,lt));I(fe??fg(Ke));const mt=$t=>fg(Ke.filter(Yt=>Yt.track===$t));ee(mt(0)),ie(mt(1)),ke(mt(2)),we(lt),rt(Ke),Le(S||lt),Bt(b||lt),it(v||lt),Ot(p??Er),Be(Er),et(Wt)},[r.subtitle,r.surroundingSubtitles,fe,S,g,p,b,v]);const ir=x.useMemo(()=>qo.fromCard(r,d.audioPaddingStart,d.audioPaddingEnd,d.recordWithAudioPlayback),[r,d.audioPaddingStart,d.audioPaddingEnd,d.recordWithAudioPlayback]);x.useEffect(()=>{if(!ir){ot(void 0);return}let lt=ir;d.preferMp3&&(lt=lt.toEncoded(T,"mp3")),_t&&(lt=lt.slice(Math.max(0,Math.round(_t[0])-d.audioPaddingStart),Math.round(_t[1])+d.audioPaddingEnd)),ot(lt)},[T,ir,d.preferMp3,_t,d.audioPaddingStart,d.audioPaddingEnd]);const zt=x.useCallback(async lt=>{Oe?.error===void 0&&(lt.preventDefault(),lt.stopPropagation(),Oe.play().catch(console.info))},[Oe]),Jt=x.useCallback((lt,Er)=>{const Wt={};Object.assign(Wt,ve),Wt[lt]=Er,Q(Wt)},[ve]);x.useEffect(()=>{t&&st(Kf.fromCard(r,d.maxImageWidth,d.maxImageHeight))},[r,t,d.maxImageWidth,d.maxImageHeight]),x.useEffect(()=>{!t&&le&&(le.dispose(),st(void 0))},[t,le]);const jt=x.useCallback(async lt=>{le?.error===void 0&&(lt.preventDefault(),lt.stopPropagation(),se(!0))},[le]),hr=x.useCallback(()=>se(!1),[]),At=x.useCallback(lt=>{st(Er=>{if(Er)return Er.atTimestamp(lt)})},[]),Tt=x.useCallback((lt,Er,Wt,Ke,mt)=>{const $t=ht===void 0?void 0:yr(ht,Ke);if(mt||$t===void 0||Er.trim()===$t.trim()){const Yt=yr(lt,Ke);Wt(Yt)}},[yr,ht]),St=x.useCallback((lt,Er)=>{Tt(lt,z,I,void 0,Er),Tt(lt,J,ee,0,Er),Tt(lt,te,ie,1,Er),Tt(lt,oe,ke,2,Er)},[Tt,z,J,te,oe]),kt=x.useCallback(()=>{de!==void 0&&(St(de,!0),Bt(de))},[St,de]),Ut=x.useCallback((lt,Er)=>{const Wt=Er;we(Wt);const Ke=r.surroundingSubtitles.filter(mt=>Tf(mt,Wt));rt(Ke),St(Wt),Bt(Wt),l===void 0&&Oe?.isSliceable()===!0&&it(Wt)},[r.surroundingSubtitles,Oe,l,St]),Ft=x.useCallback(()=>{if(!ut)return;const lt=ye==null?[]:r.surroundingSubtitles.filter(Er=>Tf(Er,ye));rt(lt),we(ye),Ot(ut),et(ig(r.surroundingSubtitles,ut)),ye!==void 0&&(St(ye,!0),Bt(ye))},[ye,ut,r.surroundingSubtitles,St]),Nr=x.useCallback(()=>{if(!bt||!de)return;const lt=(bt[0]+de[0])/2,Er=(bt[1]+de[1])/2,Wt=[lt,Er];Ot(Wt),et(ig(r.surroundingSubtitles,Wt))},[bt,de,r.surroundingSubtitles]),Vr=x.useCallback(()=>{if(!bt||!de)return;const Er=(bt[1]-bt[0])/4,Wt=Math.max(0,Math.min(bt[0]-Er,2*bt[0]-de[0])),Ke=Math.max(bt[1]+Er,2*bt[1]-de[1]),mt=[Wt,Ke];Ot(mt),et(ig(r.surroundingSubtitles,mt))},[bt,de,r.surroundingSubtitles]),$r=x.useCallback(async lt=>{lt.stopPropagation(),le&&c(await le.pngBlob())},[le,c]),wr=r.surroundingSubtitles.filter(lt=>lt.text.trim()!=="").length===0,Pr=s2(d);x.useEffect(()=>{t||Oe?.stop()},[t,Oe]);const Hr=x.useCallback(lt=>{I(lt),Bt(void 0)},[]),Kr=x.useCallback(lt=>{ee(lt),Bt(void 0)},[]),Ue=x.useCallback(lt=>{ie(lt),Bt(void 0)},[]),We=x.useCallback(lt=>{ke(lt),Bt(void 0)},[]),Ct=x.useRef(null),cr=x.useRef(null),dr=x.useRef(null),Tr=x.useRef(void 0);Tr.current=O;const[Lr,br]=x.useState(),bn=()=>{const lt=document.activeElement;if(lt){for(const Er of[dr,cr,Ct])if(Er.current===lt)return Er.current}},Sn=x.useCallback(()=>{const lt=Tr.current;lt!==void 0&&br(lt)},[]),xr=x.useCallback(()=>br(void 0),[]);x.useEffect(()=>{t&&!e&&Sn()},[t,e,Sn]);const mr=x.useCallback(lt=>{n({text:z,track1:J,track2:te,track3:oe,definition:N,audioClip:Oe,image:le,word:B,source:U,url:F,customFieldValues:ve,tags:q,mode:lt})},[z,J,te,oe,N,Oe,le,B,U,F,ve,q,n]),ei=x.useCallback(()=>mr("gui"),[mr]),ar=x.useCallback(()=>mr("updateLast"),[mr]),an=x.useCallback(()=>mr("default"),[mr]);x.useEffect(()=>{const lt=Er=>{if((Er.metaKey||Er.altKey)&&Er.shiftKey&&Er.key==="Enter"){const Wt=bn();Wt===void 0?Sn():Wt?.click()}};return document.addEventListener("keydown",lt),()=>document.removeEventListener("keydown",lt)},[Sn]);const[Ir,gn]=x.useState(1);return m.jsxs(m.Fragment,{children:[m.jsxs(Cp,{open:t,disableRestoreFocus:!0,disableEnforceFocus:!0,fullWidth:!0,maxWidth:"sm",onClose:i,children:[m.jsxs(_m,{children:[m.jsx(yV,{disabled:!$,onConfirm:()=>gn(2),show:Ir===1,children:m.jsx(An,{variant:"h6",className:V.title,children:Et("ankiDialog.title")})}),A!==void 0&&R&&m.jsx(gV,{profiles:A,activeProfile:w,onSetActiveProfile:R}),a&&m.jsx(Kl,{placement:"bottom",disabled:!$,show:Ir===3,text:Et("ftue.configureAnki"),onConfirm:()=>gn(4),children:m.jsx(pr,{edge:"end",onClick:()=>{Ir===3&&gn(4),a()},children:m.jsx(E1,{invisible:Se,badgeContent:"!",color:"error",children:m.jsx(bM,{})})})}),i&&m.jsx(pr,{edge:"end",onClick:i,children:m.jsx(Om,{})})]}),m.jsxs(rd,{ref:Xt,children:[m.jsxs("form",{className:V.root,children:[Pr.map(lt=>{const Er=lt.custom?`custom_${lt.key}`:`standard_${lt.key}`;return m.jsxs(Ln.Fragment,{children:[!lt.custom&&lt.key==="sentence"&&lt.field.display&&m.jsx(ng,{text:z,label:Et("ankiDialog.sentence"),width:je,onChangeText:Hr,selectedSubtitles:ue}),!lt.custom&&lt.key==="definition"&&lt.field.display&&m.jsx(wH,{text:N,onTextChange:W}),!lt.custom&&lt.key==="word"&&lt.field.display&&m.jsx(jH,{anki:f,disabled:e,text:B,onText:G,wordField:d.wordField,disableTutorial:!$,showTutorial:Ir===2,onConfirmTutorial:()=>gn(3)}),le&&!lt.custom&&lt.key==="image"&&lt.field.display&&m.jsx(UH,{onViewImage:jt,image:le,onCopyImageToClipboard:$r,copyEnabled:!Jg}),Oe&&!lt.custom&&lt.key==="audio"&&lt.field.display&&m.jsx(FH,{audioClip:Oe,timestampIntervalSelectionNotApplied:de?.[0]!==_t?.[0]||de?.[1]!==_t?.[1],onRerecord:l,onPlayAudio:zt}),!lt.custom&&lt.key==="source"&&lt.field.display&&m.jsx(ra,{variant:"filled",color:"primary",fullWidth:!0,label:Et("ankiDialog.source"),value:U,onChange:Wt=>X(Wt.target.value)}),!lt.custom&&lt.key==="url"&&lt.field.display&&r.url&&m.jsx(ra,{variant:"filled",color:"primary",fullWidth:!0,label:Et("ankiDialog.url"),value:F,onChange:Wt=>D(Wt.target.value)}),!lt.custom&&lt.key==="track1"&&lt.field.display&&m.jsx(ng,{text:J,label:Et("ankiDialog.track1"),width:je,onChangeText:Kr,selectedSubtitles:ue.filter(Wt=>Wt.track===0)}),!lt.custom&&lt.key==="track2"&&lt.field.display&&m.jsx(ng,{text:te,label:Et("ankiDialog.track2"),width:je,onChangeText:Ue,selectedSubtitles:ue.filter(Wt=>Wt.track===1)}),!lt.custom&&lt.key==="track3"&&lt.field.display&&m.jsx(ng,{text:oe,label:Et("ankiDialog.track3"),width:je,onChangeText:We,selectedSubtitles:ue.filter(Wt=>Wt.track===2)}),lt.custom&&lt.field.display&&m.jsx(NH,{name:lt.key,text:ve[lt.key]||"",onTextChange:Jt})]},Er)}),m.jsx(Nm,{variant:"filled",label:"Tags",helperText:Et("ankiDialog.tagList"),fullWidth:!0,color:"primary",items:q,onItemsChange:lt=>Z(lt)}),de&&bt&&Mt&&m.jsxs(hn,{container:!0,direction:"row",children:[m.jsx(hn,{item:!0,style:{flexGrow:1},children:m.jsx(Pm,{slots:{valueLabel:CV},value:de,valueLabelFormat:kV,onChange:Ut,min:bt[0],max:bt[1],marks:Mt,step:1,valueLabelDisplay:"auto",className:V.rangeSelectSlider,color:"primary"})}),m.jsx(hn,{item:!0,children:m.jsx(cn,{title:Et("ankiDialog.resetSlider"),children:m.jsx("span",{children:m.jsx(pr,{edge:"end",style:{marginTop:-4},onClick:Ft,children:m.jsx(SU,{fontSize:"small"})})})})}),m.jsx(hn,{item:!0,children:m.jsx(cn,{title:Et("ankiDialog.zoomIn"),children:m.jsx("span",{children:m.jsx(pr,{edge:"end",style:{marginTop:-4},onClick:Nr,children:m.jsx(mH,{fontSize:"small"})})})})}),m.jsx(hn,{item:!0,children:m.jsx(cn,{title:Et("ankiDialog.zoomOut"),children:m.jsx("span",{children:m.jsx(pr,{edge:"end",style:{marginTop:-4},onClick:Vr,children:m.jsx(yH,{fontSize:"small"})})})})}),m.jsx(hn,{item:!0,children:m.jsx(cn,{title:Et("ankiDialog.applySelection"),children:m.jsx("span",{children:m.jsx(pr,{edge:"end",style:{marginTop:-4},disabled:!de||ht!==void 0&&de[0]===ht[0]&&de[1]===ht[1]||wr,onClick:kt,children:m.jsx(bH,{fontSize:"small"})})})})})]})]}),M&&O!==void 0&&m.jsx(kp,{severity:"info",action:m.jsx(fi,{onClick:j,size:"small",children:Et("action.ok")}),children:Et("ankiDialog.quickSelectFtue",{shortcut:bV})})]}),m.jsxs(Rm,{children:[m.jsx(M0,{ref:cr,disabled:e,focusVisible:Lr==="gui",onBlurVisible:xr,onClick:ei,children:Et("ankiDialog.openInAnki")}),m.jsx(M0,{ref:Ct,disabled:e,focusVisible:Lr==="updateLast",onBlurVisible:xr,onClick:ar,children:Et("ankiDialog.updateLastCard")}),m.jsx(M0,{ref:dr,disabled:e,focusVisible:Lr==="default",onBlurVisible:xr,onClick:an,children:Et("ankiDialog.export")})]})]}),m.jsx(rV,{open:t&&Pt,image:le,interval:bt,onClose:hr,onTimestampChange:At})]})},Im=()=>{const[t,e]=x.useState(0);return x.useLayoutEffect(()=>{const r=document.querySelector("header.MuiAppBar-root");e(r?.clientHeight||0);function n(){e(r?.clientHeight||0)}const i=new MutationObserver(()=>{e(r?.clientHeight||0)});return r&&i.observe(r,{attributes:!0,attributeFilter:["class"]}),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n),i.disconnect()}},[]),t},TV=yn(t=>({root:({dragging:e,appBarHidden:r,appBarHeight:n})=>({position:"absolute",height:r?"100%":`calc(100% - ${n}px)`,width:"100%",zIndex:101,pointerEvents:e?"auto":"none"}),transparentBackground:({appBarHidden:e,logoUrl:r})=>({"&::before":{content:"' '",position:"absolute",height:e?"100vh":"calc(100vh - 64px)",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",backgroundSize:"300px 300px",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:`url(${r})`,backgroundBlendMode:"overlay",background:"rgba(0, 0, 0, .3)",filter:"drop-shadow(10px 10px 10px rgb(0, 0, 0, .4))"},width:"100%",height:"100%"})}));function EV({dragging:t,appBarHidden:e,loading:r,logoUrl:n}){const i=Im(),a=TV({dragging:t,appBarHidden:e,logoUrl:n,appBarHeight:i});return m.jsx("div",{className:a.root,children:m.jsx(jc,{in:t||r,children:m.jsx("div",{className:a.transparentBackground})})})}function AV(t){return tr("MuiAppBar",t)}nr("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const RV=t=>{const{color:e,position:r,classes:n}=t,i={root:["root",`color${Ye(e)}`,`position${Ye(r)}`]};return er(i,AV,n)},HR=(t,e)=>t?`${t?.replace(")","")}, ${e})`:e,OV=tt(Ei,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${Ye(r.position)}`],e[`color${Ye(r.color)}`]]}})(Qt(({theme:t})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(Dn(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(t.vars??t).palette[e].main,"--AppBar-color":(t.vars??t).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?HR(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?HR(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}))),PV=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiAppBar"}),{className:i,color:a="primary",enableColorOnDark:l=!1,position:c="fixed",...d}=n,f={...n,color:a,position:c,enableColorOnDark:l},h=RV(f);return m.jsx(OV,{square:!0,component:"header",ownerState:f,elevation:4,className:wt(h.root,i,c==="fixed"&&"mui-fixed"),ref:r,...d})}),_V=lr(m.jsx("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"}),"BugReport"),MV=lr(m.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite"),jV=t=>m.jsx(ed,{children:m.jsx("path",{d:`M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1m0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5zM12 19.5c-1.35-.85-3.8-1.5-5.5-1.5-1.2 0-2.4.15-3.5.5L3 7c1.1-.35 2.3-.5 3.5-.5 1.7 0 4.15.65 5.5 1.5M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99M13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83m4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24M11 105c-1.7 0-3.24-.29-4 0
M6.5 10.5C5.62 10.5 4.77 10.59 4 10.76V9.24C4.79 9.09 5.64 9 6.5 9 8.2 9 9.74 9.29 11 9.83V11.49C9.87 10.85 8.3 10.5 6.5 10.5M11 12.49V14.15C9.87 13.51 8.3 13.16 6.5 13.16 5.62 13.16 4.77 13.25 4 13.42V11.9C4.79 11.75 5.64 11.66 6.5 11.66 8.2 11.66 9.74 11.96 11 12.49M6.5 14.33C8.2 14.33 9.74 14.62 11 15.16V16.82C9.87 16.18 8.3 15.83 6.5 15.83 5.62 15.83 4.77 15.92 4 16.09V14.57C4.79 14.41 5.64 14.33 6.5 14.33`})}),NV=lr(m.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History"),IM=lr(m.jsx("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7zm-6 .67 2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),IV=lr(m.jsx("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"}),"GitHub");function LV(t){return tr("MuiListItemText",t)}const Vu=nr("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),FV=t=>{const{classes:e,inset:r,primary:n,secondary:i,dense:a}=t;return er({root:["root",r&&"inset",a&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},LV,e)},BV=tt("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${Vu.primary}`]:e.primary},{[`& .${Vu.secondary}`]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${FR.root}:where(& .${Vu.primary})`]:{display:"block"},[`.${FR.root}:where(& .${Vu.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Qn=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiListItemText"}),{children:i,className:a,disableTypography:l=!1,inset:c=!1,primary:d,primaryTypographyProps:f,secondary:h,secondaryTypographyProps:g,slots:p={},slotProps:S={},...b}=n,{dense:v}=x.useContext(za);let k=d??i,T=h;const A={...n,disableTypography:l,inset:c,primary:!!k,secondary:!!T,dense:v},w=FV(A),R={slots:p,slotProps:{primary:f,secondary:g,...S}},[O,M]=Sr("root",{className:wt(w.root,a),elementType:BV,externalForwardedProps:{...R,...b},ownerState:A,ref:r}),[j,$]=Sr("primary",{className:w.primary,elementType:An,externalForwardedProps:R,ownerState:A}),[V,N]=Sr("secondary",{className:w.secondary,elementType:An,externalForwardedProps:R,ownerState:A});return k!=null&&k.type!==An&&!l&&(k=m.jsx(j,{variant:v?"body2":"body1",component:$?.variant?void 0:"span",...$,children:k})),T!=null&&T.type!==An&&!l&&(T=m.jsx(V,{variant:"body2",color:"textSecondary",...N,children:T})),m.jsxs(O,{...M,children:[k,T]})});function $V(t){return tr("MuiListItemIcon",t)}const VR=nr("MuiListItemIcon",["root","alignItemsFlexStart"]),DV=t=>{const{alignItems:e,classes:r}=t;return er({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},$V,r)},zV=tt("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(Qt(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Qo=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiListItemIcon"}),{className:i,...a}=n,l=x.useContext(za),c={...n,alignItems:l.alignItems},d=DV(c);return m.jsx(zV,{className:wt(d.root,i),ownerState:c,ref:r,...a})}),UV=lr(m.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),HV=yn(t=>({title:{flexGrow:1},leftButton:{marginRight:t.spacing(1)},appBar:{background:"linear-gradient(150deg, #ff1f62, #49007a 160%)",transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},appBarShift:{width:({drawerWidth:e})=>`calc(100% - ${e}px)`,transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginRight:({drawerWidth:e})=>e},copyHistoryButton:{transform:"scaleX(1)",width:48,padding:12,transition:t.transitions.create(["transform","padding","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},copyHistoryButtonShift:{transform:"scaleX(0)",width:0,padding:5,transition:t.transitions.create(["transform","padding","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})},hide:{display:"none"},menu:{"& .MuiLink-root":{textDecoration:"none"}}})),VV=yn(t=>({tooltip:({show:e})=>({display:e?"block":"none"})}));function qV({show:t,...e}){const r=VV({show:t});return m.jsx(cn,{classes:r,...e})}const j0=({children:t,...e})=>m.jsx(co,{component:"a",target:"_blank",rel:"noreferrer",color:"inherit",...e,children:t});function WV({drawerWidth:t,drawerOpen:e,hidden:r,title:n,subtitleFiles:i,lastError:a,onOpenSettings:l,onOpenCopyHistory:c,onDownloadSubtitleFilesAsSrt:d,onCopyLastError:f}){const h=HV({drawerWidth:t}),g=i!==void 0&&i.find(O=>!O.name.endsWith(".sup"))!==void 0,{t:p}=Wr(),S=x.useCallback(()=>{d()},[d]),[b,v]=x.useState(),[k,T]=x.useState(!1),A=x.useCallback(()=>{T(!1)},[]),w=x.useCallback(O=>{v(O.currentTarget),T(!0)},[]),R=x.useCallback(async()=>{if(!a)return;let O;a instanceof Error?O=`${a.message}
${a.stack}`:O=String(a),await navigator.clipboard.writeText(O),f(O)},[a,f]);return m.jsxs(m.Fragment,{children:[m.jsx(PV,{position:"static",className:wt(h.appBar,{[h.appBarShift]:e,[h.hide]:r}),children:m.jsxs(_m,{children:[g&&m.jsx(cn,{title:p("action.downloadSubtitlesAsSrt"),children:m.jsx(pr,{edge:"start",color:"inherit",className:h.leftButton,onClick:S,children:m.jsx(IM,{})})}),m.jsx(An,{variant:"h6",noWrap:!0,className:h.title,children:n}),m.jsx(pr,{edge:"end",color:"inherit",onClick:w,children:m.jsx(IV,{})}),m.jsx(cn,{title:p("bar.settings"),children:m.jsx(pr,{edge:"end",color:"inherit",onClick:l,children:m.jsx(bM,{})})}),m.jsx(qV,{title:p("bar.miningHistory"),show:!e,children:m.jsx(pr,{edge:"end",color:"inherit","aria-label":"menu",className:wt(h.copyHistoryButton,{[h.copyHistoryButtonShift]:e}),onClick:c,children:m.jsx(NV,{})})})]})}),m.jsx(Ys,{disableEnforceFocus:!0,open:k,anchorEl:b,onClose:A,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:m.jsxs(Ua,{className:h.menu,onMouseLeave:A,dense:!0,children:[m.jsx(j0,{href:"https://docs.asbplayer.dev/docs/intro",children:m.jsx(ui,{disablePadding:!0,children:m.jsxs(Pi,{children:[m.jsx(Qo,{children:m.jsx(jV,{})}),m.jsx(Qn,{primary:p("action.userGuide")})]})})}),m.jsx(j0,{href:"https://github.com/killergerbah/asbplayer/issues",children:m.jsx(ui,{disablePadding:!0,children:m.jsxs(Pi,{children:[m.jsx(Qo,{children:m.jsx(_V,{})}),m.jsx(Qn,{primary:p("bar.submitIssue")})]})})}),a&&m.jsx(ui,{disablePadding:!0,children:m.jsxs(Pi,{onClick:R,children:[m.jsx(Qo,{children:m.jsx(UV,{})}),m.jsx(Qn,{primary:p("bar.copyLastError")})]})}),m.jsx(j0,{href:"https://github.com/killergerbah/asbplayer#donations",children:m.jsx(ui,{disablePadding:!0,children:m.jsxs(Pi,{children:[m.jsx(Qo,{children:m.jsx(MV,{})}),m.jsx(Qn,{primary:p("bar.donate")})]})})})]})})]})}function KV(t){return tr("MuiDivider",t)}const qR=nr("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),GV=t=>{const{absolute:e,children:r,classes:n,flexItem:i,light:a,orientation:l,textAlign:c,variant:d}=t;return er({root:["root",e&&"absolute",d,a&&"light",l==="vertical"&&"vertical",i&&"flexItem",r&&"withChildren",r&&l==="vertical"&&"withChildrenVertical",c==="right"&&l!=="vertical"&&"textAlignRight",c==="left"&&l!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",l==="vertical"&&"wrapperVertical"]},KV,n)},YV=tt("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.absolute&&e.absolute,e[r.variant],r.light&&e.light,r.orientation==="vertical"&&e.vertical,r.flexItem&&e.flexItem,r.children&&e.withChildren,r.children&&r.orientation==="vertical"&&e.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&e.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&e.textAlignLeft]}})(Qt(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:jr(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),XV=tt("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.wrapper,r.orientation==="vertical"&&e.wrapperVertical]}})(Qt(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),Sx=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiDivider"}),{absolute:i=!1,children:a,className:l,orientation:c="horizontal",component:d=a||c==="vertical"?"div":"hr",flexItem:f=!1,light:h=!1,role:g=d!=="hr"?"separator":void 0,textAlign:p="center",variant:S="fullWidth",...b}=n,v={...n,absolute:i,component:d,flexItem:f,light:h,orientation:c,role:g,textAlign:p,variant:S},k=GV(v);return m.jsx(YV,{as:d,className:wt(k.root,l),role:g,ref:r,ownerState:v,"aria-orientation":g==="separator"&&(d!=="hr"||c==="vertical")?c:void 0,...b,children:a?m.jsx(XV,{className:k.wrapper,ownerState:v,children:a}):null})});Sx&&(Sx.muiSkipListHighlight=!0);function ZV(t,e,r){const n=e.getBoundingClientRect(),i=r&&r.getBoundingClientRect(),a=ta(e);let l;if(e.fakeTransform)l=e.fakeTransform;else{const f=a.getComputedStyle(e);l=f.getPropertyValue("-webkit-transform")||f.getPropertyValue("transform")}let c=0,d=0;if(l&&l!=="none"&&typeof l=="string"){const f=l.split("(")[1].split(")")[0].split(",");c=parseInt(f[4],10),d=parseInt(f[5],10)}return t==="left"?i?`translateX(${i.right+c-n.left}px)`:`translateX(${a.innerWidth+c-n.left}px)`:t==="right"?i?`translateX(-${n.right-i.left-c}px)`:`translateX(-${n.left+n.width-c}px)`:t==="up"?i?`translateY(${i.bottom+d-n.top}px)`:`translateY(${a.innerHeight+d-n.top}px)`:i?`translateY(-${n.top-i.top+n.height-d}px)`:`translateY(-${n.top+n.height-d}px)`}function QV(t){return typeof t=="function"?t():t}function og(t,e,r){const n=QV(r),i=ZV(t,e,n);i&&(e.style.webkitTransform=i,e.style.transform=i)}const JV=x.forwardRef(function(e,r){const n=fo(),i={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},a={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:l,appear:c=!0,children:d,container:f,direction:h="down",easing:g=i,in:p,onEnter:S,onEntered:b,onEntering:v,onExit:k,onExited:T,onExiting:A,style:w,timeout:R=a,TransitionComponent:O=Va,...M}=e,j=x.useRef(null),$=Jn(Fc(d),j,r),V=q=>Z=>{q&&(Z===void 0?q(j.current):q(j.current,Z))},N=V((q,Z)=>{og(h,q,f),C1(q),S&&S(q,Z)}),W=V((q,Z)=>{const F=td({timeout:R,style:w,easing:g},{mode:"enter"});q.style.webkitTransition=n.transitions.create("-webkit-transform",{...F}),q.style.transition=n.transitions.create("transform",{...F}),q.style.webkitTransform="none",q.style.transform="none",v&&v(q,Z)}),z=V(b),I=V(A),B=V(q=>{const Z=td({timeout:R,style:w,easing:g},{mode:"exit"});q.style.webkitTransition=n.transitions.create("-webkit-transform",Z),q.style.transition=n.transitions.create("transform",Z),og(h,q,f),k&&k(q)}),G=V(q=>{q.style.webkitTransition="",q.style.transition="",T&&T(q)}),U=q=>{l&&l(j.current,q)},X=x.useCallback(()=>{j.current&&og(h,j.current,f)},[h,f]);return x.useEffect(()=>{if(p||h==="down"||h==="right")return;const q=fp(()=>{j.current&&og(h,j.current,f)}),Z=ta(j.current);return Z.addEventListener("resize",q),()=>{q.clear(),Z.removeEventListener("resize",q)}},[h,p,f]),x.useEffect(()=>{p||X()},[p,X]),m.jsx(O,{nodeRef:j,onEnter:N,onEntered:z,onEntering:W,onExit:B,onExited:G,onExiting:I,addEndListener:U,appear:c,in:p,timeout:R,...M,children:(q,{ownerState:Z,...F})=>x.cloneElement(d,{ref:$,style:{visibility:q==="exited"&&!p?"hidden":void 0,...w,...d.props.style},...F})})});function e7(t){return tr("MuiDrawer",t)}nr("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const LM=(t,e)=>{const{ownerState:r}=t;return[e.root,(r.variant==="permanent"||r.variant==="persistent")&&e.docked,e.modal]},t7=t=>{const{classes:e,anchor:r,variant:n}=t,i={root:["root",`anchor${Ye(r)}`],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Ye(r)}`,n!=="temporary"&&`paperAnchorDocked${Ye(r)}`]};return er(i,e7,e)},r7=tt(Am,{name:"MuiDrawer",slot:"Root",overridesResolver:LM})(Qt(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer}))),n7=tt("div",{shouldForwardProp:Hi,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:LM})({flex:"0 0 auto"}),i7=tt(Ei,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`paperAnchor${Ye(r.anchor)}`],r.variant!=="temporary"&&e[`paperAnchorDocked${Ye(r.anchor)}`]]}})(Qt(({theme:t})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]}))),FM={left:"right",right:"left",top:"down",bottom:"up"};function o7(t){return["left","right"].includes(t)}function a7({direction:t},e){return t==="rtl"&&o7(e)?FM[e]:e}const s7=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiDrawer"}),i=fo(),a=Bc(),l={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:c="left",BackdropProps:d,children:f,className:h,elevation:g=16,hideBackdrop:p=!1,ModalProps:{BackdropProps:S,...b}={},onClose:v,open:k=!1,PaperProps:T={},SlideProps:A,TransitionComponent:w,transitionDuration:R=l,variant:O="temporary",slots:M={},slotProps:j={},...$}=n,V=x.useRef(!1);x.useEffect(()=>{V.current=!0},[]);const N=a7({direction:a?"rtl":"ltr"},c),z={...n,anchor:c,elevation:g,open:k,variant:O,...$},I=t7(z),B={slots:{transition:w,...M},slotProps:{paper:T,transition:A,...j,backdrop:x1(j.backdrop||{...d,...S},{transitionDuration:R})}},[G,U]=Sr("root",{ref:r,elementType:r7,className:wt(I.root,I.modal,h),shouldForwardComponentProp:!0,ownerState:z,externalForwardedProps:{...B,...$,...b},additionalProps:{open:k,onClose:v,hideBackdrop:p,slots:{backdrop:B.slots.backdrop},slotProps:{backdrop:B.slotProps.backdrop}}}),[X,q]=Sr("paper",{elementType:i7,shouldForwardComponentProp:!0,className:wt(I.paper,T.className),ownerState:z,externalForwardedProps:B,additionalProps:{elevation:O==="temporary"?g:0,square:!0}}),[Z,F]=Sr("docked",{elementType:n7,ref:r,className:wt(I.root,I.docked,h),ownerState:z,externalForwardedProps:B,additionalProps:$}),[D,J]=Sr("transition",{elementType:JV,ownerState:z,externalForwardedProps:B,additionalProps:{in:k,direction:FM[N],timeout:R,appear:V.current}}),ee=m.jsx(X,{...q,children:f});if(O==="permanent")return m.jsx(Z,{...F,children:ee});const te=m.jsx(D,{...J,children:ee});return O==="persistent"?m.jsx(Z,{...F,children:te}):m.jsx(G,{...U,children:te})}),l7=lr(m.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");function c7(t,e){for(let r in t)if(!(r in e))return!1;for(let r in e)if(!(r in t))return!1;return!0}function op(t,e,r=!0){if(t<0)return op(0,e);t=Math.round(t);const n=t%1e3;t=(t-n)/1e3;const i=t%60;t=(t-i)/60;const a=t%60;if(e>=36e5){const l=(t-a)/60;return r?ha(l)+":"+ha(a)+":"+ha(i)+"."+ha(n,3):ha(l)+":"+ha(a)+":"+ha(i)}return r?ha(a)+":"+ha(i)+"."+ha(n,3):ha(a)+":"+ha(i)}function ha(t,e=2){return String(t).padStart(e,"0")}const Lm=lr(m.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),D1=lr(m.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),z1=lr(m.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3zm-3-7V3.5L18.5 9z"}),"NoteAdd"),u7=yn(t=>({listContainer:{display:"flex",height:"100%",flexDirection:"column",overflowY:"auto",overflowX:"hidden"},list:{flexGrow:1},clearButton:{margin:t.spacing(2)},listItem:{"&:hover":{backgroundColor:t.palette.action.hover}},listItemGutters:{paddingLeft:5,paddingRight:5},listItemIconRoot:{minWidth:20},emptyState:{display:"flex",justifyContent:"center",flexDirection:"column",textAlign:"center",height:"100%",padding:15},text:{flexGrow:1},emptyText:{flexGrow:1,color:t.palette.text.secondary},timestamp:{paddingRight:15,paddingLeft:15,color:t.palette.text.secondary}})),d7=t=>{const[e,r]=x.useState();return x.useEffect(()=>{const n=qo.fromCard(t,0,0,!1);r(n?n.error===void 0:!1)},[t]),{isAudioAvailable:e}},f7=t=>{const[e,r]=x.useState();return x.useEffect(()=>{const n=Kf.fromCard(t,0,0);r(n?n.error===void 0:!1)},[t]),{isImageAvailable:e}};function p7({open:t,anchorEl:e,forceShowDownloadOptions:r,onClose:n,onSelect:i,onClipAudio:a,onDownloadImage:l,onDelete:c,item:d}){const{t:f}=Wr(),h=x.useCallback(()=>{navigator.clipboard.writeText(d.subtitle.text),n()},[d,n]),g=x.useCallback(()=>{i!==void 0&&(i(d),n())},[d,i,n]),p=x.useCallback(()=>{a(d),n()},[d,a,n]),S=x.useCallback(()=>{l(d),n()},[d,l,n]),b=x.useCallback(()=>{c(d),n()},[d,c,n]),{isImageAvailable:v}=f7(d),{isAudioAvailable:k}=d7(d);return m.jsx(Ys,{disableEnforceFocus:!0,open:t,anchorEl:e,onClose:n,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"right"},children:m.jsxs(Ua,{children:[m.jsx(ui,{disablePadding:!0,onClick:h,children:m.jsx(Pi,{children:m.jsx(Qn,{primaryTypographyProps:{variant:"body2"},primary:f("action.copy")})})}),i&&m.jsx(ui,{disablePadding:!0,onClick:g,children:m.jsx(Pi,{children:m.jsx(Qn,{primaryTypographyProps:{variant:"body2"},primary:f("action.jumpTo")})})}),(k||r)&&m.jsx(ui,{disablePadding:!0,onClick:p,children:m.jsx(Pi,{children:m.jsx(Qn,{primaryTypographyProps:{variant:"body2"},primary:f("action.downloadAudio")})})}),(v||r)&&m.jsx(ui,{disablePadding:!0,onClick:S,children:m.jsx(Pi,{children:m.jsx(Qn,{primaryTypographyProps:{variant:"body2"},primary:f("action.downloadImage")})})}),m.jsx(ui,{disablePadding:!0,onClick:b,children:m.jsx(Pi,{children:m.jsx(Qn,{primaryTypographyProps:{variant:"body2"},primary:f("action.delete")})})})]})})}function h7({open:t,items:e,forceShowDownloadOptions:r,onSelect:n,onClipAudio:i,onDownloadImage:a,onDelete:l,onDeleteAll:c,onDownloadSectionAsSrt:d,onAnki:f}){const h=u7(),g=x.useCallback(j=>{j&&j.scrollIntoView()},[]),[p,S]=x.useState(),[b,v]=x.useState(!1),[k,T]=x.useState(),{t:A}=Wr(),w=x.useCallback((j,$)=>{S($),v(!0),T(j.currentTarget)},[]),R=x.useCallback(()=>{S(void 0),v(!1),T(void 0)},[]),O=x.useCallback(j=>{l(j)},[l]);let M;if(e.length>0){const j=[];let $=null,V=0;const N={};let W={},z;for(const I of e){if($===null||$!==I.subtitleFileName){I.subtitleFileName in N?N[I.subtitleFileName]++:N[I.subtitleFileName]=0;const G=I.subtitleFileName+"-"+N[I.subtitleFileName];W[G]=[],$=I.subtitleFileName,z=G,j.push(m.jsxs(ui,{children:[m.jsx(An,{color:"textSecondary",children:I.subtitleFileName}),d&&m.jsx($1,{children:m.jsx(cn,{title:A("copyHistory.downloadMinedSubsAsSrt"),children:m.jsx(pr,{onClick:()=>d?.(I.subtitleFileName,W[G]),edge:"end",children:m.jsx(IM,{})})})})]},G))}W[z].push(I);const B=V===e.length-1?g:null;j.push(m.jsxs(ui,{ref:B,className:h.listItem,classes:{gutters:h.listItemGutters},children:[m.jsx(Qo,{classes:{root:h.listItemIconRoot},children:m.jsx(cn,{title:A("copyHistory.exportToAnki"),children:m.jsx(pr,{onClick:()=>f(I),children:m.jsx(z1,{fontSize:"small"})})})}),m.jsx(Qo,{classes:{root:h.listItemIconRoot},children:m.jsx(pr,{onClick:G=>w(G,I),children:m.jsx(D1,{fontSize:"small"})})}),m.jsx(Qn,{primary:m.jsxs(hn,{wrap:"nowrap",container:!0,children:[m.jsx(hn,{item:!0,className:I.subtitle.text===""?h.emptyText:h.text,children:I.subtitle.text===""?A("copyHistory.blank"):I.subtitle.text}),m.jsx(hn,{item:!0,className:h.timestamp,children:op(I.subtitle.start,I.subtitle.start,!1)})]})})]},I.id)),++V}M=m.jsxs(Ei,{className:h.listContainer,children:[m.jsx(Ua,{className:h.list,children:j}),m.jsx(fi,{variant:"contained",color:"primary",className:h.clearButton,startIcon:m.jsx(Lm,{}),onClick:c,children:A("copyHistory.deleteAll")})]})}else M=m.jsx(Ei,{className:h.emptyState,children:m.jsx(An,{variant:"h6",children:A("copyHistory.miningHistoryEmpty")})});return m.jsxs(m.Fragment,{children:[M,p&&m.jsx(p7,{open:t&&b,forceShowDownloadOptions:r,anchorEl:k,item:p,onClose:R,onSelect:n,onClipAudio:i,onDownloadImage:a,onDelete:O})]})}const g7=yn(t=>({drawer:{width:({drawerWidth:e})=>e??"100%",flexShrink:0},drawerPaper:{width:({drawerWidth:e})=>e??"100%"},drawerHeader:{display:"flex",alignItems:"center",position:"static",padding:t.spacing(0,1),...t.mixins.toolbar,justifyContent:"flex-start"}}));function m7(t){const e=g7(t);return m.jsxs(s7,{variant:"persistent",anchor:"right",open:t.open,className:e.drawer,classes:{paper:e.drawerPaper},children:[m.jsx(Ei,{className:e.drawerHeader,children:m.jsx(pr,{onClick:t.onClose,children:m.jsx(l7,{})})}),m.jsx(Sx,{}),m.jsx(h7,{...t})]})}function y7(t){return tr("MuiMenuItem",t)}const bf=nr("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),b7=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.divider&&e.divider,!r.disableGutters&&e.gutters]},v7=t=>{const{disabled:e,dense:r,divider:n,disableGutters:i,selected:a,classes:l}=t,d=er({root:["root",r&&"dense",e&&"disabled",!i&&"gutters",n&&"divider",a&&"selected"]},y7,l);return{...l,...d}},S7=tt(Gs,{shouldForwardProp:t=>Hi(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:b7})(Qt(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${bf.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:jr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${bf.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:jr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${bf.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:jr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:jr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${bf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${bf.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${qR.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${qR.inset}`]:{marginLeft:52},[`& .${Vu.root}`]:{marginTop:0,marginBottom:0},[`& .${Vu.inset}`]:{paddingLeft:36},[`& .${VR.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${VR.root} svg`]:{fontSize:"1.25rem"}}}]}))),ia=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:a="li",dense:l=!1,divider:c=!1,disableGutters:d=!1,focusVisibleClassName:f,role:h="menuitem",tabIndex:g,className:p,...S}=n,b=x.useContext(za),v=x.useMemo(()=>({dense:l||b.dense||!1,disableGutters:d}),[b.dense,l,d]),k=x.useRef(null);uo(()=>{i&&k.current&&k.current.focus()},[i]);const T={...n,dense:v.dense,divider:c,disableGutters:d},A=v7(n),w=Jn(k,r);let R;return n.disabled||(R=g!==void 0?g:-1),m.jsx(za.Provider,{value:v,children:m.jsx(S7,{ref:w,role:h,tabIndex:R,component:a,focusVisibleClassName:wt(A.focusVisible,f),className:wt(A.root,p),...S,ownerState:T,classes:A})})}),xx=({videoElement:t})=>{const e=fo();return m.jsx(m.Fragment,{children:t.faviconUrl&&m.jsx("img",{src:t.faviconUrl,style:{width:24,marginRight:e.spacing(1)}})})},x7=({videoElements:t,onVideoElementSelected:e})=>{const{t:r}=Wr(),[n,i]=x.useState();if(t.length===1){const a=t[0];return m.jsxs(fi,{variant:"outlined",style:{width:"100%"},onClick:()=>e(a),children:[m.jsx(xx,{videoElement:a}),a.title]})}return m.jsx(ra,{select:!0,variant:"outlined",size:"small",color:"primary",style:{width:"100%"},value:n?.src??"",onChange:a=>{const l=t.find(c=>c.src===a.target.value);i(l),l&&e(l)},disabled:t.length===0,label:r("controls.selectVideoElement"),helperText:t.length===0?r("landing.noVideoElementsDetected"):void 0,children:t.map(a=>m.jsxs(ia,{value:a.src,children:[m.jsx(xx,{videoElement:a}),a.title]},a.src))})},w7=yn(t=>({background:({appBarHidden:e,appBarHeight:r})=>({position:"absolute",height:e?"100vh":`calc(100vh - ${r}px)`,width:"100%",zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:15,textAlign:"center"}),browseLink:{cursor:"pointer"},videoElementSelectorContainer:{position:"absolute",bottom:0,left:0,padding:t.spacing(2),width:"100%"}}));function k7({extension:t,latestExtensionVersion:e,extensionUrl:r,loading:n,dragging:i,appBarHidden:a,videoElements:l,onFileSelector:c,onVideoElementSelected:d}){const f=Im(),h=w7({appBarHidden:a,appBarHeight:f}),g=t.version&&n2(e,t.version);return m.jsx(Ei,{square:!0,className:h.background,children:m.jsx(jc,{in:!n&&!i,timeout:500,children:m.jsxs("div",{children:[m.jsxs(An,{variant:"h6",children:[m.jsxs(Ci,{i18nKey:"landing.cta",children:["Drag and drop subtitle and media files, or",m.jsx(co,{className:h.browseLink,onClick:c,color:"primary",component:"label",children:"browse"}),"."]}),m.jsx("br",{}),!t.installed&&m.jsxs(Ci,{i18nKey:"landing.extensionNotInstalled",children:["Install the",m.jsx(co,{color:"primary",target:"_blank",rel:"noreferrer",href:r,children:"Chrome extension"}),"to sync subtitles with streaming video."]}),g&&m.jsxs(Ci,{i18nKey:"landing.extensionUpdateAvailable",children:["An extension",m.jsx(co,{color:"primary",target:"_blank",rel:"noreferrer",href:r,children:"update"})," ","is available."]})]}),t.supportsLandingPageStreamingVideoElementSelector&&l.length>0&&m.jsx("div",{className:h.videoElementSelectorContainer,children:m.jsx(x7,{videoElements:l,onVideoElementSelected:d})})]})})})}const C7=class wx{constructor(e,r){this.low=e,this.high=r}clone(){return new wx(this.low,this.high)}get max(){return this.clone()}less_than(e){return this.low<e.low||this.low==e.low&&this.high<e.high}equal_to(e){return this.low==e.low&&this.high==e.high}intersect(e){return!this.not_intersect(e)}not_intersect(e){return this.high<e.low||e.high<this.low}merge(e){return new wx(this.low===void 0?e.low:Math.min(this.low,e.low),this.high===void 0?e.high:Math.max(this.high,e.high))}output(){return[this.low,this.high]}static comparable_max(e,r){return e.merge(r)}static comparable_less_than(e,r){return e<r}},Yi=0,Pn=1;let Pu=class{constructor(e=void 0,r=void 0,n=null,i=null,a=null,l=Pn){this.left=n,this.right=i,this.parent=a,this.color=l,this.item={key:e,value:r},e&&e instanceof Array&&e.length==2&&!Number.isNaN(e[0])&&!Number.isNaN(e[1])&&(this.item.key=new C7(Math.min(e[0],e[1]),Math.max(e[0],e[1]))),this.max=this.item.key?this.item.key.max:void 0}isNil(){return this.item.key===void 0&&this.item.value===void 0&&this.left===null&&this.right===null&&this.color===Pn}less_than(e){if(this.item.value===this.item.key&&e.item.value===e.item.key)return this.item.key.less_than(e.item.key);{let r=this.item.value&&e.item.value&&this.item.value.less_than?this.item.value.less_than(e.item.value):this.item.value<e.item.value;return this.item.key.less_than(e.item.key)||this.item.key.equal_to(e.item.key)&&r}}equal_to(e){if(this.item.value===this.item.key&&e.item.value===e.item.key)return this.item.key.equal_to(e.item.key);{let r=this.item.value&&e.item.value&&this.item.value.equal_to?this.item.value.equal_to(e.item.value):this.item.value==e.item.value;return this.item.key.equal_to(e.item.key)&&r}}intersect(e){return this.item.key.intersect(e.item.key)}copy_data(e){this.item.key=e.item.key,this.item.value=e.item.value}update_max(){if(this.max=this.item.key?this.item.key.max:void 0,this.right&&this.right.max){const e=this.item.key.constructor.comparable_max;this.max=e(this.max,this.right.max)}if(this.left&&this.left.max){const e=this.item.key.constructor.comparable_max;this.max=e(this.max,this.left.max)}}not_intersect_left_subtree(e){const r=this.item.key.constructor.comparable_less_than;let n=this.left.max.high!==void 0?this.left.max.high:this.left.max;return r(n,e.item.key.low)}not_intersect_right_subtree(e){const r=this.item.key.constructor.comparable_less_than;let n=this.right.max.low!==void 0?this.right.max.low:this.right.item.key.low;return r(e.item.key.high,n)}};class qf{constructor(){this.root=null,this.nil_node=new Pu}get size(){let e=0;return this.tree_walk(this.root,()=>e++),e}get keys(){let e=[];return this.tree_walk(this.root,r=>e.push(r.item.key.output?r.item.key.output():r.item.key)),e}get values(){let e=[];return this.tree_walk(this.root,r=>e.push(r.item.value)),e}get items(){let e=[];return this.tree_walk(this.root,r=>e.push({key:r.item.key.output?r.item.key.output():r.item.key,value:r.item.value})),e}isEmpty(){return this.root==null||this.root==this.nil_node}clear(){this.root=null}insert(e,r=e){if(e===void 0)return;let n=new Pu(e,r,this.nil_node,this.nil_node,null,Yi);return this.tree_insert(n),this.recalc_max(n),n}exist(e,r=e){let n=new Pu(e,r);return!!this.tree_search(this.root,n)}remove(e,r=e){let n=new Pu(e,r),i=this.tree_search(this.root,n);return i&&this.tree_delete(i),i}search(e,r=(n,i)=>n===i?i.output():n){let n=new Pu(e),i=[];return this.tree_search_interval(this.root,n,i),i.map(a=>r(a.item.value,a.item.key))}intersect_any(e){let r=new Pu(e);return this.tree_find_any_interval(this.root,r)}forEach(e){this.tree_walk(this.root,r=>e(r.item.key,r.item.value))}map(e){const r=new qf;return this.tree_walk(this.root,n=>r.insert(n.item.key,e(n.item.value,n.item.key))),r}recalc_max(e){let r=e;for(;r.parent!=null;)r.parent.update_max(),r=r.parent}tree_insert(e){let r=this.root,n=null;if(this.root==null||this.root==this.nil_node)this.root=e;else{for(;r!=this.nil_node;)n=r,e.less_than(r)?r=r.left:r=r.right;e.parent=n,e.less_than(n)?n.left=e:n.right=e}this.insert_fixup(e)}insert_fixup(e){let r,n;for(r=e;r!=this.root&&r.parent.color==Yi;)r.parent==r.parent.parent.left?(n=r.parent.parent.right,n.color==Yi?(r.parent.color=Pn,n.color=Pn,r.parent.parent.color=Yi,r=r.parent.parent):(r==r.parent.right&&(r=r.parent,this.rotate_left(r)),r.parent.color=Pn,r.parent.parent.color=Yi,this.rotate_right(r.parent.parent))):(n=r.parent.parent.left,n.color==Yi?(r.parent.color=Pn,n.color=Pn,r.parent.parent.color=Yi,r=r.parent.parent):(r==r.parent.left&&(r=r.parent,this.rotate_right(r)),r.parent.color=Pn,r.parent.parent.color=Yi,this.rotate_left(r.parent.parent)));this.root.color=Pn}tree_delete(e){let r,n;e.left==this.nil_node||e.right==this.nil_node?r=e:r=this.tree_successor(e),r.left!=this.nil_node?n=r.left:n=r.right,n.parent=r.parent,r==this.root?this.root=n:(r==r.parent.left?r.parent.left=n:r.parent.right=n,r.parent.update_max()),this.recalc_max(n),r!=e&&(e.copy_data(r),e.update_max(),this.recalc_max(e)),r.color==Pn&&this.delete_fixup(n)}delete_fixup(e){let r=e,n;for(;r!=this.root&&r.parent!=null&&r.color==Pn;)r==r.parent.left?(n=r.parent.right,n.color==Yi&&(n.color=Pn,r.parent.color=Yi,this.rotate_left(r.parent),n=r.parent.right),n.left.color==Pn&&n.right.color==Pn?(n.color=Yi,r=r.parent):(n.right.color==Pn&&(n.color=Yi,n.left.color=Pn,this.rotate_right(n),n=r.parent.right),n.color=r.parent.color,r.parent.color=Pn,n.right.color=Pn,this.rotate_left(r.parent),r=this.root)):(n=r.parent.left,n.color==Yi&&(n.color=Pn,r.parent.color=Yi,this.rotate_right(r.parent),n=r.parent.left),n.left.color==Pn&&n.right.color==Pn?(n.color=Yi,r=r.parent):(n.left.color==Pn&&(n.color=Yi,n.right.color=Pn,this.rotate_left(n),n=r.parent.left),n.color=r.parent.color,r.parent.color=Pn,n.left.color=Pn,this.rotate_right(r.parent),r=this.root));r.color=Pn}tree_search(e,r){if(!(e==null||e==this.nil_node))return r.equal_to(e)?e:r.less_than(e)?this.tree_search(e.left,r):this.tree_search(e.right,r)}tree_search_interval(e,r,n){e!=null&&e!=this.nil_node&&(e.left!=this.nil_node&&!e.not_intersect_left_subtree(r)&&this.tree_search_interval(e.left,r,n),e.intersect(r)&&n.push(e),e.right!=this.nil_node&&!e.not_intersect_right_subtree(r)&&this.tree_search_interval(e.right,r,n))}tree_find_any_interval(e,r){let n=!1;return e!=null&&e!=this.nil_node&&(e.left!=this.nil_node&&!e.not_intersect_left_subtree(r)&&(n=this.tree_find_any_interval(e.left,r)),n||(n=e.intersect(r)),!n&&e.right!=this.nil_node&&!e.not_intersect_right_subtree(r)&&(n=this.tree_find_any_interval(e.right,r))),n}local_minimum(e){let r=e;for(;r.left!=null&&r.left!=this.nil_node;)r=r.left;return r}local_maximum(e){let r=e;for(;r.right!=null&&r.right!=this.nil_node;)r=r.right;return r}tree_successor(e){let r,n,i;if(e.right!=this.nil_node)r=this.local_minimum(e.right);else{for(n=e,i=e.parent;i!=null&&i.right==n;)n=i,i=i.parent;r=i}return r}rotate_left(e){let r=e.right;e.right=r.left,r.left!=this.nil_node&&(r.left.parent=e),r.parent=e.parent,e==this.root?this.root=r:e==e.parent.left?e.parent.left=r:e.parent.right=r,r.left=e,e.parent=r,e!=null&&e!=this.nil_node&&e.update_max(),r=e.parent,r!=null&&r!=this.nil_node&&r.update_max()}rotate_right(e){let r=e.left;e.left=r.right,r.right!=this.nil_node&&(r.right.parent=e),r.parent=e.parent,e==this.root?this.root=r:e==e.parent.left?e.parent.left=r:e.parent.right=r,r.right=e,e.parent=r,e!=null&&e!=this.nil_node&&e.update_max(),r=e.parent,r!=null&&r!=this.nil_node&&r.update_max()}tree_walk(e,r){e!=null&&e!=this.nil_node&&(this.tree_walk(e.left,r),r(e),this.tree_walk(e.right,r))}testRedBlackProperty(){let e=!0;return this.tree_walk(this.root,function(r){r.color==Yi&&(r.left.color==Pn&&r.right.color==Pn||(e=!1))}),e}testBlackHeightProperty(e){let r=0,n=0,i=0;if(e.color==Pn&&r++,e.left!=this.nil_node?n=this.testBlackHeightProperty(e.left):n=1,e.right!=this.nil_node?i=this.testBlackHeightProperty(e.right):i=1,n!=i)throw new Error("Red-black height property violated");return r+=n,r}}class Ic{static emptySubtitleCollection=new Ic({});options;tree;gapsTree;constructor(e){this.options=e,this.tree=new qf}setSubtitles(e){if(this.tree=new qf,this.options.returnLastShown||this.options.returnNextToShow){let r;this.gapsTree=new qf,e.length>0&&e[0].start>0&&this.gapsTree.insert([0,e[0].start-1],e[0]);for(const n of e)n.start<n.end&&this.tree.insert([n.start,n.end-1],n),r!==void 0&&r.end<n.start&&this.gapsTree.insert([r.end,n.start-1],r),r=n}else for(const r of e)this.tree.insert([r.start,r.end-1],r)}static empty(){return Ic.emptySubtitleCollection}subtitlesAt(e){const r=[e,e],n=this.tree.search(r);let i,a,l,c;if(n.length===0){if(this.gapsTree!==void 0){const d=[];if(i=this.gapsTree.search(r,(f,h)=>(d.push(h),f)),i.length>0&&this.options.returnNextToShow){const f=d[0].high+1;a=this.tree.search([f,f])}}}else if(this.options.showingCheckRadiusMs!==void 0){for(const d of n)if(c===void 0&&d.end<=e+this.options.showingCheckRadiusMs&&(c=d),l===void 0&&e-this.options.showingCheckRadiusMs<d.start&&(l=d),l!==void 0&&c!==void 0)break}return{showing:n,lastShown:i,nextToShow:a,startedShowing:l,willStopShowing:c}}}const WR=1e4,KR=1e5,T7=['"',"*","_","\\",":"],E7=['"',"*","_","\\"],GR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",A7=/[:\/\?#\[\]@!$&'()*+,;= "<>%{}|\\^`]/g,YR="_";function wc(t){let e="";for(let r=0;r<t.length;++r){const n=t[r];T7.includes(n)?e+=`\\${n}`:e+=n}return`${e}`}function XR(t){let e="";for(let r=0;r<t.length;++r){const n=t[r];E7.includes(n)?e+=`\\${n}`:e+=n}return`${e}`}function R7(){let t="";for(let e=0;e<8;++e)t+=GR.charAt(Math.floor(Math.random()*GR.length));return t}const O7=t=>{const e=/(.*)\.(.*)/.exec(t);if(e===null||e.length<3)return t;const r=e[1],n=e[2];return`${r}_${R7()}.${n}`},BM="<([^/ >])*[^>]*>(.*?)</\\1>",P7=t=>{const e=new RegExp(BM);let r=t,n=[t];for(;;){const i=e.exec(r);if(i===null||i.length<3)break;r=i[2],n.push(r)}return n},_7=(t,e)=>{const r=new RegExp(BM,"ig"),n=e.replaceAll("<br>","");let i=t;for(;;){const a=r.exec(n);if(a===null||a.length<3)break;let l=i;if(!i.includes(a[0])){const c=P7(a[2]);for(const d of c)if(l=i.replace(d,a[0]),l!==i)break}i=l}return i};async function M7(t,e,r="default"){const n=new Fm(e),i=aI(t.subtitleFileName,t.mediaTimestamp);let a=t.audio===void 0?void 0:qo.fromBase64(i,t.subtitle.start,t.subtitle.end,t.audio.playbackRate??1,t.audio.base64,t.audio.extension,t.audio.error);return await n.export({text:t.text??Zo(t.subtitle,t.surroundingSubtitles),track1:Zo(t.subtitle,t.surroundingSubtitles,0),track2:Zo(t.subtitle,t.surroundingSubtitles,1),track3:Zo(t.subtitle,t.surroundingSubtitles,2),definition:t.definition,audioClip:a,image:t.image===void 0?void 0:Kf.fromBase64(i,t.subtitle.start,t.image.base64,t.image.extension,t.image.error),word:t.word,source:i,url:t.url,customFieldValues:t.customFieldValues??{},tags:e.tags,mode:r})}class j7 extends Error{constructor(e="duplicate"){super(e),this.name="DuplicateNoteError"}}class Fm{settingsProvider;fetcher;constructor(e,r=new Ix){this.settingsProvider=e,this.fetcher=r}get ankiConnectUrl(){return this.settingsProvider.ankiConnectUrl}async deckNames(e){return(await this._executeAction("deckNames",null,e)).result}async modelNames(e){return(await this._executeAction("modelNames",null,e)).result}async modelFieldNames(e,r){return(await this._executeAction("modelFieldNames",{modelName:e},r)).result}async findCards(e,r){return(await this._executeAction("findCards",{query:e},r)).result}async findCardsWithWord(e,r,n){return r.length?this.findCards(r.map(i=>`"${i}:${wc(e)}"`).join(" OR "),n):[]}async findCardsContainingWord(e,r,n){return r.length?this.findCards(r.map(i=>`"${i}:*${wc(e)}*"`).join(" OR "),n):[]}async findNotesWithWord(e,r){return this.findNotes(`"${this.settingsProvider.wordField}:${wc(e)}"`,r)}async findNotesWithWordGui(e,r){return(await this._executeAction("guiBrowse",{query:`"${this.settingsProvider.wordField}:${wc(e)}"`},r)).result}async findRecentlyEditedOrReviewedCards(e,r,n){return e.length?(r<1&&(r=1),(await this._executeAction("findCards",{query:`(rated:${r} OR edited:${r}) (${e.map(a=>`"${wc(a)}:_*"`).join(" OR ")})`},n)).result):[]}async cardsInfo(e,r){return e.length?(await $u(e,async n=>(await this._executeAction("cardsInfo",{cards:n},r)).result,{batchSize:WR})).flat():[]}async cardsModTime(e,r){return e.length?(await $u(e,async n=>(await this._executeAction("cardsModTime",{cards:n},r)).result,{batchSize:KR})).flat():[]}async areSuspended(e,r){return e.length?(await this._executeAction("areSuspended",{cards:e},r)).result:[]}async findNotes(e,r){return(await this._executeAction("findNotes",{query:e},r)).result}async notesInfo(e,r){return e.length?(await $u(e,async n=>(await this._executeAction("notesInfo",{notes:n},r)).result,{batchSize:WR})).flat():[]}async notesModTime(e,r){return e.length?(await $u(e,async n=>(await this._executeAction("notesModTime",{notes:n},r)).result,{batchSize:KR})).flat():[]}async createDeck(e,r){return(await this._executeAction("createDeck",{deck:e},r)).result}async createModel(e,r){return(await this._executeAction("createModel",e,r)).result}async requestPermission(e){return(await this._executeAction("requestPermission",null,e)).result}async version(e){return(await this._executeAction("version",null,e)).result}async export({text:e,track1:r,track2:n,track3:i,definition:a,audioClip:l,image:c,word:d,source:f,url:h,customFieldValues:g,tags:p,mode:S,ankiConnectUrl:b}){const v={};if(this._appendField(v,this.settingsProvider.sentenceField,e,!0),this._appendField(v,this.settingsProvider.track1Field,r,!0),this._appendField(v,this.settingsProvider.track2Field,n,!0),this._appendField(v,this.settingsProvider.track3Field,i,!0),this._appendField(v,this.settingsProvider.definitionField,a,!0),this._appendField(v,this.settingsProvider.wordField,d,!1),this._appendField(v,this.settingsProvider.sourceField,f,!1),this._appendField(v,this.settingsProvider.urlField,h,!1),g)for(const w of Object.keys(g))this._appendField(v,this.settingsProvider.customAnkiFields[w],g[w],!0);const k={note:{deckName:this.settingsProvider.deck,modelName:this.settingsProvider.noteType,tags:p,options:{allowDuplicate:!0,duplicateScope:"deck",duplicateScopeOptions:{deckName:this.settingsProvider.deck,checkChildren:!1}}}},T=S==="gui",A=S==="updateLast";if(this.settingsProvider.audioField&&l&&l.error===void 0){const w=this._sanitizeFileName(l.name),R=await l.base64();if(R)if(T||A){const O=(await this._storeMediaFile(w,R,b)).result;this._appendField(v,this.settingsProvider.audioField,`[sound:${O}]`,!1)}else k.note.audio={filename:w,data:R,fields:[this.settingsProvider.audioField]}}if(this.settingsProvider.imageField&&c&&c.error===void 0){const w=this._sanitizeFileName(c.name),R=await c.base64();if(R)if(T||A){const O=(await this._storeMediaFile(w,R,b)).result;this._appendField(v,this.settingsProvider.imageField,`<img src="${O}">`,!1)}else k.note.picture={filename:w,data:R,fields:[this.settingsProvider.imageField]}}switch(k.note.fields=v,S){case"gui":return(await this._executeAction("guiAddCards",k,b)).result;case"updateLast":const w=(await this._executeAction("findNotes",{query:"added:1"},b)).result.sort();if(w.length===0)throw new Error("Could not find note to update");const R=w[w.length-1];k.note.id=R;const O=await this._executeAction("notesInfo",{notes:[R]});if(O.result.length>0&&O.result[0].noteId===R){const M=O.result[0];if(this._inheritHtmlMarkupFromField("sentenceField",M,k),this._inheritHtmlMarkupFromField("track1Field",M,k),this._inheritHtmlMarkupFromField("track2Field",M,k),this._inheritHtmlMarkupFromField("track3Field",M,k),await this._executeAction("updateNoteFields",k,b),p.length>0&&await this._executeAction("addTags",{notes:[R],tags:p.join(" ")},b),!this.settingsProvider.wordField||!M.fields)return M.noteId;const j=M.fields[this.settingsProvider.wordField];return!j||!j.value?M.noteId:j.value}throw new Error("Could not update last card because the card info could not be fetched");case"default":return(await this._executeAction("addNote",k,b)).result;default:throw new Error("Unknown export mode: "+S)}}_appendField(e,r,n,i){if(!r||!n)return;let a=i?n.split(`
`).join("<br>"):n;const l=e[r];l&&(a=l+"<br>"+a),e[r]=a}_sanitizeUnsafeURLChars(e){return e.replace(A7,YR)}_sanitizeFileName(e){return typeof e.toWellFormed=="function"&&(e=e.toWellFormed()),e=this._sanitizeUnsafeURLChars(e),GP(e,{replacement:YR})}async _storeMediaFile(e,r,n){return this._executeAction("storeMediaFile",{filename:O7(e),data:r,deleteExisting:!1},n)}_inheritHtmlMarkupFromField(e,r,n){const i=this.settingsProvider[e];i&&r.fields&&typeof r.fields[i]?.value=="string"&&typeof n.note.fields[i]=="string"&&(n.note.fields[i]=_7(n.note.fields[i],r.fields[i].value))}async _executeAction(e,r,n){const i={action:e,version:6};r&&(i.params=r);const a=await this.fetcher.fetch(n||this.settingsProvider.ankiConnectUrl,i);if(a.error)throw a.error.includes("duplicate")?new j7(a.error):new Error(a.error);return a}}var N0,ZR;function ud(){if(ZR)return N0;ZR=1;const t=wo();return N0=(r,n,i=!1)=>{if(r instanceof t)return r;try{return new t(r,n)}catch(a){if(!i)return null;throw a}},N0}var I0,QR;function N7(){if(QR)return I0;QR=1;const t=ud();return I0=(r,n)=>{const i=t(r,n);return i?i.version:null},I0}var L0,JR;function I7(){if(JR)return L0;JR=1;const t=ud();return L0=(r,n)=>{const i=t(r.trim().replace(/^[=v]+/,""),n);return i?i.version:null},L0}var F0,eO;function L7(){if(eO)return F0;eO=1;const t=wo();return F0=(r,n,i,a,l)=>{typeof i=="string"&&(l=a,a=i,i=void 0);try{return new t(r instanceof t?r.version:r,i).inc(n,a,l).version}catch{return null}},F0}var B0,tO;function F7(){if(tO)return B0;tO=1;const t=ud();return B0=(r,n)=>{const i=t(r,null,!0),a=t(n,null,!0),l=i.compare(a);if(l===0)return null;const c=l>0,d=c?i:a,f=c?a:i,h=!!d.prerelease.length;if(!!f.prerelease.length&&!h)return!f.patch&&!f.minor?"major":d.patch?"patch":d.minor?"minor":"major";const p=h?"pre":"";return i.major!==a.major?p+"major":i.minor!==a.minor?p+"minor":i.patch!==a.patch?p+"patch":"prerelease"},B0}var $0,rO;function B7(){if(rO)return $0;rO=1;const t=wo();return $0=(r,n)=>new t(r,n).major,$0}var D0,nO;function $7(){if(nO)return D0;nO=1;const t=wo();return D0=(r,n)=>new t(r,n).minor,D0}var z0,iO;function D7(){if(iO)return z0;iO=1;const t=wo();return z0=(r,n)=>new t(r,n).patch,z0}var U0,oO;function z7(){if(oO)return U0;oO=1;const t=ud();return U0=(r,n)=>{const i=t(r,n);return i&&i.prerelease.length?i.prerelease:null},U0}var H0,aO;function U7(){if(aO)return H0;aO=1;const t=Ha();return H0=(r,n,i)=>t(n,r,i),H0}var V0,sO;function H7(){if(sO)return V0;sO=1;const t=Ha();return V0=(r,n)=>t(r,n,!0),V0}var q0,lO;function U1(){if(lO)return q0;lO=1;const t=wo();return q0=(r,n,i)=>{const a=new t(r,i),l=new t(n,i);return a.compare(l)||a.compareBuild(l)},q0}var W0,cO;function V7(){if(cO)return W0;cO=1;const t=U1();return W0=(r,n)=>r.sort((i,a)=>t(i,a,n)),W0}var K0,uO;function q7(){if(uO)return K0;uO=1;const t=U1();return K0=(r,n)=>r.sort((i,a)=>t(a,i,n)),K0}var G0,dO;function H1(){if(dO)return G0;dO=1;const t=Ha();return G0=(r,n,i)=>t(r,n,i)<0,G0}var Y0,fO;function $M(){if(fO)return Y0;fO=1;const t=Ha();return Y0=(r,n,i)=>t(r,n,i)===0,Y0}var X0,pO;function DM(){if(pO)return X0;pO=1;const t=Ha();return X0=(r,n,i)=>t(r,n,i)!==0,X0}var Z0,hO;function V1(){if(hO)return Z0;hO=1;const t=Ha();return Z0=(r,n,i)=>t(r,n,i)<=0,Z0}var Q0,gO;function zM(){if(gO)return Q0;gO=1;const t=$M(),e=DM(),r=up(),n=Qg(),i=H1(),a=V1();return Q0=(c,d,f,h)=>{switch(d){case"===":return typeof c=="object"&&(c=c.version),typeof f=="object"&&(f=f.version),c===f;case"!==":return typeof c=="object"&&(c=c.version),typeof f=="object"&&(f=f.version),c!==f;case"":case"=":case"==":return t(c,f,h);case"!=":return e(c,f,h);case">":return r(c,f,h);case">=":return n(c,f,h);case"<":return i(c,f,h);case"<=":return a(c,f,h);default:throw new TypeError(`Invalid operator: ${d}`)}},Q0}var J0,mO;function W7(){if(mO)return J0;mO=1;const t=wo(),e=ud(),{safeRe:r,t:n}=cp();return J0=(a,l)=>{if(a instanceof t)return a;if(typeof a=="number"&&(a=String(a)),typeof a!="string")return null;l=l||{};let c=null;if(!l.rtl)c=a.match(r[n.COERCE]);else{let d;for(;(d=r[n.COERCERTL].exec(a))&&(!c||c.index+c[0].length!==a.length);)(!c||d.index+d[0].length!==c.index+c[0].length)&&(c=d),r[n.COERCERTL].lastIndex=d.index+d[1].length+d[2].length;r[n.COERCERTL].lastIndex=-1}return c===null?null:e(`${c[2]}.${c[3]||"0"}.${c[4]||"0"}`,l)},J0}var eS,yO;function K7(){return yO||(yO=1,eS=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),eS}var tS,bO;function G7(){if(bO)return tS;bO=1,tS=t,t.Node=i,t.create=t;function t(a){var l=this;if(l instanceof t||(l=new t),l.tail=null,l.head=null,l.length=0,a&&typeof a.forEach=="function")a.forEach(function(f){l.push(f)});else if(arguments.length>0)for(var c=0,d=arguments.length;c<d;c++)l.push(arguments[c]);return l}t.prototype.removeNode=function(a){if(a.list!==this)throw new Error("removing node which does not belong to this list");var l=a.next,c=a.prev;return l&&(l.prev=c),c&&(c.next=l),a===this.head&&(this.head=l),a===this.tail&&(this.tail=c),a.list.length--,a.next=null,a.prev=null,a.list=null,l},t.prototype.unshiftNode=function(a){if(a!==this.head){a.list&&a.list.removeNode(a);var l=this.head;a.list=this,a.next=l,l&&(l.prev=a),this.head=a,this.tail||(this.tail=a),this.length++}},t.prototype.pushNode=function(a){if(a!==this.tail){a.list&&a.list.removeNode(a);var l=this.tail;a.list=this,a.prev=l,l&&(l.next=a),this.tail=a,this.head||(this.head=a),this.length++}},t.prototype.push=function(){for(var a=0,l=arguments.length;a<l;a++)r(this,arguments[a]);return this.length},t.prototype.unshift=function(){for(var a=0,l=arguments.length;a<l;a++)n(this,arguments[a]);return this.length},t.prototype.pop=function(){if(this.tail){var a=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,a}},t.prototype.shift=function(){if(this.head){var a=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,a}},t.prototype.forEach=function(a,l){l=l||this;for(var c=this.head,d=0;c!==null;d++)a.call(l,c.value,d,this),c=c.next},t.prototype.forEachReverse=function(a,l){l=l||this;for(var c=this.tail,d=this.length-1;c!==null;d--)a.call(l,c.value,d,this),c=c.prev},t.prototype.get=function(a){for(var l=0,c=this.head;c!==null&&l<a;l++)c=c.next;if(l===a&&c!==null)return c.value},t.prototype.getReverse=function(a){for(var l=0,c=this.tail;c!==null&&l<a;l++)c=c.prev;if(l===a&&c!==null)return c.value},t.prototype.map=function(a,l){l=l||this;for(var c=new t,d=this.head;d!==null;)c.push(a.call(l,d.value,this)),d=d.next;return c},t.prototype.mapReverse=function(a,l){l=l||this;for(var c=new t,d=this.tail;d!==null;)c.push(a.call(l,d.value,this)),d=d.prev;return c},t.prototype.reduce=function(a,l){var c,d=this.head;if(arguments.length>1)c=l;else if(this.head)d=this.head.next,c=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var f=0;d!==null;f++)c=a(c,d.value,f),d=d.next;return c},t.prototype.reduceReverse=function(a,l){var c,d=this.tail;if(arguments.length>1)c=l;else if(this.tail)d=this.tail.prev,c=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var f=this.length-1;d!==null;f--)c=a(c,d.value,f),d=d.prev;return c},t.prototype.toArray=function(){for(var a=new Array(this.length),l=0,c=this.head;c!==null;l++)a[l]=c.value,c=c.next;return a},t.prototype.toArrayReverse=function(){for(var a=new Array(this.length),l=0,c=this.tail;c!==null;l++)a[l]=c.value,c=c.prev;return a},t.prototype.slice=function(a,l){l=l||this.length,l<0&&(l+=this.length),a=a||0,a<0&&(a+=this.length);var c=new t;if(l<a||l<0)return c;a<0&&(a=0),l>this.length&&(l=this.length);for(var d=0,f=this.head;f!==null&&d<a;d++)f=f.next;for(;f!==null&&d<l;d++,f=f.next)c.push(f.value);return c},t.prototype.sliceReverse=function(a,l){l=l||this.length,l<0&&(l+=this.length),a=a||0,a<0&&(a+=this.length);var c=new t;if(l<a||l<0)return c;a<0&&(a=0),l>this.length&&(l=this.length);for(var d=this.length,f=this.tail;f!==null&&d>l;d--)f=f.prev;for(;f!==null&&d>a;d--,f=f.prev)c.push(f.value);return c},t.prototype.splice=function(a,l,...c){a>this.length&&(a=this.length-1),a<0&&(a=this.length+a);for(var d=0,f=this.head;f!==null&&d<a;d++)f=f.next;for(var h=[],d=0;f&&d<l;d++)h.push(f.value),f=this.removeNode(f);f===null&&(f=this.tail),f!==this.head&&f!==this.tail&&(f=f.prev);for(var d=0;d<c.length;d++)f=e(this,f,c[d]);return h},t.prototype.reverse=function(){for(var a=this.head,l=this.tail,c=a;c!==null;c=c.prev){var d=c.prev;c.prev=c.next,c.next=d}return this.head=l,this.tail=a,this};function e(a,l,c){var d=l===a.head?new i(c,null,l,a):new i(c,l,l.next,a);return d.next===null&&(a.tail=d),d.prev===null&&(a.head=d),a.length++,d}function r(a,l){a.tail=new i(l,a.tail,null,a),a.head||(a.head=a.tail),a.length++}function n(a,l){a.head=new i(l,null,a.head,a),a.tail||(a.tail=a.head),a.length++}function i(a,l,c,d){if(!(this instanceof i))return new i(a,l,c,d);this.list=d,this.value=a,l?(l.next=this,this.prev=l):this.prev=null,c?(c.prev=this,this.next=c):this.next=null}try{K7()(t)}catch{}return tS}var rS,vO;function Y7(){if(vO)return rS;vO=1;const t=G7(),e=Symbol("max"),r=Symbol("length"),n=Symbol("lengthCalculator"),i=Symbol("allowStale"),a=Symbol("maxAge"),l=Symbol("dispose"),c=Symbol("noDisposeOnSet"),d=Symbol("lruList"),f=Symbol("cache"),h=Symbol("updateAgeOnGet"),g=()=>1;class p{constructor(R){if(typeof R=="number"&&(R={max:R}),R||(R={}),R.max&&(typeof R.max!="number"||R.max<0))throw new TypeError("max must be a non-negative number");this[e]=R.max||1/0;const O=R.length||g;if(this[n]=typeof O!="function"?g:O,this[i]=R.stale||!1,R.maxAge&&typeof R.maxAge!="number")throw new TypeError("maxAge must be a number");this[a]=R.maxAge||0,this[l]=R.dispose,this[c]=R.noDisposeOnSet||!1,this[h]=R.updateAgeOnGet||!1,this.reset()}set max(R){if(typeof R!="number"||R<0)throw new TypeError("max must be a non-negative number");this[e]=R||1/0,v(this)}get max(){return this[e]}set allowStale(R){this[i]=!!R}get allowStale(){return this[i]}set maxAge(R){if(typeof R!="number")throw new TypeError("maxAge must be a non-negative number");this[a]=R,v(this)}get maxAge(){return this[a]}set lengthCalculator(R){typeof R!="function"&&(R=g),R!==this[n]&&(this[n]=R,this[r]=0,this[d].forEach(O=>{O.length=this[n](O.value,O.key),this[r]+=O.length})),v(this)}get lengthCalculator(){return this[n]}get length(){return this[r]}get itemCount(){return this[d].length}rforEach(R,O){O=O||this;for(let M=this[d].tail;M!==null;){const j=M.prev;A(this,R,M,O),M=j}}forEach(R,O){O=O||this;for(let M=this[d].head;M!==null;){const j=M.next;A(this,R,M,O),M=j}}keys(){return this[d].toArray().map(R=>R.key)}values(){return this[d].toArray().map(R=>R.value)}reset(){this[l]&&this[d]&&this[d].length&&this[d].forEach(R=>this[l](R.key,R.value)),this[f]=new Map,this[d]=new t,this[r]=0}dump(){return this[d].map(R=>b(this,R)?!1:{k:R.key,v:R.value,e:R.now+(R.maxAge||0)}).toArray().filter(R=>R)}dumpLru(){return this[d]}set(R,O,M){if(M=M||this[a],M&&typeof M!="number")throw new TypeError("maxAge must be a number");const j=M?Date.now():0,$=this[n](O,R);if(this[f].has(R)){if($>this[e])return k(this,this[f].get(R)),!1;const W=this[f].get(R).value;return this[l]&&(this[c]||this[l](R,W.value)),W.now=j,W.maxAge=M,W.value=O,this[r]+=$-W.length,W.length=$,this.get(R),v(this),!0}const V=new T(R,O,$,j,M);return V.length>this[e]?(this[l]&&this[l](R,O),!1):(this[r]+=V.length,this[d].unshift(V),this[f].set(R,this[d].head),v(this),!0)}has(R){if(!this[f].has(R))return!1;const O=this[f].get(R).value;return!b(this,O)}get(R){return S(this,R,!0)}peek(R){return S(this,R,!1)}pop(){const R=this[d].tail;return R?(k(this,R),R.value):null}del(R){k(this,this[f].get(R))}load(R){this.reset();const O=Date.now();for(let M=R.length-1;M>=0;M--){const j=R[M],$=j.e||0;if($===0)this.set(j.k,j.v);else{const V=$-O;V>0&&this.set(j.k,j.v,V)}}}prune(){this[f].forEach((R,O)=>S(this,O,!1))}}const S=(w,R,O)=>{const M=w[f].get(R);if(M){const j=M.value;if(b(w,j)){if(k(w,M),!w[i])return}else O&&(w[h]&&(M.value.now=Date.now()),w[d].unshiftNode(M));return j.value}},b=(w,R)=>{if(!R||!R.maxAge&&!w[a])return!1;const O=Date.now()-R.now;return R.maxAge?O>R.maxAge:w[a]&&O>w[a]},v=w=>{if(w[r]>w[e])for(let R=w[d].tail;w[r]>w[e]&&R!==null;){const O=R.prev;k(w,R),R=O}},k=(w,R)=>{if(R){const O=R.value;w[l]&&w[l](O.key,O.value),w[r]-=O.length,w[f].delete(O.key),w[d].removeNode(R)}};class T{constructor(R,O,M,j,$){this.key=R,this.value=O,this.length=M,this.now=j,this.maxAge=$||0}}const A=(w,R,O,M)=>{let j=O.value;b(w,j)&&(k(w,O),w[i]||(j=void 0)),j&&R.call(M,j.value,j.key,w)};return rS=p,rS}var nS,SO;function Wa(){if(SO)return nS;SO=1;class t{constructor(B,G){if(G=n(G),B instanceof t)return B.loose===!!G.loose&&B.includePrerelease===!!G.includePrerelease?B:new t(B.raw,G);if(B instanceof i)return this.raw=B.value,this.set=[[B]],this.format(),this;if(this.options=G,this.loose=!!G.loose,this.includePrerelease=!!G.includePrerelease,this.raw=B.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(U=>this.parseRange(U.trim())).filter(U=>U.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const U=this.set[0];if(this.set=this.set.filter(X=>!b(X[0])),this.set.length===0)this.set=[U];else if(this.set.length>1){for(const X of this.set)if(X.length===1&&v(X[0])){this.set=[X];break}}}this.format()}format(){return this.range=this.set.map(B=>B.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(B){const U=((this.options.includePrerelease&&p)|(this.options.loose&&S))+":"+B,X=r.get(U);if(X)return X;const q=this.options.loose,Z=q?c[d.HYPHENRANGELOOSE]:c[d.HYPHENRANGE];B=B.replace(Z,W(this.options.includePrerelease)),a("hyphen replace",B),B=B.replace(c[d.COMPARATORTRIM],f),a("comparator trim",B),B=B.replace(c[d.TILDETRIM],h),a("tilde trim",B),B=B.replace(c[d.CARETTRIM],g),a("caret trim",B);let F=B.split(" ").map(te=>T(te,this.options)).join(" ").split(/\s+/).map(te=>N(te,this.options));q&&(F=F.filter(te=>(a("loose invalid filter",te,this.options),!!te.match(c[d.COMPARATORLOOSE])))),a("range list",F);const D=new Map,J=F.map(te=>new i(te,this.options));for(const te of J){if(b(te))return[te];D.set(te.value,te)}D.size>1&&D.has("")&&D.delete("");const ee=[...D.values()];return r.set(U,ee),ee}intersects(B,G){if(!(B instanceof t))throw new TypeError("a Range is required");return this.set.some(U=>k(U,G)&&B.set.some(X=>k(X,G)&&U.every(q=>X.every(Z=>q.intersects(Z,G)))))}test(B){if(!B)return!1;if(typeof B=="string")try{B=new l(B,this.options)}catch{return!1}for(let G=0;G<this.set.length;G++)if(z(this.set[G],B,this.options))return!0;return!1}}nS=t;const e=Y7(),r=new e({max:1e3}),n=Lx(),i=Bm(),a=Xg(),l=wo(),{safeRe:c,t:d,comparatorTrimReplace:f,tildeTrimReplace:h,caretTrimReplace:g}=cp(),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:S}=Zg(),b=I=>I.value==="<0.0.0-0",v=I=>I.value==="",k=(I,B)=>{let G=!0;const U=I.slice();let X=U.pop();for(;G&&U.length;)G=U.every(q=>X.intersects(q,B)),X=U.pop();return G},T=(I,B)=>(a("comp",I,B),I=O(I,B),a("caret",I),I=w(I,B),a("tildes",I),I=j(I,B),a("xrange",I),I=V(I,B),a("stars",I),I),A=I=>!I||I.toLowerCase()==="x"||I==="*",w=(I,B)=>I.trim().split(/\s+/).map(G=>R(G,B)).join(" "),R=(I,B)=>{const G=B.loose?c[d.TILDELOOSE]:c[d.TILDE];return I.replace(G,(U,X,q,Z,F)=>{a("tilde",I,U,X,q,Z,F);let D;return A(X)?D="":A(q)?D=`>=${X}.0.0 <${+X+1}.0.0-0`:A(Z)?D=`>=${X}.${q}.0 <${X}.${+q+1}.0-0`:F?(a("replaceTilde pr",F),D=`>=${X}.${q}.${Z}-${F} <${X}.${+q+1}.0-0`):D=`>=${X}.${q}.${Z} <${X}.${+q+1}.0-0`,a("tilde return",D),D})},O=(I,B)=>I.trim().split(/\s+/).map(G=>M(G,B)).join(" "),M=(I,B)=>{a("caret",I,B);const G=B.loose?c[d.CARETLOOSE]:c[d.CARET],U=B.includePrerelease?"-0":"";return I.replace(G,(X,q,Z,F,D)=>{a("caret",I,X,q,Z,F,D);let J;return A(q)?J="":A(Z)?J=`>=${q}.0.0${U} <${+q+1}.0.0-0`:A(F)?q==="0"?J=`>=${q}.${Z}.0${U} <${q}.${+Z+1}.0-0`:J=`>=${q}.${Z}.0${U} <${+q+1}.0.0-0`:D?(a("replaceCaret pr",D),q==="0"?Z==="0"?J=`>=${q}.${Z}.${F}-${D} <${q}.${Z}.${+F+1}-0`:J=`>=${q}.${Z}.${F}-${D} <${q}.${+Z+1}.0-0`:J=`>=${q}.${Z}.${F}-${D} <${+q+1}.0.0-0`):(a("no pr"),q==="0"?Z==="0"?J=`>=${q}.${Z}.${F}${U} <${q}.${Z}.${+F+1}-0`:J=`>=${q}.${Z}.${F}${U} <${q}.${+Z+1}.0-0`:J=`>=${q}.${Z}.${F} <${+q+1}.0.0-0`),a("caret return",J),J})},j=(I,B)=>(a("replaceXRanges",I,B),I.split(/\s+/).map(G=>$(G,B)).join(" ")),$=(I,B)=>{I=I.trim();const G=B.loose?c[d.XRANGELOOSE]:c[d.XRANGE];return I.replace(G,(U,X,q,Z,F,D)=>{a("xRange",I,U,X,q,Z,F,D);const J=A(q),ee=J||A(Z),te=ee||A(F),ie=te;return X==="="&&ie&&(X=""),D=B.includePrerelease?"-0":"",J?X===">"||X==="<"?U="<0.0.0-0":U="*":X&&ie?(ee&&(Z=0),F=0,X===">"?(X=">=",ee?(q=+q+1,Z=0,F=0):(Z=+Z+1,F=0)):X==="<="&&(X="<",ee?q=+q+1:Z=+Z+1),X==="<"&&(D="-0"),U=`${X+q}.${Z}.${F}${D}`):ee?U=`>=${q}.0.0${D} <${+q+1}.0.0-0`:te&&(U=`>=${q}.${Z}.0${D} <${q}.${+Z+1}.0-0`),a("xRange return",U),U})},V=(I,B)=>(a("replaceStars",I,B),I.trim().replace(c[d.STAR],"")),N=(I,B)=>(a("replaceGTE0",I,B),I.trim().replace(c[B.includePrerelease?d.GTE0PRE:d.GTE0],"")),W=I=>(B,G,U,X,q,Z,F,D,J,ee,te,ie,oe)=>(A(U)?G="":A(X)?G=`>=${U}.0.0${I?"-0":""}`:A(q)?G=`>=${U}.${X}.0${I?"-0":""}`:Z?G=`>=${G}`:G=`>=${G}${I?"-0":""}`,A(J)?D="":A(ee)?D=`<${+J+1}.0.0-0`:A(te)?D=`<${J}.${+ee+1}.0-0`:ie?D=`<=${J}.${ee}.${te}-${ie}`:I?D=`<${J}.${ee}.${+te+1}-0`:D=`<=${D}`,`${G} ${D}`.trim()),z=(I,B,G)=>{for(let U=0;U<I.length;U++)if(!I[U].test(B))return!1;if(B.prerelease.length&&!G.includePrerelease){for(let U=0;U<I.length;U++)if(a(I[U].semver),I[U].semver!==i.ANY&&I[U].semver.prerelease.length>0){const X=I[U].semver;if(X.major===B.major&&X.minor===B.minor&&X.patch===B.patch)return!0}return!1}return!0};return nS}var iS,xO;function Bm(){if(xO)return iS;xO=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(h,g){if(g=r(g),h instanceof e){if(h.loose===!!g.loose)return h;h=h.value}h=h.trim().split(/\s+/).join(" "),l("comparator",h,g),this.options=g,this.loose=!!g.loose,this.parse(h),this.semver===t?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(h){const g=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],p=h.match(g);if(!p)throw new TypeError(`Invalid comparator: ${h}`);this.operator=p[1]!==void 0?p[1]:"",this.operator==="="&&(this.operator=""),p[2]?this.semver=new c(p[2],this.options.loose):this.semver=t}toString(){return this.value}test(h){if(l("Comparator.test",h,this.options.loose),this.semver===t||h===t)return!0;if(typeof h=="string")try{h=new c(h,this.options)}catch{return!1}return a(h,this.operator,this.semver,this.options)}intersects(h,g){if(!(h instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new d(h.value,g).test(this.value):h.operator===""?h.value===""?!0:new d(this.value,g).test(h.semver):(g=r(g),g.includePrerelease&&(this.value==="<0.0.0-0"||h.value==="<0.0.0-0")||!g.includePrerelease&&(this.value.startsWith("<0.0.0")||h.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&h.operator.startsWith(">")||this.operator.startsWith("<")&&h.operator.startsWith("<")||this.semver.version===h.semver.version&&this.operator.includes("=")&&h.operator.includes("=")||a(this.semver,"<",h.semver,g)&&this.operator.startsWith(">")&&h.operator.startsWith("<")||a(this.semver,">",h.semver,g)&&this.operator.startsWith("<")&&h.operator.startsWith(">")))}}iS=e;const r=Lx(),{safeRe:n,t:i}=cp(),a=zM(),l=Xg(),c=wo(),d=Wa();return iS}var oS,wO;function $m(){if(wO)return oS;wO=1;const t=Wa();return oS=(r,n,i)=>{try{n=new t(n,i)}catch{return!1}return n.test(r)},oS}var aS,kO;function X7(){if(kO)return aS;kO=1;const t=Wa();return aS=(r,n)=>new t(r,n).set.map(i=>i.map(a=>a.value).join(" ").trim().split(" ")),aS}var sS,CO;function Z7(){if(CO)return sS;CO=1;const t=wo(),e=Wa();return sS=(n,i,a)=>{let l=null,c=null,d=null;try{d=new e(i,a)}catch{return null}return n.forEach(f=>{d.test(f)&&(!l||c.compare(f)===-1)&&(l=f,c=new t(l,a))}),l},sS}var lS,TO;function Q7(){if(TO)return lS;TO=1;const t=wo(),e=Wa();return lS=(n,i,a)=>{let l=null,c=null,d=null;try{d=new e(i,a)}catch{return null}return n.forEach(f=>{d.test(f)&&(!l||c.compare(f)===1)&&(l=f,c=new t(l,a))}),l},lS}var cS,EO;function J7(){if(EO)return cS;EO=1;const t=wo(),e=Wa(),r=up();return cS=(i,a)=>{i=new e(i,a);let l=new t("0.0.0");if(i.test(l)||(l=new t("0.0.0-0"),i.test(l)))return l;l=null;for(let c=0;c<i.set.length;++c){const d=i.set[c];let f=null;d.forEach(h=>{const g=new t(h.semver.version);switch(h.operator){case">":g.prerelease.length===0?g.patch++:g.prerelease.push(0),g.raw=g.format();case"":case">=":(!f||r(g,f))&&(f=g);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${h.operator}`)}}),f&&(!l||r(l,f))&&(l=f)}return l&&i.test(l)?l:null},cS}var uS,AO;function eq(){if(AO)return uS;AO=1;const t=Wa();return uS=(r,n)=>{try{return new t(r,n).range||"*"}catch{return null}},uS}var dS,RO;function q1(){if(RO)return dS;RO=1;const t=wo(),e=Bm(),{ANY:r}=e,n=Wa(),i=$m(),a=up(),l=H1(),c=V1(),d=Qg();return dS=(h,g,p,S)=>{h=new t(h,S),g=new n(g,S);let b,v,k,T,A;switch(p){case">":b=a,v=c,k=l,T=">",A=">=";break;case"<":b=l,v=d,k=a,T="<",A="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(h,g,S))return!1;for(let w=0;w<g.set.length;++w){const R=g.set[w];let O=null,M=null;if(R.forEach(j=>{j.semver===r&&(j=new e(">=0.0.0")),O=O||j,M=M||j,b(j.semver,O.semver,S)?O=j:k(j.semver,M.semver,S)&&(M=j)}),O.operator===T||O.operator===A||(!M.operator||M.operator===T)&&v(h,M.semver))return!1;if(M.operator===A&&k(h,M.semver))return!1}return!0},dS}var fS,OO;function tq(){if(OO)return fS;OO=1;const t=q1();return fS=(r,n,i)=>t(r,n,">",i),fS}var pS,PO;function rq(){if(PO)return pS;PO=1;const t=q1();return pS=(r,n,i)=>t(r,n,"<",i),pS}var hS,_O;function nq(){if(_O)return hS;_O=1;const t=Wa();return hS=(r,n,i)=>(r=new t(r,i),n=new t(n,i),r.intersects(n,i)),hS}var gS,MO;function iq(){if(MO)return gS;MO=1;const t=$m(),e=Ha();return gS=(r,n,i)=>{const a=[];let l=null,c=null;const d=r.sort((p,S)=>e(p,S,i));for(const p of d)t(p,n,i)?(c=p,l||(l=p)):(c&&a.push([l,c]),c=null,l=null);l&&a.push([l,null]);const f=[];for(const[p,S]of a)p===S?f.push(p):!S&&p===d[0]?f.push("*"):S?p===d[0]?f.push(`<=${S}`):f.push(`${p} - ${S}`):f.push(`>=${p}`);const h=f.join(" || "),g=typeof n.raw=="string"?n.raw:String(n);return h.length<g.length?h:n},gS}var mS,jO;function oq(){if(jO)return mS;jO=1;const t=Wa(),e=Bm(),{ANY:r}=e,n=$m(),i=Ha(),a=(g,p,S={})=>{if(g===p)return!0;g=new t(g,S),p=new t(p,S);let b=!1;e:for(const v of g.set){for(const k of p.set){const T=d(v,k,S);if(b=b||T!==null,T)continue e}if(b)return!1}return!0},l=[new e(">=0.0.0-0")],c=[new e(">=0.0.0")],d=(g,p,S)=>{if(g===p)return!0;if(g.length===1&&g[0].semver===r){if(p.length===1&&p[0].semver===r)return!0;S.includePrerelease?g=l:g=c}if(p.length===1&&p[0].semver===r){if(S.includePrerelease)return!0;p=c}const b=new Set;let v,k;for(const $ of g)$.operator===">"||$.operator===">="?v=f(v,$,S):$.operator==="<"||$.operator==="<="?k=h(k,$,S):b.add($.semver);if(b.size>1)return null;let T;if(v&&k){if(T=i(v.semver,k.semver,S),T>0)return null;if(T===0&&(v.operator!==">="||k.operator!=="<="))return null}for(const $ of b){if(v&&!n($,String(v),S)||k&&!n($,String(k),S))return null;for(const V of p)if(!n($,String(V),S))return!1;return!0}let A,w,R,O,M=k&&!S.includePrerelease&&k.semver.prerelease.length?k.semver:!1,j=v&&!S.includePrerelease&&v.semver.prerelease.length?v.semver:!1;M&&M.prerelease.length===1&&k.operator==="<"&&M.prerelease[0]===0&&(M=!1);for(const $ of p){if(O=O||$.operator===">"||$.operator===">=",R=R||$.operator==="<"||$.operator==="<=",v){if(j&&$.semver.prerelease&&$.semver.prerelease.length&&$.semver.major===j.major&&$.semver.minor===j.minor&&$.semver.patch===j.patch&&(j=!1),$.operator===">"||$.operator===">="){if(A=f(v,$,S),A===$&&A!==v)return!1}else if(v.operator===">="&&!n(v.semver,String($),S))return!1}if(k){if(M&&$.semver.prerelease&&$.semver.prerelease.length&&$.semver.major===M.major&&$.semver.minor===M.minor&&$.semver.patch===M.patch&&(M=!1),$.operator==="<"||$.operator==="<="){if(w=h(k,$,S),w===$&&w!==k)return!1}else if(k.operator==="<="&&!n(k.semver,String($),S))return!1}if(!$.operator&&(k||v)&&T!==0)return!1}return!(v&&R&&!k&&T!==0||k&&O&&!v&&T!==0||j||M)},f=(g,p,S)=>{if(!g)return p;const b=i(g.semver,p.semver,S);return b>0?g:b<0||p.operator===">"&&g.operator===">="?p:g},h=(g,p,S)=>{if(!g)return p;const b=i(g.semver,p.semver,S);return b<0?g:b>0||p.operator==="<"&&g.operator==="<="?p:g};return mS=a,mS}var yS,NO;function aq(){if(NO)return yS;NO=1;const t=cp(),e=Zg(),r=wo(),n=r2(),i=ud(),a=N7(),l=I7(),c=L7(),d=F7(),f=B7(),h=$7(),g=D7(),p=z7(),S=Ha(),b=U7(),v=H7(),k=U1(),T=V7(),A=q7(),w=up(),R=H1(),O=$M(),M=DM(),j=Qg(),$=V1(),V=zM(),N=W7(),W=Bm(),z=Wa(),I=$m(),B=X7(),G=Z7(),U=Q7(),X=J7(),q=eq(),Z=q1(),F=tq(),D=rq(),J=nq(),ee=iq(),te=oq();return yS={parse:i,valid:a,clean:l,inc:c,diff:d,major:f,minor:h,patch:g,prerelease:p,compare:S,rcompare:b,compareLoose:v,compareBuild:k,sort:T,rsort:A,gt:w,lt:R,eq:O,neq:M,gte:j,lte:$,cmp:V,coerce:N,Comparator:W,Range:z,satisfies:I,toComparators:B,maxSatisfying:G,minSatisfying:U,minVersion:X,validRange:q,outside:Z,gtr:F,ltr:D,intersects:J,simplifyRange:ee,subset:te,SemVer:r,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:e.SEMVER_SPEC_VERSION,RELEASE_TYPES:e.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers},yS}var IO=aq();const sq=100;class Gu{dt;fetcher;tokenizeCache;lemmatizeCache;constructor(e,r=new Ix){this.dt=e,this.fetcher=r,this.tokenizeCache=new Map,this.lemmatizeCache=new Map}resetCache(){this.tokenizeCache.clear(),this.lemmatizeCache.clear()}async splitAndTokenizeBulk(e,r){return this.tokenizeBulk(e.split(new RegExp("(?:\\p{STerm}|\\r?\\n)+","u")),r)}async tokenize(e,r){let n=this.tokenizeCache.get(e);if(n)return n;n=[];const i=await this._executeAction("tokenize",{text:e,scanLength:this.dt.dictionaryYomitanScanLength},r);for(const a of i)for(const l of a.content)if(n.push(l),l[0]?.headwords){const c=l.map(d=>d.text).join("").trim();this.lemmatizeCache.has(c)||this.extractLemmas(c,l[0].headwords)}return this.tokenizeCache.set(e,n),n}async tokenizeBulk(e,r){return $u(e,async n=>{const i=[],a=[];for(const c of n){const d=this.tokenizeCache.get(c);if(d){for(const f of d)i.push(f);continue}a.push(c)}if(!a.length)return i;const l=await this._executeAction("tokenize",{text:a,scanLength:this.dt.dictionaryYomitanScanLength},r);for(const c of l){const d=[];for(const f of c.content)if(d.push(f),f[0]?.headwords){const h=f.map(g=>g.text).join("").trim();this.lemmatizeCache.has(h)||this.extractLemmas(h,f[0].headwords)}this.tokenizeCache.set(a[c.index],d);for(const f of d)i.push(f)}return i},{batchSize:sq})}extractLemmas(e,r){let n=!1,i=rI(e);const a=[];for(const l of r)for(const c of l)for(const d of c.sources){if(d.originalText!==e||!d.isPrimary||d.matchType!=="exact")continue;const f=d.deinflectedText;i&&f!==c.term&&f===c.reading&&(i=!1,a.includes(c.term)||a.unshift(c.term)),!n&&(n=!0,a.includes(c.term)||a.unshift(c.term),a.includes(c.reading)||a.push(c.reading),a.includes(f)||a.push(f))}return this.lemmatizeCache.set(e,a),a}async lemmatize(e,r){const n=this.lemmatizeCache.get(e);if(n)return n;if(!Ia.test(e))return this.lemmatizeCache.set(e,[]),[];const i=(await this._executeAction("termEntries",{term:e},r)).dictionaryEntries;return this.extractLemmas(e,i.map(a=>a.headwords))}async version(e){const r=(await this._executeAction("yomitanVersion",{},e)).version;if(r==="0.0.0.0")return r;const n=IO.coerce(r)?.version;if(!n||IO.lt(n,"25.12.16"))throw new Error(`Minimum Yomitan version is 25.12.16.0, found ${r}`);return r}async _executeAction(e,r,n){const i=await this.fetcher.fetch(`${n??this.dt.dictionaryYomitanUrl}/${e}`,r);if(!i||i==="{}")throw new Error(`Yomitan API error for ${e}: ${i}`);return i}}const lq=10,cq=100,uq=10,dq=1,fq=1e4,pq=1e4,UM="asb-token",hq="asb-token-highlight";function Al(t){return t===Un.EXACT_FORM_COLLECTED||t===Un.LEMMA_OR_EXACT_FORM_COLLECTED}function Rl(t){return t===Un.LEMMA_FORM_COLLECTED||t===Un.LEMMA_OR_EXACT_FORM_COLLECTED}function Ol(t){return t===Un.ANY_FORM_COLLECTED}function LO(t){if(t.__tokenized=void 0,t.richText=void 0,t.tokenization)if(t.tokenization.tokens=t.tokenization.tokens.filter(e=>!e.__internal),t.tokenization.tokens.length){t.tokenization.error=void 0;for(const e of t.tokenization.tokens)e.states=[],e.status=void 0}else t.tokenization=void 0;t.originalText!==void 0&&(t.text=t.originalText)}function FO(t){return{tokens:t?.tokens?.filter(e=>!e.__internal).map(e=>({pos:[e.pos[0],e.pos[1]],readings:e.readings.map(r=>({pos:[r.pos[0],r.pos[1]],reading:r.reading})),states:[]}))??[]}}class _u extends Ic{_subtitles;dictionaryProvider;settingsProvider;subtitlesInterval;showingSubtitles;showingNeedsRefreshCount;buildLowerThreshold;buildUpperThreshold;profile;anki;fetcher;trackStates;erroredCache;externalTokenReadings;tokenToIndexesCache;tokensForRefresh;ankiRecentlyModifiedCardIds;ankiLastRecentlyModifiedCheck;ankiRecentlyModifiedTrigger;ankiRecentlyModifiedFirstCheck;colorCacheLastRefresh;colorCacheBuilding;colorCacheBuildingCurrentIndexes;shouldCancelBuild;tokenRequestFailed;subtitleColorsUpdated;getMediaTimeMs;removeBuildAnkiCacheStateChangeCB;removeAnkiCardModifiedCB;constructor(e,r,n,i,a,l){super({...n,returnNextToShow:!0}),this._subtitles=[],this.buildLowerThreshold=0,this.buildUpperThreshold=0,this.dictionaryProvider=e,this.settingsProvider=r,this.profile=null,this.fetcher=l,this.trackStates=[],this.subtitleColorsUpdated=i,this.getMediaTimeMs=a,this.showingNeedsRefreshCount=0,this.erroredCache=new Set,this.externalTokenReadings=new Map,this.tokenToIndexesCache=new Map,this.tokensForRefresh=new Set,this.ankiRecentlyModifiedCardIds=new Set,this.ankiLastRecentlyModifiedCheck=Date.now(),this.ankiRecentlyModifiedTrigger=!1,this.ankiRecentlyModifiedFirstCheck=!0,this.colorCacheLastRefresh=Date.now(),this.colorCacheBuilding=!1,this.colorCacheBuildingCurrentIndexes=new Set,this.shouldCancelBuild=!1,this.tokenRequestFailed=!1}get subtitles(){return this._subtitles}setSubtitles(e){for(const n of e)n.originalText===void 0&&(n.originalText=n.text);const r=e.length!==this._subtitles.length||e.some(n=>{const i=this._subtitles[n.index];return(n.originalText??n.text)!==(i.originalText??i.text)?!0:!lT(FO(n.tokenization),FO(i.tokenization))});if(!r)for(const n of e)n.text=this._subtitles[n.index].text,n.tokenization=this._subtitles[n.index].tokenization,n.richText=this._subtitles[n.index].richText,n.__tokenized=this._subtitles[n.index].__tokenized;if(this._subtitles=e.map(n=>({...n})),super.setSubtitles(this._subtitles),r){this._resetCache(),this.externalTokenReadings.clear();for(const a of this._subtitles)if(a.tokenization)for(const l of a.tokenization.tokens){if(l.__internal||!l.readings.length)continue;const c=a.text.substring(l.pos[0],l.pos[1]);let d=this.externalTokenReadings.get(c);d||(d=new Map,this.externalTokenReadings.set(c,d)),d.set(a.track,l.readings)}const{colorBufferStartIndex:n,colorBufferEndIndex:i}=this._getColorBufferIndexes(!0);this._buildColorCache(n,i,!0)}}_resetCache(){this.colorCacheBuilding&&(this.shouldCancelBuild=!0),this.profile=null,this.anki=void 0,this.trackStates=[],this.erroredCache.clear(),this.tokenToIndexesCache.clear(),this.tokensForRefresh=new Set,this.ankiRecentlyModifiedCardIds.clear(),this.ankiRecentlyModifiedTrigger=!1,this.ankiRecentlyModifiedFirstCheck=!0,this._subtitles.forEach(LO),this.buildLowerThreshold=0,this.buildUpperThreshold=0}reset(){this.setSubtitles([])}settingsUpdated(e){let r=(!this.anki||this.anki.ankiConnectUrl===e.ankiConnectUrl)&&this.trackStates.length===e.dictionaryTracks.length;for(const[i,a]of e.dictionaryTracks.entries()){const l=this.trackStates[i];if(!(l&&TI(l.dt,a))){r=!1;break}}if(r)return;const n=[];for(const i of this.trackStates){if(!xu(i.dt))continue;const a=e.dictionaryTracks[i.track];a&&xu(a)||(n.push(...this._subtitles.filter(l=>l.track===i.track)),i.dt=a)}if(n.length){for(const i of n)LO(i);this.subtitleColorsUpdated(n,e.dictionaryTracks)}this._resetCache()}tokensWereModified(e){for(const r of e)this.tokensForRefresh.add(r)}ankiCardWasModified(){this.ankiRecentlyModifiedTrigger=!0}hoverOnly(e){return this.trackStates[e]?.dt.dictionaryColorizeOnHoverOnly}async saveTokenLocal(e,r,n,i,a){if(this.profile===null)return;const l=this.profile,c=this.trackStates[e];if(!c||!xu(c.dt)||!c.yt)return;const d=await c.yt.lemmatize(r);await this.dictionaryProvider.saveRecordLocalBulk(l,[{token:r,status:n,lemmas:d,states:i}],a),this.tokensForRefresh.add(r);for(const f of d)this.tokensForRefresh.add(f)}async _checkAnkiRecentlyModifiedCards(){if(this.profile===null||!this.trackStates.length)return;const e=this.profile,r=new Set;for(const a of this.trackStates)if(Rg(a.dt))for(const l of a.dt.dictionaryAnkiWordFields.concat(a.dt.dictionaryAnkiSentenceFields))r.add(l);if(!r.size)return;const n=Array.from(r),i={useOriginTab:!0};if(!this.anki)try{this.anki=new Fm(await this.settingsProvider.getAll(),this.fetcher);const a=(await this.anki.requestPermission()).permission;if(a!=="granted")throw new Error(`permission ${a}`);await this.dictionaryProvider.buildAnkiCache(e,await this.settingsProvider.getAll(),i)}catch(a){console.warn("Anki permission request failed:",a),this.anki=void 0;return}try{const a=await this.anki.findRecentlyEditedOrReviewedCards(n,1);if(a.length===this.ankiRecentlyModifiedCardIds.size&&a.every(l=>this.ankiRecentlyModifiedCardIds.has(l))){this.ankiRecentlyModifiedFirstCheck&&(this.ankiRecentlyModifiedFirstCheck=!1);return}if(this.ankiRecentlyModifiedCardIds=new Set(a),this.ankiRecentlyModifiedFirstCheck){this.ankiRecentlyModifiedFirstCheck=!1;return}await this.dictionaryProvider.buildAnkiCache(e,await this.settingsProvider.getAll(),i)}catch(a){console.error("Error checking Anki recently modified cards:",a),this.anki=void 0,this.ankiRecentlyModifiedCardIds.clear(),this.ankiRecentlyModifiedFirstCheck=!1}}bind(){this.removeBuildAnkiCacheStateChangeCB&&this.removeBuildAnkiCacheStateChangeCB(),this.removeBuildAnkiCacheStateChangeCB=this.dictionaryProvider.onBuildAnkiCacheStateChange(e=>{if(this.tokensWereModified(e.body?.modifiedTokens??[]),e.type===Di.error){const r=e.body;console.warn(`Dictionary Anki cache build error: ${r.msg}`),this.ankiRecentlyModifiedCardIds.clear(),this.ankiRecentlyModifiedFirstCheck=!1}}),this.removeAnkiCardModifiedCB&&this.removeAnkiCardModifiedCB(),this.removeAnkiCardModifiedCB=this.dictionaryProvider.onAnkiCardModified(()=>this.ankiCardWasModified()),this.subtitlesInterval=setInterval(()=>{if(this._subtitles.length){if(this.getMediaTimeMs){const e=this.subtitlesAt(this.getMediaTimeMs());if((this.showingSubtitles===void 0||!Fa(e.showing,this.showingSubtitles,(n,i)=>n.index===i.index))&&(this.showingSubtitles=e.showing,this.showingNeedsRefreshCount++,e.showing.some(n=>!this._subtitles[n.index].__tokenized&&!this.colorCacheBuildingCurrentIndexes.has(n.index))&&this.colorCacheBuilding&&(this.shouldCancelBuild=!0)),this.showingNeedsRefreshCount){const{colorBufferStartIndex:n,colorBufferEndIndex:i}=this._getColorBufferIndexes(!1,e.showing);this._buildColorCache(n,i).then(a=>{a&&(this.showingNeedsRefreshCount=Math.max(0,this.showingNeedsRefreshCount-1))}),this.colorCacheLastRefresh=Date.now();return}}if(this.tokensForRefresh.size||Date.now()-this.colorCacheLastRefresh>=fq){const{colorBufferStartIndex:e,colorBufferEndIndex:r}=this._getColorBufferIndexes();this._buildColorCache(e,r),this.colorCacheLastRefresh=Date.now()}(this.ankiRecentlyModifiedTrigger||Date.now()-this.ankiLastRecentlyModifiedCheck>=pq)&&(this._checkAnkiRecentlyModifiedCards(),this.ankiLastRecentlyModifiedCheck=Date.now(),this.ankiRecentlyModifiedTrigger=!1)}},100)}_getColorBufferIndexes(e,r){if(!r?.length)if(this.getMediaTimeMs){const l=this.subtitlesAt(this.getMediaTimeMs());r=l.showing,r.length||(r=l.nextToShow??[])}else return{colorBufferStartIndex:0,colorBufferEndIndex:this._subtitles.length};const n=e?lq:cq;if(!r.length)return{colorBufferStartIndex:0,colorBufferEndIndex:n};const i=Math.min(...r.map(l=>l.index)),a=Math.max(...r.map(l=>l.index))+1+n;return{colorBufferStartIndex:i,colorBufferEndIndex:a}}async _buildColorCache(e,r,n){const i=this._subtitles.slice(e,r);if(!i.length)return!0;if(this.profile===null){const h=(await this.settingsProvider.activeProfile())?.name;this.profile===null&&(this.profile=h,this.ankiRecentlyModifiedTrigger=!0)}const a=this.profile;this.trackStates.length||(this.trackStates=(await this.settingsProvider.getSingle("dictionaryTracks")).map((h,g)=>({track:g,dt:h,yt:void 0,collectedExactForm:new Map,collectedLemmaForm:new Map,collectedAnyForm:new Map,tokenStates:new Map})));const l=this.trackStates;if(l.every(h=>!xu(h.dt)))return!0;if(this.colorCacheBuilding)return!1;let c=[],d=!1,f=!1;try{this.colorCacheBuilding=!0,this.tokenRequestFailed=!1;for(const g of l)if(!(!xu(g.dt)||g.yt))try{const p=new Gu(g.dt,this.fetcher);await p.version(),g.yt=p}catch(p){console.warn(`YomitanTrack${g.track+1} version request failed:`,p)}const h=new Set;if(this.tokensForRefresh.size){const g=new Set(i.map(p=>p.index));for(const p of this.tokensForRefresh){c.push(p);const S=this.tokenToIndexesCache.get(p);if(S)for(const b of S)h.add(b),!g.has(b)&&(g.add(b),i.push(this._subtitles[b]))}}else if(!i.some(g=>this.erroredCache.has(g.index))){if(e>=this.buildLowerThreshold&&e<this.buildUpperThreshold)return!0;f=!0}try{await this._buildTokenAndLemmaMap(a,i,l)}catch(g){console.error("Error building token and lemma map:",g),l.forEach(p=>p.yt=void 0)}finally{this.colorCacheBuildingCurrentIndexes.clear()}await ZP(i,async g=>{await Promise.all(g.map(async({index:p,text:S,track:b,__tokenized:v})=>{if(this.shouldCancelBuild||v&&!this.erroredCache.has(p)&&!h.has(p))return;const k=l[b];if(!xu(k.dt))return;const T=this.erroredCache.delete(p);try{this.colorCacheBuildingCurrentIndexes.add(p);const A=this._subtitles[p].tokenization,w=A?await this._tokenizationModelMergedWithExistingOne(S,A,p,k):await this._tokenizationModel(S,p,k);if(lT(w?.tokenization,A)||this.shouldCancelBuild)return;const R=[];if(w){const{tokenization:O,reconstructedText:M}=w,j=this._subtitles[p];j.tokenization=O,j.richText=void 0,j.originalText===void 0&&(j.originalText=j.text),j.text=M,j.__tokenized=!0,R.push(j)}this.subtitleColorsUpdated(R,this.trackStates.map(O=>O.dt))}catch(A){console.error(`Error building color cache for subtitle index ${p}:`,A),this.erroredCache.add(p)}finally{this.shouldCancelBuild&&T&&this.erroredCache.add(p),this.colorCacheBuildingCurrentIndexes.delete(p)}}))},{batchSize:dq}),this.shouldCancelBuild&&(d=!0,c=[],f=!1)}finally{this.tokenRequestFailed&&(this.tokenRequestFailed=!1,l.forEach(h=>h.yt=void 0),c=[],f=!1),f&&!n&&(this.buildUpperThreshold=r-uq,this.buildLowerThreshold=e),this.shouldCancelBuild=!1,this.colorCacheBuilding=!1,c.length===this.tokensForRefresh.size&&c.every(h=>this.tokensForRefresh.has(h))&&(this.tokensForRefresh=new Set)}return!d}async _buildTokenAndLemmaMap(e,r,n){const i=new Map;for(const a of r){const l=i.get(a.track);l?l.push(a.text):i.set(a.track,[a.text]),this.colorCacheBuildingCurrentIndexes.add(a.index)}for(const[a,l]of i.entries()){const c=n[a];if(!c.yt)continue;const d=await c.yt.tokenizeBulk(l);if(!Rg(c.dt))continue;if(this.shouldCancelBuild)return;const f=Al(c.dt.dictionaryTokenMatchStrategy)||Al(c.dt.dictionaryAnkiSentenceTokenMatchStrategy),h=Rl(c.dt.dictionaryTokenMatchStrategy)||Rl(c.dt.dictionaryAnkiSentenceTokenMatchStrategy),g=Ol(c.dt.dictionaryTokenMatchStrategy)||Ol(c.dt.dictionaryAnkiSentenceTokenMatchStrategy);for(const A of this.tokensForRefresh)c.collectedExactForm.delete(A),c.collectedLemmaForm.delete(A),c.collectedAnyForm.delete(A),c.tokenStates.delete(A);const p=new Set,S=new Set,b=new Set;for(const A of d){const w=A.map(R=>R.text).join("").trim();if(f&&!c.collectedExactForm.has(w)&&p.add(w),h)for(const R of await c.yt.lemmatize(w))c.collectedLemmaForm.has(R)||S.add(R);if(g)for(const R of await c.yt.lemmatize(w))c.collectedAnyForm.has(R)||b.add(R)}if(this.shouldCancelBuild)return;const[v,k,T]=await Promise.all([p.size?this.dictionaryProvider.getBulk(e,a,Array.from(p)):{},S.size?this.dictionaryProvider.getBulk(e,a,Array.from(S)):{},b.size?this.dictionaryProvider.getByLemmaBulk(e,a,Array.from(b)):{}]);if(this.shouldCancelBuild)return;for(const[A,{states:w,statuses:R,source:O}]of Object.entries(v)){const M=this._getTokenStatus(R,c);c.collectedExactForm.set(A,{status:M,source:O}),w.length&&c.tokenStates.set(A,w)}for(const[A,{states:w,statuses:R,source:O}]of Object.entries(k)){const M=this._getTokenStatus(R,c);if(c.collectedLemmaForm.set(A,{status:M,source:O}),!w.length)continue;const j=c.tokenStates.get(A);if(j)for(const $ of w)j.includes($)||j.push($);else c.tokenStates.set(A,w)}for(const[A,w]of Object.entries(T))for(const{states:R,statuses:O,source:M,token:j}of w){const $=this._getTokenStatus(O,c),V=c.collectedAnyForm.get(A);if(V?V.push({status:$,source:M,token:j}):c.collectedAnyForm.set(A,[{status:$,source:M,token:j}]),!R.length)continue;const N=c.tokenStates.get(j);if(N)for(const W of R)N.includes(W)||N.push(W);else c.tokenStates.set(j,R)}}}_getTokenStatus(e,r){if(e.length&&r.dt.dictionaryAnkiTreatSuspended!=="NORMAL"){const n=e.filter(i=>!i.suspended);if(!n.length)return r.dt.dictionaryAnkiTreatSuspended;e=n}return e.some(n=>n.status===Wn.MATURE)?Wn.MATURE:e.some(n=>n.status===Wn.YOUNG)?Wn.YOUNG:e.some(n=>n.status===Wn.GRADUATED)?Wn.GRADUATED:e.some(n=>n.status===Wn.LEARNING)?Wn.LEARNING:Wn.UNKNOWN}async _tokenizationModelMergedWithExistingOne(e,r,n,i){if(!i.yt)return this.tokenRequestFailed=!0,console.error("Yomitan not initialized"),r.error=!0,{reconstructedText:e,tokenization:r};if(!r.tokens?.length)return this._tokenizationModel(e,n,i);const a=r.tokens.filter(h=>!h.__internal);let l=Promise.resolve();const c=[],d=[];let f=!1;jx(e,(h,g)=>a[g],(h,g,p)=>{p===void 0?l=l.then(async()=>{const S=await this._tokenizationModel(e.substring(h,g),n,i,h);if(!this.shouldCancelBuild){if(!S){f=!0,this.erroredCache.add(n);return}if(c.push(S.reconstructedText),S.tokenization.tokens.length)for(const b of S.tokenization.tokens)d.push(b);else S.tokenization.error&&(f=!0,this.erroredCache.add(n))}}):l=l.then(async()=>{const S=e.substring(p.pos[0],p.pos[1]),b=S.trim(),v=this.tokenToIndexesCache.get(b);v?v.add(n):this.tokenToIndexesCache.set(b,new Set([n]));const k=await i.yt.lemmatize(b);if(this.shouldCancelBuild)return;for(const w of k){const R=this.tokenToIndexesCache.get(w);R?R.add(n):this.tokenToIndexesCache.set(w,new Set([n]))}const T=i.tokenStates.get(b)??[],A={pos:[p.pos[0],p.pos[1]],readings:p.readings.map(w=>({pos:[w.pos[0],w.pos[1]],reading:w.reading})),states:T,status:T.includes(zl.IGNORED)||!Ia.test(b)?Zu():await this._tokenStatus(b,i)};A.status===null&&this.erroredCache.add(n),!this.shouldCancelBuild&&(c.push(S),d.push(A))})});try{await l}catch(h){return this.tokenRequestFailed=!0,console.error(`Tokenization request failed for index ${n}:`,h),this.erroredCache.add(n),r.error=!0,{reconstructedText:e,tokenization:r}}if(!this.shouldCancelBuild)return{reconstructedText:c.join(""),tokenization:{tokens:d,error:f}}}async _tokenizationModel(e,r,n,i=0){try{if(!n.yt)throw new Error(`Yomitan not initialized for Track${n.track+1}`);const a=await n.yt.tokenize(e);if(this.shouldCancelBuild)return;const l=[];let c=0,d=[];for(const f of a){const h=f.map(k=>k.text).join("");d.push(h);const g=h.trim(),p={pos:[i+c,i+c+h.length],states:n.tokenStates.get(g)??[],__internal:!0,readings:[]};l.push(p),c+=h.length;const S=this.externalTokenReadings.get(h);if(S)p.readings=S.get(n.track)??S.values().next().value;else{let k=0;for(const T of f)T.reading&&p.readings.push({pos:[k,k+T.text.length],reading:T.reading}),k+=T.text.length}const b=this.tokenToIndexesCache.get(g);b?b.add(r):this.tokenToIndexesCache.set(g,new Set([r]));const v=await n.yt.lemmatize(g);if(this.shouldCancelBuild)return;for(const k of v){const T=this.tokenToIndexesCache.get(k);T?T.add(r):this.tokenToIndexesCache.set(k,new Set([r]))}if(p.states.includes(zl.IGNORED)||!Ia.test(g)){p.status=Zu();continue}if(p.status=await this._tokenStatus(g,n),p.status===null&&this.erroredCache.add(r),this.shouldCancelBuild)return}return{reconstructedText:d.join(""),tokenization:{tokens:l}}}catch(a){return this.tokenRequestFailed=!0,console.error(`Error colorizing subtitle text for Track${n.track+1}:`,a),this.erroredCache.add(r),{reconstructedText:e,tokenization:{tokens:[],error:!0}}}}async _tokenStatus(e,r){if(!r.yt)throw new Error("Yomitan uninitialized - cannot calculate token status");switch(r.dt.dictionaryTokenMatchStrategyPriority){case Ro.EXACT:return await this._handlePriorityExact(e,r);case Ro.LEMMA:return await this._handlePriorityLemma(e,r);case Ro.BEST_KNOWN:return await this._handlePriorityKnown(e,r,n=>Math.max(...n));case Ro.LEAST_KNOWN:return await this._handlePriorityKnown(e,r,n=>Math.min(...n));default:throw new Error(`Unknown strategy priority: ${r.dt.dictionaryTokenMatchStrategyPriority}`)}}async _handlePriorityExact(e,r){if(Al(r.dt.dictionaryTokenMatchStrategy)){const n=r.collectedExactForm.get(e);if(n&&n.source!==pn.ANKI_SENTENCE)return n.status}if(Rl(r.dt.dictionaryTokenMatchStrategy)){const n=await r.yt.lemmatize(e);if(this.shouldCancelBuild)return null;const i=[];for(const a of n){const l=r.collectedLemmaForm.get(a);l&&l.source!==pn.ANKI_SENTENCE&&i.push(l)}if(i.length)return Math.max(...i.map(a=>a.status))}if(Ol(r.dt.dictionaryTokenMatchStrategy)){const n=await r.yt.lemmatize(e);if(this.shouldCancelBuild)return null;const i=[];for(const a of n){const l=r.collectedAnyForm.get(a);if(l)for(const c of l)c.source!==pn.ANKI_SENTENCE&&i.push(c)}if(i.length){const a=i.filter(c=>c.token===e);if(a.length)return Math.max(...a.map(c=>c.status));const l=i.filter(c=>n.includes(c.token));return l.length?Math.max(...l.map(c=>c.status)):Math.max(...i.map(c=>c.status))}}if(Al(r.dt.dictionaryAnkiSentenceTokenMatchStrategy)){const n=r.collectedExactForm.get(e);if(n?.source===pn.ANKI_SENTENCE)return n.status}if(Rl(r.dt.dictionaryAnkiSentenceTokenMatchStrategy)){const n=await r.yt.lemmatize(e);if(this.shouldCancelBuild)return null;const i=[];for(const a of n){const l=r.collectedLemmaForm.get(a);l?.source===pn.ANKI_SENTENCE&&i.push(l)}if(i.length)return Math.max(...i.map(a=>a.status))}if(Ol(r.dt.dictionaryAnkiSentenceTokenMatchStrategy)){const n=await r.yt.lemmatize(e);if(this.shouldCancelBuild)return null;const i=[];for(const a of n){const l=r.collectedAnyForm.get(a);if(l)for(const c of l)c.source===pn.ANKI_SENTENCE&&i.push(c)}if(i.length){const a=i.filter(c=>c.token===e);if(a.length)return Math.max(...a.map(c=>c.status));const l=i.filter(c=>n.includes(c.token));return l.length?Math.max(...l.map(c=>c.status)):Math.max(...i.map(c=>c.status))}}return Wn.UNCOLLECTED}async _handlePriorityLemma(e,r){if(Rl(r.dt.dictionaryTokenMatchStrategy)){const n=await r.yt.lemmatize(e);if(this.shouldCancelBuild)return null;const i=[];for(const a of n){const l=r.collectedLemmaForm.get(a);l&&l.source!==pn.ANKI_SENTENCE&&i.push(l)}if(i.length)return Math.max(...i.map(a=>a.status))}if(Al(r.dt.dictionaryTokenMatchStrategy)){const n=r.collectedExactForm.get(e);if(n&&n.source!==pn.ANKI_SENTENCE)return n.status}if(Ol(r.dt.dictionaryTokenMatchStrategy)){const n=await r.yt.lemmatize(e);if(this.shouldCancelBuild)return null;const i=[];for(const a of n){const l=r.collectedAnyForm.get(a);if(l)for(const c of l)c.source!==pn.ANKI_SENTENCE&&i.push(c)}if(i.length){const a=i.filter(c=>n.includes(c.token));if(a.length)return Math.max(...a.map(c=>c.status));const l=i.filter(c=>c.token===e);return l.length?Math.max(...l.map(c=>c.status)):Math.max(...i.map(c=>c.status))}}if(Rl(r.dt.dictionaryAnkiSentenceTokenMatchStrategy)){const n=await r.yt.lemmatize(e);if(this.shouldCancelBuild)return null;const i=[];for(const a of n){const l=r.collectedLemmaForm.get(a);l?.source===pn.ANKI_SENTENCE&&i.push(l)}if(i.length)return Math.max(...i.map(a=>a.status))}if(Al(r.dt.dictionaryAnkiSentenceTokenMatchStrategy)){const n=r.collectedExactForm.get(e);if(n?.source===pn.ANKI_SENTENCE)return n.status}if(Ol(r.dt.dictionaryAnkiSentenceTokenMatchStrategy)){const n=await r.yt.lemmatize(e);if(this.shouldCancelBuild)return null;const i=[];for(const a of n){const l=r.collectedAnyForm.get(a);if(l)for(const c of l)c.source===pn.ANKI_SENTENCE&&i.push(c)}if(i.length){const a=i.filter(c=>n.includes(c.token));if(a.length)return Math.max(...a.map(c=>c.status));const l=i.filter(c=>c.token===e);return l.length?Math.max(...l.map(c=>c.status)):Math.max(...i.map(c=>c.status))}}return Wn.UNCOLLECTED}async _handlePriorityKnown(e,r,n){const i=[];if(Al(r.dt.dictionaryTokenMatchStrategy)){const a=r.collectedExactForm.get(e);a&&a.source!==pn.ANKI_SENTENCE&&i.push(a.status)}if(Rl(r.dt.dictionaryTokenMatchStrategy)){const a=await r.yt.lemmatize(e);if(this.shouldCancelBuild)return null;for(const l of a){const c=r.collectedLemmaForm.get(l);c&&c.source!==pn.ANKI_SENTENCE&&i.push(c.status)}}if(Ol(r.dt.dictionaryTokenMatchStrategy)){const a=await r.yt.lemmatize(e);if(this.shouldCancelBuild)return null;for(const l of a){const c=r.collectedAnyForm.get(l);if(c)for(const d of c)d.source!==pn.ANKI_SENTENCE&&i.push(d.status)}}if(i.length)return n(i);if(Al(r.dt.dictionaryAnkiSentenceTokenMatchStrategy)){const a=r.collectedExactForm.get(e);a?.source===pn.ANKI_SENTENCE&&i.push(a.status)}if(Rl(r.dt.dictionaryAnkiSentenceTokenMatchStrategy)){const a=await r.yt.lemmatize(e);if(this.shouldCancelBuild)return null;for(const l of a){const c=r.collectedLemmaForm.get(l);c?.source===pn.ANKI_SENTENCE&&i.push(c.status)}}if(Ol(r.dt.dictionaryAnkiSentenceTokenMatchStrategy)){const a=await r.yt.lemmatize(e);if(this.shouldCancelBuild)return null;for(const l of a){const c=r.collectedAnyForm.get(l);if(c)for(const d of c)d.source===pn.ANKI_SENTENCE&&i.push(d.status)}}return i.length?n(i):Wn.UNCOLLECTED}unbind(){this.reset(),this.removeBuildAnkiCacheStateChangeCB&&(this.removeBuildAnkiCacheStateChangeCB(),this.removeBuildAnkiCacheStateChangeCB=void 0),this.removeAnkiCardModifiedCB&&(this.removeAnkiCardModifiedCB(),this.removeAnkiCardModifiedCB=void 0),this.subtitlesInterval&&(clearInterval(this.subtitlesInterval),this.subtitlesInterval=void 0)}}class HM{_hoveredElement;constructor(){this._hoveredElement=null}handleMouseOver(e){e.target instanceof HTMLElement&&(this._hoveredElement=e.target)}handleMouseOut(e){(!(e.target instanceof HTMLElement)||this._hoveredElement===e.target)&&(this._hoveredElement=null)}parse(){const e=this._hoveredElement?.tagName==="RUBY"?this._hoveredElement.parentElement:this._hoveredElement?.tagName==="RT"?this._hoveredElement.parentElement?.parentElement:this._hoveredElement;if(!e?.classList.contains(UM))return null;const r=e.closest("[data-track]")?.getAttribute("data-track");if(!r)return null;let n="";for(const i of e.childNodes)n+=this._extractTokenFromNode(i);return n=n.trim(),n.length?{token:n,track:parseInt(r)}:null}_extractTokenFromNode(e){if(e.nodeType===Node.TEXT_NODE)return e.textContent??"";if(e.nodeType!==Node.ELEMENT_NODE)return"";let r="";const n=e;if(n.tagName==="RUBY"){for(const i of n.childNodes)i.nodeType===Node.ELEMENT_NODE&&i.tagName==="RT"||(r+=this._extractTokenFromNode(i));return r}for(const i of n.childNodes)r+=this._extractTokenFromNode(i);return r}}const BO=(t,e)=>{for(const r of t)r.tokenization&&!r.richText&&(r.richText=gq(r.text,r.tokenization,e?.[r.track]))},gq=(t,e,r)=>{if(e.error)return`<span ${VM}>${t}</span>`;if(!e.tokens?.length)return;const n=[];return jx(t,(i,a)=>e.tokens[a],(i,a,l)=>{l===void 0?n.push(t.substring(i,a)):n.push(mq(t,l,r))}),n.join("")},VM='style="text-decoration: line-through red 3px;"',$O='style="text-decoration: line-through red 3px double;"',mq=(t,e,r)=>{const n=yq(t,e,r);if(e.status===null)return`<span ${VM}>${n}</span>`;if(e.status===void 0)return`<span ${$O}>${n}</span>`;if(!r?.dictionaryColorizeSubtitles)return n;const i=Ia.test(n)?`<span class="${UM}${r.dictionaryHighlightOnHover?` ${hq}`:""}"`:"<span";if(!r.dictionaryColorizeFullyKnownTokens&&e.status===Zu())return`${i}>${n}</span>`;const a=r.dictionaryTokenStatusColors[e.status],l=r.dictionaryTokenStylingThickness;switch(r.dictionaryTokenStyling){case mi.TEXT:return`${i} style="-webkit-text-fill-color: ${a};">${n}</span>`;case mi.BACKGROUND:return`${i} style="background-color: ${a};">${n}</span>`;case mi.UNDERLINE:case mi.OVERLINE:return`${i} style="text-decoration: ${r.dictionaryTokenStyling} ${a} ${l}px;">${n}</span>`;case mi.OUTLINE:return`${i} style="-webkit-text-stroke: ${l}px ${a};">${n}</span>`;default:return`${i} ${$O}>${n}</span>`}},yq=(t,e,r)=>{const n=t.substring(e.pos[0],e.pos[1]);if(!e.readings.length||!Ia.test(n)||eI.test(n))return n;if(r&&e.__internal){const l=e.states.includes(zl.IGNORED)?r.dictionaryDisplayIgnoredTokenReadings?vo.ALWAYS:vo.NEVER:r.dictionaryTokenReadingAnnotation;if(l===vo.NEVER||e.status!==void 0&&e.status!==null&&(l===vo.LEARNING_OR_BELOW&&e.status>Wn.LEARNING||l===vo.UNKNOWN_OR_BELOW&&e.status>Wn.UNKNOWN))return n}const i=[];return jx(n,(a,l)=>e.readings[l],(a,l,c)=>{if(c===void 0)i.push(n.substring(a,l));else{const d=n.substring(c.pos[0],c.pos[1]);i.push(`<ruby>${d}<rt>${c.reading}</rt></ruby>`)}}),i.join("")};class bq{channel;onMessage;constructor(e){this.channel=new BroadcastChannel(e);const r=this;this.channel.onmessage=n=>{r.onMessage?.(n)}}postMessage(e){this.channel?.postMessage(e)}close(){this.channel?.close(),this.channel=void 0}}class vq{tabId;src;extension;listener;unsubscribeFromExtension;onMessage;constructor(e,r,n){this.tabId=e,this.src=r,this.listener=i=>{i.tabId===e&&i.src===r&&this.onMessage?.({data:i.data})},this.unsubscribeFromExtension=n.subscribe(this.listener),this.extension=n}postMessage(e){this.extension.sendMessageToVideoElement(e,this.tabId,this.src)}close(){this.unsubscribeFromExtension()}}class qM{_accumulated;_started;_startTime;_rate=1;_callbacks={stop:[],start:[],settime:[]};constructor(){this._accumulated=0,this._started=!1}get running(){return this._started}get rate(){return this._rate}set rate(e){this._started&&(this._accumulated+=this._elapsed(),this._startTime=Date.now()),this._rate=e}time(e){return this._started?Math.min(e,this._accumulated+this._elapsed()):Math.min(e,this._accumulated)}stop(){if(!this._started){this._fireEvent("stop");return}this._started=!1,this._accumulated+=this._elapsed(),this._fireEvent("stop")}_elapsed(){return(Date.now()-this._startTime)*this._rate}start(){this._startTime=Date.now(),this._started=!0,this._fireEvent("start")}setTime(e){this._started?(this._startTime=Date.now(),this._accumulated=e):this._accumulated=e,this._fireEvent("settime")}progress(e){return e===0?0:Math.min(1,this.time(e)/e)}onEvent(e,r){return this._callbacks[e].push(r),()=>this._remove(r,this._callbacks[e])}_fireEvent(e){for(const r of this._callbacks[e])r()}_remove(e,r){for(let n=r.length-1;n>=0;--n)if(e===r[n]){r.splice(n,1);break}}}const Sq=lr(m.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),xq=lr(m.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),wq=lr(m.jsx("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"}),"Folder"),kq=lr(m.jsx("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew"),Cq=lr(m.jsx("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen"),Tq=lr(m.jsx("path",{d:"M19 12h-2v3h-3v2h5zM7 9h3V7H5v5h2zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16.01H3V4.99h18z"}),"AspectRatio"),Eq=lr(m.jsx("path",{d:"M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"}),"FullscreenExit"),Aq=lr(m.jsx("path",{d:"M15 6H3v2h12zm0 4H3v2h12zM3 16h8v-2H3zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6z"}),"QueueMusic"),W1=lr(m.jsx("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"}),"Tune"),WM=lr(m.jsx("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2M4 12h4v2H4zm10 6H4v-2h10zm6 0h-4v-2h4zm0-4H10v-2h10z"}),"Subtitles"),Rq=lr(m.jsx("path",{d:"M8 11h3v10h2V11h3l-4-4zM4 3v2h16V3z"}),"VerticalAlignTop"),Oq=lr(m.jsx("path",{d:"M16 13h-3V3h-2v10H8l4 4zM4 19v2h16v-2z"}),"VerticalAlignBottom"),Pq=lr(m.jsx("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11z"}),"Videocam"),_q=lr(m.jsx("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63m2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71M4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9zM12 4 9.91 6.09 12 8.18z"}),"VolumeOff"),Mq=lr(m.jsx("path",{d:"M3 9v6h4l5 5V4L7 9zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77"}),"VolumeUp"),K1=E_({themeId:Da}),jq=yn(()=>({input:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",fontSize:20,width:100,color:"#fff",pointerEvents:"auto"}})),KM=Ln.forwardRef(function({inputRef:e,numberValue:r,defaultNumberValue:n,onNumberValue:i,valueToPrettyString:a,stringToValue:l,rejectValue:c,disableKeyEvents:d,className:f,...h},g){const p=jq(),[S,b]=x.useState(5),v=x.useCallback(R=>{const O=R.target;O.setSelectionRange(0,O.value?.length||0)},[]),k=x.useCallback((R,O)=>{if(e.current){if(R===n)e.current.value="",b(5);else{O&&i(R);const M=a(R);e.current.value=M,b(M.length)}e.current.blur()}},[e,a,i,n]),T=x.useCallback(R=>{if(!e.current)return;const O=l(e.current.value);if(O===r){k(r,!0);return}if(Number.isNaN(O)||c?.(O)){R&&k(r,!0);return}i(O)},[k,l,i,c,r,e]),A=x.useCallback(()=>{T(!0)},[T]);x.useEffect(()=>{k(r,!1)},[r,k]),x.useEffect(()=>{if(d)return;function R(O){O.key==="Enter"&&e.current!==null&&e.current===document.activeElement&&T(!1)}return window.addEventListener("keydown",R),()=>{window.removeEventListener("keydown",R)}},[T,d,e]);const w=f?`${f} ${p.input}`:p.input;return m.jsx(Em,{style:{width:`${S}ch`},ref:g,inputRef:e,disableUnderline:!0,className:w,onClick:v,onBlur:A,onChange:R=>b(Math.max(5,R.target.value.length)),...h})}),Nq=t=>{const e=t/1e3;return e>=0?"+"+e.toFixed(2):String(e.toFixed(2))},Iq=t=>Number(t)*1e3,Lq=""+0 .toFixed(2),GM=Ln.forwardRef(function({inputRef:e,offset:r,onOffset:n,...i},a){return m.jsx(KM,{ref:a,inputRef:e,defaultNumberValue:0,valueToPrettyString:Nq,stringToValue:Iq,numberValue:r,onNumberValue:n,placeholder:Lq,...i})}),Fq=t=>""+String(t.toFixed(2)),Bq=t=>Number(t),$q=t=>t<.1||t>5,Dq=""+1 .toFixed(2),YM=Ln.forwardRef(function({inputRef:e,playbackRate:r,onPlaybackRate:n,...i},a){return m.jsx(KM,{ref:a,inputRef:e,defaultNumberValue:1,valueToPrettyString:Fq,stringToValue:Bq,numberValue:r,onNumberValue:n,rejectValue:$q,placeholder:Dq,...i})}),vf=({children:t,...e})=>m.jsx(ui,{disablePadding:!0,dense:!0,...e,children:t}),Sf=({children:t,...e})=>m.jsx(Pi,{dense:!0,...e,children:t});function XM({listStyle:t,selectedPlayMode:e,onPlayMode:r,open:n,anchorEl:i,onClose:a,...l}){const{t:c}=Wr();return m.jsx(Ys,{disableEnforceFocus:!0,open:n,anchorEl:i,onClose:a,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},...l,children:m.jsxs(Ua,{disablePadding:!0,dense:!0,style:t,children:[m.jsx(vf,{onClick:()=>r(Yr.normal),children:m.jsx(Sf,{selected:e===Yr.normal,children:m.jsx(Qn,{children:c("controls.normalMode")})})}),m.jsx(vf,{onClick:()=>r(Yr.condensed),children:m.jsx(Sf,{dense:!0,selected:e===Yr.condensed,children:m.jsx(Qn,{children:c("controls.condensedMode")})})}),m.jsx(vf,{onClick:()=>r(Yr.fastForward),children:m.jsx(Sf,{selected:e===Yr.fastForward,children:m.jsx(Qn,{children:c("controls.fastForwardMode")})})}),m.jsx(vf,{onClick:()=>r(Yr.autoPause),children:m.jsx(Sf,{selected:e===Yr.autoPause,children:m.jsx(Qn,{children:c("controls.autoPauseMode")})})}),m.jsx(vf,{onClick:()=>r(Yr.repeat),children:m.jsx(Sf,{selected:e===Yr.repeat,children:m.jsx(Qn,{children:c("controls.repeatMode")})})})]})})}function bS(t){const e=Math.floor(t/1e3),r=Math.floor(e/60),n=e%60;return String(r)+":"+String(n).padStart(2,"0")}const zq=yn(()=>({timeDisplay:{color:"#fff",display:"flex",flexDirection:"column",justifyContent:"center",height:"100%",cursor:"default",fontSize:20,whiteSpace:"nowrap"}})),ZM=({currentMilliseconds:t,totalMilliseconds:e,className:r,...n})=>{const i=zq(),a=r?`${r} ${i.timeDisplay}`:i.timeDisplay,l=e===void 0?bS(t):`${bS(t)} / ${bS(e)}`;return m.jsx("div",{className:a,...n,children:`

${l}

`})},Uq=yn(t=>({container:{position:"absolute",left:"50%",width:"50%",bottom:0,pointerEvents:"none",color:"#fff"},buttonContainer:{flexDirection:"row"},numberInput:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",fontSize:20,marginLeft:10,width:100,color:"#fff",pointerEvents:"auto"},volumeInputContainerShown:{transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.short}),marginRight:5,pointerEvents:"auto"},volumeInputContainerHidden:{transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.short}),marginRight:0,pointerEvents:"auto"},volumeInputHidden:{transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.short}),width:0,opacity:0,pointerEvents:"auto"},volumeInputShown:{transition:t.transitions.create("width",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.short}),width:100,opacity:1,pointerEvents:"auto"},volumeInputThumbHidden:{transition:t.transitions.create("visibility",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.short}),opacity:0,pointerEvents:"auto"},volumeInputThumbShown:{transition:t.transitions.create("visibility",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.short}),opacity:1,pointerEvents:"auto"},volumeInputRailHidden:{transition:t.transitions.create("visibility",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.short}),opacity:0,pointerEvents:"auto"},volumeInputRailShown:{transition:t.transitions.create("visibility",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.short}),opacity:1,pointerEvents:"auto"},subContainer:{background:"linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, .4) 40%, rgba(0, 0, 0, 0.7))",position:"relative",left:"-100%",width:"200%",zIndex:10},button:{pointerEvents:"auto"},inactiveButton:{color:"rgba(120, 120, 120, 0.7)",pointerEvents:"auto"},inactiveTopButton:{color:"rgba(255, 255, 255, 0.5)",pointerEvents:"auto"},progress:{margin:5},topButton:{pointerEvents:"auto",color:"#fff"},gridContainer:{pointerEvents:"auto",padding:2}})),Hq=yn(t=>({root:{height:10},container:{height:10,pointerEvents:"auto",display:"flex",justifyContent:"center",flexDirection:"column",position:"absolute",width:"calc(100% - 20px)",marginLeft:10},mouseEventListener:{zIndex:1,height:10,cursor:"pointer",pointerEvents:"auto",position:"absolute",width:"100%"},fillContainer:{background:"rgba(30,30,30,0.7)",width:"100%",height:5,position:"relative"},fillContainerThick:{transition:t.transitions.create("height",{easing:t.transitions.easing.easeInOut,duration:50}),height:8},fill:{background:"linear-gradient(to left, #ff1f62, #49007a)",height:"100%"},handleContainer:{position:"absolute",display:"flex",justifyContent:"center",flexDirection:"column",height:"100%",bottom:0},handle:{borderRadius:"50%",width:16,height:16,opacity:0,left:-8,background:"white",position:"absolute"},handleOn:{opacity:1,transition:t.transitions.create("opacity",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shortest})}})),Vq=e1(t=>({root:{color:"white",verticalAlign:"middle"},thumb:{backgroundColor:"white",color:"white","&:focus":{boxShadow:"inherit"},"&:hover, &$active":{boxShadow:"0px 0px 0px 8px rgba(255, 255, 255, 0.1)"}},active:{color:"white"}}))(Pm);function qq(t){const e=t.getBoundingClientRect();return e.right-e.left}function Wq({onSeek:t,value:e}){const r=Hq(),[n,i]=x.useState(!1),a=x.useRef(null),l=x.useCallback(b=>{const v=b.currentTarget.getBoundingClientRect(),k=v.right-v.left-20,T=Math.min(1,Math.max(0,(b.pageX-v.left-10)/k));t(T)},[t]),c=x.useCallback(()=>i(!0),[]),d=x.useCallback(()=>i(!1),[]),f=Number.isFinite(e)&&a.current?qq(a.current)*e/100:0,h={width:f},g={marginLeft:f},p=n?r.fillContainer+" "+r.fillContainerThick:r.fillContainer,S=n?r.handle+" "+r.handleOn:r.handle;return m.jsxs("div",{className:r.root,children:[m.jsx("div",{ref:a,className:r.container,children:m.jsxs("div",{className:p,children:[m.jsx("div",{className:r.fill,style:h}),m.jsx("div",{className:r.handleContainer,children:m.jsx("div",{className:S,style:g})})]})}),m.jsx("div",{className:r.mouseEventListener,onClick:l,onMouseOver:c,onMouseOut:d})]})}function Kq({open:t,anchorEl:e,audioTracks:r,selectedAudioTrack:n,onAudioTrackSelected:i,onClose:a}){if(!r||r.length===0)return null;const l=r.map(c=>m.jsx(ui,{disablePadding:!0,onClick:()=>i(c.id),children:m.jsx(Pi,{selected:c.id===n,children:m.jsxs(Qn,{children:[c.language," ",c.label]})})},c.id));return m.jsx("div",{children:m.jsx(Ys,{disableEnforceFocus:!0,open:t,anchorEl:e,onClose:a,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:m.jsx(Ua,{children:l})})})}function Gq({open:t,anchorEl:e,onClose:r,tabs:n,selectedTab:i,onTabSelected:a}){if(!n||n.length===0)return null;const l=n.map(c=>m.jsx(ui,{disablePadding:!0,onClick:()=>a(c),children:m.jsxs(Pi,{selected:i&&c.id===i.id&&c.src===i.src,children:[m.jsx(xx,{videoElement:c})," ",c.title]})},`${c.id}:${c.src}`));return m.jsx("div",{children:m.jsx(Ys,{disableEnforceFocus:!0,open:t,anchorEl:e,onClose:r,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:m.jsx(Ua,{children:l})})})}const Yq=({children:t})=>{const e=fo(),r=K1(e.breakpoints.down(600)),[n,i]=Ln.useState(),a=()=>{i(void 0)},l=f=>{i(f.currentTarget)},c=n!==void 0&&document.body.contains(n),d=t.filter(f=>f!==void 0&&f!==!1);return r&&d.length>1?m.jsxs(m.Fragment,{children:[m.jsx(hn,{item:!0,children:m.jsx(pr,{color:"inherit",onClick:l,children:m.jsx(D1,{})})}),m.jsx(uM,{anchorEl:c?n:void 0,open:c,onClose:a,children:d.map((f,h)=>m.jsx(ia,{children:f},h))})]}):m.jsx(m.Fragment,{children:t.map((f,h)=>m.jsx(hn,{item:!0,children:f},h))})};function QM({clock:t,length:e,offsetEnabled:r,displayLength:n,offset:i,playbackRate:a,playbackRateEnabled:l,onAudioTrackSelected:c,onSeek:d,mousePositionRef:f,onShow:h,onPause:g,onPlay:p,onTabSelected:S,onUnloadVideo:b,onOffsetChange:v,onPlaybackRateChange:k,onVolumeChange:T,disableKeyEvents:A,playbackPreferences:w,closeEnabled:R,onClose:O,volumeEnabled:M,playMode:j,playModeEnabled:$,onPlayMode:V,subtitlesEnabled:N,subtitlesToggle:W,onSubtitlesToggle:z,audioTracks:I,selectedAudioTrack:B,tabs:G,selectedTab:U,popOutEnabled:X,popOut:q,onPopOutToggle:Z,fullscreenEnabled:F,fullscreen:D,onFullscreenToggle:J,hideSubtitlePlayerToggleEnabled:ee,subtitlePlayerHidden:te,onHideSubtitlePlayerToggle:ie,showOnMouseMovement:oe,theaterModeToggleEnabled:ke,theaterModeEnabled:ve,onTheaterModeToggle:Q,subtitleAlignment:de,subtitleAlignmentEnabled:we,onSubtitleAlignment:ue,hideToolbar:rt,onLoadFiles:ye}){const Le=Uq(),{t:ut}=Wr(),[Be,bt]=x.useState(!0),[Ot,Mt]=x.useState(!1),[et,ht]=x.useState(),[Bt,_t]=x.useState(!1),[it,je]=x.useState(),[qe,Oe]=x.useState(!1),[ot,Se]=x.useState(),[vt,Pt]=x.useState(!1),[se,le]=x.useState(100),[st,$e]=x.useState(100),Xt=fo(),Et=K1(Xt.breakpoints.down(380)),yr=x.useRef(void 0),fe=x.useRef(Date.now()),xe=x.useRef(Date.now()),dt=x.useRef(!0),qt=x.useRef(!1),ir=x.useRef(void 0),zt=x.useRef(void 0),Jt=x.useRef(null),[,jt]=x.useState(),hr=x.useCallback(()=>jt({}),[]),At=x.useCallback(xr=>{d(xr)},[d]);function Tt(){qt.current=!0}function St(){qt.current=!1}x.useEffect(()=>{const xr=Number(w.volume);le(xr),T?.(xr/100),xr>0&&$e(xr)},[w,T]);const[kt,Ut]=x.useState(t.running);x.useEffect(()=>{t.onEvent("start",()=>Ut(!0)),Ut(t.running)},[t]),x.useEffect(()=>{t.onEvent("stop",()=>Ut(!1)),Ut(t.running)},[t]),x.useEffect(()=>{const xr=setInterval(()=>{let mr;oe?mr=Date.now()-fe.current<2e3||f.current!==void 0&&yr.current!==void 0&&Math.pow(f.current.x-yr.current.x,2)+Math.pow(f.current.y-yr.current.y,2)>100:mr=f.current!==void 0&&(Jt.current!==null&&f.current.y>Jt.current.offsetTop-20||f.current.y<70),mr=mr||qt.current||ir.current===document.activeElement||zt.current===document.activeElement||!kt&&Qi.isMobile||Date.now()-xe.current<2e3,mr&&!dt.current?(fe.current=Date.now(),bt(mr)):!mr&&dt.current&&bt(mr),dt.current=mr,yr.current={x:f.current?.x??0,y:f.current?.y??0}},100);return()=>clearInterval(xr)},[f,oe,kt]),x.useEffect(()=>h?.(Be),[h,Be]);const Ft=x.useCallback(xr=>{xe.current=Date.now(),v(xr)},[v]),Nr=x.useCallback(xr=>{xe.current=Date.now(),k(xr)},[k]);x.useEffect(()=>{t.onEvent("settime",()=>hr())},[t,hr]),x.useEffect(()=>{if(!Be||!kt)return;const xr=setInterval(()=>hr(),100);return()=>clearInterval(xr)},[Be,kt,hr]);const Vr=x.useCallback(()=>{ht(void 0),Mt(!1)},[]),$r=x.useCallback(xr=>{ht(xr.currentTarget),Mt(!0)},[]),wr=x.useCallback(xr=>{c(xr),ht(void 0),Mt(!1)},[c]),Pr=x.useCallback(()=>{je(void 0),_t(!1)},[]),Hr=x.useCallback(xr=>{je(xr.currentTarget),_t(!0)},[]),Kr=x.useCallback(xr=>{S?.(xr),je(void 0),_t(!1)},[S]),Ue=x.useCallback(()=>{Se(void 0),Oe(!1)},[]),We=x.useCallback(xr=>{Se(xr.currentTarget),Oe(!0)},[]),Ct=x.useCallback(xr=>{V?.(xr),Se(void 0),Oe(!1)},[V]),cr=x.useCallback(()=>Pt(!1),[]),dr=x.useCallback(()=>Pt(!0),[]),Tr=x.useCallback((xr,mr)=>{typeof mr=="number"&&(le(mr),T?.(mr/100))},[T]),Lr=x.useCallback((xr,mr)=>{typeof mr=="number"&&(mr>0&&$e(mr),w.volume=mr)},[w]),br=x.useCallback(()=>{le(xr=>{const mr=xr>0?0:st;return T?.(mr/100),mr})},[T,st]),bn=x.useCallback(()=>{if(!we||de===void 0||ue===void 0)return;ue(de==="top"?"bottom":"top")},[de,we,ue]),Sn=t.progress(e);return m.jsxs(Ln.Fragment,{children:[m.jsx(jc,{in:Be,timeout:200,children:m.jsxs(hn,{container:!0,style:{position:"absolute",top:0},children:[m.jsx(hn,{item:!0,children:R&&m.jsx(cn,{title:ut("controls.unloadVideo"),children:m.jsx(pr,{color:"inherit",className:Le.topButton,onClick:O,onMouseOver:Tt,onMouseOut:St,children:m.jsx(Om,{})})})}),ye&&m.jsx(hn,{item:!0,children:m.jsx(pr,{color:"inherit",className:Le.topButton,onClick:ye,onMouseOver:Tt,onMouseOut:St,children:m.jsx(wq,{})})}),m.jsx(hn,{item:!0,style:{flexGrow:1}}),m.jsxs(hn,{item:!0,children:[ke&&m.jsx(cn,{title:ut("controls.toggleTheaterMode"),children:m.jsx(pr,{color:"inherit",className:ve?Le.topButton:Le.inactiveTopButton,onClick:Q,onMouseOver:Tt,onMouseOut:St,children:m.jsx(Tq,{})})}),F&&m.jsx(cn,{title:ut("controls.toggleFullscreen"),children:m.jsx(pr,{color:"inherit",onClick:J,children:D?m.jsx(Eq,{className:Le.topButton}):m.jsx(Cq,{className:Le.topButton})})}),ee&&m.jsx(cn,{title:ut(te?"controls.showSubtitlePlayer":"controls.hideSubtitlePlayer"),children:m.jsx(pr,{color:"inherit",className:Le.topButton,onClick:ie,onMouseOver:Tt,onMouseOut:St,children:te?m.jsx(Sq,{}):m.jsx(xq,{})})})]})]})}),m.jsxs("div",{ref:Jt,className:Le.container,onMouseOver:Tt,onMouseOut:St,children:[m.jsx(jc,{in:Be,timeout:200,children:m.jsxs("div",{className:Le.subContainer,children:[m.jsx(Wq,{onSeek:At,value:Sn*100}),!rt&&m.jsxs(hn,{container:!0,className:Le.gridContainer,direction:"row",wrap:"nowrap",children:[m.jsx(hn,{item:!0,children:m.jsx(pr,{color:"inherit",onClick:()=>kt?g():p(),children:kt?m.jsx(jM,{className:Le.button}):m.jsx(MM,{className:Le.button})})}),M&&m.jsx(hn,{item:!0,onMouseOver:dr,onMouseOut:cr,className:vt?Le.volumeInputContainerShown:Le.volumeInputContainerHidden,children:m.jsxs(hn,{container:!0,spacing:0,direction:"row",wrap:"nowrap",children:[m.jsx(hn,{item:!0,children:m.jsx(pr,{color:"inherit",onClick:br,children:se===0?m.jsx(_q,{}):m.jsx(Mq,{})})}),m.jsx(hn,{item:!0,style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:m.jsx(Vq,{onChange:Tr,onChangeCommitted:Lr,value:se,defaultValue:100,classes:{root:vt?Le.volumeInputShown:Le.volumeInputHidden,thumb:vt?Le.volumeInputThumbShown:Le.volumeInputThumbHidden}})})]})}),Number.isFinite(e)&&m.jsx(hn,{item:!0,style:{marginLeft:10},children:m.jsx(ZM,{currentMilliseconds:Sn*e,totalMilliseconds:n||e})}),r&&!vt&&!Et&&m.jsx(cn,{title:ut("controls.subtitleOffset"),children:m.jsx(hn,{item:!0,style:{marginLeft:10},children:m.jsx(GM,{inputRef:ir,offset:i,onOffset:Ft,disableKeyEvents:A})})}),l&&!vt&&!Et&&m.jsx(hn,{item:!0,style:{marginLeft:10},children:m.jsx(cn,{title:ut("controls.playbackRate"),children:m.jsx(YM,{inputRef:zt,playbackRate:a,onPlaybackRate:Nr})})}),m.jsx(hn,{item:!0,style:{flexGrow:1}}),m.jsxs(Yq,{children:[we&&de!==void 0&&m.jsx(cn,{title:ut("controls.subtitleAlignment"),children:m.jsx(pr,{color:"inherit",onClick:bn,children:de==="top"?m.jsx(Rq,{}):m.jsx(Oq,{})})}),W&&m.jsx(cn,{title:ut("controls.toggleSubtitles"),children:m.jsx(pr,{color:"inherit",onClick:z,children:m.jsx(WM,{className:N?Le.button:Le.inactiveButton})})}),I&&I.length>1&&m.jsx(cn,{title:ut("controls.selectAudioTrack"),children:m.jsx(pr,{color:"inherit",onClick:$r,children:m.jsx(Aq,{className:Le.button})})}),G&&G.length>0&&m.jsx(cn,{title:ut("controls.selectVideoElement"),children:m.jsx(pr,{color:"inherit",onClick:Hr,children:m.jsx(Pq,{className:U?Le.button:Le.inactiveButton})})}),$&&m.jsx(cn,{title:ut("controls.playbackMode"),children:m.jsx(pr,{color:"inherit",onClick:We,children:m.jsx(W1,{className:$?Le.button:Le.inactiveButton})})}),X&&m.jsx(cn,{title:ut(q?"controls.popIn":"controls.popOut"),children:m.jsx(pr,{color:"inherit",onClick:Z,children:m.jsx(kq,{className:Le.button,style:q?{transform:"rotateX(180deg)"}:{}})})})]})]})]})}),m.jsx(Gq,{open:Bt&&Be,anchorEl:it,tabs:G,selectedTab:U,onClose:Pr,onTabSelected:Kr}),m.jsx(Kq,{open:Ot&&Be,anchorEl:et,audioTracks:I,selectedAudioTrack:B,onClose:Vr,onAudioTrackSelected:wr}),m.jsx(XM,{open:qe&&Be,anchorEl:ot,selectedPlayMode:j,onClose:Ue,onPlayMode:Ct})]})]})}class DO{ref;readyResolves;constructor(e){this.ref=e,this.readyResolves=[]}async seek(e){return new Promise((r,n)=>{this.ref.current?(this.ref.current.currentTime=e,this._onMediaCanPlay(()=>r(void 0))):r(void 0)})}async onReady(){return new Promise((e,r)=>{this.ref.current?this._onMediaCanPlay(()=>e(void 0)):e(void 0)})}_onMediaCanPlay(e){if(this.ref.current?.readyState===4){e();return}this.ref.current&&!this.ref.current.oncanplay&&(this.ref.current.oncanplay=r=>{for(const n of this.readyResolves)n();this.readyResolves.length=0,this.ref.current&&(this.ref.current.oncanplay=null)}),this.readyResolves.push(e)}play(){this.ref.current?.play()}pause(){this.ref.current?.pause()}playbackRate(e){this.ref.current&&(this.ref.current.playbackRate=e)}}const Xq=({initialWidth:t,minWidth:e,maxWidth:r,onResizeStart:n,onResizeEnd:i})=>{const[a,l]=x.useState(!1),[c,d]=x.useState(t),[f,h]=x.useState(0),g=x.useCallback(()=>{l(!0),n?.()},[l,n]),p=x.useCallback(()=>{l(!1),i?.()},[l,i]),S=x.useCallback(T=>{h(T.clientX)},[]),b=x.useCallback(T=>{T.touches.length!==0&&h(T.touches[0].clientX)},[]),v=x.useCallback(T=>{if(a){const A=f-T.clientX,w=c+A;h(T.clientX),w>=e&&w<=r&&d(w)}},[e,r,f,c,a]),k=x.useCallback(T=>{if(T.touches.length!==0&&a){const A=f-T.touches[0].clientX,w=c+A;h(T.touches[0].clientX),w>=e&&w<=r&&d(w)}},[e,r,f,c,a]);return x.useEffect(()=>{c<e?d(e):r!==0&&c>Math.max(e,r)&&d(r)},[r,e,c]),x.useEffect(()=>(document.addEventListener("mouseleave",p),document.addEventListener("mousemove",v),document.addEventListener("mouseup",p),document.addEventListener("mousedown",S),document.addEventListener("touchcancel",p),document.addEventListener("touchmove",k),document.addEventListener("touchend",p),document.addEventListener("touchstart",b),()=>{document.removeEventListener("mouseleave",p),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",p),document.removeEventListener("mousedown",S),document.removeEventListener("touchcancel",p),document.removeEventListener("touchmove",k),document.removeEventListener("touchend",p),document.removeEventListener("touchstart",b)}),[p,v,k,S,b]),{width:c,setWidth:d,enableResize:g,isResizing:a}},Zq=({holdToDragMs:t})=>{const[e,r]=x.useState(!1),[n,i]=x.useState(!1),[a,l]=x.useState(),[c,d]=x.useState(),f=h=>{l(g=>g||{clientX:h.clientX,clientY:h.clientY}),d({clientX:h.clientX,clientY:h.clientY})};return x.useEffect(()=>{if(!n)return;const h=setTimeout(()=>{const g=document.getSelection();(g===null||g.type!=="Range")&&(r(!0),i(!1))},t);return()=>clearTimeout(h)},[t,n]),x.useEffect(()=>{const h=p=>{p.button===0&&p.clientX<=window.innerWidth-50&&(i(!0),f(p))},g=()=>{r(!1),i(!1),l(void 0),d(void 0)};return window.addEventListener("mousedown",h),window.addEventListener("mouseup",g),window.addEventListener("mouseleave",g),()=>{window.removeEventListener("mousedown",h),window.removeEventListener("mouseup",g),window.removeEventListener("mouseleave",g)}},[]),x.useEffect(()=>{if(e)return window.addEventListener("mousemove",f),()=>window.removeEventListener("mousemove",f)},[e]),{dragging:e,draggingStartLocation:a,draggingCurrentLocation:c}},JM=x.createContext();function Qq(t){return tr("MuiTable",t)}nr("MuiTable",["root","stickyHeader"]);const Jq=t=>{const{classes:e,stickyHeader:r}=t;return er({root:["root",r&&"stickyHeader"]},Qq,e)},eW=tt("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.stickyHeader&&e.stickyHeader]}})(Qt(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),zO="table",G1=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiTable"}),{className:i,component:a=zO,padding:l="normal",size:c="medium",stickyHeader:d=!1,...f}=n,h={...n,component:a,padding:l,size:c,stickyHeader:d},g=Jq(h),p=x.useMemo(()=>({padding:l,size:c,stickyHeader:d}),[l,c,d]);return m.jsx(JM.Provider,{value:p,children:m.jsx(eW,{as:a,role:a===zO?null:"table",ref:r,className:wt(g.root,i),ownerState:h,...f})})}),Dm=x.createContext();function tW(t){return tr("MuiTableBody",t)}nr("MuiTableBody",["root"]);const rW=t=>{const{classes:e}=t;return er({root:["root"]},tW,e)},nW=tt("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),iW={variant:"body"},UO="tbody",Y1=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiTableBody"}),{className:i,component:a=UO,...l}=n,c={...n,component:a},d=rW(c);return m.jsx(Dm.Provider,{value:iW,children:m.jsx(nW,{className:wt(d.root,i),as:a,ref:r,role:a===UO?null:"rowgroup",ownerState:c,...l})})});function oW(t){return tr("MuiTableCell",t)}const aW=nr("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),sW=t=>{const{classes:e,variant:r,align:n,padding:i,size:a,stickyHeader:l}=t,c={root:["root",r,l&&"stickyHeader",n!=="inherit"&&`align${Ye(n)}`,i!=="normal"&&`padding${Ye(i)}`,`size${Ye(a)}`]};return er(c,oW,e)},lW=tt("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`size${Ye(r.size)}`],r.padding!=="normal"&&e[`padding${Ye(r.padding)}`],r.align!=="inherit"&&e[`align${Ye(r.align)}`],r.stickyHeader&&e.stickyHeader]}})(Qt(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?Ks(jr(t.palette.divider,1),.88):Ws(jr(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${aW.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),Us=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiTableCell"}),{align:i="inherit",className:a,component:l,padding:c,scope:d,size:f,sortDirection:h,variant:g,...p}=n,S=x.useContext(JM),b=x.useContext(Dm),v=b&&b.variant==="head";let k;l?k=l:k=v?"th":"td";let T=d;k==="td"?T=void 0:!T&&v&&(T="col");const A=g||b&&b.variant,w={...n,align:i,component:k,padding:c||(S&&S.padding?S.padding:"normal"),size:f||(S&&S.size?S.size:"medium"),sortDirection:h,stickyHeader:A==="head"&&S&&S.stickyHeader,variant:A},R=sW(w);let O=null;return h&&(O=h==="asc"?"ascending":"descending"),m.jsx(lW,{as:k,ref:r,className:wt(R.root,a),"aria-sort":O,scope:T,ownerState:w,...p})});function cW(t){return tr("MuiTableContainer",t)}nr("MuiTableContainer",["root"]);const uW=t=>{const{classes:e}=t;return er({root:["root"]},cW,e)},dW=tt("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),X1=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiTableContainer"}),{className:i,component:a="div",...l}=n,c={...n,component:a},d=uW(c);return m.jsx(dW,{ref:r,as:a,className:wt(d.root,i),ownerState:c,...l})});function fW(t){return tr("MuiTableRow",t)}const HO=nr("MuiTableRow",["root","selected","hover","head","footer"]),pW=t=>{const{classes:e,selected:r,hover:n,head:i,footer:a}=t;return er({root:["root",r&&"selected",n&&"hover",i&&"head",a&&"footer"]},fW,e)},hW=tt("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.head&&e.head,r.footer&&e.footer]}})(Qt(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${HO.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${HO.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:jr(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:jr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}))),VO="tr",Ug=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiTableRow"}),{className:i,component:a=VO,hover:l=!1,selected:c=!1,...d}=n,f=x.useContext(Dm),h={...n,component:a,hover:l,selected:c,head:f&&f.variant==="head",footer:f&&f.variant==="footer"},g=pW(h);return m.jsx(hW,{as:a,ref:r,className:wt(g.root,i),role:a===VO?null:"row",ownerState:h,...d})});let kx;const ej=200,qO=()=>kx??Math.max(350,.25*window.innerWidth),WO=(t,e,r,n)=>t===r||e===n?!0:t<r?e>=r:n>=t,gW=(t,e,r)=>{const n=r.current;if(!n)return!1;const i={x:Math.min(t.clientX,e.clientX),y:Math.min(t.clientY,e.clientY),width:Math.abs(t.clientX-e.clientX),height:Math.abs(t.clientY-e.clientY)},a=n.getBoundingClientRect();return WO(i.x,i.x+i.width,a.x,a.x+a.width)&&WO(i.y,i.y+i.height,a.y,a.y+a.height)},mW=yn(t=>({container:{height:({appBarHidden:e,appBarHeight:r})=>e?"100vh":`calc(100vh - ${r}px)`,position:"relative",overflowX:"hidden",backgroundColor:t.palette.background.default,width:({resizable:e})=>e?"auto":"100%","&:focus":{outline:"none"}},table:{backgroundColor:t.palette.background.default,marginBottom:75},unselectableTable:{userSelect:"none"},noSubtitles:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:15,textAlign:"center"}})),yW=yn(t=>({subtitleRow:{"&:hover":{backgroundColor:t.palette.action.hover},minWidth:250},selectedSubtitleRow:{minWidth:250,"& td":{borderColor:t.palette.background.paper},animation:`$select-subtitle-row 300ms ${t.transitions.easing.easeInOut} forwards`},"@keyframes select-subtitle-row":{"100%":{backgroundColor:t.palette.background.paper}},unselectedSubtitleRow:{minWidth:250,animation:`$unselect-subtitle-row 300ms ${t.transitions.easing.easeInOut} forwards`},"@keyframes unselect-subtitle-row":{"100%":{filter:"brightness(.7)",backgroundColor:t.palette.action.disabledBackground}},subtitle:{fontSize:20,paddingRight:0,width:"100%",overflowWrap:"anywhere",whiteSpace:"pre-wrap","& ruby":{rubyPosition:"over"},"& rt":{fontSize:"0.5em",lineHeight:1}},compressedSubtitle:{fontSize:16,paddingRight:0,width:"100%",overflowWrap:"anywhere",whiteSpace:"pre-wrap","& ruby":{rubyPosition:"over"},"& rt":{fontSize:"0.5em",lineHeight:1}},disabledSubtitle:{color:"transparent",backgroundColor:t.palette.action.disabledBackground,borderRadius:5},unselectableSubtitle:{userSelect:"none"},timestamp:{fontSize:14,color:"#aaaaaa",textAlign:"right",paddingRight:15,paddingLeft:5,userSelect:"none"},copyButton:{textAlign:"right",padding:0}})),bW=Ln.memo(function({index:e,selectionState:r,subtitleRef:n,onClickSubtitle:i,onCopySubtitle:a,onMouseOver:l,onMouseOut:c,compressed:d,disabled:f,subtitle:h,showCopyButton:g,subtitleHtml:p}){const S=yW(),b=x.useRef(null),[v,k]=x.useState(!1),T=d?S.compressedSubtitle:S.subtitle,A=f?S.disabledSubtitle:"",{t:w}=Wr();if(h.start<0||h.end<0)return null;function R(){const j=document.getSelection(),$=j?.type==="Range"&&b.current?.isSameNode(j.anchorNode?.parentNode??null);k($??!1)}const O=h.textImage?m.jsx(PM,{availableWidth:window.screen.availWidth/2,subtitle:h,scale:1}):m.jsx("span",{ref:b,className:A,dangerouslySetInnerHTML:{__html:h.richText??h.text},"data-track":h.track,onMouseOver:l,onMouseOut:c});let M;return r===void 0?M=S.subtitleRow:r===1?M=S.selectedSubtitleRow:M=S.unselectedSubtitleRow,m.jsxs(Ug,{onClick:()=>!v&&i(e),onMouseUp:R,ref:n,className:M,children:[r===void 0&&m.jsx(cn,{disabled:!g,enterDelay:1500,enterNextDelay:1500,title:w("subtitlePlayer.multiSubtitleSelectHelp"),placement:"top",children:m.jsx(Us,{className:T,children:O})}),r!==void 0&&m.jsx(Us,{className:T,children:O}),g&&m.jsx(Us,{className:S.copyButton,children:m.jsx(pr,{disabled:r!==void 0,onClick:j=>a(j,e),children:m.jsx(z1,{fontSize:d?"small":"medium"})})}),m.jsx(Us,{className:S.timestamp,children:m.jsxs("div",{children:[m.jsx("span",{style:{display:"none"},children:"."}),`
${h.displayTime}
`,m.jsx("span",{style:{display:"none"},children:"."})]})})]})}),vW=Ln.forwardRef(function({isResizing:e,style:r,...n},i){return m.jsx("div",{ref:i,style:{...r,position:"absolute",width:e?30:Qi.isMobile?20:5,left:e?-15:-2.5,height:"100%",cursor:"col-resize"},...n})});function SW({clock:t,extension:e,onSeek:r,onCopy:n,onOffsetChange:i,onToggleSubtitleTrack:a,onSubtitlesHighlighted:l,onMouseOver:c,onMouseOut:d,onResizeStart:f,onResizeEnd:h,autoPauseContext:g,subtitles:p,subtitleCollection:S,length:b,jumpToSubtitle:v,compressed:k,resizable:T,showCopyButton:A,loading:w,drawerOpen:R,appBarHidden:O,displayHelp:M,disableKeyEvents:j,disableMiningBinds:$,lastJumpToTopTimestamp:V,hidden:N,disabledSubtitleTracks:W,settings:z,keyBinder:I,maxResizeWidth:B,webSocketClient:G}){const{t:U}=Wr(),X=x.useRef(t);X.current=t;const q=x.useRef(void 0);q.current=p;const Z=x.useRef([]),F=Z.current;if(p){for(;F.length<p.length;)F.push(x.createRef());for(;F.length>p.length;)F.pop()}else Z.current.length=0;const D=x.useRef(S);D.current=S;const J=x.useRef({}),[ee,te]=x.useState(),[ie,oe]=x.useState(),ke=x.useRef(0);ke.current=b;const ve=x.useRef(!1);ve.current=N;const Q=x.useRef(0),de=x.useRef(void 0),we=x.useRef(null),ue=x.useRef(void 0);ue.current=R;const rt=Im(),ye=mW({resizable:T,appBarHidden:O,appBarHeight:rt}),Le=x.useRef(void 0);Le.current=g;const ut=x.useRef(void 0);ut.current=l;const Be=()=>{const fe=J.current;for(let xe=0;xe<Z.current.length;++xe){const dt=Z.current[xe].current?.classList;xe in fe?dt?.add("Mui-selected"):dt?.remove("Mui-selected")}};x.useEffect(()=>{const fe=()=>{const xe=Z.current,dt=X.current,qt={},ir=dt.time(ke.current);let zt=D.current.subtitlesAt(ir);const Jt=zt.showing.length===0?zt.lastShown??[]:zt.showing;let jt;for(const hr of Jt)qt[hr.index]=!0,(jt===void 0||hr.index<jt)&&(jt=hr.index);if(!c7(qt,J.current)&&(J.current=qt,Be(),ut.current?.(Jt),jt!==void 0)){const hr=xe[jt],At=!ve.current&&Date.now()-Q.current>5e3;hr?.current&&At&&hr.current.scrollIntoView({block:"center",inline:"nearest",behavior:"smooth"})}zt.startedShowing!==void 0&&Le.current?.startedShowing(zt.startedShowing),zt.willStopShowing!==void 0&&Le.current?.willStopShowing(zt.willStopShowing),de.current=requestAnimationFrame(fe)};return de.current=requestAnimationFrame(fe),()=>{de.current!==void 0&&cancelAnimationFrame(de.current)}},[]);const bt=x.useCallback(()=>{const fe=J.current;if(!fe)return;const xe=Object.keys(fe);if(xe.length===0)return;F[Number(xe[0])]?.current?.scrollIntoView({block:"center",inline:"nearest",behavior:"smooth"})},[F]);x.useEffect(()=>{if(N)return;function fe(){document.visibilityState==="visible"&&bt()}return document.addEventListener("visibilitychange",fe),()=>document.removeEventListener("visibilitychange",fe)},[N,F,bt]),x.useEffect(()=>{N||bt()},[N,bt]),x.useEffect(()=>{if(ve.current)return;const fe=Z.current;if(!fe||fe.length===0)return;fe[0]?.current?.scrollIntoView({block:"center",inline:"nearest",behavior:"smooth"})},[V]),x.useEffect(()=>I.bindAdjustOffset((fe,xe)=>{fe.preventDefault(),fe.stopPropagation(),i(xe)},()=>j,()=>p),[I,i,j,p]),x.useEffect(()=>I.bindResetOffet(fe=>{fe.preventDefault(),fe.stopPropagation(),i(0)},()=>j),[I,i,j]),x.useEffect(()=>I.bindOffsetToSubtitle((fe,xe)=>{fe.preventDefault(),fe.stopPropagation(),i(xe)},()=>j,()=>t.time(b),()=>p),[I,i,j,t,p,b]),x.useEffect(()=>I.bindSeekToSubtitle((fe,xe)=>{fe.preventDefault(),fe.stopPropagation(),r(xe.start,t.running??!1)},()=>j,()=>t.time(b),()=>p),[I,r,p,j,t,b]),x.useEffect(()=>I.bindSeekToBeginningOfCurrentSubtitle((fe,xe)=>{fe.preventDefault(),fe.stopPropagation(),r(xe.start,z.alwaysPlayOnSubtitleRepeat||t.running)},()=>j,()=>t.time(b),()=>p),[I,r,p,j,t,b,z.alwaysPlayOnSubtitleRepeat]),x.useEffect(()=>I.bindSeekBackwardOrForward((fe,xe)=>{fe.stopPropagation(),fe.preventDefault(),r(xe?Math.min(b,t.time(b)+1e4):Math.max(0,t.time(b)-1e4),t.running)},()=>j),[I,t,b,j,r]),x.useEffect(()=>{function fe(){Q.current=Date.now()}const xe=we.current;return xe?.addEventListener("wheel",fe,{passive:!0}),()=>xe?.removeEventListener("wheel",fe)},[we,Q]),x.useEffect(()=>{if(N||!v||!p)return;let fe=-1,xe=0;for(let dt of p){if(dt.originalStart===v.originalStart&&v.text.includes(dt.text)){fe=xe;break}++xe}fe!==-1&&(F[fe]?.current?.scrollIntoView({block:"center",inline:"nearest",behavior:"smooth"}),oe(fe),setTimeout(()=>oe(void 0),1e3))},[N,v,p,F]);const Ot=x.useCallback(()=>{const fe=t.time(b),xe=Math.min(fe+5e3,b);return{text:"",start:fe,originalStart:fe,end:xe,originalEnd:xe,track:0}},[t,b]),Mt=x.useCallback(fe=>!p||p.length===0?FS(Ot(),b,5e3):XP(p,fe,z.surroundingSubtitlesCountRadius,z.surroundingSubtitlesTimeRadius),[b,p,Ot,z.surroundingSubtitlesCountRadius,z.surroundingSubtitlesTimeRadius]),et=x.useCallback(()=>{if(!J.current)return[];const fe=Math.min(...Object.keys(J.current).map(xe=>Number(xe)));return Mt(fe)},[Mt]),ht=x.useCallback(()=>{if(!p||p.length===0){const dt=t.time(b),qt=Math.min(dt+5e3,b);return{text:"",start:dt,originalStart:dt,end:qt,originalEnd:qt,track:0}}if(!J.current)return;const fe=Object.keys(J.current).map(dt=>Number(dt));if(fe.length===0)return;const xe=Math.min(...fe);return p[xe]},[t,p,b]);x.useEffect(()=>I.bindCopy((fe,xe)=>{fe.preventDefault(),fe.stopPropagation(),n(xe,et(),qr.none)},()=>j||$,()=>ht()),[I,j,$,ht,et,n]);const Bt=x.useCallback(({postMineAction:fe,text:xe,word:dt,definition:qt,customFieldValues:ir})=>{if(!p||p.length===0)return!1;let zt=-1;if(xe&&(zt=p.findIndex(jt=>jt.text===xe),zt===-1)){const jt=xe.trim();zt=p.filter(hr=>hr.text.includes(jt)).length===1?p.findIndex(hr=>hr.text.includes(jt)):-1}const Jt=zt===-1?ht():p[zt];if(Jt){const jt=zt===-1?et():Mt(zt),hr={text:zt===-1?xe:Zo(Jt,jt),word:dt,definition:qt,customFieldValues:ir};return n(Jt,jt,fe,!0,hr),!0}return!1},[n,ht,et,Mt,p]);x.useEffect(()=>{!G||e.supportsWebSocketClient||(G.onMineSubtitle=async({body:{fields:fe,postMineAction:xe}})=>{const dt=fe??{},qt=dt[z.wordField]||void 0,ir=dt[z.definitionField]||void 0,zt=dt[z.sentenceField]||void 0,Jt=Object.fromEntries(Object.entries(z.customAnkiFields).map(([hr,At])=>{const Tt=dt[At];if(Tt!==void 0)return[hr,Tt]}).filter(hr=>hr!==void 0)),jt=xe??qr.showAnkiDialog;return Bt({postMineAction:jt,text:zt,word:qt,definition:ir,customFieldValues:Jt})})},[G,e,z,Bt]),x.useEffect(()=>{if(e.installed)return e.subscribe(fe=>{if(!document.hasFocus()||fe.data.command!=="copy-subtitle-with-additional-fields")return;const xe=fe.data;Bt(xe)})},[e,Bt]),x.useEffect(()=>I.bindToggleSubtitleTrackInList((fe,xe)=>{fe.preventDefault(),fe.stopPropagation(),a(xe)},()=>j),[I,j,a]);const _t=x.useCallback((fe,xe)=>{fe.preventDefault(),fe.stopPropagation();const dt=ht();dt&&n(dt,et(),xe)},[n,ht,et]);x.useEffect(()=>I.bindAnkiExport(fe=>_t(fe,qr.showAnkiDialog),()=>j||$),[_t,I,j,$]),x.useEffect(()=>I.bindUpdateLastCard(fe=>_t(fe,qr.updateLastCard),()=>j||$),[_t,I,j,$]),x.useEffect(()=>I.bindExportCard(fe=>_t(fe,qr.exportCard),()=>j||$),[_t,I,j,$]);const it=x.useCallback(fe=>{const xe=q.current;if(!xe)return;const dt=J.current||{};ot.current(xe[fe].start,!X.current.running&&fe in dt)},[]),je=x.useRef(Mt);je.current=Mt;const qe=x.useRef(z);qe.current=z;const Oe=x.useRef(n);Oe.current=n;const ot=x.useRef(r);ot.current=r;const Se=x.useCallback((fe,xe)=>{fe.preventDefault(),fe.stopPropagation();const dt=q.current;dt&&Oe.current(dt[xe],je.current(xe),qe.current.clickToMineDefaultAction,!0)},[]),vt=x.useRef(null);x.useEffect(()=>{if(!T)return;const fe=setInterval(()=>{const xe=vt.current;xe&&(xe.style.top=`${we.current?.scrollTop??0}px`)},1e3);return()=>clearInterval(fe)},[T]);const{width:Pt,setWidth:se,enableResize:le,isResizing:st}=Xq({initialWidth:qO,minWidth:ej,maxWidth:B,onResizeStart:f,onResizeEnd:h});x.useEffect(()=>{kx=Pt},[Pt,B]),x.useEffect(()=>{const fe=()=>{kx=void 0,se(qO())};return screen.orientation.addEventListener("change",fe),()=>screen.orientation.removeEventListener("change",fe)},[se]);const{dragging:$e,draggingStartLocation:Xt,draggingCurrentLocation:Et}=Zq({holdToDragMs:750});x.useEffect(()=>{if(!$e||!Xt||!Et||!F||st||!A||j){te(void 0);return}te(F.map(fe=>gW(Xt,Et,fe)))},[$e,Xt,Et,F,st,A,j]),x.useEffect(()=>{if(p!==void 0&&!$e&&ee!==void 0&&ee.length>0){const fe=ee.map((xe,dt)=>xe?p[dt]:void 0).filter(xe=>xe!==void 0).filter(xe=>!W[xe.track]);if(fe.length>0){const xe=Math.min(...fe.map(ir=>ir.start)),dt=Math.max(...fe.map(ir=>ir.end)),{surroundingSubtitles:qt}=Px(p,xe,dt,z.surroundingSubtitlesCountRadius,z.surroundingSubtitlesTimeRadius);if(qt){const ir={text:fe.map(zt=>zt.text).join(`
`),start:xe,end:dt,originalStart:Math.min(...fe.map(zt=>zt.originalStart)),originalEnd:Math.max(...fe.map(zt=>zt.originalEnd)),track:0};n(ir,qt,qr.showAnkiDialog,!0)}}}Be()},[$e,W,ee,p,z.surroundingSubtitlesCountRadius,z.surroundingSubtitlesTimeRadius,n]);let yr=null;if(!p||p.length===0)!w&&M?yr=!w&&M&&m.jsx("div",{className:ye.noSubtitles,children:m.jsx(An,{variant:"h6",children:M})}):p&&p.length===0&&(yr=m.jsx("div",{className:ye.noSubtitles,children:m.jsx(An,{variant:"h6",children:U("landing.noSubtitles")})}));else{const fe=st||$e?ye.unselectableTable:"";yr=m.jsx(X1,{className:`${ye.table} ${fe}`,children:m.jsx(G1,{children:m.jsx(Y1,{children:p.map((xe,dt)=>{let qt;return ee!==void 0&&(qt=ee[dt]?1:2),ie!==void 0&&(qt=ie===dt?1:2),m.jsx(bW,{index:dt,compressed:k,selectionState:qt,showCopyButton:A,disabled:W[xe.track],subtitle:p[dt],subtitleRef:F[dt],onClickSubtitle:it,onCopySubtitle:Se,onMouseOver:c,onMouseOut:d,subtitleHtml:z.subtitleHtml},dt)})})})})}return m.jsxs(Ei,{square:!0,ref:we,className:`${ye.container} asbplayer-token-container`,tabIndex:-1,style:{width:T?Pt:"auto"},children:[yr,T&&m.jsx(vW,{isResizing:st,onMouseDown:le,onTouchStart:le,ref:vt})]})}class KO{protocol;time;isReady;readyCallbacks;playCallbacks;pauseCallbacks;audioTrackSelectedCallbacks;currentTimeCallbacks;exitCallbacks;offsetCallbacks;playbackRateCallbacks;popOutToggleCallbacks;copyCallbacks;playModeCallbacks;hideSubtitlePlayerToggleCallbacks;appBarToggleCallbacks;ankiDialogRequestCallbacks;toggleSubtitleTrackInListCallbacks;subtitlesUpdatedCallbacks;saveTokenLocalCallbacks;loadFilesCallbacks;cardUpdatedDialogCallbacks;cardExportedDialogCallbacks;readyState;oncanplay=null;audioTracks;selectedAudioTrack;duration;_playbackRate;constructor(e){this.protocol=e,this.time=0,this.duration=0,this.isReady=!1,this.readyState=0,this._playbackRate=1,this.selectedAudioTrack=void 0,this.readyCallbacks=[],this.playCallbacks=[],this.pauseCallbacks=[],this.currentTimeCallbacks=[],this.audioTrackSelectedCallbacks=[],this.exitCallbacks=[],this.offsetCallbacks=[],this.playbackRateCallbacks=[],this.popOutToggleCallbacks=[],this.copyCallbacks=[],this.playModeCallbacks=[],this.hideSubtitlePlayerToggleCallbacks=[],this.appBarToggleCallbacks=[],this.ankiDialogRequestCallbacks=[],this.toggleSubtitleTrackInListCallbacks=[],this.subtitlesUpdatedCallbacks=[],this.saveTokenLocalCallbacks=[],this.loadFilesCallbacks=[],this.cardUpdatedDialogCallbacks=[],this.cardExportedDialogCallbacks=[];const r=this;this.protocol.onMessage=n=>{switch(n.data.command){case"ready":const i=n.data;r.duration=i.duration,r.isReady=!0,r.audioTracks=i.audioTracks,r.selectedAudioTrack=i.selectedAudioTrack,r.readyState=4,r.time=i.currentTime,this._playbackRate=i.playbackRate;for(let w of r.readyCallbacks)w(i.paused);break;case"readyState":const a=n.data;r.readyState=a.value,r.readyState===4&&r.oncanplay?.(new Event("canplay"));break;case"play":const l=n.data;for(let w of r.playCallbacks)w(l.echo);break;case"pause":const c=n.data;for(let w of r.pauseCallbacks)w(c.echo);break;case"audioTrackSelected":const d=n.data;for(let w of r.audioTrackSelectedCallbacks)r.selectedAudioTrack=d.id,w(d.id);break;case"currentTime":const f=n.data;for(let w of r.currentTimeCallbacks)w(f.value,f.echo);break;case"exit":for(let w of r.exitCallbacks)w();break;case"offset":const h=n.data;for(let w of r.offsetCallbacks)w(h.value);break;case"playbackRate":const g=n.data;for(const w of r.playbackRateCallbacks)w(g.value,g.echo);break;case"popOutToggle":for(let w of r.popOutToggleCallbacks)w();break;case"copy":for(let w of r.copyCallbacks){const R=n.data,{word:O,text:M,definition:j,customFieldValues:$}=R;w(R.subtitle,R.surroundingSubtitles,{word:O,text:M,definition:j,customFieldValues:$},R.audio,R.image,R.url,R.postMineAction??qr.none,R.id,R.mediaTimestamp)}break;case"playMode":for(let w of r.playModeCallbacks){const R=n.data;w(R.playMode)}break;case"hideSubtitlePlayerToggle":for(let w of r.hideSubtitlePlayerToggleCallbacks)w();break;case"appBarToggle":for(let w of r.appBarToggleCallbacks)w();break;case"sync":break;case"syncv2":break;case"ankiDialogRequest":for(let w of r.ankiDialogRequestCallbacks)w();break;case"toggleSubtitleTrackInList":const p=n.data;for(const w of r.toggleSubtitleTrackInListCallbacks)w(p.track);break;case"subtitlesUpdated":const S=n.data;for(const w of r.subtitlesUpdatedCallbacks)w(S.updatedSubtitles);break;case"saveTokenLocal":const{track:b,token:v,status:k,states:T,applyStates:A}=n.data;for(const w of r.saveTokenLocalCallbacks)w(b,v,k,T,A);break;case"loadFiles":for(const w of r.loadFilesCallbacks)w();break;case"card-updated-dialog":for(const w of r.cardUpdatedDialogCallbacks)w();break;case"card-exported-dialog":for(const w of r.cardExportedDialogCallbacks)w();break;default:console.error("Unrecognized event "+n.data.command)}}}get currentTime(){return this.time}set currentTime(e){this.time=e,this.readyState=3;const r={command:"currentTime",value:this.time};this.protocol.postMessage(r)}get playbackRate(){return this._playbackRate}set playbackRate(e){const r={command:"playbackRate",value:e};this.protocol.postMessage(r)}onReady(e){return this.isReady&&e(!1),this.readyCallbacks.push(e),()=>this._remove(e,this.readyCallbacks)}onPlay(e){return this.playCallbacks.push(e),()=>this._remove(e,this.playCallbacks)}onPause(e){return this.pauseCallbacks.push(e),()=>this._remove(e,this.pauseCallbacks)}onCurrentTime(e){return this.currentTimeCallbacks.push(e),()=>this._remove(e,this.currentTimeCallbacks)}onAudioTrackSelected(e){return this.audioTrackSelectedCallbacks.push(e),()=>this._remove(e,this.audioTrackSelectedCallbacks)}onExit(e){return this.exitCallbacks.push(e),()=>this._remove(e,this.exitCallbacks)}onOffset(e){return this.offsetCallbacks.push(e),()=>this._remove(e,this.offsetCallbacks)}onPlaybackRate(e){return this.playbackRateCallbacks.push(e),()=>this._remove(e,this.playbackRateCallbacks)}onPopOutToggle(e){return this.popOutToggleCallbacks.push(e),()=>this._remove(e,this.popOutToggleCallbacks)}onCopy(e){return this.copyCallbacks.push(e),()=>this._remove(e,this.copyCallbacks)}onPlayMode(e){return this.playModeCallbacks.push(e),()=>this._remove(e,this.playModeCallbacks)}onHideSubtitlePlayerToggle(e){return this.hideSubtitlePlayerToggleCallbacks.push(e),()=>this._remove(e,this.hideSubtitlePlayerToggleCallbacks)}onAppBarToggle(e){return this.appBarToggleCallbacks.push(e),()=>this._remove(e,this.appBarToggleCallbacks)}onAnkiDialogRequest(e){return this.ankiDialogRequestCallbacks.push(e),()=>this._remove(e,this.ankiDialogRequestCallbacks)}onToggleSubtitleTrackInList(e){return this.toggleSubtitleTrackInListCallbacks.push(e),()=>this._remove(e,this.toggleSubtitleTrackInListCallbacks)}onSubtitlesUpdated(e){return this.subtitlesUpdatedCallbacks.push(e),()=>this._remove(e,this.subtitlesUpdatedCallbacks)}onSaveTokenLocal(e){return this.saveTokenLocalCallbacks.push(e),()=>this._remove(e,this.saveTokenLocalCallbacks)}onLoadFiles(e){return this.loadFilesCallbacks.push(e),()=>this._remove(e,this.loadFilesCallbacks)}onCardUpdatedDialog(e){return this.cardUpdatedDialogCallbacks.push(e),()=>this._remove(e,this.cardUpdatedDialogCallbacks)}onCardExportedDialog(e){return this.cardExportedDialogCallbacks.push(e),()=>this._remove(e,this.cardExportedDialogCallbacks)}ready(e,r){const n={command:"ready",duration:e,videoFileName:r};this.protocol.postMessage(n)}init(){this.protocol.postMessage({command:"init"})}play(){return this.protocol.postMessage({command:"play"}),new Promise((e,r)=>e())}pause(){this.protocol.postMessage({command:"pause"})}audioTrackSelected(e){const r={command:"audioTrackSelected",id:e};this.protocol.postMessage(r)}subtitles(e,r){this.protocol.postMessage({command:"subtitles",value:e,name:r.length>0?r[0]:null,names:r})}saveTokenLocal(e,r,n){this.protocol.postMessage({command:"saveTokenLocal",token:e,status:r,states:n})}subtitlesUpdated(e){this.protocol.postMessage({command:"subtitlesUpdated",subtitles:e})}offset(e){const r={command:"offset",value:e};this.protocol.postMessage(r)}subtitleSettings(e){const{subtitleColor:r,subtitleSize:n,subtitleThickness:i,subtitleOutlineThickness:a,subtitleOutlineColor:l,subtitleShadowThickness:c,subtitleShadowColor:d,subtitleBackgroundOpacity:f,subtitleBackgroundColor:h,subtitleFontFamily:g,subtitleCustomStyles:p,subtitleBlur:S,imageBasedSubtitleScaleFactor:b,subtitleAlignment:v,subtitleTracksV2:k,subtitlePositionOffset:T,topSubtitlePositionOffset:A,subtitlesWidth:w}=e,R={command:"subtitleSettings",value:{subtitleColor:r,subtitleSize:n,subtitleThickness:i,subtitleOutlineThickness:a,subtitleOutlineColor:l,subtitleShadowThickness:c,subtitleShadowColor:d,subtitleBackgroundOpacity:f,subtitleBackgroundColor:h,subtitleFontFamily:g,subtitleCustomStyles:p,subtitleBlur:S,imageBasedSubtitleScaleFactor:b,subtitleAlignment:v,subtitleTracksV2:k,subtitlePositionOffset:T,topSubtitlePositionOffset:A,subtitlesWidth:w}};this.protocol.postMessage(R)}playMode(e){const r={command:"playMode",playMode:e};this.protocol.postMessage(r)}hideSubtitlePlayerToggle(e){const r={command:"hideSubtitlePlayerToggle",value:e};this.protocol.postMessage(r)}appBarToggle(e){const r={command:"appBarToggle",value:e};this.protocol.postMessage(r)}fullscreenToggle(e){const r={command:"fullscreenToggle",value:e};this.protocol.postMessage(r)}ankiSettings(e){const{ankiConnectUrl:r,deck:n,noteType:i,sentenceField:a,definitionField:l,audioField:c,imageField:d,wordField:f,sourceField:h,urlField:g,track1Field:p,track2Field:S,track3Field:b,customAnkiFields:v,tags:k,preferMp3:T,audioPaddingStart:A,audioPaddingEnd:w,maxImageWidth:R,maxImageHeight:O,surroundingSubtitlesCountRadius:M,surroundingSubtitlesTimeRadius:j,ankiFieldSettings:$,customAnkiFieldSettings:V,recordWithAudioPlayback:N}=e,W={command:"ankiSettings",value:{ankiConnectUrl:r,deck:n,noteType:i,sentenceField:a,definitionField:l,audioField:c,imageField:d,wordField:f,sourceField:h,urlField:g,track1Field:p,track2Field:S,track3Field:b,customAnkiFields:v,tags:k,preferMp3:T,audioPaddingStart:A,audioPaddingEnd:w,maxImageWidth:R,maxImageHeight:O,surroundingSubtitlesCountRadius:M,surroundingSubtitlesTimeRadius:j,ankiFieldSettings:$,customAnkiFieldSettings:V,recordWithAudioPlayback:N}};this.protocol.postMessage(W)}miscSettings(e){const{themeType:r,copyToClipboardOnMine:n,autoPausePreference:i,seekDuration:a,speedChangeStep:l,fastForwardModePlaybackRate:c,keyBindSet:d,rememberSubtitleOffset:f,autoCopyCurrentSubtitle:h,alwaysPlayOnSubtitleRepeat:g,subtitleRegexFilter:p,subtitleRegexFilterTextReplacement:S,subtitleHtml:b,convertNetflixRuby:v,miningHistoryStorageLimit:k,clickToMineDefaultAction:T,postMiningPlaybackState:A,language:w,lastSubtitleOffset:R,tabName:O,pauseOnHoverMode:M,lastSelectedAnkiExportMode:j}=e,$={command:"miscSettings",value:{themeType:r,copyToClipboardOnMine:n,autoPausePreference:i,seekDuration:a,speedChangeStep:l,fastForwardModePlaybackRate:c,keyBindSet:d,rememberSubtitleOffset:f,autoCopyCurrentSubtitle:h,alwaysPlayOnSubtitleRepeat:g,subtitleRegexFilter:p,subtitleRegexFilterTextReplacement:S,subtitleHtml:b,convertNetflixRuby:v,miningHistoryStorageLimit:k,clickToMineDefaultAction:T,postMiningPlaybackState:A,language:w,lastSubtitleOffset:R,tabName:O,pauseOnHoverMode:M,lastSelectedAnkiExportMode:j}};this.protocol.postMessage($)}alert(e,r){const n={command:"alert",message:e,severity:r};this.protocol.postMessage(n)}copy(e,r,n,i){const a={command:"copy",postMineAction:e,subtitle:r,surroundingSubtitles:n,...i??{}};this.protocol.postMessage(a)}takeScreenshot(){const e={command:"takeScreenshot"};this.protocol.postMessage(e)}close(){this.protocol.postMessage({command:"close"}),this.protocol.close(),this.readyCallbacks=[],this.playCallbacks=[],this.pauseCallbacks=[],this.currentTimeCallbacks=[],this.audioTrackSelectedCallbacks=[],this.exitCallbacks=[],this.offsetCallbacks=[],this.playbackRateCallbacks=[],this.popOutToggleCallbacks=[],this.copyCallbacks=[],this.playModeCallbacks=[],this.hideSubtitlePlayerToggleCallbacks=[],this.appBarToggleCallbacks=[],this.ankiDialogRequestCallbacks=[],this.toggleSubtitleTrackInListCallbacks=[],this.subtitlesUpdatedCallbacks=[],this.loadFilesCallbacks=[],this.cardUpdatedDialogCallbacks=[],this.cardExportedDialogCallbacks=[]}_remove(e,r){for(let n=r.length-1;n>=0;--n)if(e===r[n]){r.splice(n,1);break}}}const GO=300,xW=yn(()=>({root:({appBarHidden:t,appBarHeight:e})=>({height:t?"100vh":`calc(100vh - ${e}px)`,position:"relative",overflowX:"hidden"}),container:{width:"100%",height:"100%"},videoFrame:{width:"100%",height:"100%",border:0,display:"block"}}));function vS(t,e,r){let n;e&&e.length>0?r?n=e[e.length-1].end:n=e[e.length-1].originalEnd:n=0;const i=t&&t.duration?1e3*t.duration:0;return Math.max(i,n)}const wW=Ln.memo(function({sources:e,subtitles:r,subtitleReader:n,dictionaryProvider:i,settingsProvider:a,settings:l,playbackPreferences:c,keyBinder:d,extension:f,videoFrameRef:h,videoChannelRef:g,drawerOpen:p,appBarHidden:S,showCopyButton:b,videoFullscreen:v,hideSubtitlePlayer:k,videoPopOut:T,tab:A,availableTabs:w,miningContext:R,origin:O,onError:M,onUnloadVideo:j,onCopy:$,onLoaded:V,onTabSelected:N,onAnkiDialogRequest:W,onAppBarToggle:z,onHideSubtitlePlayer:I,onVideoPopOut:B,onPlayModeChangedViaBind:G,onSubtitles:U,onLoadFiles:X,disableKeyEvents:q,jumpToSubtitle:Z,rewindSubtitle:F,hideControls:D,forceCompressedMode:J,webSocketClient:ee}){const[te,ie]=x.useState(Yr.normal),[oe,ke]=x.useState(),ve=x.useRef(void 0);ve.current=r;const Q=e?.subtitleFiles,de=e?.flattenSubtitleFiles,we=e?.videoFile,ue=e?.videoFileUrl,rt=r&&r.length>0&&!!ue,[ye,Le]=x.useState(!1),[ut,Be]=x.useState(!1),[bt,Ot]=x.useState(0),[Mt,et]=x.useState(0),[ht,Bt]=x.useState(1),[_t,it]=x.useState(),[je,qe]=x.useState(),[Oe,ot]=x.useState(),[Se,vt]=x.useState(),Pt=x.useRef(void 0);Pt.current=Se;const se=x.useRef(void 0);se.current=c;const[le,st]=x.useState(),$e=x.useRef(void 0);$e.current=k;const[Xt,Et]=x.useState({}),yr=x.useRef({x:0,y:0}),fe=x.useMemo(()=>ue||A?new DO({current:Se}):new DO({current:void 0}),[Se,ue,A]),xe=x.useMemo(()=>new qM,[]),dt=x.useRef(xe);dt.current=xe;const qt=Im(),ir=xW({appBarHidden:S,appBarHeight:qt}),zt=()=>vS(Pt.current,ve.current),Jt=x.useCallback(async(Ke,mt,$t)=>{mt.setTime(Ke),$t&&await fe.seek(Ke/1e3),kt.current?.clear()},[fe]),jt=x.useCallback(()=>Le(!0),[]),hr=x.useCallback(()=>Le(!1),[]),At=x.useCallback(()=>{te!==Yr.autoPause||l.autoPausePreference!==va.atStart||ue||Ue(xe,fe,!0)},[te,xe,fe,ue,l.autoPausePreference]),Tt=x.useCallback(Ke=>{te===Yr.repeat?Jt(Ke.start,xe,!0):te===Yr.autoPause&&l.autoPausePreference===va.atEnd&&!ue&&Ue(xe,fe,!0)},[te,xe,fe,ue,l.autoPausePreference,Jt]),St=x.useMemo(()=>{const Ke=new t2;return Ke.onStartedShowing=At,Ke.onWillStopShowing=Tt,Ke},[At,Tt]),kt=x.useRef(void 0);kt.current=St;const Ut=x.useCallback((Ke,mt)=>{xe.rate!==Ke&&(xe.rate=Ke,Bt(Ke),mt&&fe.playbackRate(Ke))},[xe,fe]),Ft=x.useCallback((Ke,mt)=>{if(et(Ke),!r)return;const $t=r.length>0?r[r.length-1].end+Ke:0,Yt=r.map((Ar,Dr)=>({text:Ar.text,textImage:Ar.textImage,start:Ar.originalStart+Ke,originalStart:Ar.originalStart,end:Ar.originalEnd+Ke,originalEnd:Ar.originalEnd,displayTime:op(Ar.originalStart+Ke,$t),track:Ar.track,index:Dr,richText:Ar.richText,tokenization:Ar.tokenization}));mt&&Se!==void 0&&(Se.offset(Ke),A!==void 0&&f.installed&&!f.supportsOffsetMessage&&Se.subtitles(Yt,Q?.map(Ar=>Ar.name)??[""])),U(Yt),c.offset=Ke},[Q,r,f,c,A,Se,U]);x.useEffect(()=>{if(!we&&!A)return;let Ke;if(we){const mt=En();Ke=new KO(new bq(mt)),ot(mt),V([we])}else Ke=new KO(new vq(A.id,A.src,f)),Ke.init();return g&&(g.current=Ke),vt(Ke),()=>{xe.setTime(0),xe.stop(),Ke.close()}},[xe,T,we,A,f,g,V]),x.useEffect(()=>{async function Ke(){const mt=se.current?.offset??0;et(mt);let $t;if(Q!==void 0&&Q.length>0){Be(!0);try{const Yt=await n.subtitles(Q,de),Ar=Yt.length>0?Yt[Yt.length-1].end+mt:0;$t=Yt.map((Dr,en)=>({text:Dr.text,textImage:Dr.textImage,start:Dr.start+mt,originalStart:Dr.start,end:Dr.end+mt,originalEnd:Dr.end,displayTime:op(Dr.start+mt,Ar),track:Dr.track,index:en,tokenization:Dr.tokenization})),BO($t),ke(!1),U($t),ie(Dr=>!$t||$t.length===0?Yr.normal:Dr)}catch(Yt){M(Yt),U([])}finally{Be(!1)}}else $t=void 0,ie(Yr.normal)}Ke().then(()=>V(Q??[]))},[n,V,M,Q,de,U]);const[Nr,Vr]=x.useState(Ic.empty()),$r=x.useRef(Nr);$r.current=Nr,x.useEffect(()=>{const Ke={returnLastShown:!0,returnNextToShow:!0,showingCheckRadiusMs:150};if(A){const $t=new Ic(Ke);$t.setSubtitles(ve.current??[]),Vr($t),$r.current=$t;return}const mt=new _u(i,a,Ke,($t,Yt)=>{BO($t,Yt),Se?.subtitlesUpdated($t),U(Ar=>{if(!Ar?.length)return Ar;const Dr=Ar.slice();for(const en of $t)Dr[en.index]={...Dr[en.index],text:en.text,richText:en.richText,tokenization:en.tokenization};return Dr})},()=>dt.current.time(zt()));return ve.current&&mt.setSubtitles(ve.current),mt.bind(),Vr(mt),$r.current=mt,()=>{$r.current instanceof _u&&$r.current.unbind()}},[Se,i,a,A,U]),x.useEffect(()=>{$r.current&&$r.current.setSubtitles(r)},[r]),x.useEffect(()=>{$r.current instanceof _u&&$r.current.settingsUpdated(l)},[l]),x.useEffect(()=>Se?.onSubtitlesUpdated(Ke=>{U(mt=>{if(!mt?.length)return mt;const $t=mt.slice();for(const Yt of Ke){const Ar=Yt.originalText??Yt.text,Dr=$t[Yt.index].originalText??$t[Yt.index].text;Ar===Dr&&($t[Yt.index]={...$t[Yt.index],text:Yt.text,richText:Yt.richText,tokenization:Yt.tokenization})}return $t})}),[Se,U]),x.useEffect(()=>{if(!A)return;(async()=>{if(!ve.current)return;const $t=await f.requestSubtitles(A.id,A.src);if(!$t)return;const{subtitles:Yt}=$t;U(Ar=>{if(!Ar?.length)return Ar;const Dr=Ar.slice();for(const en of Yt){const ji=en.originalText??en.text,xn=Dr[en.index].originalText??Dr[en.index].text;ji===xn&&(Dr[en.index]={...Dr[en.index],text:en.text,richText:en.richText,tokenization:en.tokenization})}return Dr})})();const Ke=Se?.onCardUpdatedDialog(()=>f.cardUpdatedDialog(A.id,A.src)),mt=Se?.onCardExportedDialog(()=>f.cardExportedDialog(A.id,A.src));return()=>{Ke&&Ke(),mt&&mt()}},[Se,f,A,U]);const wr=x.useMemo(()=>new HM,[]),Pr=x.useCallback(Ke=>wr.handleMouseOver(Ke.nativeEvent),[wr]),Hr=x.useCallback(Ke=>wr.handleMouseOut(Ke.nativeEvent),[wr]);x.useEffect(()=>d.bindMarkHoveredToken((Ke,mt)=>{const $t=wr.parse();if(!$t)return;La(),Ke.preventDefault(),Ke.stopImmediatePropagation();const Yt=us.ADD;if($r.current instanceof _u){$r.current.saveTokenLocal($t.track,$t.token,mt,[],Yt);return}A&&f.saveTokenLocal(A.id,A.src,$t.track,$t.token,mt,[],Yt)},()=>q),[wr,d,q,A,f]),x.useEffect(()=>d.bindToggleHoveredTokenIgnored(Ke=>{const mt=wr.parse();if(!mt)return;La(),Ke.preventDefault(),Ke.stopImmediatePropagation();const $t=[zl.IGNORED],Yt=us.TOGGLE;if($r.current instanceof _u){$r.current.saveTokenLocal(mt.track,mt.token,null,$t,Yt);return}A&&f.saveTokenLocal(A.id,A.src,mt.track,mt.token,null,$t,Yt)},()=>q),[wr,d,q,A,f]),x.useEffect(()=>Se?.onSaveTokenLocal((Ke,mt,$t,Yt,Ar)=>{$r.current instanceof _u&&$r.current.saveTokenLocal(Ke,mt,$t,Yt,Ar)}),[Se]),x.useEffect(()=>{ke(!1)},[Se]),x.useEffect(()=>Se?.onExit(()=>ue&&j(ue)),[Se,j,ue]),x.useEffect(()=>Se?.onPopOutToggle(()=>B()),[Se,B]),x.useEffect(()=>Se?.onHideSubtitlePlayerToggle(I),[Se,I]),x.useEffect(()=>Se?.onAppBarToggle(z),[Se,z]),x.useEffect(()=>Se?.onReady(()=>Se?.ready(vS(Se,r),we?.name)),[Se,r,we]),x.useEffect(()=>{if(!(Se===void 0||r===void 0||oe||Q===void 0||Q.length===0))return Se.onReady(()=>{ke(!0),Se.subtitles(r,de?[Q[0].name]:Q.map(Ke=>Ke.name))})},[r,Se,de,Q,oe]),x.useEffect(()=>Se?.onReady(()=>Se?.subtitleSettings(l)),[Se,l]),x.useEffect(()=>Se?.onReady(()=>Se?.hideSubtitlePlayerToggle(k)),[Se,k]),x.useEffect(()=>Se?.ankiSettings(l),[Se,l]),x.useEffect(()=>Se?.miscSettings(l),[Se,l]),x.useEffect(()=>Se?.playMode(te),[Se,te]),x.useEffect(()=>Se?.onReady(()=>{Se?.audioTracks&&Se?.audioTracks?.length>1?(it(Se?.audioTracks),qe(Se?.selectedAudioTrack)):(it(void 0),qe(void 0))}),[Se]),x.useEffect(()=>Se?.onReady(Ke=>{Se&&xe.setTime(Se.currentTime*1e3),Ke?xe.stop():xe.start(),Se?.playbackRate&&(xe.rate=Se.playbackRate,Bt(Se.playbackRate))}),[Se,xe]),x.useEffect(()=>Se?.onPlay(Ke=>Kr(xe,fe,Ke)),[Se,fe,xe]),x.useEffect(()=>Se?.onPause(Ke=>Ue(xe,fe,Ke)),[Se,fe,xe]),x.useEffect(()=>Se?.onOffset(Ke=>Ft(Math.max(-zt()||0,Ke),!1)),[Se,Ft]),x.useEffect(()=>Se?.onPlaybackRate(Ut),[Se,Ut]),x.useEffect(()=>Se?.onCopy((Ke,mt,$t,Yt,Ar,Dr,en,ji,xn)=>$({subtitle:Ke,surroundingSubtitles:mt,subtitleFileName:Ke?Q?.[Ke.track]?.name??"":"",...$t,mediaTimestamp:xn??0,file:we?{name:we.name,blobUrl:BS(we),audioTrack:Se?.selectedAudioTrack,playbackRate:Se?.playbackRate}:void 0,audio:Yt,image:Ar,url:Dr},en,ji)),[Se,$,we,Q]),x.useEffect(()=>Se?.onPlayMode(Ke=>{ie(Ke),Se?.playMode(Ke)}),[Se,te]),x.useEffect(()=>Se?.onCurrentTime(async(Ke,mt)=>{const $t=xe.running;$t&&xe.stop(),await Jt(Ke*1e3,xe,mt),$t&&xe.start()}),[Se,xe,Jt]),x.useEffect(()=>Se?.onAudioTrackSelected(async Ke=>{const mt=xe.running;mt&&xe.stop(),await fe.onReady(),mt&&xe.start(),qe(Ke)}),[Se,xe,fe]),x.useEffect(()=>Se?.onAnkiDialogRequest(()=>W()),[Se,W]),x.useEffect(()=>Se?.onToggleSubtitleTrackInList(Ke=>Et(mt=>{const $t={...mt};return $t[Ke]=!mt[Ke],$t})),[Se]),x.useEffect(()=>Se?.onLoadFiles(()=>X?.()),[Se,X]);function Kr(Ke,mt,$t){Ke.start(),$t&&mt.play()}function Ue(Ke,mt,$t){Ke.stop(),$t&&mt.pause()}x.useEffect(()=>R.onEvent("stopped-mining",()=>{switch(l.postMiningPlaybackState){case Zi.play:Kr(xe,fe,!0);break;case Zi.pause:Ue(xe,fe,!0);break;case Zi.remember:le&&Kr(xe,fe,!0);break}}),[R,l,le,xe,fe]),x.useEffect(()=>R.onEvent("started-mining",()=>{xe.running?(Ue(xe,fe,!0),st(!0)):st(!1)}),[R,xe,fe]),x.useEffect(()=>{if(te!==Yr.condensed||!r||r.length===0)return;let Ke=!1,mt=1e3;const $t=setInterval(async()=>{const Yt=xe.time(zt()),Ar=Nr.subtitlesAt(Yt);if(Ar.nextToShow&&Ar.nextToShow.length>0){const Dr=Ar.nextToShow[0];if(Dr.start-Yt<mt+500)return;const en=xe.running;if(en&&xe.stop(),!Ke){Ke=!0;const ji=Date.now();await Jt(Dr.start,xe,!0),mt=Date.now()-ji,Ke=!1}en&&xe.start()}},100);return()=>clearInterval($t)},[r,Nr,te,xe,Jt]),x.useEffect(()=>{if(te!==Yr.fastForward||!r||r.length===0)return;const Ke=setInterval(async()=>{const mt=xe.time(zt()),$t=Nr.subtitlesAt(mt);$t.showing.length===0&&($t.nextToShow===void 0||$t.nextToShow.length>0&&$t.nextToShow[0].start-mt>1e3)?Ut(l.fastForwardModePlaybackRate,!0):Ut(1,!0)},100);return()=>clearInterval(Ke)},[Ut,Nr,xe,r,te,l.fastForwardModePlaybackRate]),x.useEffect(()=>{T&&ue&&Oe&&window.open(O+"?video="+encodeURIComponent(ue)+"&channel="+Oe+"&popout=true","asbplayer-video-"+ue,"resizable,width=800,height=450"),Ot(Date.now())},[T,Oe,ue,h,g,O]);const We=x.useCallback(()=>Kr(xe,fe,!0),[xe,fe]),Ct=x.useCallback(()=>Ue(xe,fe,!0),[xe,fe]),cr=x.useCallback(async Ke=>{const mt=xe.running;mt&&xe.stop(),await Jt(Ke*zt(),xe,!0),mt&&xe.start()},[xe,Jt]),dr=x.useCallback(async(Ke,mt)=>{mt||Ue(xe,fe,!0),await Jt(Ke,xe,!0),mt&&!xe.running&&Kr(xe,fe,!0)},[xe,Jt,fe]),Tr=x.useCallback(async(Ke,mt,$t,Yt,Ar)=>{ue?Yt?Se?.copy($t,Ke,mt,Ar):Se?.copy($t):$({subtitle:Ke,surroundingSubtitles:mt,subtitleFileName:Q?.[Ke.track]?.name??"",mediaTimestamp:xe.time(zt()),file:we===void 0?void 0:{name:we.name,audioTrack:je,playbackRate:ht,blobUrl:BS(we)},...Ar},$t,void 0)},[Se,$,xe,we,ue,Q,je,ht]),Lr=x.useCallback(Ke=>{yr.current.x=Ke.screenX,yr.current.y=Ke.screenY},[]),br=x.useCallback(async Ke=>{Se?.audioTrackSelected(Ke),Ue(xe,fe,!0),await Jt(0,xe,!0),xe.running&&Kr(xe,fe,!0)},[Se,xe,fe,Jt]),bn=x.useCallback(Ke=>{const mt=zt();Ft(Math.max(-mt||0,Ke),!0)},[Ft]),Sn=x.useCallback(Ke=>{Ut(Ke,!0)},[Ut]),xr=x.useCallback(Ke=>ie(Ke),[]),mr=x.useCallback(Ke=>Et(mt=>{const $t={...mt};return $t[Ke]=!mt[Ke],$t}),[]),ei=x.useCallback(Ke=>{Ke.length===0||!l.autoCopyCurrentSubtitle||!document.hasFocus()||navigator.clipboard.writeText(Ke.map(mt=>mt.text).join(`
`)).catch(mt=>{})},[l.autoCopyCurrentSubtitle]);x.useEffect(()=>{if(A)return;const Ke=setInterval(async()=>{xe.progress(zt())>=1&&(Ue(xe,fe,!0),await Jt(0,xe,!0),Ot(Date.now()))},1e3);return()=>clearInterval(Ke)},[xe,fe,Jt,A]),x.useEffect(()=>{const Ke=d.bindPlay(mt=>{mt.preventDefault(),xe.running?Ue(xe,fe,!0):Kr(xe,fe,!0)},()=>q);return()=>Ke()},[d,xe,fe,q]),x.useEffect(()=>d.bindAdjustPlaybackRate((Ke,mt)=>{Ke.preventDefault(),Ut(mt?Math.min(5,ht+.1):Math.max(.1,ht-.1),!0)},()=>q),[Ut,ht,q,d]);const ar=x.useCallback((Ke,mt)=>{if(!rt)return;Ke.preventDefault();const $t=te===mt?Yr.normal:mt;ie($t),G(te,$t),Se?.playMode($t),te===Yr.fastForward&&Ut(1,!0)},[Se,te,rt,G,Ut]);x.useEffect(()=>d.bindAutoPause(Ke=>ar(Ke,Yr.autoPause),()=>q),[ar,d,q]),x.useEffect(()=>d.bindCondensedPlayback(Ke=>ar(Ke,Yr.condensed),()=>q),[ar,d,q]),x.useEffect(()=>d.bindFastForwardPlayback(Ke=>ar(Ke,Yr.fastForward),()=>q),[ar,d,q]),x.useEffect(()=>d.bindToggleRepeat(Ke=>{const mt=zt(),$t=xe.time(mt);Nr.subtitlesAt($t).showing.length>0&&ar(Ke,Yr.repeat)},()=>q),[d,q,ar,Nr,xe]),x.useEffect(()=>Se?.appBarToggle(S),[Se,S]),x.useEffect(()=>Se?.fullscreenToggle(v),[Se,v]),x.useEffect(()=>{F?.start!==void 0&&(Ue(xe,fe,!0),Jt(F.start,xe,!0))},[xe,F?.start,fe,Jt]),x.useEffect(()=>{ee&&(ee.onSeekTimestamp=async({body:{timestamp:Ke}})=>{Jt(Ke*1e3,xe,!0)})},[ee,f,Jt,xe]);const[an]=m1(!0),Ir=ue||r,gn=!!(Ir&&ue&&!T),lt=Math.max(0,an-GO),Er=lt<ej,Wt=gn&&(k||!r||r?.length===0||Er);return m.jsx("div",{onMouseMove:Lr,className:ir.root,children:m.jsxs(hn,{container:!0,direction:"row",wrap:"nowrap",className:ir.container,children:[gn&&m.jsx(hn,{item:!0,style:{flexGrow:1,minWidth:GO},children:m.jsx("iframe",{ref:h,className:ir.videoFrame,style:{pointerEvents:ye?"none":"auto"},src:O+"?video="+encodeURIComponent(ue)+"&channel="+Oe+"&popout=false",title:"asbplayer"})}),m.jsxs(hn,{item:!0,hidden:Wt,style:{flexGrow:gn?0:1,width:"auto"},children:[Ir&&!(ue&&!T)&&!D&&m.jsx(QM,{mousePositionRef:yr,clock:xe,length:zt(),displayLength:vS(Se,r,!1),audioTracks:_t,selectedAudioTrack:je,tabs:!ue&&w||void 0,selectedTab:A,offsetEnabled:!0,offset:Mt,playbackRate:ht,playbackRateEnabled:!A||f.supportsPlaybackRateMessage,onPlaybackRateChange:Sn,playModeEnabled:rt,playMode:te,onPlay:We,onPause:Ct,onSeek:cr,onAudioTrackSelected:br,onTabSelected:N,onUnloadVideo:()=>ue&&j(ue),onOffsetChange:bn,onPlayMode:xr,disableKeyEvents:q,playbackPreferences:c,showOnMouseMovement:!0}),m.jsx(SW,{subtitles:r,subtitleCollection:Nr,clock:xe,extension:f,length:zt(),jumpToSubtitle:Z,drawerOpen:p,appBarHidden:S,compressed:gn||(J??!1),resizable:gn,showCopyButton:b,loading:ut,displayHelp:T&&we?.name||void 0,disableKeyEvents:q,disableMiningBinds:f.supportsVideoPlayerMiningCommands&&we!==void 0,lastJumpToTopTimestamp:bt,hidden:Wt,disabledSubtitleTracks:Xt,onSeek:dr,onCopy:Tr,onMouseOver:Pr,onMouseOut:Hr,onOffsetChange:bn,onToggleSubtitleTrack:mr,onSubtitlesHighlighted:ei,onResizeStart:jt,onResizeEnd:hr,maxResizeWidth:lt,autoPauseContext:St,settings:l,keyBinder:d,webSocketClient:ee})]})]})})}),kW=nr("MuiBox",["root"]),CW=vm(),Hg=K3({themeId:Da,defaultTheme:CW,defaultClassName:kW.root,generateClassName:E2.generate});function TW(t){return tr("MuiTab",t)}const ga=nr("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),EW=t=>{const{classes:e,textColor:r,fullWidth:n,wrapped:i,icon:a,label:l,selected:c,disabled:d}=t,f={root:["root",a&&l&&"labelIcon",`textColor${Ye(r)}`,n&&"fullWidth",i&&"wrapped",c&&"selected",d&&"disabled"],icon:["iconWrapper","icon"]};return er(f,TW,e)},AW=tt(Gs,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.label&&r.icon&&e.labelIcon,e[`textColor${Ye(r.textColor)}`],r.fullWidth&&e.fullWidth,r.wrapped&&e.wrapped,{[`& .${ga.iconWrapper}`]:e.iconWrapper},{[`& .${ga.icon}`]:e.icon}]}})(Qt(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:r})=>e.icon&&e.label&&r==="top",style:{[`& > .${ga.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:r})=>e.icon&&e.label&&r==="bottom",style:{[`& > .${ga.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:r})=>e.icon&&e.label&&r==="start",style:{[`& > .${ga.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:r})=>e.icon&&e.label&&r==="end",style:{[`& > .${ga.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${ga.selected}`]:{opacity:1},[`&.${ga.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${ga.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${ga.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${ga.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${ga.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),Pl=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiTab"}),{className:i,disabled:a=!1,disableFocusRipple:l=!1,fullWidth:c,icon:d,iconPosition:f="top",indicator:h,label:g,onChange:p,onClick:S,onFocus:b,selected:v,selectionFollowsFocus:k,textColor:T="inherit",value:A,wrapped:w=!1,...R}=n,O={...n,disabled:a,disableFocusRipple:l,selected:v,icon:!!d,iconPosition:f,label:!!g,fullWidth:c,textColor:T,wrapped:w},M=EW(O),j=d&&g&&x.isValidElement(d)?x.cloneElement(d,{className:wt(M.icon,d.props.className)}):d,$=N=>{!v&&p&&p(N,A),S&&S(N)},V=N=>{k&&!v&&p&&p(N,A),b&&b(N)};return m.jsxs(AW,{focusRipple:!l,className:wt(M.root,i),ref:r,role:"tab","aria-selected":v,disabled:a,onClick:$,onFocus:V,ownerState:O,tabIndex:v?0:-1,...R,children:[f==="top"||f==="start"?m.jsxs(x.Fragment,{children:[j,g]}):m.jsxs(x.Fragment,{children:[g,j]}),h]})});function RW(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function OW(t,e,r,n={},i=()=>{}){const{ease:a=RW,duration:l=300}=n;let c=null;const d=e[t];let f=!1;const h=()=>{f=!0},g=p=>{if(f){i(new Error("Animation cancelled"));return}c===null&&(c=p);const S=Math.min(1,(p-c)/l);if(e[t]=a(S)*(r-d)+d,S>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(g)};return d===r?(i(new Error("Element already at target position")),h):(requestAnimationFrame(g),h)}const PW={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function _W(t){const{onChange:e,...r}=t,n=x.useRef(),i=x.useRef(null),a=()=>{n.current=i.current.offsetHeight-i.current.clientHeight};return uo(()=>{const l=fp(()=>{const d=n.current;a(),d!==n.current&&e(n.current)}),c=ta(i.current);return c.addEventListener("resize",l),()=>{l.clear(),c.removeEventListener("resize",l)}},[e]),x.useEffect(()=>{a(),e(n.current)},[e]),m.jsx("div",{style:PW,...r,ref:i})}const MW=lr(m.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),jW=lr(m.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function NW(t){return tr("MuiTabScrollButton",t)}const IW=nr("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),LW=t=>{const{classes:e,orientation:r,disabled:n}=t;return er({root:["root",r,n&&"disabled"]},NW,e)},FW=tt(Gs,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.orientation&&e[r.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${IW.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),BW=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiTabScrollButton"}),{className:i,slots:a={},slotProps:l={},direction:c,orientation:d,disabled:f,...h}=n,g=Bc(),p={isRtl:g,...n},S=LW(p),b=a.StartScrollButtonIcon??MW,v=a.EndScrollButtonIcon??jW,k=Oo({elementType:b,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p}),T=Oo({elementType:v,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p});return m.jsx(FW,{component:"div",className:wt(S.root,i),ref:r,role:null,ownerState:p,tabIndex:null,...h,style:{...h.style,...d==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${g?-90:90}deg)`}},children:c==="left"?m.jsx(b,{...k}):m.jsx(v,{...T})})});function $W(t){return tr("MuiTabs",t)}const SS=nr("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),YO=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,XO=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,ag=(t,e,r)=>{let n=!1,i=r(t,e);for(;i;){if(i===t.firstChild){if(n)return;n=!0}const a=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||a)i=r(t,i);else{i.focus();return}}},DW=t=>{const{vertical:e,fixed:r,hideScrollbar:n,scrollableX:i,scrollableY:a,centered:l,scrollButtonsHideMobile:c,classes:d}=t;return er({root:["root",e&&"vertical"],scroller:["scroller",r&&"fixed",n&&"hideScrollbar",i&&"scrollableX",a&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",l&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",c&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},$W,d)},zW=tt("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${SS.scrollButtons}`]:e.scrollButtons},{[`& .${SS.scrollButtons}`]:r.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,r.vertical&&e.vertical]}})(Qt(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${SS.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),UW=tt("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.scroller,r.fixed&&e.fixed,r.hideScrollbar&&e.hideScrollbar,r.scrollableX&&e.scrollableX,r.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),HW=tt("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.list,e.flexContainer,r.vertical&&e.flexContainerVertical,r.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),VW=tt("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(Qt(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),qW=tt(_W)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),ZO={},WW=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiTabs"}),i=fo(),a=Bc(),{"aria-label":l,"aria-labelledby":c,action:d,centered:f=!1,children:h,className:g,component:p="div",allowScrollButtonsMobile:S=!1,indicatorColor:b="primary",onChange:v,orientation:k="horizontal",ScrollButtonComponent:T,scrollButtons:A="auto",selectionFollowsFocus:w,slots:R={},slotProps:O={},TabIndicatorProps:M={},TabScrollButtonProps:j={},textColor:$="primary",value:V,variant:N="standard",visibleScrollbar:W=!1,...z}=n,I=N==="scrollable",B=k==="vertical",G=B?"scrollTop":"scrollLeft",U=B?"top":"left",X=B?"bottom":"right",q=B?"clientHeight":"clientWidth",Z=B?"height":"width",F={...n,component:p,allowScrollButtonsMobile:S,indicatorColor:b,orientation:k,vertical:B,scrollButtons:A,textColor:$,variant:N,visibleScrollbar:W,fixed:!I,hideScrollbar:I&&!W,scrollableX:I&&!B,scrollableY:I&&B,centered:f&&!I,scrollButtonsHideMobile:!S},D=DW(F),J=Oo({elementType:R.StartScrollButtonIcon,externalSlotProps:O.startScrollButtonIcon,ownerState:F}),ee=Oo({elementType:R.EndScrollButtonIcon,externalSlotProps:O.endScrollButtonIcon,ownerState:F}),[te,ie]=x.useState(!1),[oe,ke]=x.useState(ZO),[ve,Q]=x.useState(!1),[de,we]=x.useState(!1),[ue,rt]=x.useState(!1),[ye,Le]=x.useState({overflow:"hidden",scrollbarWidth:0}),ut=new Map,Be=x.useRef(null),bt=x.useRef(null),Ot={slots:R,slotProps:{indicator:M,scrollButton:j,...O}},Mt=()=>{const At=Be.current;let Tt;if(At){const kt=At.getBoundingClientRect();Tt={clientWidth:At.clientWidth,scrollLeft:At.scrollLeft,scrollTop:At.scrollTop,scrollWidth:At.scrollWidth,top:kt.top,bottom:kt.bottom,left:kt.left,right:kt.right}}let St;if(At&&V!==!1){const kt=bt.current.children;if(kt.length>0){const Ut=kt[ut.get(V)];St=Ut?Ut.getBoundingClientRect():null}}return{tabsMeta:Tt,tabMeta:St}},et=_i(()=>{const{tabsMeta:At,tabMeta:Tt}=Mt();let St=0,kt;B?(kt="top",Tt&&At&&(St=Tt.top-At.top+At.scrollTop)):(kt=a?"right":"left",Tt&&At&&(St=(a?-1:1)*(Tt[kt]-At[kt]+At.scrollLeft)));const Ut={[kt]:St,[Z]:Tt?Tt[Z]:0};if(typeof oe[kt]!="number"||typeof oe[Z]!="number")ke(Ut);else{const Ft=Math.abs(oe[kt]-Ut[kt]),Nr=Math.abs(oe[Z]-Ut[Z]);(Ft>=1||Nr>=1)&&ke(Ut)}}),ht=(At,{animation:Tt=!0}={})=>{Tt?OW(G,Be.current,At,{duration:i.transitions.duration.standard}):Be.current[G]=At},Bt=At=>{let Tt=Be.current[G];B?Tt+=At:Tt+=At*(a?-1:1),ht(Tt)},_t=()=>{const At=Be.current[q];let Tt=0;const St=Array.from(bt.current.children);for(let kt=0;kt<St.length;kt+=1){const Ut=St[kt];if(Tt+Ut[q]>At){kt===0&&(Tt=At);break}Tt+=Ut[q]}return Tt},it=()=>{Bt(-1*_t())},je=()=>{Bt(_t())},[qe,{onChange:Oe,...ot}]=Sr("scrollbar",{className:wt(D.scrollableX,D.hideScrollbar),elementType:qW,shouldForwardComponentProp:!0,externalForwardedProps:Ot,ownerState:F}),Se=x.useCallback(At=>{Oe?.(At),Le({overflow:null,scrollbarWidth:At})},[Oe]),[vt,Pt]=Sr("scrollButtons",{className:wt(D.scrollButtons,j.className),elementType:BW,externalForwardedProps:Ot,ownerState:F,additionalProps:{orientation:k,slots:{StartScrollButtonIcon:R.startScrollButtonIcon||R.StartScrollButtonIcon,EndScrollButtonIcon:R.endScrollButtonIcon||R.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:J,endScrollButtonIcon:ee}}}),se=()=>{const At={};At.scrollbarSizeListener=I?m.jsx(qe,{...ot,onChange:Se}):null;const St=I&&(A==="auto"&&(ve||de)||A===!0);return At.scrollButtonStart=St?m.jsx(vt,{direction:a?"right":"left",onClick:it,disabled:!ve,...Pt}):null,At.scrollButtonEnd=St?m.jsx(vt,{direction:a?"left":"right",onClick:je,disabled:!de,...Pt}):null,At},le=_i(At=>{const{tabsMeta:Tt,tabMeta:St}=Mt();if(!(!St||!Tt)){if(St[U]<Tt[U]){const kt=Tt[G]+(St[U]-Tt[U]);ht(kt,{animation:At})}else if(St[X]>Tt[X]){const kt=Tt[G]+(St[X]-Tt[X]);ht(kt,{animation:At})}}}),st=_i(()=>{I&&A!==!1&&rt(!ue)});x.useEffect(()=>{const At=fp(()=>{Be.current&&et()});let Tt;const St=Ft=>{Ft.forEach(Nr=>{Nr.removedNodes.forEach(Vr=>{Tt?.unobserve(Vr)}),Nr.addedNodes.forEach(Vr=>{Tt?.observe(Vr)})}),At(),st()},kt=ta(Be.current);kt.addEventListener("resize",At);let Ut;return typeof ResizeObserver<"u"&&(Tt=new ResizeObserver(At),Array.from(bt.current.children).forEach(Ft=>{Tt.observe(Ft)})),typeof MutationObserver<"u"&&(Ut=new MutationObserver(St),Ut.observe(bt.current,{childList:!0})),()=>{At.clear(),kt.removeEventListener("resize",At),Ut?.disconnect(),Tt?.disconnect()}},[et,st]),x.useEffect(()=>{const At=Array.from(bt.current.children),Tt=At.length;if(typeof IntersectionObserver<"u"&&Tt>0&&I&&A!==!1){const St=At[0],kt=At[Tt-1],Ut={root:Be.current,threshold:.99},Ft=wr=>{Q(!wr[0].isIntersecting)},Nr=new IntersectionObserver(Ft,Ut);Nr.observe(St);const Vr=wr=>{we(!wr[0].isIntersecting)},$r=new IntersectionObserver(Vr,Ut);return $r.observe(kt),()=>{Nr.disconnect(),$r.disconnect()}}},[I,A,ue,h?.length]),x.useEffect(()=>{ie(!0)},[]),x.useEffect(()=>{et()}),x.useEffect(()=>{le(ZO!==oe)},[le,oe]),x.useImperativeHandle(d,()=>({updateIndicator:et,updateScrollButtons:st}),[et,st]);const[$e,Xt]=Sr("indicator",{className:wt(D.indicator,M.className),elementType:VW,externalForwardedProps:Ot,ownerState:F,additionalProps:{style:oe}}),Et=m.jsx($e,{...Xt});let yr=0;const fe=x.Children.map(h,At=>{if(!x.isValidElement(At))return null;const Tt=At.props.value===void 0?yr:At.props.value;ut.set(Tt,yr);const St=Tt===V;return yr+=1,x.cloneElement(At,{fullWidth:N==="fullWidth",indicator:St&&!te&&Et,selected:St,selectionFollowsFocus:w,onChange:v,textColor:$,value:Tt,...yr===1&&V===!1&&!At.props.tabIndex?{tabIndex:0}:{}})}),xe=At=>{if(At.altKey||At.shiftKey||At.ctrlKey||At.metaKey)return;const Tt=bt.current,St=Ui(Tt).activeElement;if(St.getAttribute("role")!=="tab")return;let Ut=k==="horizontal"?"ArrowLeft":"ArrowUp",Ft=k==="horizontal"?"ArrowRight":"ArrowDown";switch(k==="horizontal"&&a&&(Ut="ArrowRight",Ft="ArrowLeft"),At.key){case Ut:At.preventDefault(),ag(Tt,St,XO);break;case Ft:At.preventDefault(),ag(Tt,St,YO);break;case"Home":At.preventDefault(),ag(Tt,null,YO);break;case"End":At.preventDefault(),ag(Tt,null,XO);break}},dt=se(),[qt,ir]=Sr("root",{ref:r,className:wt(D.root,g),elementType:zW,externalForwardedProps:{...Ot,...z,component:p},ownerState:F}),[zt,Jt]=Sr("scroller",{ref:Be,className:D.scroller,elementType:UW,externalForwardedProps:Ot,ownerState:F,additionalProps:{style:{overflow:ye.overflow,[B?`margin${a?"Left":"Right"}`:"marginBottom"]:W?void 0:-ye.scrollbarWidth}}}),[jt,hr]=Sr("list",{ref:bt,className:wt(D.list,D.flexContainer),elementType:HW,externalForwardedProps:Ot,ownerState:F,getSlotProps:At=>({...At,onKeyDown:Tt=>{xe(Tt),At.onKeyDown?.(Tt)}})});return m.jsxs(qt,{...ir,children:[dt.scrollButtonStart,dt.scrollbarSizeListener,m.jsxs(zt,{...Jt,children:[m.jsx(jt,{"aria-label":l,"aria-labelledby":c,"aria-orientation":k==="vertical"?"vertical":null,role:"tablist",...hr,children:fe}),te&&Et]}),dt.scrollButtonEnd]})}),tj=({style:t,...e})=>m.jsx(ed,{viewBox:"0 0 28 28",style:{background:"linear-gradient(150deg, #ff1f62, #49007a 160%)",borderRadius:3,...t},...e,children:m.jsx("path",{fill:"white",d:"M 0 0 L 0 20 L 4 21 A 1 1 0 0 0 8 21 L 8 6 A 1 1 0 0 0 4 6 L 4 21 L 0 20 L 0 0 L 12 0 L 12 23 L 22 23 A 1 1 0 0 0 22 19 L 16 19 L 16 6 A 1 1 0 0 0 12 6 L 12 0 L 20 0 L 20 13 A 1 1 0 0 0 24 13 L 24 6 A 1 1 0 0 0 20 6 L 20 0"})});function KW(t){return tr("MuiTableHead",t)}nr("MuiTableHead",["root"]);const GW=t=>{const{classes:e}=t;return er({root:["root"]},KW,e)},YW=tt("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),XW={variant:"head"},QO="thead",ZW=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiTableHead"}),{className:i,component:a=QO,...l}=n,c={...n,component:a},d=GW(c);return m.jsx(Dm.Provider,{value:XW,children:m.jsx(YW,{as:a,className:wt(d.root,i),ref:r,role:a===QO?null:"rowgroup",ownerState:c,...l})})}),Hn=Ln.forwardRef(function({children:e},r){return m.jsx(An,{ref:r,variant:"h5",sx:{fontWeight:"bold",pb:.5,pt:1},children:e})}),xf=({children:t,...e})=>m.jsx(co,{target:"_blank",color:"textPrimary",underline:"always",...e,children:t}),sg=e1(t=>({head:{backgroundColor:t.palette.action.hover},root:{border:0}}))(Us),JO=e1(t=>({root:{}}))(Us),Nf=[{name:"react",projectLink:"https://react.dev",license:"MIT",licenseLink:"https://github.com/facebook/react/blob/v18.0.0/LICENSE",purpose:"UI"},{name:"Material UI",projectLink:"https://mui.com/material-ui",license:"MIT",licenseLink:"https://github.com/mui/material-ui/blob/v4.x/LICENSE",purpose:"UI"},{name:"Roboto",projectLink:"https://fonts.google.com/specimen/Roboto",license:"Apache 2.0",licenseLink:"https://fonts.google.com/specimen/Roboto/license",purpose:"UI"},{name:"Dexie.js",projectLink:"https://dexie.org",license:"Apache 2.0",licenseLink:"https://github.com/dexie/Dexie.js/blob/master/LICENSE",purpose:"Persistence"},{name:"flatten-interval-tree",projectLink:"https://github.com/alexbol99/flatten-interval-tree",license:"MIT",licenseLink:"https://github.com/alexbol99/flatten-interval-tree/blob/master/LICENSE",purpose:"Subtitle rendering"},{name:"srt-parser",projectLink:"https://github.com/qgustavor/srt-parser",license:"MIT",licenseLink:"https://github.com/qgustavor/srt-parser/blob/master/LICENSE",purpose:"Subtitle parsing"},{name:"ass-compiler",projectLink:"https://github.com/weizhenye/ass-compiler",license:"MIT",licenseLink:"https://github.com/weizhenye/ass-compiler/blob/master/LICENSE",purpose:"Subtitle parsing"},{name:"pgs-parser",projectLink:"https://github.com/killergerbah/pgs-parser",license:"MIT",licenseLink:"https://github.com/killergerbah/pgs-parser/blob/main/LICENSE.md",purpose:"Subtitle parsing"},{name:"fast-xml-parser",projectLink:"https://github.com/NaturalIntelligence/fast-xml-parser",license:"MIT",licenseLink:"https://github.com/NaturalIntelligence/fast-xml-parser/blob/master/LICENSE",purpose:"Subtitle parsing"},{name:"vtt.js",projectLink:"https://github.com/mozilla/vtt.js",license:"Apache 2.0",licenseLink:"https://github.com/mozilla/vtt.js/blob/master/LICENSE",purpose:"Subtitle parsing"},{name:"semver",projectLink:"https://github.com/npm/node-semver",license:"ISC",licenseLink:"https://github.com/npm/node-semver/blob/main/LICENSE",purpose:"Version string parsing"},{name:"hotkeys-js",projectLink:"https://github.com/jaywcjlove/hotkeys-js",license:"MIT",licenseLink:"https://github.com/jaywcjlove/hotkeys-js/blob/master/LICENSE",purpose:"Keyboard shortcuts"},{name:"i18next",projectLink:"https://www.i18next.com",license:"MIT",licenseLink:"https://github.com/i18next/i18next/blob/master/LICENSE",purpose:"Localization"},{name:"lamejs",projectLink:"https://lame.sourceforge.io",license:"LGPL",licenseLink:"https://github.com/zhuker/lamejs/blob/master/LICENSE",purpose:"MP3 encoding"},{name:"sanitize-filename",projectLink:"https://github.com/parshap/node-sanitize-filename",license:"ISC+WTFPL",licenseLink:"https://github.com/parshap/node-sanitize-filename/blob/master/LICENSE.md",purpose:"Filename sanitization"},{name:"uuidjs",projectLink:"https://github.com/uuidjs/uuid",license:"MIT",licenseLink:"https://github.com/uuidjs/uuid/blob/main/LICENSE.md",purpose:"UUID generation"},{name:"url",projectLink:"https://github.com/defunctzombie/node-url",license:"MIT",licenseLink:"https://github.com/defunctzombie/node-url/blob/master/LICENSE",purpose:"Polyfill"},{name:"m3u8-parser",projectLink:"https://github.com/videojs/m3u8-parser",license:"Apache 2.0",licenseLink:"https://github.com/videojs/m3u8-parser/blob/main/LICENSE",purpose:"Subtitle detection",extension:!0},{name:"mpd-parser",projectLink:"https://github.com/videojs/mpd-parser",license:"Apache 2.0",licenseLink:"https://github.com/videojs/mpd-parser/blob/main/LICENSE",purpose:"Subtitle detection",extension:!0}],Cx={};for(const t of Nf){let e=Cx[t.purpose]??0;Cx[t.purpose]=e+1}const QW=({appVersion:t,extensionVersion:e})=>{const r=om(),{t:n}=Wr(),i={};return m.jsxs(Hg,{p:1,style:{width:"100%"},children:[m.jsxs(Hg,{style:{width:"100%",textAlign:"center"},children:[m.jsx(tj,{style:{width:48,height:48}}),m.jsx("br",{}),m.jsx(xf,{variant:"h5",href:"https://github.com/killergerbah/asbplayer",children:"asbplayer"}),m.jsx("br",{}),t&&m.jsxs(m.Fragment,{children:[m.jsxs(An,{variant:"caption",children:[n("about.appVersion")," ",m.jsx(xf,{href:`https://github.com/killergerbah/asbplayer/commit/${t}`,children:t})]}),m.jsx("br",{})]}),e&&m.jsxs(An,{variant:"caption",children:[n("about.extensionVersion")," ",m.jsx(xf,{href:`https://github.com/killergerbah/asbplayer/releases/tag/v${e}`,children:e})]})]}),m.jsx("p",{}),m.jsx(Hn,{children:n("about.license")}),m.jsx(Ei,{variant:"outlined",style:{padding:r.spacing(2),height:"auto"},children:m.jsxs(An,{variant:"body2",children:["MIT License",m.jsx("br",{}),m.jsx("br",{}),"Copyright (c) 2020-2026 asbplayer authors",m.jsx("br",{}),m.jsx("br",{}),'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:',m.jsx("br",{}),m.jsx("br",{}),"The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.",m.jsx("br",{}),m.jsx("br",{}),'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.']})}),m.jsx("br",{}),m.jsx(Hn,{children:n("about.deps")}),m.jsx(X1,{variant:"outlined",component:Ei,style:{height:"auto"},children:m.jsxs(G1,{style:{margin:0,padding:0},children:[m.jsx(ZW,{children:m.jsxs(Ug,{children:[m.jsx(sg,{children:n("about.depName")}),m.jsx(sg,{children:n("about.license")}),m.jsx(sg,{children:n("about.purpose")})]})}),m.jsx(Y1,{children:Nf.filter(a=>!a.extension||e!==void 0).map((a,l)=>{let c;i[a.purpose]===void 0?c=!1:c=!0,i[a.purpose]=!0;let d=sg,f=Nf[l+1]?.purpose;f!==void 0&&a.purpose!==f&&(d=JO);const h=a.purpose===Nf[Nf.length-1].purpose;return m.jsxs(Ug,{children:[m.jsxs(d,{children:[a.projectLink&&m.jsx(xf,{href:a.projectLink,children:a.name}),!a.projectLink&&a.name]}),m.jsx(d,{children:m.jsx(xf,{href:a.licenseLink,children:a.license})}),!c&&m.jsx(JO,{style:h?{borderBottom:0}:{},rowSpan:Cx[a.purpose],children:a.purpose})]},a.name)})})]})})]})};var ni=(t=>(t[t.ankiConnect=1]="ankiConnect",t[t.deck=2]="deck",t[t.noteType=3]="noteType",t[t.ankiFields=4]="ankiFields",t[t.testCard=5]="testCard",t[t.done=6]="done",t))(ni||{}),cs=(t=>(t[t.up=1]="up",t[t.down=2]="down",t))(cs||{});const JW=({show:t,disabled:e,ankiConnectUrlError:r,children:n,onConfirm:i})=>m.jsx(Kl,{show:t,disabled:e,placement:"bottom",text:m.jsxs(m.Fragment,{children:[m.jsx(Ci,{i18nKey:"ftue.ankiConnect",components:[m.jsx(co,{href:"https://ankiweb.net/shared/info/2055492159",target:"_blank",children:"AnkiConnect"},0),m.jsx(co,{href:"https://apps.ankiweb.net/",target:"_blank",children:"Anki"},1)]}),r&&m.jsxs(m.Fragment,{children:[m.jsx("p",{}),m.jsx(Ci,{i18nKey:"ftue.ankiConnectError"})]})]}),onConfirm:i,children:n}),eK=({noDecks:t,show:e,disabled:r,children:n,onCreateDefaultDeck:i})=>m.jsx(Kl,{show:e,placement:"bottom",disabled:r,text:m.jsxs(m.Fragment,{children:[m.jsx(Ci,{i18nKey:"ftue.deck",components:[m.jsx("b",{children:"Deck"},0)]}),t&&m.jsxs(m.Fragment,{children:[m.jsx("p",{}),m.jsx(Ci,{i18nKey:"ftue.defaultDeck",components:[m.jsx(co,{href:"#",onClick:i,children:"create the default one"},0)]})]})]}),children:n}),Cr=({label:t,...e})=>m.jsxs(xo,{fullWidth:!0,children:[m.jsx(So,{children:t}),m.jsx(ra,{...e})]}),tK=lr(m.jsx("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown"),rK=lr(m.jsx("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp"),nK=lr(m.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),iK=lr(m.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),oK=lr(m.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),aK=lr(m.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),sK=yn(t=>({formControl:{marginLeft:t.spacing(1),marginBottom:t.spacing(1),minWidth:120},root:{display:"flex",flexDirection:"row",justifyContent:"end",alignItems:"flex-end"},hidden:{opacity:.5}})),Uo=Ln.forwardRef(function({label:e,value:r,selections:n,removable:i,display:a,onDisplayChange:l,disabledDirection:c,onValueChange:d,onOrderChange:f,onRemoval:h,onOpen:g,...p},S){const b=sK(),{t:v}=Wr(),[k,T]=x.useState(!1),[A,w]=x.useState(),[R,O]=x.useState(!1),[M,j]=x.useState(),$=z=>{T(!1),f?.(z)},V=z=>{n!==void 0&&(j(z),O(!0),g?.())},N=a===!1?`${b.root} ${b.hidden}`:b.root,W=n!==void 0&&r!==""&&!n.includes(r);return m.jsxs("div",{ref:S,className:N,...p,children:[m.jsx(Cr,{label:e,value:r,onClick:z=>V(z.currentTarget),onChange:z=>d(z.target.value),fullWidth:!0,error:W,helperText:W?v("settings.missingFieldError",{field:r}):"",color:"primary",slotProps:{input:{endAdornment:m.jsxs(yi,{style:{marginRight:-12},position:"end",children:[(i||f)&&m.jsx(pr,{onClick:z=>{z.stopPropagation(),w(z.currentTarget),T(!0)},children:m.jsx(D1,{fontSize:"small"})}),m.jsxs(pr,{disabled:!n,onClick:z=>V(z.currentTarget),children:[R&&m.jsx(rK,{fontSize:"small"}),!R&&m.jsx(tK,{fontSize:"small"})]})]})}},children:n&&["",...n].map(z=>m.jsx(ia,{value:z,children:z===""?"":z},z))}),m.jsx(Ys,{disableEnforceFocus:!0,open:n!==void 0&&R,anchorEl:M,onClose:()=>O(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},children:m.jsx(Ua,{children:n&&["",...n].map(z=>m.jsx(ui,{disablePadding:!0,children:m.jsx(Pi,{onClick:()=>{d(z),O(!1)},children:z===""?"":z})},z))})}),k&&m.jsx(Ys,{disableEnforceFocus:!0,open:k,anchorEl:A,onClose:()=>T(!1),anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"right"},children:m.jsxs(Ua,{children:[c!==cs.up&&f!==void 0&&m.jsx(ui,{disablePadding:!0,onClick:()=>$(cs.up),children:m.jsxs(Pi,{children:[m.jsx(Qo,{children:m.jsx(nK,{fontSize:"small"})}),m.jsx(Qn,{children:v("settings.moveUpInCardCreator")})]})}),a!==void 0&&l!==void 0&&m.jsx(ui,{disablePadding:!0,onClick:()=>l(!a),children:m.jsxs(Pi,{children:[m.jsxs(Qo,{children:[a===!1&&m.jsx(aK,{fontSize:"small"}),a===!0&&m.jsx(oK,{fontSize:"small"})]}),m.jsx(Qn,{children:v(a?"settings.hideInCardCreator":"settings.showInCardCreator")})]})}),c!==cs.down&&f!==void 0&&m.jsx(ui,{disablePadding:!0,onClick:()=>$(cs.down),children:m.jsxs(Pi,{children:[m.jsx(Qo,{children:m.jsx(iK,{fontSize:"small"})}),m.jsx(Qn,{children:v("settings.moveDownInCardCreator")})]})}),i&&m.jsx(ui,{disablePadding:!0,onClick:()=>h?.(),children:m.jsxs(Pi,{children:[m.jsx(Qo,{children:m.jsx(Lm,{fontSize:"small"})}),m.jsx(Qn,{children:v("action.delete")})]})})]})})]})}),rj=lr(m.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),Vg=lr(m.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),lK=({noNoteTypes:t,show:e,disabled:r,children:n,onCreateDefaultNoteType:i})=>m.jsx(Kl,{show:e,placement:"bottom",disabled:r,text:m.jsxs(m.Fragment,{children:[m.jsx(Ci,{i18nKey:"ftue.noteType",components:[m.jsx("b",{children:"Note Type"},0),m.jsx("b",{children:"Note Type"},1)]}),t&&m.jsxs(m.Fragment,{children:[m.jsx("p",{}),m.jsx(Ci,{i18nKey:"ftue.defaultNoteType",components:[m.jsx(co,{href:"#",onClick:i,children:"create the default one"},0)]})]})]}),children:n}),eP="Sentences",tP={modelName:"Sentence Card",inOrderFields:["Sentence","Word","Definition","Image","Audio","Source","URL"],css:`.card {
  font-family: arial;
  font-size: 20px;
  text-align: center;
  color: white;
  background-color: black;
}

.image {
  width: auto;
  height: auto;
  max-width: 500px;
  max-height: 500px;
  margin-left: auto;
  margin-right: auto;
}

.front {
  font-size: 30px;
}`,cardTemplates:[{Front:'<div class="front">{{Sentence}}</div>',Back:`<div class="front">{{Sentence}}</div>
<hr id=answer>
{{Definition}}
<p/>
<div class="image">
{{Image}}
</div>
<p/>
{{Audio}}
<p/>
{{Source}}
<p/>
{{URL}}`}]};function cK({onAddCustomField:t}){const{t:e}=Wr(),[r,n]=x.useState("");return m.jsx(Cr,{label:e("settings.addCustomField"),placeholder:e("settings.customFieldName"),fullWidth:!0,value:r,color:"primary",onChange:i=>n(i.target.value),slotProps:{input:{endAdornment:m.jsx(yi,{position:"end",children:m.jsx(pr,{disabled:r.trim()==="",onClick:()=>{t(r.trim()),n("")},children:m.jsx(rj,{fontSize:"small"})})})}}})}const uK=({settings:t,extensionInstalled:e,extensionSupportsOrderableAnkiFields:r,isMobile:n,insideApp:i,inTutorial:a,onSettingChanged:l,onSettingsChanged:c,tutorialStep:d,onTutorialStepChanged:f,anki:h,testCard:g})=>{const{t:p}=Wr(),[S,b]=x.useState(),[v,k]=x.useState(),[T,A]=x.useState(),[w,R]=x.useState(),[O,M]=x.useState(),j=x.useCallback(ye=>{l("customAnkiFields",{...t.customAnkiFields,[ye]:""})},[t.customAnkiFields,l]),$=x.useCallback((ye,Le)=>{l("customAnkiFields",{...t.customAnkiFields,[ye]:Le})},[t.customAnkiFields,l]),V=x.useCallback(ye=>{const Le={...t.customAnkiFields};delete Le[ye],l("customAnkiFields",Le)},[l,t.customAnkiFields]),{ankiConnectUrl:N,deck:W,noteType:z,sentenceField:I,definitionField:B,audioField:G,imageField:U,wordField:X,sourceField:q,urlField:Z,track1Field:F,track2Field:D,track3Field:J,ankiFieldSettings:ee,customAnkiFields:te,customAnkiFieldSettings:ie,tags:oe}=t,ke=x.useCallback(async()=>{try{if(i)try{await h.requestPermission(N)}catch{await h.version(N)}else await h.version(N);b(await h.deckNames(N));const ye=await h.modelNames(N);k(ye);const Le=new Set;for(const ut of ye){const Be=await h.modelFieldNames(ut);for(const bt of Be)Le.add(bt)}A(Array.from(Le).sort((ut,Be)=>ut.localeCompare(Be))),R(void 0)}catch(ye){console.error(ye),b(void 0),k(void 0),ye instanceof Error?R(ye.message):R(typeof ye=="string"?ye:String(ye))}},[h,N,i]);x.useEffect(()=>{let ye=!1;const Le=setTimeout(async()=>{ye||ke()},1e3);return()=>{ye=!0,clearTimeout(Le)}},[h,N,ke]),x.useEffect(()=>{if(!z||w)return;let ye=!1;async function Le(){try{if(ye)return;M(await h.modelFieldNames(z,N)),R(void 0)}catch(ut){if(ye)return;console.error(ut),M(void 0),ut instanceof Error?R(ut.message):R(typeof ut=="string"?ut:String(ut))}}return Le(),()=>{ye=!0}},[h,z,N,w]);const ve=x.useCallback((ye,Le,ut)=>{if(ye===cs.up&&ut===0||ye===cs.down&&ut===Le.length-1)return;const Be=Le[ut],bt=ye===cs.up?Le[ut-1]:Le[ut+1];let Ot,Mt;const et={[Be.key]:{...Be.field,order:bt.field.order}},ht={[bt.key]:{...bt.field,order:Be.field.order}};bt.custom?Ot={...ie,...ht}:Mt={...ee,...ht},Be.custom?Ot={...Ot??ie,...et}:Mt={...Mt??ee,...et},c({ankiFieldSettings:Mt??ee,customAnkiFieldSettings:Ot??ie})},[c,ie,ee]),Q=x.useCallback((ye,Le)=>{const ut={...ye.field,display:Le};if(ye.custom){const Be={...ie,[ye.key]:ut};c({customAnkiFieldSettings:Be})}else{const Be={...ee,[ye.key]:ut};c({ankiFieldSettings:Be})}},[ie,ee,c]),de=x.useCallback(()=>{h.createDeck(eP).then(()=>ke()).then(()=>l("deck",eP)).catch(console.error)},[h,ke,l]);x.useEffect(()=>{d===ni.deck&&W&&f(ni.noteType)},[d,f,W]);const we=x.useCallback(()=>{h.createModel(tP).then(()=>ke()).then(()=>l("noteType",tP.modelName)).then(()=>Promise.all([l("sentenceField","Sentence"),l("definitionField","Definition"),l("wordField","Word"),l("audioField","Audio"),l("imageField","Image"),l("sourceField","Source"),l("urlField","URL")])).catch(console.error),d===ni.ankiFields&&f(ni.testCard)},[h,d,ke,l,f]),ue=x.useCallback(async()=>{g!==void 0&&(d===ni.testCard&&f(ni.done),await M7(await g(),t,n?"default":"gui"))},[d,t,n,g,f]),rt=s2(t);return m.jsxs(Po,{spacing:1,children:[m.jsx(JW,{show:d===ni.ankiConnect,disabled:!a,ankiConnectUrlError:!!w,onConfirm:()=>{f(ni.deck)},children:m.jsx(Cr,{label:p("settings.ankiConnectUrl"),value:N,error:!!w,helperText:w,color:"primary",onChange:ye=>l("ankiConnectUrl",ye.target.value),slotProps:{input:{endAdornment:m.jsx(yi,{position:"end",children:m.jsx(pr,{onClick:ke,children:m.jsx(Vg,{})})})}}})}),i&&m.jsx(oM,{children:m.jsx(Ci,{i18nKey:"settings.corsHelperText",values:{origin},components:[m.jsx(co,{color:"primary",target:"_blank",rel:"noreferrer",href:"https://youtu.be/Mv7fEVb6PHo?t=44",children:"video"},0)]})}),m.jsx(eK,{show:d===ni.deck&&!w&&!W,disabled:!a,noDecks:S===void 0||S.length===0,onCreateDefaultDeck:de,children:m.jsx(Uo,{label:p("settings.deck"),value:W,selections:S,onValueChange:ye=>l("deck",ye),onOpen:()=>{d===ni.deck&&f(ni.noteType)}})}),m.jsx(lK,{show:d===ni.noteType&&!!W&&!z,disabled:!a,noNoteTypes:v===void 0||v.length===0,onCreateDefaultNoteType:we,children:m.jsx(Uo,{label:p("settings.noteType"),value:z,selections:v,onValueChange:ye=>l("noteType",ye),onOpen:()=>{d===ni.noteType&&f(ni.ankiFields)}})}),rt.map((ye,Le)=>{const ut=ye.custom?`custom_${ye.key}`:`standard_${ye.key}`,Be=!e||r?et=>ve(et,rt,Le):void 0,bt=!e||r?et=>Q(ye,et):void 0;let Ot;Le===0?Ot=cs.up:Le===rt.length-1&&(Ot=cs.down);const Mt={onOrderChange:Be,onDisplayChange:bt,disabledDirection:Ot,display:ye.field.display};return m.jsxs(Ln.Fragment,{children:[!ye.custom&&ye.key==="sentence"&&m.jsx(Kl,{placement:"bottom",disabled:!a,show:d===ni.ankiFields&&!!W&&!!z,disableArrow:!0,text:p("ftue.ankiFields"),onConfirm:()=>f(ni.testCard),children:m.jsx(Uo,{label:p("settings.sentenceField"),value:I,selections:O,onValueChange:et=>l("sentenceField",et),...Mt})}),!ye.custom&&ye.key==="definition"&&m.jsx(Uo,{label:p("settings.definitionField"),value:B,selections:O,onValueChange:et=>l("definitionField",et),...Mt}),!ye.custom&&ye.key==="word"&&m.jsx(Uo,{label:p("settings.wordField"),value:X,selections:O,onValueChange:et=>l("wordField",et),...Mt}),!ye.custom&&ye.key==="audio"&&m.jsx(Uo,{label:p("settings.audioField"),value:G,selections:O,onValueChange:et=>l("audioField",et),...Mt}),!ye.custom&&ye.key==="image"&&m.jsx(Uo,{label:p("settings.imageField"),value:U,selections:O,onValueChange:et=>l("imageField",et),...Mt}),!ye.custom&&ye.key==="source"&&m.jsx(Uo,{label:p("settings.sourceField"),value:q,selections:O,onValueChange:et=>l("sourceField",et),...Mt}),!ye.custom&&ye.key==="url"&&m.jsx(Uo,{label:p("settings.urlField"),value:Z,selections:O,onValueChange:et=>l("urlField",et),...Mt}),!ye.custom&&ye.key==="track1"&&(!e||r)&&m.jsx(Uo,{label:p("settings.track1Field"),value:F,selections:O,onValueChange:et=>l("track1Field",et),...Mt}),!ye.custom&&ye.key==="track2"&&(!e||r)&&m.jsx(Uo,{label:p("settings.track2Field"),value:D,selections:O,onValueChange:et=>l("track2Field",et),...Mt}),!ye.custom&&ye.key==="track3"&&(!e||r)&&m.jsx(Uo,{label:p("settings.track3Field"),value:J,selections:O,onValueChange:et=>l("track3Field",et),...Mt}),ye.custom&&m.jsx(Uo,{label:`${ye.key}`,value:te[ye.key],selections:O,onValueChange:et=>$(ye.key,et),onRemoval:()=>V(ye.key),removable:!0,...Mt})]},ut)}),m.jsx(cK,{onAddCustomField:j}),m.jsx(Nm,{textFieldComponent:Cr,label:p("settings.tags"),fullWidth:!0,color:"primary",items:oe,onItemsChange:ye=>l("tags",ye)}),g&&m.jsx(Kl,{placement:"top",disabled:!a,show:d===ni.testCard,text:p("ftue.testCard"),onConfirm:()=>f(ni.done),children:m.jsx(fi,{variant:"contained",onClick:ue,children:p("settings.createTestCard")})})]})};function dK(t){return tr("MuiFormControlLabel",t)}const If=nr("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),fK=t=>{const{classes:e,disabled:r,labelPlacement:n,error:i,required:a}=t,l={root:["root",r&&"disabled",`labelPlacement${Ye(n)}`,i&&"error",a&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",i&&"error"]};return er(l,dK,e)},pK=tt("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${If.label}`]:e.label},e.root,e[`labelPlacement${Ye(r.labelPlacement)}`]]}})(Qt(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${If.disabled}`]:{cursor:"default"},[`& .${If.label}`]:{[`&.${If.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),hK=tt("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(Qt(({theme:t})=>({[`&.${If.error}`]:{color:(t.vars||t).palette.error.main}}))),gK=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiFormControlLabel"}),{checked:i,className:a,componentsProps:l={},control:c,disabled:d,disableTypography:f,inputRef:h,label:g,labelPlacement:p="end",name:S,onChange:b,required:v,slots:k={},slotProps:T={},value:A,...w}=n,R=qa(),O=d??c.props.disabled??R?.disabled,M=v??c.props.required,j={disabled:O,required:M};["checked","name","onChange","value","inputRef"].forEach(G=>{typeof c.props[G]>"u"&&typeof n[G]<"u"&&(j[G]=n[G])});const $=Xl({props:n,muiFormControl:R,states:["error"]}),V={...n,disabled:O,labelPlacement:p,required:M,error:$.error},N=fK(V),W={slots:k,slotProps:{...l,...T}},[z,I]=Sr("typography",{elementType:An,externalForwardedProps:W,ownerState:V});let B=g;return B!=null&&B.type!==An&&!f&&(B=m.jsx(z,{component:"span",...I,className:wt(N.label,I?.className),children:B})),m.jsxs(pK,{className:wt(N.root,a),ownerState:V,ref:r,...w,children:[x.cloneElement(c,j),M?m.jsxs("div",{children:[B,m.jsxs(hK,{ownerState:V,"aria-hidden":!0,className:N.asterisk,children:["","*"]})]}):B]})}),Ur=Jx(gK)(({theme:t})=>({"&:hover .MuiSwitch-thumb":{outline:`9px solid ${t.palette.primary.main}29`},"&:hover .MuiRadio-colorPrimary":{background:`${t.palette.primary.main}29`}})),Zn=Jx(Ur)(()=>({justifyContent:"space-between",marginLeft:0,marginRight:-8}));function mK(t){return tr("PrivateSwitchBase",t)}nr("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const yK=t=>{const{classes:e,checked:r,disabled:n,edge:i}=t,a={root:["root",r&&"checked",n&&"disabled",i&&`edge${Ye(i)}`],input:["input"]};return er(a,mK,e)},bK=tt(Gs,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),vK=tt("input",{name:"MuiSwitchBase",shouldForwardProp:Hi})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Z1=x.forwardRef(function(e,r){const{autoFocus:n,checked:i,checkedIcon:a,defaultChecked:l,disabled:c,disableFocusRipple:d=!1,edge:f=!1,icon:h,id:g,inputProps:p,inputRef:S,name:b,onBlur:v,onChange:k,onFocus:T,readOnly:A,required:w=!1,tabIndex:R,type:O,value:M,slots:j={},slotProps:$={},...V}=e,[N,W]=Hs({controlled:i,default:!!l,name:"SwitchBase",state:"checked"}),z=qa(),I=ie=>{T&&T(ie),z&&z.onFocus&&z.onFocus(ie)},B=ie=>{v&&v(ie),z&&z.onBlur&&z.onBlur(ie)},G=ie=>{if(ie.nativeEvent.defaultPrevented)return;const oe=ie.target.checked;W(oe),k&&k(ie,oe)};let U=c;z&&typeof U>"u"&&(U=z.disabled);const X=O==="checkbox"||O==="radio",q={...e,checked:N,disabled:U,disableFocusRipple:d,edge:f},Z=yK(q),F={slots:j,slotProps:{input:p,...$}},[D,J]=Sr("root",{ref:r,elementType:bK,className:Z.root,shouldForwardComponentProp:!0,externalForwardedProps:{...F,component:"span",...V},getSlotProps:ie=>({...ie,onFocus:oe=>{ie.onFocus?.(oe),I(oe)},onBlur:oe=>{ie.onBlur?.(oe),B(oe)}}),ownerState:q,additionalProps:{centerRipple:!0,focusRipple:!d,disabled:U,role:void 0,tabIndex:null}}),[ee,te]=Sr("input",{ref:S,elementType:vK,className:Z.input,externalForwardedProps:F,getSlotProps:ie=>({onChange:oe=>{ie.onChange?.(oe),G(oe)}}),ownerState:q,additionalProps:{autoFocus:n,checked:i,defaultChecked:l,disabled:U,id:X?g:void 0,name:b,readOnly:A,required:w,tabIndex:R,type:O,...O==="checkbox"&&M===void 0?{}:{value:M}}});return m.jsxs(D,{...J,children:[m.jsx(ee,{...te}),N?a:h]})}),SK=lr(m.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),xK=lr(m.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),wK=tt("span",{name:"MuiRadioButtonIcon",shouldForwardProp:Hi})({position:"relative",display:"flex"}),kK=tt(SK,{name:"MuiRadioButtonIcon"})({transform:"scale(1)"}),CK=tt(xK,{name:"MuiRadioButtonIcon"})(Qt(({theme:t})=>({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}}]})));function nj(t){const{checked:e=!1,classes:r={},fontSize:n}=t,i={...t,checked:e};return m.jsxs(wK,{className:r.root,ownerState:i,children:[m.jsx(kK,{fontSize:n,className:r.background,ownerState:i}),m.jsx(CK,{fontSize:n,className:r.dot,ownerState:i})]})}const ij=x.createContext(void 0);function TK(){return x.useContext(ij)}function EK(t){return tr("MuiRadio",t)}const rP=nr("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),AK=t=>{const{classes:e,color:r,size:n}=t,i={root:["root",`color${Ye(r)}`,n!=="medium"&&`size${Ye(n)}`]};return{...e,...er(i,EK,e)}},RK=tt(Z1,{shouldForwardProp:t=>Hi(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size!=="medium"&&e[`size${Ye(r.size)}`],e[`color${Ye(r.color)}`]]}})(Qt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,[`&.${rP.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:jr(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(Dn()).map(([e])=>({props:{color:e,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:jr(t.palette[e].main,t.palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(Dn()).map(([e])=>({props:{color:e,disabled:!1},style:{[`&.${rP.checked}`]:{color:(t.vars||t).palette[e].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function OK(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}const PK=m.jsx(nj,{checked:!0}),_K=m.jsx(nj,{}),Jr=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiRadio"}),{checked:i,checkedIcon:a=PK,color:l="primary",icon:c=_K,name:d,onChange:f,size:h="medium",className:g,disabled:p,disableRipple:S=!1,slots:b={},slotProps:v={},inputProps:k,...T}=n,A=qa();let w=p;A&&typeof w>"u"&&(w=A.disabled),w??=!1;const R={...n,disabled:w,disableRipple:S,color:l,size:h},O=AK(R),M=TK();let j=i;const $=US(f,M&&M.onChange);let V=d;M&&(typeof j>"u"&&(j=OK(M.value,n.value)),typeof V>"u"&&(V=M.name));const N=v.input??k,[W,z]=Sr("root",{ref:r,elementType:RK,className:wt(O.root,g),shouldForwardComponentProp:!0,externalForwardedProps:{slots:b,slotProps:v,...T},getSlotProps:I=>({...I,onChange:(B,...G)=>{I.onChange?.(B,...G),$(B,...G)}}),ownerState:R,additionalProps:{type:"radio",icon:x.cloneElement(c,{fontSize:c.props.fontSize??h}),checkedIcon:x.cloneElement(a,{fontSize:a.props.fontSize??h}),disabled:w,name:V,checked:j,slots:b,slotProps:{input:typeof N=="function"?N(R):N}}});return m.jsx(W,{...z,classes:O})});function MK(t){return tr("MuiSwitch",t)}const bo=nr("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),jK=t=>{const{classes:e,edge:r,size:n,color:i,checked:a,disabled:l}=t,c={root:["root",r&&`edge${Ye(r)}`,`size${Ye(n)}`],switchBase:["switchBase",`color${Ye(i)}`,a&&"checked",l&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},d=er(c,MK,e);return{...e,...d}},NK=tt("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.edge&&e[`edge${Ye(r.edge)}`],e[`size${Ye(r.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${bo.thumb}`]:{width:16,height:16},[`& .${bo.switchBase}`]:{padding:4,[`&.${bo.checked}`]:{transform:"translateX(16px)"}}}}]}),IK=tt(Z1,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.switchBase,{[`& .${bo.input}`]:e.input},r.color!=="default"&&e[`color${Ye(r.color)}`]]}})(Qt(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${bo.checked}`]:{transform:"translateX(20px)"},[`&.${bo.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${bo.checked} + .${bo.track}`]:{opacity:.5},[`&.${bo.disabled} + .${bo.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${bo.input}`]:{left:"-100%",width:"300%"}})),Qt(({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:jr(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(Dn(["light"])).map(([e])=>({props:{color:e},style:{[`&.${bo.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:jr(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${bo.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?Ks(t.palette[e].main,.62):Ws(t.palette[e].main,.55)}`}},[`&.${bo.checked} + .${bo.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]}))),LK=tt("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(Qt(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),FK=tt("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(Qt(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),In=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiSwitch"}),{className:i,color:a="primary",edge:l=!1,size:c="medium",sx:d,slots:f={},slotProps:h={},...g}=n,p={...n,color:a,edge:l,size:c},S=jK(p),b={slots:f,slotProps:h},[v,k]=Sr("root",{className:wt(S.root,i),elementType:NK,externalForwardedProps:b,ownerState:p,additionalProps:{sx:d}}),[T,A]=Sr("thumb",{className:S.thumb,elementType:FK,externalForwardedProps:b,ownerState:p}),w=m.jsx(T,{...A}),[R,O]=Sr("track",{className:S.track,elementType:LK,externalForwardedProps:b,ownerState:p});return m.jsxs(v,{...k,children:[m.jsx(IK,{type:"checkbox",icon:w,checkedIcon:w,ref:r,ownerState:p,...g,classes:{...S,root:S.switchBase},slots:{...f.switchBase&&{root:f.switchBase},...f.input&&{input:f.input}},slotProps:{...h.switchBase&&{root:typeof h.switchBase=="function"?h.switchBase(p):h.switchBase},...h.input&&{input:typeof h.input=="function"?h.input(p):h.input}}}),m.jsx(R,{...O})]})});function BK(t){return tr("MuiFormGroup",t)}nr("MuiFormGroup",["root","row","error"]);const $K=t=>{const{classes:e,row:r,error:n}=t;return er({root:["root",r&&"row",n&&"error"]},BK,e)},DK=tt("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),zK=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiFormGroup"}),{className:i,row:a=!1,...l}=n,c=qa(),d=Xl({props:n,muiFormControl:c,states:["error"]}),f={...n,row:a,error:d.error},h=$K(f);return m.jsx(DK,{className:wt(h.root,i),ownerState:f,ref:r,...l})});function UK(t){return tr("MuiRadioGroup",t)}nr("MuiRadioGroup",["root","row","error"]);const HK=t=>{const{classes:e,row:r,error:n}=t;return er({root:["root",r&&"row",n&&"error"]},UK,e)},Yo=x.forwardRef(function(e,r){const{actions:n,children:i,className:a,defaultValue:l,name:c,onChange:d,value:f,...h}=e,g=x.useRef(null),p=HK(e),[S,b]=Hs({controlled:f,default:l,name:"RadioGroup"});x.useImperativeHandle(n,()=>({focus:()=>{let A=g.current.querySelector("input:not(:disabled):checked");A||(A=g.current.querySelector("input:not(:disabled)")),A&&A.focus()}}),[]);const v=Jn(r,g),k=Zs(c),T=x.useMemo(()=>({name:k,onChange(A){b(A.target.value),d&&d(A,A.target.value)},value:S}),[k,d,b,S]);return m.jsx(ij.Provider,{value:T,children:m.jsx(zK,{role:"radiogroup",ref:v,className:wt(p.root,a),...h,children:i})})});function nP(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function VK(t={}){const{ignoreAccents:e=!0,ignoreCase:r=!0,limit:n,matchFrom:i="any",stringify:a,trim:l=!1}=t;return(c,{inputValue:d,getOptionLabel:f})=>{let h=l?d.trim():d;r&&(h=h.toLowerCase()),e&&(h=nP(h));const g=h?c.filter(p=>{let S=(a||f)(p);return r&&(S=S.toLowerCase()),e&&(S=nP(S)),i==="start"?S.startsWith(h):S.includes(h)}):c;return typeof n=="number"?g.slice(0,n):g}}const qK=VK(),iP=5,WK=t=>t.current!==null&&t.current.parentElement?.contains(document.activeElement),KK=[];function oP(t,e,r){if(e||t==null)return"";const n=r(t);return typeof n=="string"?n:""}function GK(t){const{unstable_isActiveElementInListbox:e=WK,unstable_classNamePrefix:r="Mui",autoComplete:n=!1,autoHighlight:i=!1,autoSelect:a=!1,blurOnSelect:l=!1,clearOnBlur:c=!t.freeSolo,clearOnEscape:d=!1,componentName:f="useAutocomplete",defaultValue:h=t.multiple?KK:null,disableClearable:g=!1,disableCloseOnSelect:p=!1,disabled:S,disabledItemsFocusable:b=!1,disableListWrap:v=!1,filterOptions:k=qK,filterSelectedOptions:T=!1,freeSolo:A=!1,getOptionDisabled:w,getOptionKey:R,getOptionLabel:O=Ue=>Ue.label??Ue,groupBy:M,handleHomeEndKeys:j=!t.freeSolo,id:$,includeInputInList:V=!1,inputValue:N,isOptionEqualToValue:W=(Ue,We)=>Ue===We,multiple:z=!1,onChange:I,onClose:B,onHighlightChange:G,onInputChange:U,onOpen:X,open:q,openOnFocus:Z=!1,options:F,readOnly:D=!1,selectOnFocus:J=!t.freeSolo,value:ee}=t,te=Zs($);let ie=O;ie=Ue=>{const We=O(Ue);return typeof We!="string"?String(We):We};const oe=x.useRef(!1),ke=x.useRef(!0),ve=x.useRef(null),Q=x.useRef(null),[de,we]=x.useState(null),[ue,rt]=x.useState(-1),ye=i?0:-1,Le=x.useRef(ye),ut=x.useRef(oP(h??ee,z,ie)).current,[Be,bt]=Hs({controlled:ee,default:h,name:f}),[Ot,Mt]=Hs({controlled:N,default:ut,name:f,state:"inputValue"}),[et,ht]=x.useState(!1),Bt=x.useCallback((Ue,We,Ct)=>{if(!(z?Be.length<We.length:We!==null)&&!c)return;const dr=oP(We,z,ie);Ot!==dr&&(Mt(dr),U&&U(Ue,dr,Ct))},[ie,Ot,z,U,Mt,c,Be]),[_t,it]=Hs({controlled:q,default:!1,name:f,state:"open"}),[je,qe]=x.useState(!0),Oe=!z&&Be!=null&&Ot===ie(Be),ot=_t&&!D,Se=ot?k(F.filter(Ue=>!(T&&(z?Be:[Be]).some(We=>We!==null&&W(Ue,We)))),{inputValue:Oe&&je?"":Ot,getOptionLabel:ie}):[],vt=Kx({filteredOptions:Se,value:Be,inputValue:Ot});x.useEffect(()=>{const Ue=Be!==vt.value;et&&!Ue||A&&!Ue||Bt(null,Be,"reset")},[Be,Bt,et,vt.value,A]);const Pt=_t&&Se.length>0&&!D,se=_i(Ue=>{Ue===-1?ve.current.focus():de.querySelector(`[data-tag-index="${Ue}"]`).focus()});x.useEffect(()=>{z&&ue>Be.length-1&&(rt(-1),se(-1))},[Be,z,ue,se]);function le(Ue,We){if(!Q.current||Ue<0||Ue>=Se.length)return-1;let Ct=Ue;for(;;){const cr=Q.current.querySelector(`[data-option-index="${Ct}"]`),dr=b?!1:!cr||cr.disabled||cr.getAttribute("aria-disabled")==="true";if(cr&&cr.hasAttribute("tabindex")&&!dr)return Ct;if(We==="next"?Ct=(Ct+1)%Se.length:Ct=(Ct-1+Se.length)%Se.length,Ct===Ue)return-1}}const st=_i(({event:Ue,index:We,reason:Ct})=>{if(Le.current=We,We===-1?ve.current.removeAttribute("aria-activedescendant"):ve.current.setAttribute("aria-activedescendant",`${te}-option-${We}`),G&&["mouse","keyboard","touch"].includes(Ct)&&G(Ue,We===-1?null:Se[We],Ct),!Q.current)return;const cr=Q.current.querySelector(`[role="option"].${r}-focused`);cr&&(cr.classList.remove(`${r}-focused`),cr.classList.remove(`${r}-focusVisible`));let dr=Q.current;if(Q.current.getAttribute("role")!=="listbox"&&(dr=Q.current.parentElement.querySelector('[role="listbox"]')),!dr)return;if(We===-1){dr.scrollTop=0;return}const Tr=Q.current.querySelector(`[data-option-index="${We}"]`);if(Tr&&(Tr.classList.add(`${r}-focused`),Ct==="keyboard"&&Tr.classList.add(`${r}-focusVisible`),dr.scrollHeight>dr.clientHeight&&Ct!=="mouse"&&Ct!=="touch")){const Lr=Tr,br=dr.clientHeight+dr.scrollTop,bn=Lr.offsetTop+Lr.offsetHeight;bn>br?dr.scrollTop=bn-dr.clientHeight:Lr.offsetTop-Lr.offsetHeight*(M?1.3:0)<dr.scrollTop&&(dr.scrollTop=Lr.offsetTop-Lr.offsetHeight*(M?1.3:0))}}),$e=_i(({event:Ue,diff:We,direction:Ct="next",reason:cr})=>{if(!ot)return;const Tr=le((()=>{const Lr=Se.length-1;if(We==="reset")return ye;if(We==="start")return 0;if(We==="end")return Lr;const br=Le.current+We;return br<0?br===-1&&V?-1:v&&Le.current!==-1||Math.abs(We)>1?0:Lr:br>Lr?br===Lr+1&&V?-1:v||Math.abs(We)>1?Lr:0:br})(),Ct);if(st({index:Tr,reason:cr,event:Ue}),n&&We!=="reset")if(Tr===-1)ve.current.value=Ot;else{const Lr=ie(Se[Tr]);ve.current.value=Lr,Lr.toLowerCase().indexOf(Ot.toLowerCase())===0&&Ot.length>0&&ve.current.setSelectionRange(Ot.length,Lr.length)}}),Xt=()=>{const Ue=(We,Ct)=>{const cr=We?ie(We):"",dr=Ct?ie(Ct):"";return cr===dr};if(Le.current!==-1&&vt.filteredOptions&&vt.filteredOptions.length!==Se.length&&vt.inputValue===Ot&&(z?Be.length===vt.value.length&&vt.value.every((We,Ct)=>ie(Be[Ct])===ie(We)):Ue(vt.value,Be))){const We=vt.filteredOptions[Le.current];if(We)return Se.findIndex(Ct=>ie(Ct)===ie(We))}return-1},Et=x.useCallback(()=>{if(!ot)return;const Ue=Xt();if(Ue!==-1){Le.current=Ue;return}const We=z?Be[0]:Be;if(Se.length===0||We==null){$e({diff:"reset"});return}if(Q.current){if(We!=null){const Ct=Se[Le.current];if(z&&Ct&&Be.findIndex(dr=>W(Ct,dr))!==-1)return;const cr=Se.findIndex(dr=>W(dr,We));cr===-1?$e({diff:"reset"}):st({index:cr});return}if(Le.current>=Se.length-1){st({index:Se.length-1});return}st({index:Le.current})}},[Se.length,z?!1:Be,T,$e,st,ot,Ot,z]),yr=_i(Ue=>{HS(Q,Ue),Ue&&Et()});x.useEffect(()=>{Et()},[Et]);const fe=Ue=>{_t||(it(!0),qe(!0),X&&X(Ue))},xe=(Ue,We)=>{_t&&(it(!1),B&&B(Ue,We))},dt=(Ue,We,Ct,cr)=>{if(z){if(Be.length===We.length&&Be.every((dr,Tr)=>dr===We[Tr]))return}else if(Be===We)return;I&&I(Ue,We,Ct,cr),bt(We)},qt=x.useRef(!1),ir=(Ue,We,Ct="selectOption",cr="options")=>{let dr=Ct,Tr=We;if(z){Tr=Array.isArray(Be)?Be.slice():[];const Lr=Tr.findIndex(br=>W(We,br));Lr===-1?Tr.push(We):cr!=="freeSolo"&&(Tr.splice(Lr,1),dr="removeOption")}Bt(Ue,Tr,dr),dt(Ue,Tr,dr,{option:We}),!p&&(!Ue||!Ue.ctrlKey&&!Ue.metaKey)&&xe(Ue,dr),(l===!0||l==="touch"&&qt.current||l==="mouse"&&!qt.current)&&ve.current.blur()};function zt(Ue,We){if(Ue===-1)return-1;let Ct=Ue;for(;;){if(We==="next"&&Ct===Be.length||We==="previous"&&Ct===-1)return-1;const cr=de.querySelector(`[data-tag-index="${Ct}"]`);if(!cr||!cr.hasAttribute("tabindex")||cr.disabled||cr.getAttribute("aria-disabled")==="true")Ct+=We==="next"?1:-1;else return Ct}}const Jt=(Ue,We)=>{if(!z)return;Ot===""&&xe(Ue,"toggleInput");let Ct=ue;ue===-1?Ot===""&&We==="previous"&&(Ct=Be.length-1):(Ct+=We==="next"?1:-1,Ct<0&&(Ct=0),Ct===Be.length&&(Ct=-1)),Ct=zt(Ct,We),rt(Ct),se(Ct)},jt=Ue=>{oe.current=!0,Mt(""),U&&U(Ue,"","clear"),dt(Ue,z?[]:null,"clear")},hr=Ue=>We=>{if(Ue.onKeyDown&&Ue.onKeyDown(We),!We.defaultMuiPrevented&&(ue!==-1&&!["ArrowLeft","ArrowRight"].includes(We.key)&&(rt(-1),se(-1)),We.which!==229))switch(We.key){case"Home":ot&&j&&(We.preventDefault(),$e({diff:"start",direction:"next",reason:"keyboard",event:We}));break;case"End":ot&&j&&(We.preventDefault(),$e({diff:"end",direction:"previous",reason:"keyboard",event:We}));break;case"PageUp":We.preventDefault(),$e({diff:-iP,direction:"previous",reason:"keyboard",event:We}),fe(We);break;case"PageDown":We.preventDefault(),$e({diff:iP,direction:"next",reason:"keyboard",event:We}),fe(We);break;case"ArrowDown":We.preventDefault(),$e({diff:1,direction:"next",reason:"keyboard",event:We}),fe(We);break;case"ArrowUp":We.preventDefault(),$e({diff:-1,direction:"previous",reason:"keyboard",event:We}),fe(We);break;case"ArrowLeft":Jt(We,"previous");break;case"ArrowRight":Jt(We,"next");break;case"Enter":if(Le.current!==-1&&ot){const Ct=Se[Le.current],cr=w?w(Ct):!1;if(We.preventDefault(),cr)return;ir(We,Ct,"selectOption"),n&&ve.current.setSelectionRange(ve.current.value.length,ve.current.value.length)}else A&&Ot!==""&&Oe===!1&&(z&&We.preventDefault(),ir(We,Ot,"createOption","freeSolo"));break;case"Escape":ot?(We.preventDefault(),We.stopPropagation(),xe(We,"escape")):d&&(Ot!==""||z&&Be.length>0)&&(We.preventDefault(),We.stopPropagation(),jt(We));break;case"Backspace":if(z&&!D&&Ot===""&&Be.length>0){const Ct=ue===-1?Be.length-1:ue,cr=Be.slice();cr.splice(Ct,1),dt(We,cr,"removeOption",{option:Be[Ct]})}break;case"Delete":if(z&&!D&&Ot===""&&Be.length>0&&ue!==-1){const Ct=ue,cr=Be.slice();cr.splice(Ct,1),dt(We,cr,"removeOption",{option:Be[Ct]})}break}},At=Ue=>{ht(!0),Z&&!oe.current&&fe(Ue)},Tt=Ue=>{if(e(Q)){ve.current.focus();return}ht(!1),ke.current=!0,oe.current=!1,a&&Le.current!==-1&&ot?ir(Ue,Se[Le.current],"blur"):a&&A&&Ot!==""?ir(Ue,Ot,"blur","freeSolo"):c&&Bt(Ue,Be,"blur"),xe(Ue,"blur")},St=Ue=>{const We=Ue.target.value;Ot!==We&&(Mt(We),qe(!1),U&&U(Ue,We,"input")),We===""?!g&&!z&&dt(Ue,null,"clear"):fe(Ue)},kt=Ue=>{const We=Number(Ue.currentTarget.getAttribute("data-option-index"));Le.current!==We&&st({event:Ue,index:We,reason:"mouse"})},Ut=Ue=>{st({event:Ue,index:Number(Ue.currentTarget.getAttribute("data-option-index")),reason:"touch"}),qt.current=!0},Ft=Ue=>{const We=Number(Ue.currentTarget.getAttribute("data-option-index"));ir(Ue,Se[We],"selectOption"),qt.current=!1},Nr=Ue=>We=>{const Ct=Be.slice();Ct.splice(Ue,1),dt(We,Ct,"removeOption",{option:Be[Ue]})},Vr=Ue=>{_t?xe(Ue,"toggleInput"):fe(Ue)},$r=Ue=>{Ue.currentTarget.contains(Ue.target)&&Ue.target.getAttribute("id")!==te&&Ue.preventDefault()},wr=Ue=>{Ue.currentTarget.contains(Ue.target)&&(ve.current.focus(),J&&ke.current&&ve.current.selectionEnd-ve.current.selectionStart===0&&ve.current.select(),ke.current=!1)},Pr=Ue=>{!S&&(Ot===""||!_t)&&Vr(Ue)};let Hr=A&&Ot.length>0;Hr=Hr||(z?Be.length>0:Be!==null);let Kr=Se;return M&&(Kr=Se.reduce((Ue,We,Ct)=>{const cr=M(We);return Ue.length>0&&Ue[Ue.length-1].group===cr?Ue[Ue.length-1].options.push(We):Ue.push({key:Ct,index:Ct,group:cr,options:[We]}),Ue},[])),S&&et&&Tt(),{getRootProps:(Ue={})=>({...Ue,onKeyDown:hr(Ue),onMouseDown:$r,onClick:wr}),getInputLabelProps:()=>({id:`${te}-label`,htmlFor:te}),getInputProps:()=>({id:te,value:Ot,onBlur:Tt,onFocus:At,onChange:St,onMouseDown:Pr,"aria-activedescendant":ot?"":null,"aria-autocomplete":n?"both":"list","aria-controls":Pt?`${te}-listbox`:void 0,"aria-expanded":Pt,autoComplete:"off",ref:ve,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:S}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:jt}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Vr}),getTagProps:({index:Ue})=>({key:Ue,"data-tag-index":Ue,tabIndex:-1,...!D&&{onDelete:Nr(Ue)}}),getListboxProps:()=>({role:"listbox",id:`${te}-listbox`,"aria-labelledby":`${te}-label`,ref:yr,onMouseDown:Ue=>{Ue.preventDefault()}}),getOptionProps:({index:Ue,option:We})=>{const Ct=(z?Be:[Be]).some(dr=>dr!=null&&W(We,dr)),cr=w?w(We):!1;return{key:R?.(We)??ie(We),tabIndex:-1,role:"option",id:`${te}-option-${Ue}`,onMouseMove:kt,onClick:Ft,onTouchStart:Ut,"data-option-index":Ue,"aria-disabled":cr,"aria-selected":Ct}},id:te,inputValue:Ot,value:Be,dirty:Hr,expanded:ot&&de,popupOpen:ot,focused:et||ue!==-1,anchorEl:de,setAnchorEl:we,focusedTag:ue,groupedOptions:Kr}}function YK(t){return tr("MuiListSubheader",t)}nr("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const XK=t=>{const{classes:e,color:r,disableGutters:n,inset:i,disableSticky:a}=t,l={root:["root",r!=="default"&&`color${Ye(r)}`,!n&&"gutters",i&&"inset",!a&&"sticky"]};return er(l,YK,e)},ZK=tt("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="default"&&e[`color${Ye(r.color)}`],!r.disableGutters&&e.gutters,r.inset&&e.inset,!r.disableSticky&&e.sticky]}})(Qt(({theme:t})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:72}},{props:({ownerState:e})=>!e.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}))),Tx=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiListSubheader"}),{className:i,color:a="default",component:l="li",disableGutters:c=!1,disableSticky:d=!1,inset:f=!1,...h}=n,g={...n,color:a,component:l,disableGutters:c,disableSticky:d,inset:f},p=XK(g);return m.jsx(ZK,{as:l,className:wt(p.root,i),ref:r,ownerState:g,...h})});Tx&&(Tx.muiSkipListHighlight=!0);const QK=lr(m.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function JK(t){return tr("MuiChip",t)}const fn=nr("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),eG=t=>{const{classes:e,disabled:r,size:n,color:i,iconColor:a,onDelete:l,clickable:c,variant:d}=t,f={root:["root",d,r&&"disabled",`size${Ye(n)}`,`color${Ye(i)}`,c&&"clickable",c&&`clickableColor${Ye(i)}`,l&&"deletable",l&&`deletableColor${Ye(i)}`,`${d}${Ye(i)}`],label:["label",`label${Ye(n)}`],avatar:["avatar",`avatar${Ye(n)}`,`avatarColor${Ye(i)}`],icon:["icon",`icon${Ye(n)}`,`iconColor${Ye(a)}`],deleteIcon:["deleteIcon",`deleteIcon${Ye(n)}`,`deleteIconColor${Ye(i)}`,`deleteIcon${Ye(d)}Color${Ye(i)}`]};return er(f,JK,e)},tG=tt("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{color:n,iconColor:i,clickable:a,onDelete:l,size:c,variant:d}=r;return[{[`& .${fn.avatar}`]:e.avatar},{[`& .${fn.avatar}`]:e[`avatar${Ye(c)}`]},{[`& .${fn.avatar}`]:e[`avatarColor${Ye(n)}`]},{[`& .${fn.icon}`]:e.icon},{[`& .${fn.icon}`]:e[`icon${Ye(c)}`]},{[`& .${fn.icon}`]:e[`iconColor${Ye(i)}`]},{[`& .${fn.deleteIcon}`]:e.deleteIcon},{[`& .${fn.deleteIcon}`]:e[`deleteIcon${Ye(c)}`]},{[`& .${fn.deleteIcon}`]:e[`deleteIconColor${Ye(n)}`]},{[`& .${fn.deleteIcon}`]:e[`deleteIcon${Ye(d)}Color${Ye(n)}`]},e.root,e[`size${Ye(c)}`],e[`color${Ye(n)}`],a&&e.clickable,a&&n!=="default"&&e[`clickableColor${Ye(n)})`],l&&e.deletable,l&&n!=="default"&&e[`deletableColor${Ye(n)}`],e[d],e[`${d}${Ye(n)}`]]}})(Qt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${fn.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${fn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${fn.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${fn.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${fn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${fn.icon}`]:{marginLeft:5,marginRight:-6},[`& .${fn.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:jr(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:jr(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${fn.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${fn.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(Dn(["contrastText"])).map(([r])=>({props:{color:r},style:{backgroundColor:(t.vars||t).palette[r].main,color:(t.vars||t).palette[r].contrastText,[`& .${fn.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[r].contrastTextChannel} / 0.7)`:jr(t.palette[r].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[r].contrastText}}}})),{props:r=>r.iconColor===r.color,style:{[`& .${fn.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:r=>r.iconColor===r.color&&r.color!=="default",style:{[`& .${fn.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${fn.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:jr(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(Dn(["dark"])).map(([r])=>({props:{color:r,onDelete:!0},style:{[`&.${fn.focusVisible}`]:{background:(t.vars||t).palette[r].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:jr(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${fn.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:jr(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(Dn(["dark"])).map(([r])=>({props:{color:r,clickable:!0},style:{[`&:hover, &.${fn.focusVisible}`]:{backgroundColor:(t.vars||t).palette[r].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${fn.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${fn.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${fn.avatar}`]:{marginLeft:4},[`& .${fn.avatarSmall}`]:{marginLeft:2},[`& .${fn.icon}`]:{marginLeft:4},[`& .${fn.iconSmall}`]:{marginLeft:2},[`& .${fn.deleteIcon}`]:{marginRight:5},[`& .${fn.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(Dn()).map(([r])=>({props:{variant:"outlined",color:r},style:{color:(t.vars||t).palette[r].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.7)`:jr(t.palette[r].main,.7)}`,[`&.${fn.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:jr(t.palette[r].main,t.palette.action.hoverOpacity)},[`&.${fn.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.focusOpacity})`:jr(t.palette[r].main,t.palette.action.focusOpacity)},[`& .${fn.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.7)`:jr(t.palette[r].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[r].main}}}}))]}})),rG=tt("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:r}=t,{size:n}=r;return[e.label,e[`label${Ye(n)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function aP(t){return t.key==="Backspace"||t.key==="Delete"}const nG=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiChip"}),{avatar:i,className:a,clickable:l,color:c="default",component:d,deleteIcon:f,disabled:h=!1,icon:g,label:p,onClick:S,onDelete:b,onKeyDown:v,onKeyUp:k,size:T="medium",variant:A="filled",tabIndex:w,skipFocusWhenDisabled:R=!1,...O}=n,M=x.useRef(null),j=Jn(M,r),$=Z=>{Z.stopPropagation(),b&&b(Z)},V=Z=>{Z.currentTarget===Z.target&&aP(Z)&&Z.preventDefault(),v&&v(Z)},N=Z=>{Z.currentTarget===Z.target&&b&&aP(Z)&&b(Z),k&&k(Z)},W=l!==!1&&S?!0:l,z=W||b?Gs:d||"div",I={...n,component:z,disabled:h,size:T,color:c,iconColor:x.isValidElement(g)&&g.props.color||c,onDelete:!!b,clickable:W,variant:A},B=eG(I),G=z===Gs?{component:d||"div",focusVisibleClassName:B.focusVisible,...b&&{disableRipple:!0}}:{};let U=null;b&&(U=f&&x.isValidElement(f)?x.cloneElement(f,{className:wt(f.props.className,B.deleteIcon),onClick:$}):m.jsx(QK,{className:wt(B.deleteIcon),onClick:$}));let X=null;i&&x.isValidElement(i)&&(X=x.cloneElement(i,{className:wt(B.avatar,i.props.className)}));let q=null;return g&&x.isValidElement(g)&&(q=x.cloneElement(g,{className:wt(B.icon,g.props.className)})),m.jsxs(tG,{as:z,className:wt(B.root,a),disabled:W&&h?!0:void 0,onClick:S,onKeyDown:V,onKeyUp:N,ref:j,tabIndex:R&&h?-1:w,ownerState:I,...G,...O,children:[X||q,m.jsx(rG,{className:wt(B.label),ownerState:I,children:p}),U]})});function iG(t){return tr("MuiAutocomplete",t)}const nn=nr("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var sP,lP;const oG=t=>{const{classes:e,disablePortal:r,expanded:n,focused:i,fullWidth:a,hasClearIcon:l,hasPopupIcon:c,inputFocused:d,popupOpen:f,size:h}=t,g={root:["root",n&&"expanded",i&&"focused",a&&"fullWidth",l&&"hasClearIcon",c&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",d&&"inputFocused"],tag:["tag",`tagSize${Ye(h)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",f&&"popupIndicatorOpen"],popper:["popper",r&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return er(g,iG,e)},aG=tt("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{fullWidth:n,hasClearIcon:i,hasPopupIcon:a,inputFocused:l,size:c}=r;return[{[`& .${nn.tag}`]:e.tag},{[`& .${nn.tag}`]:e[`tagSize${Ye(c)}`]},{[`& .${nn.inputRoot}`]:e.inputRoot},{[`& .${nn.input}`]:e.input},{[`& .${nn.input}`]:l&&e.inputFocused},e.root,n&&e.fullWidth,a&&e.hasPopupIcon,i&&e.hasClearIcon]}})({[`&.${nn.focused} .${nn.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${nn.clearIndicator}`]:{visibility:"visible"}},[`& .${nn.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${nn.inputRoot}`]:{[`.${nn.hasPopupIcon}&, .${nn.hasClearIcon}&`]:{paddingRight:30},[`.${nn.hasPopupIcon}.${nn.hasClearIcon}&`]:{paddingRight:56},[`& .${nn.input}`]:{width:0,minWidth:30}},[`& .${Il.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Il.root}.${Wo.sizeSmall}`]:{[`& .${Il.input}`]:{padding:"2px 4px 3px 0"}},[`& .${ma.root}`]:{padding:9,[`.${nn.hasPopupIcon}&, .${nn.hasClearIcon}&`]:{paddingRight:39},[`.${nn.hasPopupIcon}.${nn.hasClearIcon}&`]:{paddingRight:65},[`& .${nn.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${nn.endAdornment}`]:{right:9}},[`& .${ma.root}.${Wo.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${nn.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Ko.root}`]:{paddingTop:19,paddingLeft:8,[`.${nn.hasPopupIcon}&, .${nn.hasClearIcon}&`]:{paddingRight:39},[`.${nn.hasPopupIcon}.${nn.hasClearIcon}&`]:{paddingRight:65},[`& .${Ko.input}`]:{padding:"7px 4px"},[`& .${nn.endAdornment}`]:{right:9}},[`& .${Ko.root}.${Wo.sizeSmall}`]:{paddingBottom:1,[`& .${Ko.input}`]:{padding:"2.5px 4px"}},[`& .${Wo.hiddenLabel}`]:{paddingTop:8},[`& .${Ko.root}.${Wo.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${nn.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Ko.root}.${Wo.hiddenLabel}.${Wo.sizeSmall}`]:{[`& .${nn.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${nn.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${nn.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${nn.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${nn.inputRoot}`]:{flexWrap:"wrap"}}}]}),sG=tt("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(t,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),lG=tt(pr,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(t,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),cG=tt(pr,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.popupIndicator,r.popupOpen&&e.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),uG=tt(jm,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${nn.option}`]:e.option},e.popper,r.disablePortal&&e.popperDisablePortal]}})(Qt(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),dG=tt(Ei,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(t,e)=>e.paper})(Qt(({theme:t})=>({...t.typography.body1,overflow:"auto"}))),fG=tt("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(t,e)=>e.loading})(Qt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),pG=tt("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(t,e)=>e.noOptions})(Qt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),hG=tt("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(t,e)=>e.listbox})(Qt(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${nn.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${nn.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${nn.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:jr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${nn.focused}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:jr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${nn.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:jr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}}))),gG=tt(Tx,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(t,e)=>e.groupLabel})(Qt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8}))),mG=tt("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(t,e)=>e.groupUl})({padding:0,[`& .${nn.option}`]:{paddingLeft:24}}),wg=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:a=!1,autoSelect:l=!1,blurOnSelect:c=!1,ChipProps:d,className:f,clearIcon:h=sP||(sP=m.jsx(G_,{fontSize:"small"})),clearOnBlur:g=!n.freeSolo,clearOnEscape:p=!1,clearText:S="Clear",closeText:b="Close",componentsProps:v,defaultValue:k=n.multiple?[]:null,disableClearable:T=!1,disableCloseOnSelect:A=!1,disabled:w=!1,disabledItemsFocusable:R=!1,disableListWrap:O=!1,disablePortal:M=!1,filterOptions:j,filterSelectedOptions:$=!1,forcePopupIcon:V="auto",freeSolo:N=!1,fullWidth:W=!1,getLimitTagsText:z=ar=>`+${ar}`,getOptionDisabled:I,getOptionKey:B,getOptionLabel:G,isOptionEqualToValue:U,groupBy:X,handleHomeEndKeys:q=!n.freeSolo,id:Z,includeInputInList:F=!1,inputValue:D,limitTags:J=-1,ListboxComponent:ee,ListboxProps:te,loading:ie=!1,loadingText:oe="Loading",multiple:ke=!1,noOptionsText:ve="No options",onChange:Q,onClose:de,onHighlightChange:we,onInputChange:ue,onOpen:rt,open:ye,openOnFocus:Le=!1,openText:ut="Open",options:Be,PaperComponent:bt,PopperComponent:Ot,popupIcon:Mt=lP||(lP=m.jsx(hM,{})),readOnly:et=!1,renderGroup:ht,renderInput:Bt,renderOption:_t,renderTags:it,selectOnFocus:je=!n.freeSolo,size:qe="medium",slots:Oe={},slotProps:ot={},value:Se,...vt}=n,{getRootProps:Pt,getInputProps:se,getInputLabelProps:le,getPopupIndicatorProps:st,getClearProps:$e,getTagProps:Xt,getListboxProps:Et,getOptionProps:yr,value:fe,dirty:xe,expanded:dt,id:qt,popupOpen:ir,focused:zt,focusedTag:Jt,anchorEl:jt,setAnchorEl:hr,inputValue:At,groupedOptions:Tt}=GK({...n,componentName:"Autocomplete"}),St=!T&&!w&&xe&&!et,kt=(!N||V===!0)&&V!==!1,{onMouseDown:Ut}=se(),{ref:Ft,...Nr}=Et(),$r=G||(ar=>ar.label??ar),wr={...n,disablePortal:M,expanded:dt,focused:zt,fullWidth:W,getOptionLabel:$r,hasClearIcon:St,hasPopupIcon:kt,inputFocused:Jt===-1,popupOpen:ir,size:qe},Pr=oG(wr),Hr={slots:{paper:bt,popper:Ot,...Oe},slotProps:{chip:d,listbox:te,...v,...ot}},[Kr,Ue]=Sr("listbox",{elementType:hG,externalForwardedProps:Hr,ownerState:wr,className:Pr.listbox,additionalProps:Nr,ref:Ft}),[We,Ct]=Sr("paper",{elementType:Ei,externalForwardedProps:Hr,ownerState:wr,className:Pr.paper}),[cr,dr]=Sr("popper",{elementType:jm,externalForwardedProps:Hr,ownerState:wr,className:Pr.popper,additionalProps:{disablePortal:M,style:{width:jt?jt.clientWidth:null},role:"presentation",anchorEl:jt,open:ir}});let Tr;if(ke&&fe.length>0){const ar=an=>({className:Pr.tag,disabled:w,...Xt(an)});it?Tr=it(fe,ar,wr):Tr=fe.map((an,Ir)=>{const{key:gn,...lt}=ar({index:Ir});return m.jsx(nG,{label:$r(an),size:qe,...lt,...Hr.slotProps.chip},gn)})}if(J>-1&&Array.isArray(Tr)){const ar=Tr.length-J;!zt&&ar>0&&(Tr=Tr.splice(0,J),Tr.push(m.jsx("span",{className:Pr.tag,children:z(ar)},Tr.length)))}const br=ht||(ar=>m.jsxs("li",{children:[m.jsx(gG,{className:Pr.groupLabel,ownerState:wr,component:"div",children:ar.group}),m.jsx(mG,{className:Pr.groupUl,ownerState:wr,children:ar.children})]},ar.key)),Sn=_t||((ar,an)=>{const{key:Ir,...gn}=ar;return m.jsx("li",{...gn,children:$r(an)},Ir)}),xr=(ar,an)=>{const Ir=yr({option:ar,index:an});return Sn({...Ir,className:Pr.option},ar,{selected:Ir["aria-selected"],index:an,inputValue:At},wr)},mr=Hr.slotProps.clearIndicator,ei=Hr.slotProps.popupIndicator;return m.jsxs(x.Fragment,{children:[m.jsx(aG,{ref:r,className:wt(Pr.root,f),ownerState:wr,...Pt(vt),children:Bt({id:qt,disabled:w,fullWidth:!0,size:qe==="small"?"small":void 0,InputLabelProps:le(),InputProps:{ref:hr,className:Pr.inputRoot,startAdornment:Tr,onMouseDown:ar=>{ar.target===ar.currentTarget&&Ut(ar)},...(St||kt)&&{endAdornment:m.jsxs(sG,{className:Pr.endAdornment,ownerState:wr,children:[St?m.jsx(lG,{...$e(),"aria-label":S,title:S,ownerState:wr,...mr,className:wt(Pr.clearIndicator,mr?.className),children:h}):null,kt?m.jsx(cG,{...st(),disabled:w,"aria-label":ir?b:ut,title:ir?b:ut,ownerState:wr,...ei,className:wt(Pr.popupIndicator,ei?.className),children:Mt}):null]})}},inputProps:{className:Pr.input,disabled:w,readOnly:et,...se()}})}),jt?m.jsx(uG,{as:cr,...dr,children:m.jsxs(dG,{as:We,...Ct,children:[ie&&Tt.length===0?m.jsx(fG,{className:Pr.loading,ownerState:wr,children:oe}):null,Tt.length===0&&!N&&!ie?m.jsx(pG,{className:Pr.noOptions,ownerState:wr,role:"presentation",onMouseDown:ar=>{ar.preventDefault()},children:ve}):null,Tt.length>0?m.jsx(Kr,{as:ee,...Ue,children:Tt.map((ar,an)=>X?br({key:ar.key,group:ar.group,children:ar.options.map((Ir,gn)=>xr(Ir,ar.index+gn))}):xr(ar,an))}):null]})}):null]})}),yG=lr(m.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),bG=lr(m.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),vG=lr(m.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function SG(t){return tr("MuiCheckbox",t)}const xS=nr("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),xG=t=>{const{classes:e,indeterminate:r,color:n,size:i}=t,a={root:["root",r&&"indeterminate",`color${Ye(n)}`,`size${Ye(i)}`]},l=er(a,SG,e);return{...e,...l}},wG=tt(Z1,{shouldForwardProp:t=>Hi(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.indeterminate&&e.indeterminate,e[`size${Ye(r.size)}`],r.color!=="default"&&e[`color${Ye(r.color)}`]]}})(Qt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:jr(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(Dn()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:jr(t.palette[e].main,t.palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(Dn()).map(([e])=>({props:{color:e},style:{[`&.${xS.checked}, &.${xS.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${xS.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),kG=m.jsx(bG,{}),CG=m.jsx(yG,{}),TG=m.jsx(vG,{}),wS=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiCheckbox"}),{checkedIcon:i=kG,color:a="primary",icon:l=CG,indeterminate:c=!1,indeterminateIcon:d=TG,inputProps:f,size:h="medium",disableRipple:g=!1,className:p,slots:S={},slotProps:b={},...v}=n,k=c?d:l,T=c?d:i,A={...n,disableRipple:g,color:a,indeterminate:c,size:h},w=xG(A),R=b.input??f,[O,M]=Sr("root",{ref:r,elementType:wG,className:wt(w.root,p),shouldForwardComponentProp:!0,externalForwardedProps:{slots:S,slotProps:b,...v},ownerState:A,additionalProps:{type:"checkbox",icon:x.cloneElement(k,{fontSize:k.props.fontSize??h}),checkedIcon:x.cloneElement(T,{fontSize:T.props.fontSize??h}),disableRipple:g,slots:S,slotProps:{input:x1(typeof R=="function"?R(A):R,{"data-indeterminate":c})}}});return m.jsx(O,{...M,classes:w})}),Ex=typeof S1({})=="function",EG=(t,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!t.vars&&{colorScheme:t.palette.mode}}),AG=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),oj=(t,e=!1)=>{const r={};e&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([a,l])=>{const c=t.getColorSchemeSelector(a);c.startsWith("@")?r[c]={":root":{colorScheme:l.palette?.mode}}:r[c.replace(/\s*&/,"")]={colorScheme:l.palette?.mode}});let n={html:EG(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...AG(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...r};const i=t.components?.MuiCssBaseline?.styleOverrides;return i&&(n=[n,i]),n},kg="mui-ecs",RG=t=>{const e=oj(t,!1),r=Array.isArray(e)?e[0]:e;return!t.vars&&r&&(r.html[`:root:has(${kg})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([n,i])=>{const a=t.getColorSchemeSelector(n);a.startsWith("@")?r[a]={[`:root:not(:has(.${kg}))`]:{colorScheme:i.palette?.mode}}:r[a.replace(/\s*&/,"")]={[`&:not(:has(.${kg}))`]:{colorScheme:i.palette?.mode}}}),e},OG=S1(Ex?({theme:t,enableColorScheme:e})=>oj(t,e):({theme:t})=>RG(t));function PG(t){const e=or({props:t,name:"MuiCssBaseline"}),{children:r,enableColorScheme:n=!1}=e;return m.jsxs(x.Fragment,{children:[Ex&&m.jsx(OG,{enableColorScheme:n}),!Ex&&!n&&m.jsx("span",{className:kg,style:{display:"none"}}),r]})}const _G=t=>{const{classes:e}=t;return er({root:["root"]},iU,e)},MG=tt(An,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),aj=x.forwardRef(function(e,r){const n=or({props:e,name:"MuiDialogTitle"}),{className:i,id:a,...l}=n,c=n,d=_G(c),{titleId:f=a}=x.useContext(mM);return m.jsx(MG,{component:"h2",className:wt(d.root,i),ownerState:c,ref:r,variant:"h6",id:a??f,...l})}),Bl=UD({createStyledComponent:tt("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.container&&e.container]}}),componentName:"MuiGrid2",useThemeProps:t=>or({props:t,name:"MuiGrid2"}),useTheme:fo}),jG=({settings:t,onSettingChanged:e})=>{const{t:r}=Wr(),{audioPaddingStart:n,audioPaddingEnd:i,maxImageWidth:a,maxImageHeight:l,surroundingSubtitlesCountRadius:c,surroundingSubtitlesTimeRadius:d,clickToMineDefaultAction:f,postMiningPlaybackState:h,recordWithAudioPlayback:g,preferMp3:p,copyToClipboardOnMine:S}=t;return m.jsxs(Po,{spacing:1,children:[m.jsxs(xo,{children:[m.jsx(So,{component:"legend",children:r("settings.clickToMineDefaultAction")}),m.jsxs(Yo,{row:!1,children:[m.jsx(Ur,{control:m.jsx(Jr,{checked:f===qr.showAnkiDialog,value:qr.showAnkiDialog,onChange:b=>b.target.checked&&e("clickToMineDefaultAction",qr.showAnkiDialog)}),label:r("postMineAction.showAnkiDialog")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:f===qr.updateLastCard,value:qr.updateLastCard,onChange:b=>b.target.checked&&e("clickToMineDefaultAction",qr.updateLastCard)}),label:r("postMineAction.updateLastCard")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:f===qr.exportCard,value:qr.exportCard,onChange:b=>b.target.checked&&e("clickToMineDefaultAction",qr.exportCard)}),label:r("postMineAction.exportCard")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:f===qr.none,value:qr.none,onChange:b=>b.target.checked&&e("clickToMineDefaultAction",qr.none)}),label:r("postMineAction.none")})]})]}),m.jsxs(xo,{children:[m.jsx(So,{component:"legend",children:r("settings.postMinePlayback")}),m.jsxs(Yo,{row:!1,children:[m.jsx(Ur,{control:m.jsx(Jr,{checked:h===Zi.remember,value:Zi.remember,onChange:b=>b.target.checked&&e("postMiningPlaybackState",Zi.remember)}),label:r("postMinePlayback.remember")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:h===Zi.play,value:Zi.play,onChange:b=>b.target.checked&&e("postMiningPlaybackState",Zi.play)}),label:r("postMinePlayback.play")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:h===Zi.pause,value:Zi.pause,onChange:b=>b.target.checked&&e("postMiningPlaybackState",Zi.pause)}),label:r("postMinePlayback.pause")})]})]}),m.jsx(Zn,{control:m.jsx(In,{checked:S,onChange:b=>e("copyToClipboardOnMine",b.target.checked)}),label:r("settings.copyOnMine"),labelPlacement:"start"}),m.jsx(Hn,{children:r("settings.audio")}),m.jsx(Zn,{control:m.jsx(In,{checked:g,onChange:b=>e("recordWithAudioPlayback",b.target.checked)}),label:r("settings.recordWithAudioPlayback"),labelPlacement:"start"}),m.jsx(Zn,{control:m.jsx(In,{checked:p,onChange:b=>e("preferMp3",b.target.checked)}),label:r("settings.mp3Preference"),labelPlacement:"start"}),m.jsx(Cr,{type:"number",label:r("settings.audioPaddingStart"),fullWidth:!0,value:n,color:"primary",onChange:b=>e("audioPaddingStart",Number(b.target.value)),slotProps:{htmlInput:{min:0,step:1},input:{endAdornment:m.jsx(yi,{position:"end",children:"ms"})}}}),m.jsx(Cr,{type:"number",label:r("settings.audioPaddingEnd"),fullWidth:!0,value:i,color:"primary",onChange:b=>e("audioPaddingEnd",Number(b.target.value)),slotProps:{htmlInput:{step:1,min:0},input:{endAdornment:m.jsx(yi,{position:"end",children:"ms"})}}}),m.jsx(Hn,{children:r("settings.screenshots")}),m.jsx(Cr,{type:"number",label:r("settings.maxImageWidth"),fullWidth:!0,value:a,color:"primary",onChange:b=>e("maxImageWidth",Number(b.target.value)),slotProps:{htmlInput:{min:0,step:1}}}),m.jsx(Cr,{type:"number",label:r("settings.maxImageHeight"),fullWidth:!0,value:l,color:"primary",onChange:b=>e("maxImageHeight",Number(b.target.value)),slotProps:{htmlInput:{min:0,step:1}}}),m.jsx(Hn,{children:r("settings.exportDialog")}),m.jsx(Cr,{type:"number",label:r("settings.surroundingSubtitlesCountRadius"),fullWidth:!0,value:c,color:"primary",onChange:b=>e("surroundingSubtitlesCountRadius",Number(b.target.value)),slotProps:{htmlInput:{min:1,step:1}}}),m.jsx(Cr,{type:"number",label:r("settings.surroundingSubtitlesTimeRadius"),fullWidth:!0,value:d,color:"primary",onChange:b=>e("surroundingSubtitlesTimeRadius",Number(b.target.value)),slotProps:{htmlInput:{min:0,step:1},input:{endAdornment:m.jsx(yi,{position:"end",children:"ms"})}}})]})},NG=({open:t,dictionaryTracks:e,selectedDictionaryTrack:r,dictionaryProvider:n,activeProfile:i,profiles:a,onClose:l})=>{const{t:c}=Wr(),[d,f]=x.useState(r),[h,g]=x.useState(Zu()),[p,S]=x.useState(null),[b,v]=x.useState(""),[k,T]=x.useState(null),[A,w]=x.useState(),[R,O]=x.useState(!1),[M,j]=x.useState(),[$,V]=x.useState(),[N,W]=x.useState("");x.useEffect(()=>{if(!t)return;new Gu(e[d]).version().then(()=>W("")).catch(J=>W(J instanceof Error?J.message:String(J)))},[d,e,t]),x.useEffect(()=>{T(null),j(void 0)},[d,b]),x.useEffect(()=>{t&&(La(),v(""),T(null),j(void 0))},[t]);const z=x.useCallback(()=>{R||$||(La(),v(""),T(null),j(void 0),O(!1),l())},[l,$,R]),I=x.useCallback(async()=>{La(),O(!0),j(void 0),T(null);try{const D=e[d],J=new Gu(D),ee=new Set;for(const ie of await J.splitAndTokenizeBulk(b)){const oe=ie.map(ke=>ke.text).join("").trim();Ia.test(oe)&&ee.add(oe)}const te=[];for(const ie of ee){const oe=await J.lemmatize(ie);te.push({token:ie,lemmas:oe})}te.length||j(c("settings.dictionaryImportClipboardNoTokens")),T(te),w(!1)}catch(D){const J=D instanceof Error?D.message:String(D);j(J),T(null)}finally{O(!1)}},[e,d,b,c]),B=x.useCallback(async()=>{if(k?.length){O(!0);try{La();const D=k.map(J=>({token:J.token,status:h,lemmas:J.lemmas,states:p!==null?[p]:[]}));await n.saveRecordLocalBulk(i,D,us.ADD),l(),T(null),v(""),j(void 0)}catch(D){j(D instanceof Error?D.message:String(D))}finally{O(!1)}}},[n,i,k,h,p,l]),G=x.useCallback(async D=>{const J=e[d],ee=[],te=new Gu(J);for(const ie of D)ie.token&&(ie.lemmas?.length||(ie.lemmas=await te.lemmatize(ie.token)),ee.push(ie));return ee},[e,d]),U=x.useRef(null),X=x.useCallback(async D=>{let J;try{J=await D.text()}catch(te){console.error(te),j(te instanceof Error?te.message:String(te));return}let ee;try{ee=JSON.parse(J)}catch{v(J),w(!0);return}try{V(!0),await n.importRecordLocalBulk(await G(ee),a.map(te=>te.name)),l()}catch(te){console.error(te),j(te instanceof Error?te.message:String(te))}finally{V(!1)}},[n,a,G,l]),q=x.useCallback(async()=>{const D=U.current?.files?.[0];if(D!==void 0)try{X(D)}catch(J){console.error(J)}finally{U.current&&(U.current.value="")}},[X]),Z=x.useCallback(()=>{La(),U.current?.click()},[]),F=k===null||k.length===0||A;return m.jsxs(m.Fragment,{children:[m.jsxs(Cp,{open:t,onClose:z,fullWidth:!0,maxWidth:"sm",children:[m.jsx(aj,{children:c("action.importDictionaryLocalRecords")}),m.jsx(rd,{children:m.jsxs(Po,{spacing:1,children:[m.jsx(Cr,{select:!0,fullWidth:!0,color:"primary",variant:"outlined",size:"small",label:c("settings.dictionaryYomitanUrl"),value:d,onChange:D=>f(Number(D.target.value)),error:!!N,helperText:N,children:e.map((D,J)=>m.jsxs(ia,{value:J,sx:{justifyContent:"space-between"},children:[m.jsx("div",{children:D.dictionaryYomitanUrl}),m.jsx(An,{variant:"caption",children:c("settings.subtitleTrackChoice",{trackNumber:J+1})})]},J))}),m.jsx(Cr,{multiline:!0,rows:8,label:c("settings.dictionaryImportClipboardText"),value:b,onChange:D=>{v(D.target.value),w(!0)},fullWidth:!0}),M&&m.jsx(kp,{severity:"error",children:M}),(k?.length||void 0)&&m.jsx(Ua,{dense:!0,sx:{overflowY:"scroll"},children:k.map(D=>m.jsx(ui,{disableGutters:!0,children:m.jsx(Qn,{primary:D.token,secondary:D.lemmas.join("  ")})},D.token))})]})}),!F&&m.jsx(rd,{sx:{flexShrink:0},children:m.jsxs(Po,{spacing:1,children:[m.jsx(Zn,{control:m.jsx(In,{checked:p===zl.IGNORED,onChange:D=>S(D.target.checked?zl.IGNORED:null)}),label:c("settings.dictionaryImportClipboardIgnored"),labelPlacement:"start"}),m.jsx(Cr,{select:!0,fullWidth:!0,color:"primary",variant:"outlined",size:"small",label:c("settings.dictionaryImportedMaturity"),value:h,onChange:D=>g(Number(D.target.value)),children:[...Array(Cc).keys()].map(D=>{const J=Cc-1-D;return m.jsx(ia,{value:J,children:c(`settings.dictionaryTokenStatus${J}`)},J)})})]})}),m.jsxs(Rm,{children:[m.jsx(fi,{disabled:$,onClick:z,children:c("action.cancel")}),m.jsx(fi,{loading:$,onClick:Z,children:c("action.importFile")}),F&&m.jsx(fi,{onClick:I,disabled:!b.trim().length||R,children:c("action.preview")}),!F&&m.jsx(fi,{variant:"contained",color:"primary",onClick:B,disabled:!k?.length||R||$,children:c("action.save")})]})]}),m.jsx("input",{ref:U,onChange:q,type:"file",accept:".json,.txt",hidden:!0})]})},cP=t=>new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),IG=()=>{const{t}=Wr(),[e,r]=x.useState();let n="";if(e!==void 0)switch(e.type){case Di.error:const i=e.body;switch(i.code){case Go.concurrentBuild:n=t("settings.dictionaryBuildInProgress",{time:cP(i.data.expiration)});break;case Go.noAnki:n=t("settings.dictionaryBuildAnkiError");break;case Go.noYomitan:n=t("settings.dictionaryBuildYomitanError",{trackNumber:i.data.track+1});break;case Go.failedToSyncTrackStates:case Go.failedToBuild:default:n=i.msg?t("info.error",{message:i.msg}):t("info.errorNoMessage");break}break;case Di.stats:const a=e.body,l=[];if(a.tracksToBuild!==void 0&&l.push(t("settings.dictionaryBuildAnkiTracks",{tracks:a.tracksToBuild.map(h=>`#${h+1}`).join(", ")})),a.modifiedCards!==void 0&&l.push(`${t("settings.dictionaryBuildModifiedCards",{numCards:a.modifiedCards.toLocaleString("en-US")})}`),a.tracksToClear?.length&&a.orphanedCards!==void 0&&l.push(t("settings.dictionaryBuildOrphanedCards",{numCards:a.orphanedCards.toLocaleString("en-US"),tracks:a.tracksToClear.map(h=>`#${h+1}`).join(", ")})),a.buildTimestamp!==void 0){const h=Math.floor((Date.now()-a.buildTimestamp)/1e3);h>0&&l.push(`[${h.toLocaleString("en-US")}s]`)}n=l.join(" | ");break;case Di.progress:const c=e.body,d=c.current/(Date.now()-c.buildTimestamp),f=d?Math.ceil((c.total-c.current)/d):0;n=`${c.current.toLocaleString("en-US")} / ${t("settings.dictionaryBuildModifiedCards",{numCards:c.total.toLocaleString("en-US")})} [ETA: ${cP(Date.now()+f)} (${_c(f)})]`;break}return{severity:e?.type===Di.error?"error":"info",msg:n,setBuildAnkiCacheState:r}},kS=({children:t,...e})=>m.jsx(kp,{style:{height:"auto"},...e,children:t}),LG=({dictionaryProvider:t,settings:e,extensionInstalled:r,onSettingChanged:n,onViewKeyboardShortcuts:i,profiles:a,activeProfile:l,anki:c})=>{const{t:d}=Wr(),{ankiConnectUrl:f,dictionaryTracks:h}=e,g=x.useRef(h),[p,S]=x.useState(0),b=h[p],v=x.useCallback((Q,de,we)=>{if(we)return we;const ue=g.current[p];if(!a2(de,ue,b))return d("settings.ankiCacheDependentSettingsHelperText",{field:Q})},[b,p,d]),[k,T]=x.useState(),[A,w]=x.useState(),[R,O]=x.useState(),M=[b.dictionaryTokenMatchStrategy,b.dictionaryAnkiSentenceTokenMatchStrategy].some(Q=>Q===Un.ANY_FORM_COLLECTED||Q===Un.LEMMA_OR_EXACT_FORM_COLLECTED),j=b.dictionaryTokenStyling===mi.UNDERLINE||b.dictionaryTokenStyling===mi.OVERLINE||b.dictionaryTokenStyling===mi.OUTLINE,$=x.useMemo(()=>{if(!b.dictionaryColorizeFullyKnownTokens)return Zu()},[b.dictionaryColorizeFullyKnownTokens]),[V,N]=x.useState(),W=x.useCallback(async()=>{try{await new Gu(b).version(),N(void 0)}catch(Q){console.error(Q),Q instanceof Error?N(Q.message):N(typeof Q=="string"?Q:String(Q))}},[b]);x.useEffect(()=>{let Q=!1;const de=setTimeout(async()=>{Q||W()},1e3);return()=>{Q=!0,clearTimeout(de)}},[W]),x.useEffect(()=>{(async()=>{try{T((await c.deckNames(f)).sort((we,ue)=>we.localeCompare(ue)));const Q=await c.modelNames(f),de=new Set;for(const we of Q){const ue=await c.modelFieldNames(we);for(const rt of ue)de.add(rt)}w(Array.from(de).sort((we,ue)=>we.localeCompare(ue)))}catch(Q){T(void 0),w(void 0),O(Q instanceof Error?Q.message:String(Q))}})()},[c,f]);const z=x.useRef(null),I=()=>{z.current?.scrollIntoView({behavior:"smooth"})},[B,G]=x.useState(),U=x.useCallback(async()=>{La();try{G(!0),await t.exportRecordLocalBulk()}finally{G(!1)}},[t]),X=h.every(Q=>!Rg(Q)),q=h.some(Q=>Q.dictionaryAnkiWordFields.length||Q.dictionaryAnkiSentenceFields.length),[Z,F]=x.useState(!1),{severity:D,msg:J,setBuildAnkiCacheState:ee}=IG(),te=x.useCallback(async()=>{try{F(!0),ee(void 0),La(),await t.buildAnkiCache(l,e)}catch(Q){console.error("Failed to send build Anki cache message",Q),ee({type:Di.error,body:{code:Go.failedToBuild,msg:Q instanceof Error?Q.message:String(Q)}})}finally{F(!1)}},[t,e,l,ee]);x.useEffect(()=>t.onBuildAnkiCacheStateChange(ee),[t,ee]);const[ie,oe]=x.useState(!1),ke=x.useRef(null),ve=()=>ke.current?.scrollIntoView({behavior:"smooth"});return m.jsxs(m.Fragment,{children:[m.jsx(NG,{open:ie,onClose:()=>oe(!1),dictionaryTracks:h,selectedDictionaryTrack:p,dictionaryProvider:t,activeProfile:l,profiles:a}),m.jsxs(Po,{spacing:1,children:[(V||!r)&&m.jsx(kS,{severity:"info",children:m.jsxs(Po,{spacing:1,children:[V&&m.jsx("div",{children:m.jsx(Ci,{i18nKey:"settings.annotationHelperText",components:[m.jsx(co,{onClick:I,sx:{cursor:"pointer"}},0)]})}),!r&&m.jsx("div",{children:m.jsx(Ci,{i18nKey:"settings.annotationNoExtensionWarn"})})]})}),m.jsxs("div",{children:[m.jsx(Hn,{children:d("settings.dictionaryLocalWordDatabase")}),m.jsxs(Po,{direction:"row",spacing:1,alignItems:"center",children:[m.jsx(fi,{variant:"contained",color:"primary",style:{flex:1},onClick:()=>oe(!0),children:d("action.importDictionaryLocalRecords")}),m.jsx(fi,{variant:"contained",color:"primary",style:{flex:1},onClick:U,loading:B,children:d("action.exportDictionaryLocalRecords")})]}),m.jsx(An,{variant:"caption",color:"textSecondary",children:m.jsx(Ci,{i18nKey:"settings.annotationLocalAnkiHelperText",components:[m.jsx(co,{onClick:i,sx:{cursor:"pointer"}},0)]})})]}),m.jsxs(Po,{spacing:1,children:[m.jsx(Hn,{children:d("settings.dictionaryAnkiWordDatabase")}),m.jsx(fi,{variant:"contained",color:"primary",style:{width:"100%"},onClick:te,loading:Z,disabled:X,startIcon:m.jsx(Vg,{}),children:d("settings.buildAnkiCache")}),m.jsxs(An,{variant:"caption",color:"textSecondary",children:[d("settings.buildAnkiCacheHelperText")," ",!q&&m.jsx(Ci,{i18nKey:"settings.buildAnkiCacheAnkiEnableHelperText",components:[m.jsx(co,{onClick:ve,sx:{cursor:"pointer"}},0)]})]}),J&&D&&m.jsx("div",{style:{marginTop:8},children:m.jsx(kS,{severity:D,children:J})})]}),m.jsx(Hn,{children:d("settings.annotation")}),m.jsx(Cr,{select:!0,fullWidth:!0,color:"primary",variant:"outlined",size:"small",label:d("settings.subtitleTrack"),value:p,onChange:Q=>S(Number(Q.target.value)),children:[...Array($S).keys()].map(Q=>m.jsx(ia,{value:Q,children:d("settings.subtitleTrackChoice",{trackNumber:Q+1})},Q))}),m.jsx(Zn,{control:m.jsx(In,{checked:b.dictionaryColorizeSubtitles,onChange:Q=>{const de=[...h];de[p]={...de[p],dictionaryColorizeSubtitles:Q.target.checked},n("dictionaryTracks",de)}}),label:d("settings.dictionaryColorizeSubtitles"),labelPlacement:"start"}),m.jsxs(xo,{children:[m.jsx(So,{component:"legend",children:d("settings.dictionaryTokenReadingAnnotation")}),m.jsxs(Yo,{row:!1,children:[m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryTokenReadingAnnotation===vo.ALWAYS,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryTokenReadingAnnotation:vo.ALWAYS},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenReadingAnnotationAlways")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryTokenReadingAnnotation===vo.LEARNING_OR_BELOW,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryTokenReadingAnnotation:vo.LEARNING_OR_BELOW},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenReadingAnnotationLearningOrBelow")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryTokenReadingAnnotation===vo.UNKNOWN_OR_BELOW,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryTokenReadingAnnotation:vo.UNKNOWN_OR_BELOW},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenReadingAnnotationUnknownOrBelow")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryTokenReadingAnnotation===vo.NEVER,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryTokenReadingAnnotation:vo.NEVER},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenReadingAnnotationNever")})]})]}),m.jsx(Zn,{control:m.jsx(In,{checked:b.dictionaryDisplayIgnoredTokenReadings,onChange:Q=>{const de=[...h];de[p]={...de[p],dictionaryDisplayIgnoredTokenReadings:Q.target.checked},n("dictionaryTracks",de)}}),label:d("settings.dictionaryDisplayIgnoredTokenReadings"),labelPlacement:"start"}),m.jsx(Zn,{control:m.jsx(In,{checked:b.dictionaryColorizeOnHoverOnly,onChange:Q=>{const de=[...h];de[p]={...de[p],dictionaryColorizeOnHoverOnly:Q.target.checked},n("dictionaryTracks",de)}}),label:d("settings.dictionaryColorizeOnHoverOnly"),labelPlacement:"start"}),m.jsx(Zn,{control:m.jsx(In,{checked:b.dictionaryHighlightOnHover,onChange:Q=>{const de=[...h];de[p]={...de[p],dictionaryHighlightOnHover:Q.target.checked},n("dictionaryTracks",de)}}),label:d("settings.dictionaryHighlightOnHover"),labelPlacement:"start"}),m.jsx(Hn,{children:d("settings.coloringStrategy")}),m.jsxs(xo,{children:[m.jsx(So,{component:"legend",children:d("settings.dictionaryTokenMatchStrategy")}),m.jsxs(Yo,{row:!1,children:[m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryTokenMatchStrategy===Un.ANY_FORM_COLLECTED,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryTokenMatchStrategy:Un.ANY_FORM_COLLECTED},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenMatchStrategyAnyFormCollected")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryTokenMatchStrategy===Un.LEMMA_OR_EXACT_FORM_COLLECTED,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryTokenMatchStrategy:Un.LEMMA_OR_EXACT_FORM_COLLECTED},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenMatchStrategyLemmaOrExactFormCollected")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryTokenMatchStrategy===Un.LEMMA_FORM_COLLECTED,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryTokenMatchStrategy:Un.LEMMA_FORM_COLLECTED},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenMatchStrategyLemmaFormCollected")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryTokenMatchStrategy===Un.EXACT_FORM_COLLECTED,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryTokenMatchStrategy:Un.EXACT_FORM_COLLECTED},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenMatchStrategyExactFormCollected")})]})]}),M&&m.jsxs(xo,{children:[m.jsx(So,{component:"legend",children:d("settings.dictionaryTokenMatchStrategyPriority")}),m.jsxs(Yo,{row:!1,children:[m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryTokenMatchStrategyPriority===Ro.EXACT,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryTokenMatchStrategyPriority:Ro.EXACT},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenMatchStrategyPriorityExact")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryTokenMatchStrategyPriority===Ro.LEMMA,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryTokenMatchStrategyPriority:Ro.LEMMA},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenMatchStrategyPriorityLemma")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryTokenMatchStrategyPriority===Ro.BEST_KNOWN,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryTokenMatchStrategyPriority:Ro.BEST_KNOWN},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenMatchStrategyPriorityBestKnown")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryTokenMatchStrategyPriority===Ro.LEAST_KNOWN,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryTokenMatchStrategyPriority:Ro.LEAST_KNOWN},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenMatchStrategyPriorityLeastKnown")})]})]}),m.jsxs(xo,{children:[m.jsx(So,{component:"legend",children:d("settings.dictionaryAnkiSentenceTokenMatchStrategy")}),m.jsxs(Yo,{row:!1,children:[m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryAnkiSentenceTokenMatchStrategy===Un.ANY_FORM_COLLECTED,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryAnkiSentenceTokenMatchStrategy:Un.ANY_FORM_COLLECTED},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenMatchStrategyAnyFormCollected")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryAnkiSentenceTokenMatchStrategy===Un.LEMMA_OR_EXACT_FORM_COLLECTED,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryAnkiSentenceTokenMatchStrategy:Un.LEMMA_OR_EXACT_FORM_COLLECTED},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenMatchStrategyLemmaOrExactFormCollected")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryAnkiSentenceTokenMatchStrategy===Un.LEMMA_FORM_COLLECTED,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryAnkiSentenceTokenMatchStrategy:Un.LEMMA_FORM_COLLECTED},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenMatchStrategyLemmaFormCollected")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryAnkiSentenceTokenMatchStrategy===Un.EXACT_FORM_COLLECTED,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryAnkiSentenceTokenMatchStrategy:Un.EXACT_FORM_COLLECTED},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenMatchStrategyExactFormCollected")})]})]}),m.jsx(Hn,{ref:z,children:d("settings.dictionaryYomitanSection")}),V&&m.jsx(kS,{severity:"info",children:m.jsx(Ci,{i18nKey:d("settings.yomitanHelperText"),components:[m.jsx(co,{target:"_blank",href:"https://github.com/yomidevs/yomitan-api"},0)]})}),m.jsx(Cr,{label:d("settings.dictionaryYomitanUrl"),value:b.dictionaryYomitanUrl,error:!!V,helperText:v(d("settings.dictionaryYomitanUrl"),"dictionaryYomitanUrl",V),color:"primary",onChange:Q=>{const de=[...h];de[p]={...de[p],dictionaryYomitanUrl:Q.target.value},n("dictionaryTracks",de)},slotProps:{input:{endAdornment:m.jsx(yi,{position:"end",children:m.jsx(pr,{onClick:W,children:m.jsx(Vg,{})})})}}}),m.jsx(Cr,{type:"number",label:d("settings.dictionaryYomitanScanLength"),value:b.dictionaryYomitanScanLength,helperText:v(d("settings.dictionaryYomitanScanLength"),"dictionaryYomitanScanLength"),color:"primary",onChange:Q=>{const de=[...h];de[p]={...de[p],dictionaryYomitanScanLength:Number(Q.target.value)},n("dictionaryTracks",de)},slotProps:{htmlInput:{min:1,max:128,step:1}}}),m.jsx(Hn,{ref:ke,children:d("settings.anki")}),m.jsx(wg,{multiple:!0,options:k??[],value:b.dictionaryAnkiDecks,onChange:(Q,de)=>{const we=de,ue=[...h];ue[p]={...ue[p],dictionaryAnkiDecks:we},n("dictionaryTracks",ue)},disableCloseOnSelect:!0,renderOption:({key:Q,...de},we,{selected:ue})=>m.jsxs("li",{...de,children:[m.jsx(Qo,{children:m.jsx(wS,{edge:"start",checked:ue,tabIndex:-1,disableRipple:!0})}),m.jsx(Qn,{primary:we})]},Q),renderInput:Q=>m.jsx(Cr,{...Q,label:d("settings.dictionaryAnkiDecks"),placeholder:d("settings.dictionaryAnkiSelectDecks"),error:!!R,helperText:v(d("settings.dictionaryAnkiDecks"),"dictionaryAnkiDecks",R),fullWidth:!0})}),m.jsx(wg,{multiple:!0,options:A??[],value:b.dictionaryAnkiWordFields,onChange:(Q,de)=>{const we=de,ue=[...h];ue[p]={...ue[p],dictionaryAnkiWordFields:we},n("dictionaryTracks",ue)},disableCloseOnSelect:!0,renderOption:(Q,de,{selected:we})=>m.jsxs("li",{...Q,children:[m.jsx(Qo,{children:m.jsx(wS,{edge:"start",checked:we,tabIndex:-1,disableRipple:!0})}),m.jsx(Qn,{primary:de})]}),renderInput:Q=>m.jsx(Cr,{...Q,label:d("settings.dictionaryAnkiWordFields"),placeholder:d("settings.dictionaryAnkiSelectFields"),error:!!R,helperText:v(d("settings.dictionaryAnkiWordFields"),"dictionaryAnkiWordFields",R),fullWidth:!0})}),m.jsx(wg,{multiple:!0,options:A??[],value:b.dictionaryAnkiSentenceFields,onChange:(Q,de)=>{const we=de,ue=[...h];ue[p]={...ue[p],dictionaryAnkiSentenceFields:we},n("dictionaryTracks",ue)},disableCloseOnSelect:!0,renderOption:(Q,de,{selected:we})=>m.jsxs("li",{...Q,children:[m.jsx(Qo,{children:m.jsx(wS,{edge:"start",checked:we,tabIndex:-1,disableRipple:!0})}),m.jsx(Qn,{primary:de})]}),renderInput:Q=>m.jsx(Cr,{...Q,label:d("settings.dictionaryAnkiSentenceFields"),placeholder:d("settings.dictionaryAnkiSelectFields"),error:!!R,helperText:v(d("settings.dictionaryAnkiSentenceFields"),"dictionaryAnkiSentenceFields",R),fullWidth:!0})}),m.jsx(Cr,{type:"number",label:d("settings.dictionaryAnkiMatureCutoff"),value:b.dictionaryAnkiMatureCutoff,helperText:v(d("settings.dictionaryAnkiMatureCutoff"),"dictionaryAnkiMatureCutoff"),color:"primary",onChange:Q=>{const de=[...h];de[p]={...de[p],dictionaryAnkiMatureCutoff:Number(Q.target.value)},n("dictionaryTracks",de)},slotProps:{htmlInput:{min:1,max:36500,step:1}}}),m.jsxs(xo,{children:[m.jsx(So,{component:"legend",children:d("settings.dictionaryAnkiTreatSuspended")}),m.jsxs(Yo,{row:!1,children:[m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryAnkiTreatSuspended==="NORMAL",onChange:Q=>{if(!Q.target.checked)return;const de=[...h];de[p]={...de[p],dictionaryAnkiTreatSuspended:"NORMAL"},n("dictionaryTracks",de)}}),label:d("settings.dictionaryAnkiTreatSuspendedNormal")}),[...Array(Cc).keys()].map(Q=>{const de=Cc-1-Q;return de===0?null:m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryAnkiTreatSuspended===de,onChange:we=>{if(!we.target.checked)return;const ue=[...h];ue[p]={...ue[p],dictionaryAnkiTreatSuspended:de},n("dictionaryTracks",ue)}}),label:d(`settings.dictionaryTokenStatus${de}`)},Q)})]})]}),m.jsx(Hn,{children:d("settings.styling")}),m.jsxs(xo,{children:[m.jsx(So,{component:"legend",children:d("settings.dictionaryTokenStyling")}),m.jsxs(Yo,{row:!1,children:[m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryTokenStyling===mi.TEXT,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryTokenStyling:mi.TEXT},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenStylingText")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryTokenStyling===mi.BACKGROUND,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryTokenStyling:mi.BACKGROUND},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenStylingBackground")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryTokenStyling===mi.UNDERLINE,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryTokenStyling:mi.UNDERLINE},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenStylingUnderline")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryTokenStyling===mi.OVERLINE,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryTokenStyling:mi.OVERLINE},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenStylingOverline")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:b.dictionaryTokenStyling===mi.OUTLINE,onChange:()=>{const Q=[...h];Q[p]={...Q[p],dictionaryTokenStyling:mi.OUTLINE},n("dictionaryTracks",Q)}}),label:d("settings.dictionaryTokenStylingOutline")})]})]}),b.dictionaryTokenStyling===mi.OUTLINE&&m.jsx(An,{variant:"caption",color:"textSecondary",children:d("settings.dictionaryTokenStylingOutlineHelperText")}),j&&m.jsx(Cr,{type:"number",label:d("settings.dictionaryTokenStylingThickness"),fullWidth:!0,value:b.dictionaryTokenStylingThickness,color:"primary",onChange:Q=>{const de=[...h];de[p]={...de[p],dictionaryTokenStylingThickness:Number(Q.target.value)},n("dictionaryTracks",de)},slotProps:{htmlInput:{min:.1,step:.1},input:{endAdornment:m.jsx(yi,{position:"end",children:"px"})}}}),m.jsx(Hn,{children:d("settings.colors")}),m.jsx(Zn,{control:m.jsx(In,{checked:b.dictionaryColorizeFullyKnownTokens,onChange:Q=>{const de=[...h];de[p]={...de[p],dictionaryColorizeFullyKnownTokens:Q.target.checked},n("dictionaryTracks",de)}}),label:d("settings.dictionaryColorizeFullyKnownTokens"),labelPlacement:"start"}),[...Array(Cc).keys()].map(Q=>{const de=Cc-1-Q;return de===$?null:m.jsx(Cr,{type:"color",label:d(`settings.dictionaryTokenStatus${de}`),fullWidth:!0,value:b.dictionaryTokenStatusColors[de],color:"primary",onChange:we=>{const ue=[...b.dictionaryTokenStatusColors];ue[de]=we.target.value;const rt=[...h];rt[p]={...rt[p],dictionaryTokenStatusColors:ue},n("dictionaryTracks",rt)}},Q)})]})]})},FG=lr(m.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"}),"Lock"),sj=lr(m.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),Ax=lr(m.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),BG=lr(m.jsx("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"}),"Undo"),$G=3;function DG({track:t,onTrackSelected:e}){const{t:r}=Wr();return m.jsx(m.Fragment,{children:m.jsxs(Cr,{select:!0,fullWidth:!0,color:"primary",variant:"outlined",size:"small",label:r("settings.subtitleTrack"),helperText:t==="all"?r("settings.subtitleTrackSelectorHelper"):void 0,value:t,onChange:n=>n.target.value==="all"?e("all"):e(Number(n.target.value)),children:[m.jsx(ia,{value:"all",children:r("settings.allSubtitleTracks")}),[...Array($G).keys()].map(n=>m.jsx(ia,{value:n,children:r("settings.subtitleTrackChoice",{trackNumber:n+1})},n))]})})}const zG=yn(t=>({subtitlePreview:{backgroundImage:`linear-gradient(45deg, ${t.palette.action.disabledBackground} 25%, transparent 25%), linear-gradient(-45deg, ${t.palette.action.disabledBackground} 25%, transparent 25%), linear-gradient(45deg, transparent 75%, ${t.palette.action.disabledBackground} 75%), linear-gradient(-45deg, transparent 75%,${t.palette.action.disabledBackground} 75%)`,backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px",marginTop:t.spacing(1),marginBottom:t.spacing(1),maxWidth:"100%",padding:10},subtitlePreviewInput:{border:"none",width:"100%",textAlign:"center",backgroundColor:"rgba(0,0,0,0)","&:focus":{outline:"none"}},blurred:{filter:"blur(10px)","&:hover":{filter:"none"}}})),uP=({text:t,className:e,textSubtitleSettings:r,onTextChanged:n})=>{const{subtitleSize:i,subtitleColor:a,subtitleThickness:l,subtitleOutlineThickness:c,subtitleOutlineColor:d,subtitleShadowThickness:f,subtitleShadowColor:h,subtitleBackgroundColor:g,subtitleBackgroundOpacity:p,subtitleFontFamily:S,subtitleCustomStyles:b,subtitleBlur:v,subtitleAlignment:k}=r,T=x.useMemo(()=>_x({subtitleColor:a,subtitleSize:i,subtitleThickness:l,subtitleOutlineThickness:c,subtitleOutlineColor:d,subtitleShadowThickness:f,subtitleShadowColor:h,subtitleBackgroundOpacity:p,subtitleBackgroundColor:g,subtitleFontFamily:S,subtitleCustomStyles:b}),[a,i,l,c,d,f,h,p,g,S,b,v,k]);return m.jsx("input",{value:t,className:e,onChange:A=>n(A.target.value),style:T})};function UG({subtitleSettings:t,text:e,track:r,onTextChanged:n}){const i=zG(),a=w=>w.subtitleBlur?`${i.subtitlePreviewInput} ${i.blurred}`:i.subtitlePreviewInput,l=hs(t,r),{subtitleSize:c,subtitleColor:d,subtitleThickness:f,subtitleOutlineThickness:h,subtitleOutlineColor:g,subtitleShadowThickness:p,subtitleShadowColor:S,subtitleBackgroundColor:b,subtitleBackgroundOpacity:v,subtitleFontFamily:k,subtitleCustomStyles:T,subtitleBlur:A}=l;return c===void 0||d===void 0||f===void 0||h===void 0||g===void 0||p===void 0||S===void 0||b===void 0||v===void 0||k===void 0||T===void 0||A===void 0?m.jsx("div",{className:i.subtitlePreview,children:[...Array(t.subtitleTracksV2.length+1).keys()].map(w=>{const R=hs(t,w);return m.jsx(uP,{text:e,className:a(R),textSubtitleSettings:R,onTextChanged:n},w)})}):m.jsx("div",{className:i.subtitlePreview,children:m.jsx(uP,{text:e,className:a(l),textSubtitleSettings:l,onTextChanged:n})})}const Cg=Object.keys(document.body.style).filter(t=>!Mx(t));function HG({styleKey:t,onStyleKey:e,onAddCustomStyle:r}){const{t:n}=Wr();return m.jsx(wg,{options:Cg,value:t,fullWidth:!0,disableClearable:!0,clearOnEscape:!0,clearOnBlur:!0,forcePopupIcon:!1,onReset:()=>e(""),onChange:(i,a)=>{e(a??"")},renderInput:i=>m.jsx(Cr,{placeholder:n("settings.styleKey"),label:n("settings.addCustomCss"),color:"primary",...i,InputProps:{...i.InputProps,endAdornment:m.jsx(yi,{position:"end",children:m.jsx(pr,{disabled:Cg.find(a=>a===t)===void 0,onClick:()=>{r(t),e(Cg[0])},children:m.jsx(rj,{fontSize:"small"})})})}})})}function VG({customStyle:t,onCustomStyle:e,onDelete:r}){const{t:n}=Wr();return m.jsx(Cr,{color:"primary",label:n("settings.customCssField",{styleKey:t.key}),placeholder:n("settings.styleValue"),value:t.value,onChange:i=>e({key:t.key,value:i.target.value}),slotProps:{input:{endAdornment:m.jsx(yi,{position:"end",children:m.jsx(pr,{onClick:r,children:m.jsx(Lm,{fontSize:"small"})})})}}})}const qG=({settings:t,onSettingChanged:e,onSettingsChanged:r,extensionInstalled:n,extensionSupportsTrackSpecificSettings:i,extensionSupportsSubtitlesWidthSetting:a,localFontsAvailable:l,localFontsPermission:c,localFontFamilies:d,onUnlockLocalFonts:f})=>{const{t:h}=Wr(),{subtitlePreview:g,imageBasedSubtitleScaleFactor:p,subtitlePositionOffset:S,topSubtitlePositionOffset:b,subtitlesWidth:v}=t,[k,T]=x.useState(Cg[0]),[A,w]=x.useState(),{subtitleSize:R,subtitleColor:O,subtitleThickness:M,subtitleOutlineThickness:j,subtitleOutlineColor:$,subtitleShadowThickness:V,subtitleShadowColor:N,subtitleBackgroundColor:W,subtitleBackgroundOpacity:z,subtitleFontFamily:I,subtitleCustomStyles:B,subtitleBlur:G,subtitleAlignment:U}=hs(t,A),X=x.useCallback((F,D)=>{const J=Og({[F]:D},t,A);r(J)},[A,t,r]),q=x.useCallback(()=>{const F=Og(hs(t,0),t,A);r(F)},[t,A,r]),Z=A!==void 0&&MI(t,A);return m.jsxs(Po,{spacing:1,children:[(!n||i)&&m.jsxs(m.Fragment,{children:[m.jsx(DG,{track:A===void 0?"all":A,onTrackSelected:F=>w(F==="all"?void 0:F)}),A!==void 0&&m.jsx(fi,{startIcon:m.jsx(BG,{}),disabled:!Z,onClick:q,variant:"outlined",children:h("settings.reset")})]}),m.jsx(UG,{subtitleSettings:t,text:g,onTextChanged:F=>e("subtitlePreview",F)}),m.jsx(Hn,{children:h("settings.styling")}),O!==void 0&&m.jsx(Cr,{type:"color",label:h("settings.subtitleColor"),fullWidth:!0,value:O,color:"primary",onChange:F=>X("subtitleColor",F.target.value)}),R!==void 0&&m.jsx(Cr,{type:"number",label:h("settings.subtitleSize"),fullWidth:!0,value:R,color:"primary",onChange:F=>X("subtitleSize",Number(F.target.value)),slotProps:{htmlInput:{min:1,step:1}}}),M!==void 0&&m.jsxs(m.Fragment,{children:[m.jsx(An,{variant:"subtitle2",color:"textSecondary",children:h("settings.subtitleThickness")}),m.jsx(Pm,{color:"primary",value:M,onChange:(F,D)=>X("subtitleThickness",D),min:100,max:900,step:100,marks:!0,valueLabelDisplay:"auto"})]}),$!==void 0&&m.jsx(Cr,{type:"color",label:h("settings.subtitleOutlineColor"),fullWidth:!0,value:$,color:"primary",onChange:F=>X("subtitleOutlineColor",F.target.value)}),j!==void 0&&m.jsx(Cr,{type:"number",label:h("settings.subtitleOutlineThickness"),helperText:h("settings.subtitleOutlineThicknessHelperText"),fullWidth:!0,value:j,onChange:F=>X("subtitleOutlineThickness",Number(F.target.value)),slotProps:{htmlInput:{min:0,step:.1}},color:"primary"}),N!==void 0&&m.jsx(Cr,{type:"color",label:h("settings.subtitleShadowColor"),fullWidth:!0,value:N,color:"primary",onChange:F=>X("subtitleShadowColor",F.target.value)}),V!==void 0&&m.jsx(Cr,{type:"number",label:h("settings.subtitleShadowThickness"),fullWidth:!0,value:V,onChange:F=>X("subtitleShadowThickness",Number(F.target.value)),slotProps:{htmlInput:{min:0,step:.1}},color:"primary"}),W!==void 0&&m.jsx(Cr,{type:"color",label:h("settings.subtitleBackgroundColor"),fullWidth:!0,value:W,color:"primary",onChange:F=>X("subtitleBackgroundColor",F.target.value)}),z!==void 0&&m.jsx(Cr,{type:"number",label:h("settings.subtitleBackgroundOpacity"),fullWidth:!0,slotProps:{htmlInput:{min:0,max:1,step:.1}},value:z,color:"primary",onChange:F=>X("subtitleBackgroundOpacity",Number(F.target.value))}),I!==void 0&&m.jsxs(xo,{fullWidth:!0,children:[m.jsx(So,{children:h("settings.subtitleFontFamily")}),m.jsx(Cr,{type:"text",select:d.length>0,fullWidth:!0,value:I,color:"primary",onChange:F=>X("subtitleFontFamily",F.target.value),slotProps:{input:{endAdornment:d.length===0&&l&&c==="prompt"?m.jsx(cn,{title:h("settings.unlockLocalFonts"),children:m.jsx(pr,{onClick:f,children:m.jsx(FG,{fontSize:"small"})})}):null}},children:d.length>0?d.map(F=>m.jsx(ia,{value:F,children:F},F)):null})]}),B!==void 0&&m.jsxs(m.Fragment,{children:[B.map((F,D)=>m.jsx(VG,{customStyle:F,onCustomStyle:J=>{const ee=[...t.subtitleCustomStyles];ee[D]={...J},X("subtitleCustomStyles",ee)},onDelete:()=>{const J=[];for(let ee=0;ee<t.subtitleCustomStyles.length;++ee)ee!==D&&J.push(t.subtitleCustomStyles[ee]);X("subtitleCustomStyles",J)}},D)),m.jsx(HG,{styleKey:k,onStyleKey:T,onAddCustomStyle:F=>X("subtitleCustomStyles",[...t.subtitleCustomStyles,{key:F,value:""}])})]}),G!==void 0&&m.jsx(cn,{placement:"bottom-end",title:h("settings.subtitleBlurDescription"),children:m.jsx(Zn,{control:m.jsx(In,{checked:G,onChange:F=>{X("subtitleBlur",F.target.checked)}}),label:h("settings.subtitleBlur"),labelPlacement:"start"})}),A===void 0&&m.jsx(Cr,{type:"number",label:h("settings.imageBasedSubtitleScaleFactor"),placeholder:"Inherited",fullWidth:!0,slotProps:{htmlInput:{min:0,max:1,step:.1}},value:p,color:"primary",onChange:F=>e("imageBasedSubtitleScaleFactor",Number(F.target.value))}),m.jsx(Hn,{children:h("settings.layout")}),U!==void 0&&m.jsxs(xo,{children:[m.jsx(So,{component:"legend",children:h("settings.subtitleAlignment")}),m.jsxs(Yo,{row:!0,children:[m.jsx(Ur,{control:m.jsx(Jr,{checked:U==="bottom",value:"bottom",onChange:F=>F.target.checked&&X("subtitleAlignment","bottom")}),label:h("settings.subtitleAlignmentBottom")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:U==="top",value:"top",onChange:F=>F.target.checked&&X("subtitleAlignment","top")}),label:h("settings.subtitleAlignmentTop")})]})]}),A===void 0&&m.jsxs(m.Fragment,{children:[m.jsx(Cr,{type:"number",color:"primary",fullWidth:!0,label:h("settings.subtitlePositionOffset"),value:S,slotProps:{htmlInput:{min:0,step:1}},onChange:F=>e("subtitlePositionOffset",Number(F.target.value))}),m.jsx(Cr,{type:"number",color:"primary",fullWidth:!0,label:h("settings.topSubtitlePositionOffset"),value:b,slotProps:{htmlInput:{min:0,step:1}},onChange:F=>e("topSubtitlePositionOffset",Number(F.target.value))}),(!n||a)&&m.jsx(Cr,{color:"primary",fullWidth:!0,label:h("settings.subtitlesWidth"),disabled:v===-1,value:v===-1?"auto":v,onChange:F=>{const D=Number(F.target.value);!Number.isNaN(D)&&D>=0&&D<=100&&e("subtitlesWidth",D)},slotProps:{input:{endAdornment:m.jsxs(m.Fragment,{children:[v===-1&&m.jsx(yi,{position:"end",children:m.jsx(pr,{onClick:()=>e("subtitlesWidth",100),children:m.jsx(Ax,{})})}),v!==-1&&m.jsxs(m.Fragment,{children:[m.jsx(yi,{position:"end",children:"%"}),m.jsx(yi,{position:"end",children:m.jsx(pr,{onClick:()=>e("subtitlesWidth",-1),children:m.jsx(sj,{})})})]})]})}}})]})]})},CS=typeof queryLocalFonts=="function",WG=()=>{const[t,e]=x.useState([]),[r,n]=x.useState(),i=x.useCallback(()=>{CS&&navigator.permissions.query({name:"local-fonts"}).then(l=>n(l.state))},[]),a=x.useCallback(()=>{CS&&queryLocalFonts().then(l=>{const c={};for(const d of l)c[d.family]=!0;e(Object.keys(c))}).catch(console.error)},[]);return x.useEffect(()=>{i()},[i]),x.useEffect(()=>{a()},[a]),{updateLocalFontsPermission:i,updateLocalFonts:a,localFontsAvailable:CS,localFontsPermission:r,localFontFamilies:t}},KG=(t,e)=>{x.useEffect(()=>{const r=n=>{t.current?.contains(n.target)||e(n)};return window.document.addEventListener("click",r),()=>window.document.removeEventListener("click",r)},[t,e])};var TS=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function ES(t,e,r,n){t.addEventListener?t.addEventListener(e,r,n):t.attachEvent&&t.attachEvent("on".concat(e),function(){r(window.event)})}function lj(t,e){for(var r=e.slice(0,e.length-1),n=0;n<r.length;n++)r[n]=t[r[n].toLowerCase()];return r}function cj(t){typeof t!="string"&&(t=""),t=t.replace(/\s/g,"");for(var e=t.split(","),r=e.lastIndexOf("");r>=0;)e[r-1]+=",",e.splice(r,1),r=e.lastIndexOf("");return e}function GG(t,e){for(var r=t.length>=e.length?t:e,n=t.length>=e.length?e:t,i=!0,a=0;a<r.length;a++)n.indexOf(r[a])===-1&&(i=!1);return i}var ap={backspace:8,"":8,tab:9,clear:12,enter:13,"":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":TS?173:189,"=":TS?61:187,";":TS?59:186,"'":222,"[":219,"]":221,"\\":220},ms={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},Rx={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Ji={16:!1,18:!1,17:!1,91:!1},wi={};for(var lg=1;lg<20;lg++)ap["f".concat(lg)]=111+lg;var qn=[],dP=!1,uj="all",dj=[],zm=function(e){return ap[e.toLowerCase()]||ms[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)},YG=function(e){return Object.keys(ap).find(function(r){return ap[r]===e})},XG=function(e){return Object.keys(ms).find(function(r){return ms[r]===e})};function fj(t){uj=t||"all"}function sp(){return uj||"all"}function ZG(){return qn.slice(0)}function QG(){return qn.map(function(t){return YG(t)||XG(t)||String.fromCharCode(t)})}function JG(t){var e=t.target||t.srcElement,r=e.tagName,n=!0;return(e.isContentEditable||(r==="INPUT"||r==="TEXTAREA"||r==="SELECT")&&!e.readOnly)&&(n=!1),n}function eY(t){return typeof t=="string"&&(t=zm(t)),qn.indexOf(t)!==-1}function tY(t,e){var r,n;t||(t=sp());for(var i in wi)if(Object.prototype.hasOwnProperty.call(wi,i))for(r=wi[i],n=0;n<r.length;)r[n].scope===t?r.splice(n,1):n++;sp()===t&&fj(e||"all")}function rY(t){var e=t.keyCode||t.which||t.charCode,r=qn.indexOf(e);if(r>=0&&qn.splice(r,1),t.key&&t.key.toLowerCase()==="meta"&&qn.splice(0,qn.length),(e===93||e===224)&&(e=91),e in Ji){Ji[e]=!1;for(var n in ms)ms[n]===e&&(Jo[n]=!1)}}function nY(t){if(typeof t>"u")Object.keys(wi).forEach(function(l){return delete wi[l]});else if(Array.isArray(t))t.forEach(function(l){l.key&&AS(l)});else if(typeof t=="object")t.key&&AS(t);else if(typeof t=="string"){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=r[0],a=r[1];typeof i=="function"&&(a=i,i=""),AS({key:t,scope:i,method:a,splitKey:"+"})}}var AS=function(e){var r=e.key,n=e.scope,i=e.method,a=e.splitKey,l=a===void 0?"+":a,c=cj(r);c.forEach(function(d){var f=d.split(l),h=f.length,g=f[h-1],p=g==="*"?"*":zm(g);if(wi[p]){n||(n=sp());var S=h>1?lj(ms,f):[];wi[p]=wi[p].filter(function(b){var v=i?b.method===i:!0;return!(v&&b.scope===n&&GG(b.mods,S))})}})};function fP(t,e,r,n){if(e.element===n){var i;if(e.scope===r||e.scope==="all"){i=e.mods.length>0;for(var a in Ji)Object.prototype.hasOwnProperty.call(Ji,a)&&(!Ji[a]&&e.mods.indexOf(+a)>-1||Ji[a]&&e.mods.indexOf(+a)===-1)&&(i=!1);(e.mods.length===0&&!Ji[16]&&!Ji[18]&&!Ji[17]&&!Ji[91]||i||e.shortcut==="*")&&e.method(t,e)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}}function pP(t,e){var r=wi["*"],n=t.keyCode||t.which||t.charCode;if(Jo.filter.call(this,t)){if((n===93||n===224)&&(n=91),qn.indexOf(n)===-1&&n!==229&&qn.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(b){var v=Rx[b];t[b]&&qn.indexOf(v)===-1?qn.push(v):!t[b]&&qn.indexOf(v)>-1?qn.splice(qn.indexOf(v),1):b==="metaKey"&&t[b]&&qn.length===3&&(t.ctrlKey||t.shiftKey||t.altKey||(qn=qn.slice(qn.indexOf(v))))}),n in Ji){Ji[n]=!0;for(var i in ms)ms[i]===n&&(Jo[i]=!0);if(!r)return}for(var a in Ji)Object.prototype.hasOwnProperty.call(Ji,a)&&(Ji[a]=t[Rx[a]]);t.getModifierState&&!(t.altKey&&!t.ctrlKey)&&t.getModifierState("AltGraph")&&(qn.indexOf(17)===-1&&qn.push(17),qn.indexOf(18)===-1&&qn.push(18),Ji[17]=!0,Ji[18]=!0);var l=sp();if(r)for(var c=0;c<r.length;c++)r[c].scope===l&&(t.type==="keydown"&&r[c].keydown||t.type==="keyup"&&r[c].keyup)&&fP(t,r[c],l,e);if(n in wi){for(var d=0;d<wi[n].length;d++)if((t.type==="keydown"&&wi[n][d].keydown||t.type==="keyup"&&wi[n][d].keyup)&&wi[n][d].key){for(var f=wi[n][d],h=f.splitKey,g=f.key.split(h),p=[],S=0;S<g.length;S++)p.push(zm(g[S]));p.sort().join("")===qn.sort().join("")&&fP(t,f,l,e)}}}}function iY(t){return dj.indexOf(t)>-1}function Jo(t,e,r){qn=[];var n=cj(t),i=[],a="all",l=document,c=0,d=!1,f=!0,h="+",g=!1;for(r===void 0&&typeof e=="function"&&(r=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(a=e.scope),e.element&&(l=e.element),e.keyup&&(d=e.keyup),e.keydown!==void 0&&(f=e.keydown),e.capture!==void 0&&(g=e.capture),typeof e.splitKey=="string"&&(h=e.splitKey)),typeof e=="string"&&(a=e);c<n.length;c++)t=n[c].split(h),i=[],t.length>1&&(i=lj(ms,t)),t=t[t.length-1],t=t==="*"?"*":zm(t),t in wi||(wi[t]=[]),wi[t].push({keyup:d,keydown:f,scope:a,mods:i,shortcut:n[c],method:r,key:n[c],splitKey:h,element:l});typeof l<"u"&&!iY(l)&&window&&(dj.push(l),ES(l,"keydown",function(p){pP(p,l)},g),dP||(dP=!0,ES(window,"focus",function(){qn=[]},g)),ES(l,"keyup",function(p){pP(p,l),rY(p)},g))}function oY(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(wi).forEach(function(r){var n=wi[r].find(function(i){return i.scope===e&&i.shortcut===t});n&&n.method&&n.method()})}var RS={getPressedKeyString:QG,setScope:fj,getScope:sp,deleteScope:tY,getPressedKeyCodes:ZG,isPressed:eY,filter:JG,trigger:oY,unbind:nY,keyMap:ap,modifier:ms,modifierMap:Rx};for(var OS in RS)Object.prototype.hasOwnProperty.call(RS,OS)&&(Jo[OS]=RS[OS]);if(typeof window<"u"){var aY=window.hotkeys;Jo.noConflict=function(t){return t&&window.hotkeys===Jo&&(window.hotkeys=aY),Jo},window.hotkeys=Jo}function wf({label:t,control:e}){const r=fo();return m.jsxs(Bl,{container:!0,wrap:"nowrap",spacing:1,sx:{"&:hover":{background:r.palette.action.hover},p:1},children:[m.jsx(Bl,{size:7.5,children:m.jsx(An,{children:t})}),m.jsx(Bl,{size:"grow",sx:{textAlign:"right"},children:e})]})}const sY=Qi.isMacOs?{}:{"":"ctrl","":"shift","":"alt"},hP=["","","","ctrl","shift","alt","option","control","command",""],lY=yn(t=>({container:{marginBottom:t.spacing(1)},labelItem:{marginTop:t.spacing(1)}}));function cY({label:t,keys:e,boundViaChrome:r,onKeysChange:n,onOpenExtensionShortcuts:i}){const{t:a}=Wr(),l=om(),c=lY(),[d,f]=x.useState(e),h=x.useRef(void 0);h.current=d;const g=x.useRef(void 0);g.current=n;const[p,S]=x.useState(!1);x.useEffect(()=>f(e),[e]);const b=x.useCallback(A=>{if(A.nativeEvent.detail!==0){if(r){i();return}f(""),S(!0)}},[i,r]),v=x.useRef(null);x.useEffect(()=>{if(!p)return;const A=w=>{if(w.type==="keydown"){const R=Jo.getPressedKeyString();f(R.map(O=>sY[O]??O).sort((O,M)=>{const j=hP.includes(O),$=hP.includes(M);return j&&!$?-1:!j&&$?1:0}).join("+"))}else w.type==="keyup"&&(S(!1),h.current&&g.current(h.current))};return Jo("*",{keyup:!0},A),()=>Jo.unbind("*",A)},[p]),KG(v,x.useCallback(()=>{p&&(S(!1),f(""),n(""))},[p,n]));let k;p?k=a("settings.recordingBind"):r?k=a("settings.extensionOverriddenBind"):k=a("settings.unboundBind");const T=Jg&&r;return m.jsx(Bl,{container:!0,className:c.container,wrap:"nowrap",spacing:1,children:m.jsxs(Bl,{sx:{"&:hover":{background:l.palette.action.hover},p:1},container:!0,direction:"row",size:12,children:[m.jsx(Bl,{className:c.labelItem,size:7.5,children:m.jsx(An,{children:t})}),m.jsx(Bl,{size:"grow",children:m.jsx(Cr,{placeholder:k,size:"small",contentEditable:!1,disabled:r,helperText:r?a("settings.extensionShortcut"):void 0,value:d,title:d,color:"primary",slotProps:{input:{endAdornment:m.jsxs(yi,{position:"end",children:[!T&&m.jsx(pr,{ref:v,sx:{marginRight:-1},onClick:b,children:m.jsx(Ax,{fontSize:"small"})}),T&&m.jsx(OM,{title:a("settings.firefoxExtensionShortcutHelp"),children:m.jsx("span",{children:m.jsx(pr,{disabled:!0,children:m.jsx(Ax,{fontSize:"small"})})})})]})}}})})]})})}const uY=({settings:t,onSettingChanged:e,chromeKeyBinds:r,extensionInstalled:n,extensionSupportsExportCardBind:i,extensionSupportsSidePanel:a,onOpenChromeExtensionShortcuts:l})=>{const{t:c}=Wr(),{autoPausePreference:d,fastForwardModePlaybackRate:f,seekDuration:h,alwaysPlayOnSubtitleRepeat:g,speedChangeStep:p,keyBindSet:S}=t,b=x.useMemo(()=>({copySubtitle:{label:c("binds.copySubtitle"),boundViaChrome:!0},ankiExport:{label:c("binds.ankiExport"),boundViaChrome:!0},updateLastCard:{label:c("binds.updateLastCard"),boundViaChrome:!0},exportCard:{label:c("binds.exportCard"),boundViaChrome:!0,hide:n&&!i},takeScreenshot:{label:c("binds.takeScreenshot"),boundViaChrome:!0},toggleRecording:{label:c("binds.extensionToggleRecording"),boundViaChrome:!0},selectSubtitleTrack:{label:c("binds.extensionSelectSubtitleTrack"),boundViaChrome:!0,hide:!n},togglePlay:{label:c("binds.togglePlay"),boundViaChrome:!1},toggleAutoPause:{label:c("binds.toggleAutoPause"),boundViaChrome:!1,additionalControl:m.jsx(wf,{label:c("settings.autoPausePreference"),control:m.jsx(Bl,{children:m.jsxs(Yo,{row:!0,children:[m.jsx(Ur,{control:m.jsx(Jr,{checked:d===va.atStart,value:va.atStart,onChange:k=>k.target.checked&&e("autoPausePreference",va.atStart)}),label:c("settings.autoPauseAtSubtitleStart")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:d===va.atEnd,value:va.atEnd,onChange:k=>k.target.checked&&e("autoPausePreference",va.atEnd)}),label:c("settings.autoPauseAtSubtitleEnd")})]})})})},toggleCondensedPlayback:{label:c("binds.toggleCondensedPlayback"),boundViaChrome:!1},toggleFastForwardPlayback:{label:c("binds.toggleFastForwardPlayback"),boundViaChrome:!1,additionalControl:m.jsx(wf,{label:c("settings.fastForwardModePlaybackRate"),control:m.jsx(Cr,{type:"number",fullWidth:!0,value:f,color:"primary",onChange:k=>e("fastForwardModePlaybackRate",Number(k.target.value)),slotProps:{htmlInput:{min:.1,max:5,step:.1}}})})},toggleRepeat:{label:c("binds.toggleRepeat"),boundViaChrome:!1},toggleSubtitles:{label:c("binds.toggleSubtitles"),boundViaChrome:!1},toggleVideoSubtitleTrack1:{label:c("binds.toggleVideoSubtitleTrack1"),boundViaChrome:!1},toggleVideoSubtitleTrack2:{label:c("binds.toggleVideoSubtitleTrack2"),boundViaChrome:!1},toggleVideoSubtitleTrack3:{label:c("binds.toggleVideoSubtitleTrack3"),boundViaChrome:!1},toggleAsbplayerSubtitleTrack1:{label:c("binds.toggleAsbplayerSubtitleTrack1"),boundViaChrome:!1},toggleAsbplayerSubtitleTrack2:{label:c("binds.toggleAsbplayerSubtitleTrack2"),boundViaChrome:!1},toggleAsbplayerSubtitleTrack3:{label:c("binds.toggleAsbplayerSubtitleTrack3"),boundViaChrome:!1},unblurAsbplayerTrack1:{label:c("binds.unblurAsbplayerTrack",{trackNumber:1}),boundViaChrome:!1},unblurAsbplayerTrack2:{label:c("binds.unblurAsbplayerTrack",{trackNumber:2}),boundViaChrome:!1},unblurAsbplayerTrack3:{label:c("binds.unblurAsbplayerTrack",{trackNumber:3}),boundViaChrome:!1},seekBackward:{label:c("binds.seekBackward"),boundViaChrome:!1},seekForward:{label:c("binds.seekForward"),boundViaChrome:!1,additionalControl:m.jsx(wf,{label:c("settings.seekDuration"),control:m.jsx(Cr,{type:"number",size:"small",fullWidth:!0,value:h,color:"primary",onChange:k=>e("seekDuration",Number(k.target.value)),slotProps:{htmlInput:{min:1,max:60,step:1}}})})},seekToPreviousSubtitle:{label:c("binds.seekToPreviousSubtitle"),boundViaChrome:!1},seekToNextSubtitle:{label:c("binds.seekToNextSubtitle"),boundViaChrome:!1},seekToBeginningOfCurrentSubtitle:{label:c("binds.seekToBeginningOfCurrentOrPreviousSubtitle"),boundViaChrome:!1,additionalControl:m.jsx(wf,{label:c("settings.alwaysPlayOnSubtitleRepeat"),control:m.jsx(In,{checked:g,onChange:k=>e("alwaysPlayOnSubtitleRepeat",k.target.checked)})})},adjustOffsetToPreviousSubtitle:{label:c("binds.adjustOffsetToPreviousSubtitle"),boundViaChrome:!1},adjustOffsetToNextSubtitle:{label:c("binds.adjustOffsetToNextSubtitle"),boundViaChrome:!1},increaseOffset:{label:c("binds.increaseOffset"),boundViaChrome:!1},decreaseOffset:{label:c("binds.decreaseOffset"),boundViaChrome:!1},resetOffset:{label:c("binds.resetOffset"),boundViaChrome:!1},increasePlaybackRate:{label:c("binds.increasePlaybackRate"),boundViaChrome:!1},decreasePlaybackRate:{label:c("binds.decreasePlaybackRate"),boundViaChrome:!1,additionalControl:m.jsx(wf,{label:c("settings.speedChangeStep"),control:m.jsx(Cr,{type:"number",fullWidth:!0,value:p,color:"primary",onChange:k=>e("speedChangeStep",Number(k.target.value)),slotProps:{htmlInput:{min:.1,max:1,step:.1}}})})},toggleSidePanel:{label:c("binds.toggleSidePanel"),boundViaChrome:!1,hide:!n||!a},moveBottomSubtitlesUp:{label:c("binds.moveBottomSubtitlesUp"),boundViaChrome:!1},moveBottomSubtitlesDown:{label:c("binds.moveBottomSubtitlesDown"),boundViaChrome:!1},moveTopSubtitlesUp:{label:c("binds.moveTopSubtitlesUp"),boundViaChrome:!1},moveTopSubtitlesDown:{label:c("binds.moveTopSubtitlesDown"),boundViaChrome:!1},markHoveredToken5:{label:c("binds.markHoveredToken",{tokenStatus:c("settings.dictionaryTokenStatus5")}),boundViaChrome:!1},markHoveredToken4:{label:c("binds.markHoveredToken",{tokenStatus:c("settings.dictionaryTokenStatus4")}),boundViaChrome:!1},markHoveredToken3:{label:c("binds.markHoveredToken",{tokenStatus:c("settings.dictionaryTokenStatus3")}),boundViaChrome:!1},markHoveredToken2:{label:c("binds.markHoveredToken",{tokenStatus:c("settings.dictionaryTokenStatus2")}),boundViaChrome:!1},markHoveredToken1:{label:c("binds.markHoveredToken",{tokenStatus:c("settings.dictionaryTokenStatus1")}),boundViaChrome:!1},markHoveredToken0:{label:c("binds.markHoveredToken",{tokenStatus:c("settings.dictionaryTokenStatus0")}),boundViaChrome:!1},toggleHoveredTokenIgnored:{label:c("binds.toggleHoveredTokenIgnored"),boundViaChrome:!1}}),[c,n,a,i,e,h,g,d,p,f]),v=x.useCallback((k,T)=>{e("keyBindSet",{...t.keyBindSet,[T]:{keys:k}})},[t.keyBindSet,e]);return Object.keys(b).map(k=>{const T=k,A=b[T];return A.hide?null:m.jsxs("div",{children:[m.jsx(cY,{label:A.label,keys:n&&A.boundViaChrome?r[T]??"":S[T].keys,boundViaChrome:!!n&&A.boundViaChrome,onKeysChange:w=>v(w,T),onOpenExtensionShortcuts:l},k),A.additionalControl]},k)})},dY=Jx(Ug)(({theme:t})=>({"&:hover .MuiIconButton-root":{background:`${t.palette.secondary.main}29`},"&:hover":{cursor:"pointer"}})),pj={netflix:{title:"Netflix",disableCspRuleId:1},youtube:{title:"YouTube",disableCspRuleId:2},tver:{title:"TVer",disableCspRuleId:3},bandaiChannel:{title:"Bandai Channel",disableCspRuleId:4},amazonPrime:{title:"Amazon Prime",disableCspRuleId:5},hulu:{title:"Hulu",disableCspRuleId:6},disneyPlus:{title:"Disney Plus",disableCspRuleId:7},appsDisneyPlus:{title:"Disney Plus (apps.disneyplus.com)",disableCspRuleId:8},unext:{title:"UNext",disableCspRuleId:9},viki:{title:"Viki",disableCspRuleId:10},embyJellyfin:{title:"Emby/Jellyfin",disableCspRuleId:11},twitch:{title:"Twitch",disableCspRuleId:12},osnPlus:{title:"OSN Plus",disableCspRuleId:13},bilibili:{title:"Bilibili",disableCspRuleId:14},nrktv:{title:"NRK TV",disableCspRuleId:15},plex:{title:"Plex",disableCspRuleId:16},yleAreena:{title:"Yle Areena",disableCspRuleId:17},hboMax:{title:"HBO Max",disableCspRuleId:18},stremio:{title:"Stremio",disableCspRuleId:19},cijapanese:{title:"Comprehensible Japanese",disableCspRuleId:20},iwanttfc:{title:"iWantTFC",disableCspRuleId:21}},fY=50,pY=3,hY=t=>{let e=0;for(const r of t)e+=r.length;return e},gY=t=>t.pageKey==="youtube"?m.jsx(mY,{...t}):m.jsx(hj,{...t}),mY=t=>{const{t:e}=Wr(),{onPageChanged:r,page:n}=t,{targetLanguages:i}=n;return m.jsx(hj,{...t,additionalControls:m.jsx(Nm,{textFieldComponent:Cr,label:e("extension.settings.pages.youtube.targetLanguages"),items:i??[],onItemsChange:a=>{a.length<=pY&&r("youtube",{...n,targetLanguages:a})}})})},hj=({open:t,pageKey:e,page:r,defaultPageConfig:n,additionalControls:i,hasModifications:a,onClose:l,onPageChanged:c})=>{const{t:d}=Wr(),f=r.overrides,h=(g,p)=>{const S={...r.overrides,[g]:p};(typeof S[g]=="string"&&S[g]===(n[g]??"")||typeof S[g]=="boolean"&&S[g]===(n[g]??!1))&&delete S[g];const b=Object.keys(S).length===0;c(e,{...r,overrides:b?void 0:S})};return m.jsx(m.Fragment,{children:m.jsxs(Cp,{fullWidth:!0,open:t,onClose:l,children:[m.jsxs(_m,{children:[m.jsx(An,{variant:"h6",sx:{flexGrow:1},children:pj[e].title}),m.jsx(pr,{edge:"end",onClick:l,children:m.jsx(Om,{})})]}),m.jsx(rd,{children:m.jsxs(Po,{spacing:1,children:[a&&m.jsx(kp,{severity:"warning",action:m.jsx(fi,{onClick:()=>c(e,{...r,overrides:void 0,additionalHosts:void 0,targetLanguages:void 0}),size:"small",children:d("action.revert")}),children:d("extension.settings.pages.overridesWarning")}),m.jsx(Cr,{disabled:!0,label:d("extension.settings.pages.host"),value:n.hostRegex}),m.jsx(Nm,{label:d("extension.settings.pages.additionalHosts"),items:r.additionalHosts??[],onItemsChange:g=>{hY(g)>fY||c(e,{...r,additionalHosts:g.length===0?void 0:g})}}),m.jsx(Cr,{label:d("extension.settings.pages.syncAllowedAtPath"),value:f?.syncAllowedAtPath??n.syncAllowedAtPath??"",onChange:g=>h("syncAllowedAtPath",g.target.value)}),m.jsx(Cr,{label:d("extension.settings.pages.syncAllowedAtHash"),value:f?.syncAllowedAtHash??n.syncAllowedAtHash??"",onChange:g=>h("syncAllowedAtHash",g.target.value)}),i,m.jsx(Ur,{control:m.jsx(In,{checked:f?.searchShadowRootsForVideoElements??n.searchShadowRootsForVideoElements??!1,onChange:g=>h("searchShadowRootsForVideoElements",g.target.checked)}),label:d("extension.settings.pages.searchShadowRootsForVideoElements"),labelPlacement:"start"}),m.jsx(Ur,{control:m.jsx(In,{checked:f?.allowVideoElementsWithBlankSrc??n.allowVideoElementsWithBlankSrc??!1,onChange:g=>h("allowVideoElementsWithBlankSrc",g.target.checked)}),label:d("extension.settings.pages.allowVideoElementsWithBlankSrc"),labelPlacement:"start"}),m.jsx(Ur,{control:m.jsx(In,{checked:f?.autoSyncEnabled??n.autoSyncEnabled??!1,onChange:g=>h("autoSyncEnabled",g.target.checked)}),label:d("extension.settings.pages.autoSyncEnabled"),labelPlacement:"start"})]})}),m.jsx(Rm,{children:m.jsx(fi,{onClick:l,children:d("action.ok")})})]})})},gP=t=>t.overrides!==void 0||t.additionalHosts!==void 0||t.targetLanguages!==void 0,yY=({settings:t,onSettingChanged:e,onSettingsChanged:r,insideApp:n,extensionSupportsOverlay:i,extensionSupportsPageSettings:a,pageConfigs:l})=>{const{t:c}=Wr(),{streamingSubtitleListPreference:d,streamingEnableOverlay:f,streamingDisplaySubtitles:h,streamingRecordMedia:g,streamingTakeScreenshot:p,streamingCleanScreenshot:S,streamingCropScreenshot:b,streamingScreenshotDelay:v,streamingSubsDragAndDrop:k,streamingAutoSync:T,streamingAutoSyncPromptOnFailure:A,streamingCondensedPlaybackMinimumSkipIntervalMs:w,streamingAppUrl:R,streamingPages:O}=t,[M,j]=x.useState("netflix"),[$,V]=x.useState(!1);return m.jsxs(m.Fragment,{children:[a&&l&&M&&m.jsx(gY,{open:$,pageKey:M,page:t.streamingPages[M],hasModifications:gP(t.streamingPages[M]),defaultPageConfig:l[M],onClose:()=>V(!1),onPageChanged:(N,W)=>r({streamingPages:{...O,[N]:W}})}),m.jsxs(Po,{spacing:1,children:[m.jsx(Hn,{children:c("settings.appIntegration")}),m.jsx(Zn,{control:m.jsx(In,{checked:d!==Du.noSubtitleList,onChange:N=>e("streamingSubtitleListPreference",d===Du.noSubtitleList?Du.app:Du.noSubtitleList)}),label:c("extension.settings.openSubtitleList"),labelPlacement:"start"}),!n&&m.jsx(Cr,{color:"primary",fullWidth:!0,label:c("extension.settings.asbplayerUrl"),value:R,onChange:N=>e("streamingAppUrl",N.target.value)}),m.jsx(Hn,{children:c("settings.ui")}),i&&m.jsx(Zn,{control:m.jsx(In,{checked:f,onChange:N=>e("streamingEnableOverlay",N.target.checked)}),label:c("extension.settings.enableOverlay"),labelPlacement:"start"}),m.jsx(Zn,{control:m.jsx(In,{checked:h,onChange:N=>e("streamingDisplaySubtitles",N.target.checked)}),label:c("extension.settings.displaySubtitles"),labelPlacement:"start"}),m.jsx(Hn,{children:c("settings.mining")}),m.jsx(Zn,{control:m.jsx(In,{checked:g,onChange:N=>e("streamingRecordMedia",N.target.checked)}),label:c("extension.settings.recordAudio"),labelPlacement:"start"}),m.jsx(Zn,{control:m.jsx(In,{checked:p,onChange:N=>e("streamingTakeScreenshot",N.target.checked)}),label:c("extension.settings.takeScreenshot"),labelPlacement:"start"}),m.jsx(Zn,{control:m.jsx(In,{checked:S,onChange:N=>e("streamingCleanScreenshot",N.target.checked)}),label:c("extension.settings.cleanScreenshot"),labelPlacement:"start"}),m.jsx(Zn,{control:m.jsx(In,{checked:b,onChange:N=>e("streamingCropScreenshot",N.target.checked)}),label:c("extension.settings.cropScreenshot"),labelPlacement:"start"}),m.jsx(Cr,{type:"number",color:"primary",fullWidth:!0,label:c("extension.settings.screenshotCaptureDelay"),value:v,onChange:N=>e("streamingScreenshotDelay",Number(N.target.value)),slotProps:{htmlInput:{min:0,step:1},input:{endAdornment:m.jsx(yi,{position:"end",children:"ms"})}}}),m.jsx(Hn,{children:c("settings.subtitles")}),m.jsx(Zn,{control:m.jsx(In,{checked:k,onChange:N=>e("streamingSubsDragAndDrop",N.target.checked)}),label:c("extension.settings.dragAndDrop"),labelPlacement:"start"}),m.jsx(Zn,{control:m.jsx(In,{checked:T,onChange:N=>e("streamingAutoSync",N.target.checked)}),label:c("extension.settings.autoLoadDetectedSubs"),labelPlacement:"start"}),m.jsx(Zn,{control:m.jsx(In,{checked:A,onChange:N=>e("streamingAutoSyncPromptOnFailure",N.target.checked)}),label:c("extension.settings.autoLoadDetectedSubsFailure"),labelPlacement:"start"}),m.jsx(Hn,{children:c("settings.misc")}),m.jsx(Cr,{type:"number",color:"primary",fullWidth:!0,label:c("extension.settings.condensedPlaybackMinSkipInterval"),value:w,onChange:N=>e("streamingCondensedPlaybackMinimumSkipIntervalMs",Number(N.target.value)),slotProps:{htmlInput:{min:0,step:1},input:{endAdornment:m.jsx(yi,{position:"end",children:"ms"})}}}),l&&m.jsxs(m.Fragment,{children:[m.jsx(Hn,{children:c("settings.pages")}),m.jsx(X1,{variant:"outlined",component:Ei,style:{height:"auto"},children:m.jsx(G1,{children:m.jsx(Y1,{children:Object.keys(l).map(N=>{const W=N,z=pj[W],I=t.streamingPages[W];return z===void 0||I===void 0?null:m.jsxs(dY,{onClick:()=>{j(W),V(!0)},children:[m.jsx(Us,{sx:{width:48,background:`url(${l[W].faviconUrl})`,backgroundRepeat:"no-repeat",backgroundPosition:"75%",backgroundSize:24}}),m.jsx(Us,{align:"left",children:z.title}),m.jsx(Us,{align:"right",children:m.jsx(E1,{invisible:!gP(I),color:"warning",badgeContent:" ",variant:"dot",children:m.jsx(pr,{children:m.jsx(W1,{})})})})]},N)})})})})]})]})]})};class gj{_socket;_pingInterval;_lastPingTimestampMs;_pongReceived=!1;_pingPromises=[];_connectPromise;onMineSubtitle;onLoadSubtitles;onSeekTimestamp;get socket(){return this._socket}async bind(e){this._pingInterval&&clearInterval(this._pingInterval),this._pingInterval=setInterval(()=>{if(this._lastPingTimestampMs!==void 0&&!this._pongReceived||this._socket&&this._socket.readyState!==this._socket?.OPEN){console.log("Did not receive pong - reconnecting");for(const r of this._pingPromises)r.reject("Timed out");this._pingPromises=[],this._connect(e)}else this.ping().catch(console.info)},1e4),await this._connect(e)}async _connect(e){if(this._disconnect(),!e)throw new Error("Invalid URL");return new Promise((r,n)=>{this._connectPromise={resolve:r,reject:n};const i=new WebSocket(e);i.onmessage=async a=>{if(a.data==="PONG"){this._pongReceived=!0;for(const l of this._pingPromises)l.resolve(void 0);this._pingPromises=[]}else{const l=JSON.parse(a.data);if(l.command==="mine-subtitle"){const c=l.messageId,d=await this.onMineSubtitle?.(l)??!1,f={command:"response",messageId:c,body:{published:d}};this._socket?.send(JSON.stringify(f))}else if(l.command==="load-subtitles"){const c=l.messageId;await this.onLoadSubtitles?.(l);const d={command:"response",messageId:c,body:{}};this._socket?.send(JSON.stringify(d))}else if(l.command==="seek-timestamp"){const c=l.messageId;await this.onSeekTimestamp?.(l);const d={command:"response",messageId:c,body:{}};this._socket?.send(JSON.stringify(d))}}},i.onclose=a=>{console.log(`Socket closed - reason: ${a.reason}`),this._connectPromise?.reject("Socket closed"),this._connectPromise=void 0},i.onerror=()=>{console.log("Socket error"),this._connectPromise?.reject("Socket error"),this._connectPromise=void 0},i.onopen=()=>{this.ping().catch(console.error),this._connectPromise?.resolve(void 0),this._connectPromise=void 0},this._socket=i})}async ping(){return new Promise((e,r)=>{if(!this._socket||this._socket.readyState!==this._socket.OPEN){r("Not connected");return}this._socket.send("PING"),this._lastPingTimestampMs=Date.now(),this._pongReceived=!1,this._pingPromises.push({resolve:e,reject:r})})}_disconnect(){this._socket&&(this._socket.readyState!==this._socket.CLOSED&&this._socket.readyState!==this._socket.CLOSING&&this._socket.close(),this._socket=void 0)}unbind(){this._disconnect(),this._pingInterval!==void 0&&(clearInterval(this._pingInterval),this._pingInterval=void 0);for(const e of this._pingPromises)e.reject("Disconnecting");this._pingPromises=[],this._lastPingTimestampMs=void 0,this._pongReceived=!1,this._connectPromise?.reject("Disconnecting"),this._connectPromise=void 0,this.onMineSubtitle=void 0,this.onSeekTimestamp=void 0,this.onLoadSubtitles=void 0}}function bY(t){try{return new RegExp(t.trim()),!0}catch{return!1}}const vY=({settings:t,onSettingChanged:e,onSettingsChanged:r,supportedLanguages:n,insideApp:i,extensionInstalled:a,extensionSupportsPauseOnHover:l})=>{const{t:c}=Wr(),{themeType:d,language:f,rememberSubtitleOffset:h,autoCopyCurrentSubtitle:g,miningHistoryStorageLimit:p,subtitleRegexFilter:S,tabName:b,subtitleRegexFilterTextReplacement:v,subtitleHtml:k,convertNetflixRuby:T,pauseOnHoverMode:A,webSocketClientEnabled:w,webSocketServerUrl:R}=t,O=x.useMemo(()=>bY(S),[S]),[M,j]=x.useState(),$=x.useCallback(()=>{const B=new gj;B.bind(R).then(()=>B.ping()).then(()=>j(!0)).catch(G=>{console.error(G),j(!1)}).finally(()=>B.unbind())},[R]);x.useEffect(()=>{w&&R&&$()},[$,w,R]);let V;w&&(M?V=c("info.connectionSucceeded"):M===!1&&(V=c("info.connectionFailed")));const N=x.useRef(null),W=x.useCallback(async()=>{try{const B=N.current?.files?.[0];if(B===void 0)return;const G=JSON.parse(await B.text()),U=xL(G);r(U)}catch(B){console.error(B)}},[r]),z=x.useCallback(()=>{N.current?.click()},[]),I=x.useCallback(()=>{SL(t)},[t]);return m.jsxs(m.Fragment,{children:[m.jsxs(Po,{spacing:1,children:[m.jsx(Hn,{children:c("settings.ui")}),m.jsxs(xo,{children:[m.jsx(So,{children:c("settings.theme")}),m.jsxs(Yo,{row:!0,children:[m.jsx(Ur,{control:m.jsx(Jr,{checked:d==="light",value:"light",onChange:B=>B.target.checked&&e("themeType","light")}),label:c("settings.themeLight")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:d==="dark",value:"dark",onChange:B=>B.target.checked&&e("themeType","dark")}),label:c("settings.themeDark")})]})]}),m.jsx(Cr,{select:!0,label:c("settings.language"),value:f,color:"primary",onChange:B=>e("language",B.target.value),children:n.map(B=>m.jsx(ia,{value:B,children:B},B))}),m.jsx(Hn,{children:c("settings.subtitles")}),m.jsx(Zn,{control:m.jsx(In,{checked:h,onChange:B=>e("rememberSubtitleOffset",B.target.checked)}),label:c("settings.rememberSubtitleOffset"),labelPlacement:"start"}),m.jsx(Zn,{control:m.jsx(In,{checked:g,onChange:B=>e("autoCopyCurrentSubtitle",B.target.checked)}),label:c("settings.autoCopy"),labelPlacement:"start"}),m.jsx(Cr,{label:c("settings.subtitleRegexFilter"),fullWidth:!0,value:S,color:"primary",error:!O,helperText:O?void 0:"Invalid regular expression",onChange:B=>e("subtitleRegexFilter",B.target.value)}),m.jsx(Cr,{label:c("settings.subtitleRegexFilterTextReplacement"),fullWidth:!0,value:v,color:"primary",onChange:B=>e("subtitleRegexFilterTextReplacement",B.target.value)}),m.jsxs(xo,{children:[m.jsx(So,{children:c("settings.subtitleHtml")}),m.jsxs(Yo,{row:!0,children:[m.jsx(Ur,{control:m.jsx(Jr,{checked:k===zs.remove,value:zs.remove,onChange:B=>B.target.checked&&e("subtitleHtml",zs.remove)}),label:c("settings.subtitleHtmlRemove")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:k===zs.render,value:zs.render,onChange:B=>B.target.checked&&e("subtitleHtml",zs.render)}),label:c("settings.subtitleHtmlRender")})]})]}),m.jsx(Zn,{control:m.jsx(In,{checked:T,onChange:B=>e("convertNetflixRuby",B.target.checked)}),label:c("settings.convertNetflixRuby"),labelPlacement:"start"}),(!a||l)&&m.jsxs(xo,{children:[m.jsx(So,{component:"legend",children:c("settings.pauseOnHoverMode")}),m.jsxs(Yo,{row:!1,children:[m.jsx(Ur,{control:m.jsx(Jr,{checked:A===ya.disabled,value:ya.disabled,onChange:B=>B.target.checked&&e("pauseOnHoverMode",ya.disabled)}),label:c("pauseOnHoverMode.disabled")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:A===ya.inAndOut,value:ya.inAndOut,onChange:B=>B.target.checked&&e("pauseOnHoverMode",ya.inAndOut)}),label:c("pauseOnHoverMode.inAndOut")}),m.jsx(Ur,{control:m.jsx(Jr,{checked:A===ya.inNotOut,value:ya.inNotOut,onChange:B=>B.target.checked&&e("pauseOnHoverMode",ya.inNotOut)}),label:c("pauseOnHoverMode.inNotOut")})]})]}),m.jsx(Hn,{children:c("settings.webSocketInterface")}),m.jsx(Zn,{control:m.jsx(In,{checked:w,onChange:B=>e("webSocketClientEnabled",B.target.checked)}),label:c("settings.webSocketClientEnabled"),labelPlacement:"start"}),m.jsx(Cr,{color:"primary",fullWidth:!0,label:c("settings.webSocketServerUrl"),value:R,disabled:!w,onChange:B=>e("webSocketServerUrl",B.target.value),error:w&&M===!1,helperText:V,slotProps:{input:{endAdornment:m.jsx(yi,{position:"end",children:m.jsx(pr,{onClick:$,children:m.jsx(Vg,{})})})}}}),m.jsx(Hn,{children:c("settings.mining")}),m.jsx(Cr,{type:"number",label:c("settings.miningHistoryStorageLimit"),fullWidth:!0,value:p,color:"primary",onChange:B=>e("miningHistoryStorageLimit",Number(B.target.value)),slotProps:{htmlInput:{min:0,step:1}}}),i&&m.jsx(Cr,{label:c("settings.tabName"),fullWidth:!0,value:b,color:"primary",onChange:B=>e("tabName",B.target.value)}),m.jsx(Hn,{children:c("settings.title")}),m.jsxs(Po,{direction:"row",spacing:1,children:[m.jsx(fi,{variant:"contained",color:"primary",style:{flex:1},onClick:z,children:c("action.importSettings")}),m.jsx(fi,{variant:"contained",color:"primary",style:{flex:1},onClick:I,children:c("action.exportSettings")})]})]}),m.jsx("input",{ref:N,onChange:W,type:"file",accept:".json",multiple:!0,hidden:!0})]})},SY=yn(t=>({root:({smallScreen:e})=>{let r={maxHeight:"100%",height:"calc(100% - 48px)"};return e||(r={...r,flexGrow:1,display:"flex",height:"100%"}),r},tabs:({smallScreen:e,heightConstrained:r})=>{let n={paddingLeft:0,paddingRight:t.spacing(1)};r&&(n={...n,minHeight:38,fontSize:12});let i={"& .MuiButtonBase-root":n,"& .MuiTab-root":{minWidth:120,height:"100%"}};return e||(i={...i,minWidth:120,width:120}),i},formGroup:{"& .MuiTextField-root":{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},subtitleSetting:{"& .MuiTextField-root":{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},subtitlePreview:{backgroundImage:`linear-gradient(45deg, ${t.palette.action.disabledBackground} 25%, transparent 25%), linear-gradient(-45deg, ${t.palette.action.disabledBackground} 25%, transparent 25%), linear-gradient(45deg, transparent 75%, ${t.palette.action.disabledBackground} 75%), linear-gradient(-45deg, transparent 75%,${t.palette.action.disabledBackground} 75%)`,backgroundSize:"20px 20px",backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px",marginTop:t.spacing(1),marginBottom:t.spacing(1),maxWidth:"100%",padding:10},subtitlePreviewInput:{border:"none",width:"100%",textAlign:"center",backgroundColor:"rgba(0,0,0,0)","&:focus":{outline:"none"}},switchLabel:{justifyContent:"space-between",marginLeft:0,marginRight:-8},verticallyCentered:{display:"flex",flexDirection:"column",justifyContent:"center"}})),xY=yn(t=>({panel:({tabsOrientation:e})=>({paddingLeft:e==="horizontal"?t.spacing(1):t.spacing(2),paddingRight:t.spacing(1),paddingTop:e==="horizontal"?t.spacing(1):0,overflowY:"scroll",maxHeight:"100%",height:"100%",width:"100%"})})),_l=Ln.forwardRef(function({children:e,value:r,index:n,tabsOrientation:i,...a},l){const c=xY({tabsOrientation:i});return m.jsx(Hg,{ref:l,className:c.panel,hidden:r!==n,...a,children:r===n&&e})});Object.keys(document.body.style).filter(t=>!Mx(t));function wY({anki:t,dictionaryProvider:e,settings:r,profiles:n,activeProfile:i,pageConfigs:a,extensionInstalled:l,extensionVersion:c,extensionSupportsAppIntegration:d,extensionSupportsOverlay:f,extensionSupportsSidePanel:h,extensionSupportsOrderableAnkiFields:g,extensionSupportsTrackSpecificSettings:p,extensionSupportsSubtitlesWidthSetting:S,extensionSupportsPauseOnHover:b,extensionSupportsExportCardBind:v,extensionSupportsPageSettings:k,extensionSupportsDictionary:T,insideApp:A,appVersion:w,scrollToId:R,chromeKeyBinds:O,localFontsAvailable:M,localFontsPermission:j,localFontFamilies:$,supportedLanguages:V,forceVerticalTabs:N,inTutorial:W,heightConstrained:z,testCard:I,onSettingsChanged:B,onOpenChromeExtensionShortcuts:G,onUnlockLocalFonts:U}){const X=!l||T,q=fo(),Z=K1(q.breakpoints.down(500))&&!N,F=SY({smallScreen:Z,heightConstrained:z}),D=x.useCallback(async(ue,rt)=>{B({[ue]:rt})},[B]),{t:J}=Wr(),{noteType:ee}=r,te=x.useMemo(()=>{const ue=["anki-settings","mining-settings","subtitle-appearance","keyboard-shortcuts","dictionary","streaming-video","misc-settings","about"];return d||ue.splice(ue.indexOf("streaming-video"),1),X||ue.splice(ue.indexOf("dictionary"),1),Object.fromEntries(ue.map((rt,ye)=>[rt,ye]))},[d,X]);x.useEffect(()=>{R&&R in te&&oe(te[R])},[R,te]);const[ie,oe]=x.useState(0),ke=Z?"horizontal":"vertical",[ve,Q]=x.useState(ni.ankiConnect);x.useEffect(()=>{ve===ni.noteType&&ee&&Q(ni.ankiFields)},[ve,ee]);const de=x.useRef(null),we=x.useRef(null);return x.useEffect(()=>{ve===ni.testCard&&de.current?.scrollBy({behavior:"smooth",top:1e5})},[ve]),m.jsxs("div",{className:F.root,children:[m.jsxs(WW,{orientation:ke,variant:"scrollable",value:ie,className:F.tabs,scrollButtons:!1,onChange:(ue,rt)=>oe(rt),style:{maxWidth:"100vw",marginLeft:Z?"auto":0,marginRight:Z?"auto":0},children:[m.jsx(Pl,{tabIndex:0,label:J("settings.anki"),id:"anki-settings"}),m.jsx(Pl,{tabIndex:1,label:J("settings.mining"),id:"mining-settings"}),m.jsx(Pl,{tabIndex:2,label:J("settings.subtitleAppearance"),id:"subtitle-appearance"}),m.jsx(Pl,{tabIndex:3,label:J("settings.keyboardShortcuts"),id:"keyboard-shortcuts"}),X&&m.jsx(Pl,{tabIndex:4,label:J("settings.annotation"),id:"dictionary"}),d&&m.jsx(Pl,{tabIndex:4+Number(X),label:J("settings.streamingVideo"),id:"streaming-video"}),m.jsx(Pl,{tabIndex:4+Number(X)+Number(d),label:J("settings.misc"),id:"misc-settings"}),m.jsx(Pl,{tabIndex:5+Number(X)+Number(d),label:J("about.title"),id:"about"})]}),m.jsx(_l,{ref:de,value:ie,index:te["anki-settings"],tabsOrientation:ke,children:m.jsx(uK,{settings:r,extensionInstalled:l,extensionSupportsOrderableAnkiFields:g,isMobile:Qi.isMobile,insideApp:A,inTutorial:W,onSettingChanged:D,onSettingsChanged:B,tutorialStep:ve,onTutorialStepChanged:Q,anki:t,testCard:I})}),m.jsx(_l,{value:ie,index:te["mining-settings"],tabsOrientation:ke,children:m.jsx(jG,{settings:r,onSettingChanged:D})}),m.jsx(_l,{value:ie,index:te.dictionary,tabsOrientation:ke,children:m.jsx(LG,{anki:t,dictionaryProvider:e,settings:r,profiles:n,activeProfile:i,extensionInstalled:l,onSettingChanged:D,onViewKeyboardShortcuts:()=>{oe(te["keyboard-shortcuts"]),setTimeout(()=>we.current?.scrollBy({top:1e4,behavior:"smooth"}),0)}})}),m.jsx(_l,{value:ie,index:te["subtitle-appearance"],tabsOrientation:ke,children:m.jsx(qG,{settings:r,onSettingChanged:D,onSettingsChanged:B,extensionInstalled:l,extensionSupportsTrackSpecificSettings:p,extensionSupportsSubtitlesWidthSetting:S,localFontsAvailable:M,localFontsPermission:j,localFontFamilies:$,onUnlockLocalFonts:U})}),m.jsx(_l,{ref:we,value:ie,index:te["keyboard-shortcuts"],tabsOrientation:ke,children:m.jsx(uY,{settings:r,onSettingChanged:D,chromeKeyBinds:O,extensionInstalled:l,extensionSupportsExportCardBind:v,extensionSupportsSidePanel:h,onOpenChromeExtensionShortcuts:G})}),m.jsx(_l,{value:ie,index:te["streaming-video"],tabsOrientation:ke,children:m.jsx(yY,{settings:r,onSettingChanged:D,onSettingsChanged:B,insideApp:A,extensionSupportsOverlay:f,extensionSupportsPageSettings:k,pageConfigs:a})}),m.jsx(_l,{value:ie,index:te["misc-settings"],tabsOrientation:ke,children:m.jsx(vY,{settings:r,onSettingChanged:D,onSettingsChanged:B,supportedLanguages:V,insideApp:A,extensionInstalled:l,extensionSupportsPauseOnHover:b})}),m.jsx(_l,{value:ie,index:te.about,tabsOrientation:ke,children:m.jsx(QW,{appVersion:A?w:void 0,extensionVersion:l?c:void 0})})]})}const kY=lr(m.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),mP=16,CY=5,TY=yn(()=>({newProfileTextField:{"& .MuiInputBase-root":{paddingRight:0}},menu:{"& .MuiSelect-root":{padding:0}}})),yP=yn(()=>({root:({collapsed:t})=>t?{"&:hover":{backgroundColor:"transparent"},margin:0}:{margin:0}}));function bP({onRemoveProfile:t,onSetActiveProfile:e,divider:r,profile:n,collapsed:i,t:a,className:l}){return m.jsxs(ia,{className:l,divider:r,value:n?.name??"-",style:{minHeight:"auto"},children:[m.jsx("div",{onClick:c=>{c.currentTarget===c.target&&e(n?.name)},style:{flexGrow:1},children:n?.name??a("settings.defaultProfile")}),n!==void 0&&!i&&m.jsx(pr,{onMouseDown:c=>c.stopPropagation(),onClick:()=>{t(n.name)},style:{padding:4,marginRight:i?16:0},children:m.jsx(Lm,{fontSize:"small"})})]},n?.name??"")}function EY({profiles:t,activeProfile:e,onNewProfile:r,onRemoveProfile:n,onSetActiveProfile:i}){const{t:a}=Wr(),l=TY(),c=yP({collapsed:!0}),d=yP({collapsed:!1}),[f,h]=x.useState(!1),g=x.useRef(void 0),[p,S]=x.useState(""),b=p.trim(),v=b!==""&&b!=="-"&&b.length>=1&&b.length<=mP&&t.find(T=>T.name===b)===void 0;x.useEffect(()=>{if(!f)return;const T=A=>{if(A.key==="Enter"){if(!v)return;h(!1),r(p.trim())}};return document.addEventListener("keypress",T),()=>document.removeEventListener("keypress",T)},[f,p,r,v]);const k=t.length>=CY;return m.jsxs(m.Fragment,{children:[f&&m.jsx(ra,{inputRef:T=>{g.current=T,T?.focus()},className:l.newProfileTextField,fullWidth:!0,color:"primary",variant:"outlined",style:{paddingRight:0},label:a("settings.profileName"),placeholder:a("settings.enterProfileName"),value:p,onChange:T=>{S(T.target.value)},slotProps:{htmlInput:{maxLength:mP},input:{endAdornment:m.jsxs(yi,{position:"end",children:[m.jsx(pr,{onClick:()=>{h(!1)},children:m.jsx(sj,{fontSize:"small"})}),m.jsx(pr,{disabled:!v,onClick:()=>{h(!1),r(p.trim())},children:m.jsx(kY,{fontSize:"small"})})]})}}}),!f&&m.jsxs(ra,{select:!0,fullWidth:!0,className:l.menu,size:"small",color:"primary",variant:"outlined",label:a("settings.activeProfile"),value:e??"-",SelectProps:{renderValue:T=>bP({profile:t.find(A=>A.name===T),divider:!1,onRemoveProfile:n,onSetActiveProfile:i,collapsed:!0,t:a,className:c.root})},children:[m.jsx(ia,{value:"-",onClick:()=>i(void 0),style:{minHeight:"auto"},children:a("settings.defaultProfile")},""),t.map((T,A)=>bP({profile:T,divider:A===t.length-1,onRemoveProfile:n,onSetActiveProfile:i,collapsed:!1,t:a,className:d.root})),m.jsx(ia,{disabled:k,onClick:()=>{S(""),h(!0)},style:{minHeight:"auto",textAlign:"center"},children:a(k?"settings.profileLimitReached":"settings.newProfile")})]})]})}const AY=()=>{const t=window.location.pathname==="/"?"":window.location.pathname;return RL({imageUrl:`${t}/assets/test-card.jpeg`,audioUrl:`${t}/assets/test-card.mp3`})},RY=yn(t=>({root:{"& .MuiPaper-root":{height:"100vh"}},content:{maxHeight:"100%"},profilesContainer:{paddingLeft:t.spacing(4),paddingRight:t.spacing(4),paddingBottom:t.spacing(2)},title:{flexGrow:1}}));function OY({anki:t,extension:e,open:r,dictionaryProvider:n,settings:i,scrollToId:a,onSettingsChanged:l,onClose:c,...d}){const{t:f}=Wr(),h=RY(),{updateLocalFontsPermission:g,updateLocalFonts:p,localFontsAvailable:S,localFontsPermission:b,localFontFamilies:v}=WG(),k=x.useCallback(()=>{g(),p()},[g,p]);return m.jsxs(Cp,{open:r,maxWidth:"md",fullWidth:!0,className:h.root,onClose:c,children:[m.jsxs(_m,{children:[m.jsx(An,{variant:"h6",className:h.title,children:f("settings.title")}),m.jsx(pr,{edge:"end",onClick:c,children:m.jsx(Om,{})})]}),m.jsx(rd,{className:h.content,children:m.jsx(wY,{anki:t,extensionInstalled:e.installed,extensionVersion:e.installed?e.version:void 0,extensionSupportsAppIntegration:e.supportsAppIntegration,extensionSupportsOverlay:e.supportsStreamingVideoOverlay,extensionSupportsSidePanel:e.supportsSidePanel,extensionSupportsOrderableAnkiFields:e.supportsOrderableAnkiFields,extensionSupportsTrackSpecificSettings:e.supportsTrackSpecificSettings,extensionSupportsSubtitlesWidthSetting:e.supportsSubtitlesWidthSetting,extensionSupportsPauseOnHover:e.supportsPauseOnHover,extensionSupportsExportCardBind:e.supportsExportCardBind,extensionSupportsPageSettings:e.supportsPageSettings,extensionSupportsDictionary:e.supportsDictionary,pageConfigs:e.pageConfig,insideApp:!0,appVersion:"78a76dce",chromeKeyBinds:e.extensionCommands,onOpenChromeExtensionShortcuts:e.openShortcuts,onSettingsChanged:l,dictionaryProvider:n,settings:i,profiles:d.profiles,activeProfile:d.activeProfile,scrollToId:a,localFontsAvailable:S,localFontsPermission:b,localFontFamilies:v,supportedLanguages:OL,testCard:AY,onUnlockLocalFonts:k})}),(!e.installed||e.supportsSettingsProfiles)&&m.jsx(Hg,{className:h.profilesContainer,children:m.jsx(EY,{...d})})]})}class PY{channel;readyCallbacks;playCallbacks;pauseCallbacks;currentTimeCallbacks;audioTrackSelectedCallbacks;closeCallbacks;subtitlesCallbacks;subtitlesUpdatedCallbacks;saveTokenLocalCallbacks;offsetCallbacks;playbackRateCallbacks;playModeCallbacks;hideSubtitlePlayerToggleCallbacks;appBarToggleCallbacks;fullscreenToggleCallbacks;subtitleSettingsCallbacks;miscSettingsCallbacks;ankiSettingsCallbacks;alertCallbacks;copyCallbacks;constructor(e){this.channel=new BroadcastChannel(e),this.playCallbacks=[],this.pauseCallbacks=[],this.currentTimeCallbacks=[],this.audioTrackSelectedCallbacks=[],this.closeCallbacks=[],this.readyCallbacks=[],this.subtitlesCallbacks=[],this.subtitlesUpdatedCallbacks=[],this.saveTokenLocalCallbacks=[],this.offsetCallbacks=[],this.playbackRateCallbacks=[],this.playModeCallbacks=[],this.hideSubtitlePlayerToggleCallbacks=[],this.appBarToggleCallbacks=[],this.fullscreenToggleCallbacks=[],this.subtitleSettingsCallbacks=[],this.miscSettingsCallbacks=[],this.ankiSettingsCallbacks=[],this.alertCallbacks=[],this.copyCallbacks=[];const r=this;this.channel.onmessage=n=>{switch(n.data.command){case"init":break;case"ready":const i=n.data;for(let V of r.readyCallbacks)V(i.duration,i.videoFileName);break;case"play":for(let V of r.playCallbacks)V();break;case"pause":for(let V of r.pauseCallbacks)V();break;case"currentTime":const a=n.data;for(let V of r.currentTimeCallbacks)V(a.value);break;case"audioTrackSelected":const l=n.data;for(let V of r.audioTrackSelectedCallbacks)V(l.id);break;case"close":for(let V of r.closeCallbacks)V();break;case"subtitles":const c=n.data;for(let V of r.subtitlesCallbacks)V(c.value,c.names.length>0?c.names[0]:"");break;case"subtitlesUpdated":const d=n.data;for(let V of r.subtitlesUpdatedCallbacks)V(d.subtitles);break;case"saveTokenLocal":const{track:f,token:h,status:g,states:p,applyStates:S}=n.data;for(const V of r.saveTokenLocalCallbacks)V(f,h,g,p,S);break;case"offset":const b=n.data;for(const V of r.offsetCallbacks)V(b.value);break;case"playbackRate":const v=n.data;for(const V of r.playbackRateCallbacks)V(v.value);break;case"subtitleSettings":const k=n.data;for(let V of r.subtitleSettingsCallbacks)V(k.value);break;case"playMode":const T=n.data;for(let V of r.playModeCallbacks)V(T.playMode);break;case"hideSubtitlePlayerToggle":const A=n.data;for(let V of r.hideSubtitlePlayerToggleCallbacks)V(A.value);break;case"appBarToggle":const w=n.data;for(let V of r.appBarToggleCallbacks)V(w.value);break;case"fullscreenToggle":const R=n.data;for(const V of r.fullscreenToggleCallbacks)V(R.value);break;case"ankiSettings":const O=n.data;for(let V of r.ankiSettingsCallbacks)V(O.value);break;case"miscSettings":const M=n.data;for(let V of r.miscSettingsCallbacks)V(M.value);break;case"alert":const j=n.data;for(const V of r.alertCallbacks)V(j.message,j.severity);break;case"copy":const $=n.data;for(const V of r.copyCallbacks){const{text:N,word:W,definition:z,customFieldValues:I}=$,B={text:N,word:W,definition:z,customFieldValues:I};V($.postMineAction,$.subtitle,$.surroundingSubtitles,B)}break;default:console.error("Unrecognized event "+n.data.command)}}}currentTime(e,r=!0){this.channel?.postMessage({command:"currentTime",value:e,echo:r})}onPlay(e){return this.playCallbacks.push(e),()=>this._remove(e,this.playCallbacks)}onPause(e){return this.pauseCallbacks.push(e),()=>this._remove(e,this.pauseCallbacks)}onCurrentTime(e){return this.currentTimeCallbacks.push(e),()=>this._remove(e,this.currentTimeCallbacks)}onAudioTrackSelected(e){return this.audioTrackSelectedCallbacks.push(e),()=>this._remove(e,this.audioTrackSelectedCallbacks)}onClose(e){return this.closeCallbacks.push(e),()=>this._remove(e,this.closeCallbacks)}onReady(e){return this.readyCallbacks.push(e),()=>this._remove(e,this.readyCallbacks)}onSubtitles(e){return this.subtitlesCallbacks.push(e),()=>this._remove(e,this.subtitlesCallbacks)}onSubtitlesUpdated(e){return this.subtitlesUpdatedCallbacks.push(e),()=>this._remove(e,this.subtitlesUpdatedCallbacks)}onSaveTokenLocal(e){return this.saveTokenLocalCallbacks.push(e),()=>this._remove(e,this.saveTokenLocalCallbacks)}onOffset(e){return this.offsetCallbacks.push(e),()=>this._remove(e,this.offsetCallbacks)}onPlaybackRate(e){return this.playbackRateCallbacks.push(e),()=>this._remove(e,this.playbackRateCallbacks)}onPlayMode(e){return this.playModeCallbacks.push(e),()=>this._remove(e,this.playModeCallbacks)}onHideSubtitlePlayerToggle(e){return this.hideSubtitlePlayerToggleCallbacks.push(e),()=>this._remove(e,this.hideSubtitlePlayerToggleCallbacks)}onAppBarToggle(e){return this.appBarToggleCallbacks.push(e),()=>this._remove(e,this.appBarToggleCallbacks)}onFullscreenToggle(e){return this.fullscreenToggleCallbacks.push(e),()=>this._remove(e,this.fullscreenToggleCallbacks)}onSubtitleSettings(e){return this.subtitleSettingsCallbacks.push(e),()=>this._remove(e,this.subtitleSettingsCallbacks)}onMiscSettings(e){return this.miscSettingsCallbacks.push(e),()=>this._remove(e,this.miscSettingsCallbacks)}onAnkiSettings(e){return this.ankiSettingsCallbacks.push(e),()=>this._remove(e,this.ankiSettingsCallbacks)}onAlert(e){return this.alertCallbacks.push(e),()=>this._remove(e,this.alertCallbacks)}onCopy(e){return this.copyCallbacks.push(e),()=>this._remove(e,this.copyCallbacks)}ready(e,r,n,i,a){const l={command:"ready",duration:e,paused:r,currentTime:0,audioTracks:i,selectedAudioTrack:a,playbackRate:n};this.channel?.postMessage(l)}readyState(e){const r={command:"readyState",value:e};this.channel?.postMessage(r)}play(e=!0){const r={command:"play",echo:e};this.channel?.postMessage(r)}pause(e=!0){const r={command:"pause",echo:e};this.channel?.postMessage(r)}audioTrackSelected(e){const r={command:"audioTrackSelected",id:e};this.channel?.postMessage(r)}offset(e){const r={command:"offset",value:e};this.channel?.postMessage(r)}playbackRate(e,r=!0){const n={command:"playbackRate",value:e,echo:r};this.channel?.postMessage(n)}saveTokenLocal(e,r,n,i,a){const l={command:"saveTokenLocal",track:e,token:r,status:n,states:i,applyStates:a};this.channel?.postMessage(l)}popOutToggle(){this.channel?.postMessage({command:"popOutToggle"})}copy(e,r,n,i,a,l){const c={command:"copy",subtitle:e,surroundingSubtitles:r,...n,subtitleFileName:i,postMineAction:l,mediaTimestamp:a};this.channel?.postMessage(c)}playMode(e){this.channel?.postMessage({command:"playMode",playMode:e})}hideSubtitlePlayerToggle(){this.channel?.postMessage({command:"hideSubtitlePlayerToggle"})}appBarToggle(){this.channel?.postMessage({command:"appBarToggle"})}toggleSubtitleTrackInList(e){const r={command:"toggleSubtitleTrackInList",track:e};this.channel?.postMessage(r)}subtitlesUpdated(e){const r={command:"subtitlesUpdated",updatedSubtitles:e};this.channel?.postMessage(r)}loadFiles(){this.channel?.postMessage({command:"loadFiles"})}close(){this.channel&&(this.channel.postMessage({command:"exit"}),this.channel.close(),this.channel=void 0,this.playCallbacks=[],this.pauseCallbacks=[],this.currentTimeCallbacks=[],this.audioTrackSelectedCallbacks=[],this.closeCallbacks=[],this.readyCallbacks=[],this.subtitlesCallbacks=[],this.subtitlesUpdatedCallbacks=[],this.offsetCallbacks=[],this.playbackRateCallbacks=[],this.playModeCallbacks=[],this.hideSubtitlePlayerToggleCallbacks=[],this.appBarToggleCallbacks=[],this.fullscreenToggleCallbacks=[],this.subtitleSettingsCallbacks=[],this.miscSettingsCallbacks=[],this.ankiSettingsCallbacks=[],this.alertCallbacks=[],this.copyCallbacks=[])}_remove(e,r){for(let n=r.length-1;n>=0;--n)if(e===r[n]){r.splice(n,1);break}}}const _Y=(t,e)=>{const[r,n]=x.useState(new uT);return x.useEffect(()=>{const i=new uT;return n(i),()=>i.clear()},[t,e]),{getSubtitleDomCache:()=>{if(r.empty)for(const i of t)r.add(String(i.index),e(i));return r}}};function Wf(t,e,r){const n=e;let i=-1,a=Number.MAX_SAFE_INTEGER;for(let l=0;l<r.length;++l){const c=r[l],d=t?c.start-n:n-c.start;a<=d||(t&&n<c.start?(a=d,i=l):!t&&n>c.start&&(a=d,i=n<c.end?Math.max(0,l-1):l))}return i!==-1?r[i]:null}class vP{keyBindSet;constructor(e){this.keyBindSet=e}bindCopy(e,r,n,i=!1){const a=this.keyBindSet.copySubtitle.keys;if(!a)return()=>{};const l=this.copyHandler(e,r,n);return this._bind(a,i,l)}copyHandler(e,r,n){return i=>{if(r())return!1;const a=n();return a?(e(i,a),!0):!1}}bindAnkiExport(e,r,n=!1){const i=this.keyBindSet.ankiExport.keys;if(!i)return()=>{};const a=this.ankiExportHandler(e,r);return this._bind(i,n,a)}ankiExportHandler(e,r){return n=>r()?!1:(e(n),!0)}bindUpdateLastCard(e,r,n=!1){const i=this.keyBindSet.updateLastCard.keys;if(!i)return()=>{};const a=this.updateLastCardHandler(e,r);return this._bind(i,n,a)}updateLastCardHandler(e,r){return n=>r()?!1:(e(n),!0)}bindExportCard(e,r,n=!1){const i=this.keyBindSet.exportCard.keys;if(!i)return()=>{};const a=this.exportCardHandler(e,r);return this._bind(i,n,a)}exportCardHandler(e,r){return n=>r()?!1:(e(n),!0)}bindTakeScreenshot(e,r,n=!1){const i=this.keyBindSet.takeScreenshot.keys;if(!i)return()=>{};const a=this.takeScreenshotHandler(e,r);return this._bind(i,n,a)}takeScreenshotHandler(e,r){return n=>r()?!1:(e(n),!0)}bindToggleRecording(e,r,n=!1){const i=this.keyBindSet.toggleRecording.keys;if(!i)return()=>{};const a=this.takeScreenshotHandler(e,r);return this._bind(i,n,a)}toggleRecordingHandler(e,r){return n=>r()?!1:(e(n),!0)}bindSeekToSubtitle(e,r,n,i,a=!1){const l=(S,b)=>{if(r())return!1;const v=i();if(!v||v.length===0)return!1;const k=Wf(b,n(),v);return k!==null&&k.start>=0&&k.end>=0?(e(S,k),!0):!1},c=this.keyBindSet.seekToPreviousSubtitle.keys,d=this.keyBindSet.seekToNextSubtitle.keys,f=S=>l(S,!1),h=S=>l(S,!0);let g,p;return c&&(g=this._bind(c,a,f)),d&&(p=this._bind(d,a,h)),()=>{g?.(),p?.()}}bindSeekToBeginningOfCurrentSubtitle(e,r,n,i,a=!1){const l=this.keyBindSet.seekToBeginningOfCurrentSubtitle.keys;if(!l)return()=>{};const c=d=>{if(r())return!1;const f=i();if(!f||f.length===0)return!1;const h=this._currentOrPreviousSubtitle(n(),f);return h!==void 0&&h.start>=0&&h.end>=0?(e(d,h),!0):!1};return this._bind(l,a,c)}_currentOrPreviousSubtitle(e,r){const n=e;let i,a,l=Number.MAX_SAFE_INTEGER;for(let c=0;c<r.length;++c){const d=r[c];if(d.start<0||d.end<0)continue;const f=n-d.start;n>=d.start&&n<d.end?f<l&&(i=d,l=f):n>d.end&&(a=d)}return i||a}bindSeekBackwardOrForward(e,r,n=!1){const i=(g,p)=>r()?!1:(e(g,p),!0),a=this.keyBindSet.seekBackward.keys,l=this.keyBindSet.seekForward.keys,c=g=>i(g,!1),d=g=>i(g,!0);let f,h;return a&&(f=this._bind(a,n,c)),l&&(h=this._bind(l,n,d)),()=>{f?.(),h?.()}}bindOffsetToSubtitle(e,r,n,i,a=!1){const l=(S,b)=>{if(r())return!1;const v=i();if(!v||v.length===0)return!1;const k=n(),T=Wf(b,k,v);if(T!==null){const A=T.originalStart,w=k-A;return e(S,w),!0}return!1},c=this.keyBindSet.adjustOffsetToPreviousSubtitle.keys,d=this.keyBindSet.adjustOffsetToNextSubtitle.keys,f=S=>l(S,!1),h=S=>l(S,!0);let g,p;return c&&(g=this._bind(c,a,f)),d&&(p=this._bind(d,a,h)),()=>{g?.(),p?.()}}bindAdjustOffset(e,r,n,i=!1){const a=(p,S)=>{if(r())return!1;const b=n();if(!b||b.length===0)return!1;const k=b[0].start-b[0].originalStart+(S?100:-100);return e(p,k),!0},l=this.keyBindSet.decreaseOffset.keys,c=this.keyBindSet.increaseOffset.keys,d=p=>a(p,!1),f=p=>a(p,!0),h=l?this._bind(l,i,d):()=>{},g=c?this._bind(c,i,f):()=>{};return()=>{h(),g()}}bindResetOffet(e,r,n){const i=this.keyBindSet.resetOffset.keys;if(!i)return()=>{};const a=l=>r()?!1:(e(l),!0);return this._bind(i,n??!1,a)}bindAdjustPlaybackRate(e,r,n=!1){const i=(g,p)=>r()?!1:(e(g,p),!0),a=this.keyBindSet.increasePlaybackRate.keys,l=this.keyBindSet.decreasePlaybackRate.keys,c=g=>i(g,!1),d=g=>i(g,!0);let f,h;return l&&(f=this._bind(l,n,c)),a&&(h=this._bind(a,n,d)),()=>{f?.(),h?.()}}bindAdjustSubtitlePositionOffset(e,r,n=!1){const i=(g,p)=>r()?!1:(e(g,p),!0),a=this.keyBindSet.moveBottomSubtitlesUp.keys,l=this.keyBindSet.moveBottomSubtitlesDown.keys,c=g=>i(g,!1),d=g=>i(g,!0),f=l?this._bind(l,n,c):()=>{},h=a?this._bind(a,n,d):()=>{};return()=>{f(),h()}}bindAdjustTopSubtitlePositionOffset(e,r,n=!1){const i=(g,p)=>r()?!1:(e(g,p),!0),a=this.keyBindSet.moveTopSubtitlesDown.keys,l=this.keyBindSet.moveTopSubtitlesUp.keys,c=g=>i(g,!1),d=g=>i(g,!0),f=l?this._bind(l,n,c):()=>{},h=a?this._bind(a,n,d):()=>{};return()=>{f(),h()}}bindToggleSubtitles(e,r,n=!1){const i=this.keyBindSet.toggleSubtitles.keys;if(!i)return()=>{};const a=l=>r()?!1:(e(l),!0);return this._bind(i,n,a)}bindToggleSubtitleTrackInVideo(e,r,n=!1){const i=[this.keyBindSet.toggleVideoSubtitleTrack1.keys,this.keyBindSet.toggleVideoSubtitleTrack2.keys,this.keyBindSet.toggleVideoSubtitleTrack3.keys].filter(c=>c);if(i.length===0)return()=>{};const a=(c,d)=>r()?!1:(e(c,d),!0);let l=[];for(let c=0;c<i.length;++c){const d=h=>a(h,c),f=i[c]?this._bind(i[c],n,d):()=>{};l.push(f)}return()=>{for(let c=0;c<i.length;++c){const d=l[c];d()}}}bindToggleSubtitleTrackInList(e,r,n=!1){const i=[this.keyBindSet.toggleAsbplayerSubtitleTrack1.keys,this.keyBindSet.toggleAsbplayerSubtitleTrack2.keys,this.keyBindSet.toggleAsbplayerSubtitleTrack3.keys].filter(c=>c);if(i.length===0)return()=>{};const a=(c,d)=>r()?!1:(e(c,d),!0);let l=[];for(let c=0;c<9;++c){const d=h=>a(h,c),f=i[c]?this._bind(i[c],n,d):()=>{};l.push(f)}return()=>{for(let c=0;c<9;++c){const d=l[c];d()}}}bindUnblurTrack(e,r,n=!1){const i=[this.keyBindSet.unblurAsbplayerTrack1.keys,this.keyBindSet.unblurAsbplayerTrack2.keys,this.keyBindSet.unblurAsbplayerTrack3.keys].filter(c=>c);if(i.length===0)return()=>{};const a=(c,d)=>r()?!1:(e(c,d),!0);let l=[];for(let c=0;c<i.length;++c){const d=h=>a(h,c),f=i[c]?this._bind(i[c],n,d):()=>{};l.push(f)}return()=>{for(let c=0;c<i.length;++c){const d=l[c];d()}}}bindPlay(e,r,n=!1){const i=this.keyBindSet.togglePlay.keys;if(!i)return()=>{};const a=l=>r()?!1:(e(l),!0);return this._bind(i,n,a)}bindAutoPause(e,r,n=!1){const i=this.keyBindSet.toggleAutoPause.keys;if(!i)return()=>{};const a=l=>r()?!1:(e(l),!0);return this._bind(i,n,a)}bindCondensedPlayback(e,r,n=!1){const i=this.keyBindSet.toggleCondensedPlayback.keys;if(!i)return()=>{};const a=l=>r()?!1:(e(l),!0);return this._bind(i,n,a)}bindFastForwardPlayback(e,r,n=!1){const i=this.keyBindSet.toggleFastForwardPlayback.keys;if(!i)return()=>{};const a=l=>r()?!1:(e(l),!0);return this._bind(i,n,a)}bindToggleSidePanel(e,r,n=!1){const i=this.keyBindSet.toggleSidePanel.keys;if(!i)return()=>{};const a=l=>r()?!1:(e(l),!0);return this._bind(i,n,a)}bindToggleRepeat(e,r,n=!1){const i=this.keyBindSet.toggleRepeat.keys,a=l=>r()?!1:(e(l),!0);return this._bind(i,n,a)}bindMarkHoveredToken(e,r,n=!1){const i=[this.keyBindSet.markHoveredToken0.keys,this.keyBindSet.markHoveredToken1.keys,this.keyBindSet.markHoveredToken2.keys,this.keyBindSet.markHoveredToken3.keys,this.keyBindSet.markHoveredToken4.keys,this.keyBindSet.markHoveredToken5.keys];if(i.length===0)return()=>{};const a=(c,d)=>r()?!1:(e(c,d),!0);let l=[];for(let c=0;c<i.length;++c){const d=h=>a(h,c),f=i[c]?this._bind(i[c],n,d):()=>{};l.push(f)}return()=>{for(let c=0;c<i.length;++c){const d=l[c];d()}}}bindToggleHoveredTokenIgnored(e,r,n=!1){const i=this.keyBindSet.toggleHoveredTokenIgnored.keys;if(!i)return()=>{};const a=l=>r()?!1:(e(l),!0);return this._bind(i,n,a)}_bind(e,r,n){let i;const a=l=>{l.type==="keydown"?i=n(l):l.type==="keyup"&&(i&&(l.preventDefault(),l.stopImmediatePropagation()),i=void 0)};return Jo(e,{capture:r,keydown:!0,keyup:!0},a),()=>Jo.unbind(e,a)}}const mj=(t,e)=>{const[r,n]=x.useState(()=>new dT(new vP(t),e));return x.useEffect(()=>{const i=new dT(new vP(t),e);n(a=>(a.unsubscribeExtension(),i))},[t,e]),r},MY=({onSwipe:t,rect:e,distance:r,ms:n})=>{const[i,a]=x.useState(),l=x.useCallback((c,d)=>e===void 0?!0:c>=e.left&&c<=e.right&&d>=e.top&&d<=e.bottom,[e]);x.useEffect(()=>{const c=d=>{const f=d.changedTouches[0].clientX,h=d.changedTouches[0].clientY;l(f,h)&&a({x:f,timestamp:Date.now()})};return document.addEventListener("touchstart",c),()=>document.removeEventListener("touchstart",c)},[l]),x.useEffect(()=>{if(i===void 0)return;const c=d=>{const f=d.changedTouches[0].clientX,h=d.changedTouches[0].clientY;l(f,h)&&Date.now()-i.timestamp<=n&&(i.x>=f+r?t("left"):i.x<=f-r&&t("right")),a(void 0)};return document.addEventListener("touchend",c),()=>document.removeEventListener("touchend",c)},[i,r,n,t,l])};function vs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Um(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_g(t,e)}function Ap(t,e){if(e&&(Ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $a(t)}function ys(t){return ys=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ys(t)}function Ql(t,e,r){return e=j2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jY(t){if(Array.isArray(t))return t}function NY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IY(t){return jY(t)||V2(t)||q2(t)||NY()}function SP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(r),!0).forEach(function(n){Ql(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var LY={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,r){console&&console[e]&&console[e].apply(console,r)}},FY=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};vs(this,t),this.init(e,r)}return Ea(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||LY,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,i,a){return a&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(i).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new t(this.logger,xP(xP({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new t(this.logger,r)}}]),t}(),ds=new FY,Gl=function(){function t(){vs(this,t),this.observers={}}return Ea(t,[{key:"on",value:function(r,n){var i=this;return r.split(" ").forEach(function(a){i.observers[a]=i.observers[a]||[],i.observers[a].push(n)}),this}},{key:"off",value:function(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(i){return i!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(this.observers[r]){var l=[].concat(this.observers[r]);l.forEach(function(d){d.apply(void 0,i)})}if(this.observers["*"]){var c=[].concat(this.observers["*"]);c.forEach(function(d){d.apply(d,[r].concat(i))})}}}]),t}();function kf(){var t,e,r=new Promise(function(n,i){t=n,e=i});return r.resolve=t,r.reject=e,r}function wP(t){return t==null?"":""+t}function BY(t,e,r){t.forEach(function(n){e[n]&&(r[n]=e[n])})}function Q1(t,e,r){function n(c){return c&&c.indexOf("###")>-1?c.replace(/###/g,"."):c}function i(){return!t||typeof t=="string"}for(var a=typeof e!="string"?[].concat(e):e.split(".");a.length>1;){if(i())return{};var l=n(a.shift());!t[l]&&r&&(t[l]=new r),Object.prototype.hasOwnProperty.call(t,l)?t=t[l]:t={}}return i()?{}:{obj:t,k:n(a.shift())}}function kP(t,e,r){var n=Q1(t,e,Object),i=n.obj,a=n.k;i[a]=r}function $Y(t,e,r,n){var i=Q1(t,e,Object),a=i.obj,l=i.k;a[l]=a[l]||[],a[l].push(r)}function qg(t,e){var r=Q1(t,e),n=r.obj,i=r.k;if(n)return n[i]}function DY(t,e,r){var n=qg(t,r);return n!==void 0?n:qg(e,r)}function yj(t,e,r){for(var n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?r&&(t[n]=e[n]):yj(t[n],e[n],r):t[n]=e[n]);return t}function Mu(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var zY={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function UY(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return zY[e]}):t}var Hm=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,HY=[" ",",","?","!",";"];function VY(t,e,r){e=e||"",r=r||"";var n=HY.filter(function(c){return e.indexOf(c)<0&&r.indexOf(c)<0});if(n.length===0)return!0;var i=new RegExp("(".concat(n.map(function(c){return c==="?"?"\\?":c}).join("|"),")")),a=!i.test(t);if(!a){var l=t.indexOf(r);l>0&&!i.test(t.substring(0,l))&&(a=!0)}return a}function Wg(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var n=e.split(r),i=t,a=0;a<n.length;++a){if(!i||typeof i[n[a]]=="string"&&a+1<n.length)return;if(i[n[a]]===void 0){for(var l=2,c=n.slice(a,a+l).join(r),d=i[c];d===void 0&&n.length>a+l;)l++,c=n.slice(a,a+l).join(r),d=i[c];if(d===void 0)return;if(d===null)return null;if(e.endsWith(c)){if(typeof d=="string")return d;if(c&&typeof d[c]=="string")return d[c]}var f=n.slice(a+l).join(r);return f?Wg(d,f,r):void 0}i=i[n[a]]}return i}}function CP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(r),!0).forEach(function(n){Ql(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qY(t){var e=WY();return function(){var n=ys(t),i;if(e){var a=ys(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ap(this,i)}}function WY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var KY=function(t){Um(r,t);var e=qY(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return vs(this,r),i=e.call(this),Hm&&Gl.call($a(i)),i.data=n||{},i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return Ea(r,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var a=this.options.ns.indexOf(i);a>-1&&this.options.ns.splice(a,1)}},{key:"getResource",value:function(i,a,l){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},d=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,f=c.ignoreJSONStructure!==void 0?c.ignoreJSONStructure:this.options.ignoreJSONStructure,h=[i,a];l&&typeof l!="string"&&(h=h.concat(l)),l&&typeof l=="string"&&(h=h.concat(d?l.split(d):l)),i.indexOf(".")>-1&&(h=i.split("."));var g=qg(this.data,h);return g||!f||typeof l!="string"?g:Wg(this.data&&this.data[i]&&this.data[i][a],l,d)}},{key:"addResource",value:function(i,a,l,c){var d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},f=this.options.keySeparator;f===void 0&&(f=".");var h=[i,a];l&&(h=h.concat(f?l.split(f):l)),i.indexOf(".")>-1&&(h=i.split("."),c=a,a=h[1]),this.addNamespaces(a),kP(this.data,h,c),d.silent||this.emit("added",i,a,l,c)}},{key:"addResources",value:function(i,a,l){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var d in l)(typeof l[d]=="string"||Object.prototype.toString.apply(l[d])==="[object Array]")&&this.addResource(i,a,d,l[d],{silent:!0});c.silent||this.emit("added",i,a,l)}},{key:"addResourceBundle",value:function(i,a,l,c,d){var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},h=[i,a];i.indexOf(".")>-1&&(h=i.split("."),c=l,l=a,a=h[1]),this.addNamespaces(a);var g=qg(this.data,h)||{};c?yj(g,l,d):g=cg(cg({},g),l),kP(this.data,h,g),f.silent||this.emit("added",i,a,l)}},{key:"removeResourceBundle",value:function(i,a){this.hasResourceBundle(i,a)&&delete this.data[i][a],this.removeNamespaces(a),this.emit("removed",i,a)}},{key:"hasResourceBundle",value:function(i,a){return this.getResource(i,a)!==void 0}},{key:"getResourceBundle",value:function(i,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?cg(cg({},{}),this.getResource(i,a)):this.getResource(i,a)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var a=this.getDataByLanguage(i),l=a&&Object.keys(a)||[];return!!l.find(function(c){return a[c]&&Object.keys(a[c]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(Gl),bj={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,r,n,i,a){var l=this;return e.forEach(function(c){l.processors[c]&&(r=l.processors[c].process(r,n,i,a))}),r}};function TP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(r),!0).forEach(function(n){Ql(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GY(t){var e=YY();return function(){var n=ys(t),i;if(e){var a=ys(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ap(this,i)}}function YY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var EP={},AP=function(t){Um(r,t);var e=GY(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return vs(this,r),i=e.call(this),Hm&&Gl.call($a(i)),BY(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,$a(i)),i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=ds.create("translator"),i}return Ea(r,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var l=this.resolve(i,a);return l&&l.res!==void 0}},{key:"extractFromKey",value:function(i,a){var l=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;l===void 0&&(l=":");var c=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,d=a.ns||this.options.defaultNS||[],f=l&&i.indexOf(l)>-1,h=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!VY(i,l,c);if(f&&!h){var g=i.match(this.interpolator.nestingRegexp);if(g&&g.length>0)return{key:i,namespaces:d};var p=i.split(l);(l!==c||l===c&&this.options.ns.indexOf(p[0])>-1)&&(d=p.shift()),i=p.join(c)}return typeof d=="string"&&(d=[d]),{key:i,namespaces:d}}},{key:"translate",value:function(i,a,l){var c=this;if(Ba(a)!=="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),a||(a={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var d=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,f=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,h=this.extractFromKey(i[i.length-1],a),g=h.key,p=h.namespaces,S=p[p.length-1],b=a.lng||this.language,v=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(b&&b.toLowerCase()==="cimode"){if(v){var k=a.nsSeparator||this.options.nsSeparator;return d?{res:"".concat(S).concat(k).concat(g),usedKey:g,exactUsedKey:g,usedLng:b,usedNS:S}:"".concat(S).concat(k).concat(g)}return d?{res:g,usedKey:g,exactUsedKey:g,usedLng:b,usedNS:S}:g}var T=this.resolve(i,a),A=T&&T.res,w=T&&T.usedKey||g,R=T&&T.exactUsedKey||g,O=Object.prototype.toString.apply(A),M=["[object Number]","[object Function]","[object RegExp]"],j=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,$=!this.i18nFormat||this.i18nFormat.handleAsObject,V=typeof A!="string"&&typeof A!="boolean"&&typeof A!="number";if($&&A&&V&&M.indexOf(O)<0&&!(typeof j=="string"&&O==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var N=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,A,yo(yo({},a),{},{ns:p})):"key '".concat(g," (").concat(this.language,")' returned an object instead of string.");return d?(T.res=N,T):N}if(f){var W=O==="[object Array]",z=W?[]:{},I=W?R:w;for(var B in A)if(Object.prototype.hasOwnProperty.call(A,B)){var G="".concat(I).concat(f).concat(B);z[B]=this.translate(G,yo(yo({},a),{joinArrays:!1,ns:p})),z[B]===G&&(z[B]=A[B])}A=z}}else if($&&typeof j=="string"&&O==="[object Array]")A=A.join(j),A&&(A=this.extendTranslation(A,i,a,l));else{var U=!1,X=!1,q=a.count!==void 0&&typeof a.count!="string",Z=r.hasDefaultValue(a),F=q?this.pluralResolver.getSuffix(b,a.count,a):"",D=a["defaultValue".concat(F)]||a.defaultValue;!this.isValidLookup(A)&&Z&&(U=!0,A=D),this.isValidLookup(A)||(X=!0,A=g);var J=a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,ee=J&&X?void 0:A,te=Z&&D!==A&&this.options.updateMissing;if(X||U||te){if(this.logger.log(te?"updateKey":"missingKey",b,S,g,te?D:A),f){var ie=this.resolve(g,yo(yo({},a),{},{keySeparator:!1}));ie&&ie.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var oe=[],ke=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ke&&ke[0])for(var ve=0;ve<ke.length;ve++)oe.push(ke[ve]);else this.options.saveMissingTo==="all"?oe=this.languageUtils.toResolveHierarchy(a.lng||this.language):oe.push(a.lng||this.language);var Q=function(we,ue,rt){var ye=Z&&rt!==A?rt:ee;c.options.missingKeyHandler?c.options.missingKeyHandler(we,S,ue,ye,te,a):c.backendConnector&&c.backendConnector.saveMissing&&c.backendConnector.saveMissing(we,S,ue,ye,te,a),c.emit("missingKey",we,S,ue,A)};this.options.saveMissing&&(this.options.saveMissingPlurals&&q?oe.forEach(function(de){c.pluralResolver.getSuffixes(de,a).forEach(function(we){Q([de],g+we,a["defaultValue".concat(we)]||D)})}):Q(oe,g,D))}A=this.extendTranslation(A,i,a,T,l),X&&A===g&&this.options.appendNamespaceToMissingKey&&(A="".concat(S,":").concat(g)),(X||U)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?A=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(S,":").concat(g):g,U?A:void 0):A=this.options.parseMissingKeyHandler(A))}return d?(T.res=A,T):A}},{key:"extendTranslation",value:function(i,a,l,c,d){var f=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,yo(yo({},this.options.interpolation.defaultVariables),l),c.usedLng,c.usedNS,c.usedKey,{resolved:c});else if(!l.skipInterpolation){l.interpolation&&this.interpolator.init(yo(yo({},l),{interpolation:yo(yo({},this.options.interpolation),l.interpolation)}));var h=typeof i=="string"&&(l&&l.interpolation&&l.interpolation.skipOnVariables!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),g;if(h){var p=i.match(this.interpolator.nestingRegexp);g=p&&p.length}var S=l.replace&&typeof l.replace!="string"?l.replace:l;if(this.options.interpolation.defaultVariables&&(S=yo(yo({},this.options.interpolation.defaultVariables),S)),i=this.interpolator.interpolate(i,S,l.lng||this.language,l),h){var b=i.match(this.interpolator.nestingRegexp),v=b&&b.length;g<v&&(l.nest=!1)}!l.lng&&this.options.compatibilityAPI!=="v1"&&c&&c.res&&(l.lng=c.usedLng),l.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var A=arguments.length,w=new Array(A),R=0;R<A;R++)w[R]=arguments[R];return d&&d[0]===w[0]&&!l.context?(f.logger.warn("It seems you are nesting recursively key: ".concat(w[0]," in key: ").concat(a[0])),null):f.translate.apply(f,w.concat([a]))},l)),l.interpolation&&this.interpolator.reset()}var k=l.postProcess||this.options.postProcess,T=typeof k=="string"?[k]:k;return i!=null&&T&&T.length&&l.applyPostProcessor!==!1&&(i=bj.handle(T,i,a,this.options&&this.options.postProcessPassResolved?yo({i18nResolved:c},l):l,this)),i}},{key:"resolve",value:function(i){var a=this,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c,d,f,h,g;return typeof i=="string"&&(i=[i]),i.forEach(function(p){if(!a.isValidLookup(c)){var S=a.extractFromKey(p,l),b=S.key;d=b;var v=S.namespaces;a.options.fallbackNS&&(v=v.concat(a.options.fallbackNS));var k=l.count!==void 0&&typeof l.count!="string",T=k&&!l.ordinal&&l.count===0&&a.pluralResolver.shouldUseIntlApi(),A=l.context!==void 0&&(typeof l.context=="string"||typeof l.context=="number")&&l.context!=="",w=l.lngs?l.lngs:a.languageUtils.toResolveHierarchy(l.lng||a.language,l.fallbackLng);v.forEach(function(R){a.isValidLookup(c)||(g=R,!EP["".concat(w[0],"-").concat(R)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(g)&&(EP["".concat(w[0],"-").concat(R)]=!0,a.logger.warn('key "'.concat(d,'" for languages "').concat(w.join(", "),`" won't get resolved as namespace "`).concat(g,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(function(O){if(!a.isValidLookup(c)){h=O;var M=[b];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(M,b,O,R,l);else{var j;k&&(j=a.pluralResolver.getSuffix(O,l.count,l));var $="".concat(a.options.pluralSeparator,"zero");if(k&&(M.push(b+j),T&&M.push(b+$)),A){var V="".concat(b).concat(a.options.contextSeparator).concat(l.context);M.push(V),k&&(M.push(V+j),T&&M.push(V+$))}}for(var N;N=M.pop();)a.isValidLookup(c)||(f=N,c=a.getResource(O,R,N,l))}}))})}}),{res:c,usedKey:d,exactUsedKey:f,usedLng:h,usedNS:g}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,a,l){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,a,l,c):this.resourceStore.getResource(i,a,l,c)}}],[{key:"hasDefaultValue",value:function(i){var a="defaultValue";for(var l in i)if(Object.prototype.hasOwnProperty.call(i,l)&&a===l.substring(0,a.length)&&i[l]!==void 0)return!0;return!1}}]),r}(Gl);function PS(t){return t.charAt(0).toUpperCase()+t.slice(1)}var RP=function(){function t(e){vs(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ds.create("languageUtils")}return Ea(t,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],i=r.split("-");return this.options.lowerCaseLng?i=i.map(function(a){return a.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=PS(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=PS(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=PS(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var i;return r.forEach(function(a){if(!i){var l=n.formatLanguageCode(a);(!n.options.supportedLngs||n.isSupportedCode(l))&&(i=l)}}),!i&&this.options.supportedLngs&&r.forEach(function(a){if(!i){var l=n.getLanguagePartFromCode(a);if(n.isSupportedCode(l))return i=l;i=n.options.supportedLngs.find(function(c){if(c===l)return c;if(!(c.indexOf("-")<0&&l.indexOf("-")<0)&&c.indexOf(l)===0)return c})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}},{key:"toResolveHierarchy",value:function(r,n){var i=this,a=this.getFallbackCodes(n||this.options.fallbackLng||[],r),l=[],c=function(f){f&&(i.isSupportedCode(f)?l.push(f):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(f)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&c(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&c(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&c(this.getLanguagePartFromCode(r))):typeof r=="string"&&c(this.formatLanguageCode(r)),a.forEach(function(d){l.indexOf(d)<0&&c(i.formatLanguageCode(d))}),l}}]),t}(),XY=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ZY={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},QY=["v1","v2","v3"],OP={zero:0,one:1,two:2,few:3,many:4,other:5};function JY(){var t={};return XY.forEach(function(e){e.lngs.forEach(function(r){t[r]={numbers:e.nr,plurals:ZY[e.fc]}})}),t}var eX=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};vs(this,t),this.languageUtils=e,this.options=r,this.logger=ds.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=JY()}return Ea(t,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,i).map(function(a){return"".concat(n).concat(a)})}},{key:"getSuffixes",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort(function(l,c){return OP[l]-OP[c]}).map(function(l){return"".concat(n.options.prepend).concat(l)}):a.numbers.map(function(l){return n.getSuffix(r,l,i)}):[]}},{key:"getSuffix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(n)):this.getSuffixRetroCompatible(a,n):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,n){var i=this,a=r.noAbs?r.plurals(n):r.plurals(Math.abs(n)),l=r.numbers[a];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(l===2?l="plural":l===1&&(l=""));var c=function(){return i.options.prepend&&l.toString()?i.options.prepend+l.toString():l.toString()};return this.options.compatibilityJSON==="v1"?l===1?"":typeof l=="number"?"_plural_".concat(l.toString()):c():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?c():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!QY.includes(this.options.compatibilityJSON)}}]),t}();function PP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Na(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(r),!0).forEach(function(n){Ql(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _P(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=DY(t,e,r);return!a&&i&&typeof r=="string"&&(a=Wg(t,r,n),a===void 0&&(a=Wg(e,r,n))),a}var tX=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};vs(this,t),this.logger=ds.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(r){return r},this.init(e)}return Ea(t,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:UY,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?Mu(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?Mu(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?Mu(n.nestingPrefix):n.nestingPrefixEscaped||Mu("$t("),this.nestingSuffix=n.nestingSuffix?Mu(n.nestingSuffix):n.nestingSuffixEscaped||Mu(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(r,n,i,a){var l=this,c,d,f,h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function g(k){return k.replace(/\$/g,"$$$$")}var p=function(T){if(T.indexOf(l.formatSeparator)<0){var A=_P(n,h,T,l.options.keySeparator,l.options.ignoreJSONStructure);return l.alwaysFormat?l.format(A,void 0,i,Na(Na(Na({},a),n),{},{interpolationkey:T})):A}var w=T.split(l.formatSeparator),R=w.shift().trim(),O=w.join(l.formatSeparator).trim();return l.format(_P(n,h,R,l.options.keySeparator,l.options.ignoreJSONStructure),O,i,Na(Na(Na({},a),n),{},{interpolationkey:R}))};this.resetRegExp();var S=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,b=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,v=[{regex:this.regexpUnescape,safeValue:function(T){return g(T)}},{regex:this.regexp,safeValue:function(T){return l.escapeValue?g(l.escape(T)):g(T)}}];return v.forEach(function(k){for(f=0;c=k.regex.exec(r);){var T=c[1].trim();if(d=p(T),d===void 0)if(typeof S=="function"){var A=S(r,c,a);d=typeof A=="string"?A:""}else if(a&&Object.prototype.hasOwnProperty.call(a,T))d="";else if(b){d=c[0];continue}else l.logger.warn("missed to pass in variable ".concat(T," for interpolating ").concat(r)),d="";else typeof d!="string"&&!l.useRawValueToEscape&&(d=wP(d));var w=k.safeValue(d);if(r=r.replace(c[0],w),b?(k.regex.lastIndex+=d.length,k.regex.lastIndex-=c[0].length):k.regex.lastIndex=0,f++,f>=l.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l,c,d;function f(S,b){var v=this.nestingOptionsSeparator;if(S.indexOf(v)<0)return S;var k=S.split(new RegExp("".concat(v,"[ ]*{"))),T="{".concat(k[1]);S=k[0],T=this.interpolate(T,d);var A=T.match(/'/g),w=T.match(/"/g);(A&&A.length%2===0&&!w||w.length%2!==0)&&(T=T.replace(/'/g,'"'));try{d=JSON.parse(T),b&&(d=Na(Na({},b),d))}catch(R){return this.logger.warn("failed parsing options string in nesting for key ".concat(S),R),"".concat(S).concat(v).concat(T)}return delete d.defaultValue,S}for(;l=this.nestingRegexp.exec(r);){var h=[];d=Na({},a),d=d.replace&&typeof d.replace!="string"?d.replace:d,d.applyPostProcessor=!1,delete d.defaultValue;var g=!1;if(l[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(l[1])){var p=l[1].split(this.formatSeparator).map(function(S){return S.trim()});l[1]=p.shift(),h=p,g=!0}if(c=n(f.call(this,l[1].trim(),d),d),c&&l[0]===r&&typeof c!="string")return c;typeof c!="string"&&(c=wP(c)),c||(this.logger.warn("missed to resolve ".concat(l[1]," for nesting ").concat(r)),c=""),g&&(c=h.reduce(function(S,b){return i.format(S,b,a.lng,Na(Na({},a),{},{interpolationkey:l[1].trim()}))},c.trim())),r=r.replace(l[0],c),this.regexp.lastIndex=0}return r}}]),t}();function MP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ds(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(r),!0).forEach(function(n){Ql(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rX(t){var e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){var n=t.split("(");e=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);if(e==="currency"&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{var a=i.split(";");a.forEach(function(l){if(l){var c=l.split(":"),d=IY(c),f=d[0],h=d.slice(1),g=h.join(":").trim().replace(/^'+|'+$/g,"");r[f.trim()]||(r[f.trim()]=g),g==="false"&&(r[f.trim()]=!1),g==="true"&&(r[f.trim()]=!0),isNaN(g)||(r[f.trim()]=parseInt(g,10))}})}}return{formatName:e,formatOptions:r}}function ju(t){var e={};return function(n,i,a){var l=i+JSON.stringify(a),c=e[l];return c||(c=t(i,a),e[l]=c),c(n)}}var nX=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};vs(this,t),this.logger=ds.create("formatter"),this.options=e,this.formats={number:ju(function(r,n){var i=new Intl.NumberFormat(r,Ds({},n));return function(a){return i.format(a)}}),currency:ju(function(r,n){var i=new Intl.NumberFormat(r,Ds(Ds({},n),{},{style:"currency"}));return function(a){return i.format(a)}}),datetime:ju(function(r,n){var i=new Intl.DateTimeFormat(r,Ds({},n));return function(a){return i.format(a)}}),relativetime:ju(function(r,n){var i=new Intl.RelativeTimeFormat(r,Ds({},n));return function(a){return i.format(a,n.range||"day")}}),list:ju(function(r,n){var i=new Intl.ListFormat(r,Ds({},n));return function(a){return i.format(a)}})},this.init(e)}return Ea(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=n.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(r,n){this.formats[r.toLowerCase().trim()]=n}},{key:"addCached",value:function(r,n){this.formats[r.toLowerCase().trim()]=ju(n)}},{key:"format",value:function(r,n,i){var a=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=n.split(this.formatSeparator),d=c.reduce(function(f,h){var g=rX(h),p=g.formatName,S=g.formatOptions;if(a.formats[p]){var b=f;try{var v=l&&l.formatParams&&l.formatParams[l.interpolationkey]||{},k=v.locale||v.lng||l.locale||l.lng||i;b=a.formats[p](f,k,Ds(Ds(Ds({},S),l),v))}catch(T){a.logger.warn(T)}return b}else a.logger.warn("there was no format function for ".concat(p));return f},r);return d}}]),t}();function jP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(r),!0).forEach(function(n){Ql(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iX(t){var e=oX();return function(){var n=ys(t),i;if(e){var a=ys(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ap(this,i)}}function oX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function aX(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var sX=function(t){Um(r,t);var e=iX(r);function r(n,i,a){var l,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return vs(this,r),l=e.call(this),Hm&&Gl.call($a(l)),l.backend=n,l.store=i,l.services=a,l.languageUtils=a.languageUtils,l.options=c,l.logger=ds.create("backendConnector"),l.waitingReads=[],l.maxParallelReads=c.maxParallelReads||10,l.readingCalls=0,l.maxRetries=c.maxRetries>=0?c.maxRetries:5,l.retryTimeout=c.retryTimeout>=1?c.retryTimeout:350,l.state={},l.queue=[],l.backend&&l.backend.init&&l.backend.init(a,c.backend,c),l}return Ea(r,[{key:"queueLoad",value:function(i,a,l,c){var d=this,f={},h={},g={},p={};return i.forEach(function(S){var b=!0;a.forEach(function(v){var k="".concat(S,"|").concat(v);!l.reload&&d.store.hasResourceBundle(S,v)?d.state[k]=2:d.state[k]<0||(d.state[k]===1?h[k]===void 0&&(h[k]=!0):(d.state[k]=1,b=!1,h[k]===void 0&&(h[k]=!0),f[k]===void 0&&(f[k]=!0),p[v]===void 0&&(p[v]=!0)))}),b||(g[S]=!0)}),(Object.keys(f).length||Object.keys(h).length)&&this.queue.push({pending:h,pendingCount:Object.keys(h).length,loaded:{},errors:[],callback:c}),{toLoad:Object.keys(f),pending:Object.keys(h),toLoadLanguages:Object.keys(g),toLoadNamespaces:Object.keys(p)}}},{key:"loaded",value:function(i,a,l){var c=i.split("|"),d=c[0],f=c[1];a&&this.emit("failedLoading",d,f,a),l&&this.store.addResourceBundle(d,f,l),this.state[i]=a?-1:2;var h={};this.queue.forEach(function(g){$Y(g.loaded,[d],f),aX(g,i),a&&g.errors.push(a),g.pendingCount===0&&!g.done&&(Object.keys(g.loaded).forEach(function(p){h[p]||(h[p]={});var S=g.loaded[p];S.length&&S.forEach(function(b){h[p][b]===void 0&&(h[p][b]=!0)})}),g.done=!0,g.errors.length?g.callback(g.errors):g.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(function(g){return!g.done})}},{key:"read",value:function(i,a,l){var c=this,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,h=arguments.length>5?arguments[5]:void 0;if(!i.length)return h(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:a,fcName:l,tried:d,wait:f,callback:h});return}this.readingCalls++;var g=function(v,k){if(c.readingCalls--,c.waitingReads.length>0){var T=c.waitingReads.shift();c.read(T.lng,T.ns,T.fcName,T.tried,T.wait,T.callback)}if(v&&k&&d<c.maxRetries){setTimeout(function(){c.read.call(c,i,a,l,d+1,f*2,h)},f);return}h(v,k)},p=this.backend[l].bind(this.backend);if(p.length===2){try{var S=p(i,a);S&&typeof S.then=="function"?S.then(function(b){return g(null,b)}).catch(g):g(null,S)}catch(b){g(b)}return}return p(i,a,g)}},{key:"prepareLoading",value:function(i,a){var l=this,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),d&&d();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof a=="string"&&(a=[a]);var f=this.queueLoad(i,a,c,d);if(!f.toLoad.length)return f.pending.length||d(),null;f.toLoad.forEach(function(h){l.loadOne(h)})}},{key:"load",value:function(i,a,l){this.prepareLoading(i,a,{},l)}},{key:"reload",value:function(i,a,l){this.prepareLoading(i,a,{reload:!0},l)}},{key:"loadOne",value:function(i){var a=this,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=i.split("|"),d=c[0],f=c[1];this.read(d,f,"read",void 0,void 0,function(h,g){h&&a.logger.warn("".concat(l,"loading namespace ").concat(f," for language ").concat(d," failed"),h),!h&&g&&a.logger.log("".concat(l,"loaded namespace ").concat(f," for language ").concat(d),g),a.loaded(i,h,g)})}},{key:"saveMissing",value:function(i,a,l,c,d){var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn('did not save key "'.concat(l,'" as the namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(l==null||l==="")){if(this.backend&&this.backend.create){var g=NP(NP({},f),{},{isUpdate:d}),p=this.backend.create.bind(this.backend);if(p.length<6)try{var S;p.length===5?S=p(i,a,l,c,g):S=p(i,a,l,c),S&&typeof S.then=="function"?S.then(function(b){return h(null,b)}).catch(h):h(null,S)}catch(b){h(b)}else p(i,a,l,c,h,g)}!i||!i[0]||this.store.addResource(i[0],a,l,c)}}}]),r}(Gl);function IP(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var r={};if(Ba(e[1])==="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),Ba(e[2])==="object"||Ba(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(i){r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:function(e,r,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function LP(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function FP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function os(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(r),!0).forEach(function(n){Ql(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lX(t){var e=cX();return function(){var n=ys(t),i;if(e){var a=ys(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ap(this,i)}}function cX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ug(){}function uX(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(r){typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}var Kg=function(t){Um(r,t);var e=lX(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(vs(this,r),n=e.call(this),Hm&&Gl.call($a(n)),n.options=LP(i),n.services={},n.logger=ds,n.modules={external:[]},uX($a(n)),a&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,a),Ap(n,$a(n));setTimeout(function(){n.init(i,a)},0)}return n}return Ea(r,[{key:"init",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(l=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(typeof a.ns=="string"?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));var c=IP();this.options=os(os(os({},c),this.options),LP(a)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=os(os({},c.interpolation),this.options.interpolation)),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);function d(T){return T?typeof T=="function"?new T:T:null}if(!this.options.isClone){this.modules.logger?ds.init(d(this.modules.logger),this.options):ds.init(null,this.options);var f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=nX);var h=new RP(this.options);this.store=new KY(this.options.resources,this.options);var g=this.services;g.logger=ds,g.resourceStore=this.store,g.languageUtils=h,g.pluralResolver=new eX(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===c.interpolation.format)&&(g.formatter=d(f),g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new tX(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new sX(d(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",function(T){for(var A=arguments.length,w=new Array(A>1?A-1:0),R=1;R<A;R++)w[R-1]=arguments[R];i.emit.apply(i,[T].concat(w))}),this.modules.languageDetector&&(g.languageDetector=d(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=d(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new AP(this.services,this.options),this.translator.on("*",function(T){for(var A=arguments.length,w=new Array(A>1?A-1:0),R=1;R<A;R++)w[R-1]=arguments[R];i.emit.apply(i,[T].concat(w))}),this.modules.external.forEach(function(T){T.init&&T.init(i)})}if(this.format=this.options.interpolation.format,l||(l=ug),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var S=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];S.forEach(function(T){i[T]=function(){var A;return(A=i.store)[T].apply(A,arguments)}});var b=["addResource","addResources","addResourceBundle","removeResourceBundle"];b.forEach(function(T){i[T]=function(){var A;return(A=i.store)[T].apply(A,arguments),i}});var v=kf(),k=function(){var A=function(R,O){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),v.resolve(O),l(R,O)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return A(null,i.t.bind(i));i.changeLanguage(i.options.lng,A)};return this.options.resources||!this.options.initImmediate?k():setTimeout(k,0),v}},{key:"loadResources",value:function(i){var a=this,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ug,c=l,d=typeof i=="string"?i:this.language;if(typeof i=="function"&&(c=i),!this.options.resources||this.options.partialBundledLanguages){if(d&&d.toLowerCase()==="cimode")return c();var f=[],h=function(S){if(S){var b=a.services.languageUtils.toResolveHierarchy(S);b.forEach(function(v){f.indexOf(v)<0&&f.push(v)})}};if(d)h(d);else{var g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.forEach(function(p){return h(p)})}this.options.preload&&this.options.preload.forEach(function(p){return h(p)}),this.services.backendConnector.load(f,this.options.ns,function(p){!p&&!a.resolvedLanguage&&a.language&&a.setResolvedLanguage(a.language),c(p)})}else c(null)}},{key:"reloadResources",value:function(i,a,l){var c=kf();return i||(i=this.languages),a||(a=this.options.ns),l||(l=ug),this.services.backendConnector.reload(i,a,function(d){c.resolve(),l(d)}),c}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&bj.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var a=0;a<this.languages.length;a++){var l=this.languages[a];if(!(["cimode","dev"].indexOf(l)>-1)&&this.store.hasLanguageSomeTranslations(l)){this.resolvedLanguage=l;break}}}},{key:"changeLanguage",value:function(i,a){var l=this;this.isLanguageChangingTo=i;var c=kf();this.emit("languageChanging",i);var d=function(p){l.language=p,l.languages=l.services.languageUtils.toResolveHierarchy(p),l.resolvedLanguage=void 0,l.setResolvedLanguage(p)},f=function(p,S){S?(d(S),l.translator.changeLanguage(S),l.isLanguageChangingTo=void 0,l.emit("languageChanged",S),l.logger.log("languageChanged",S)):l.isLanguageChangingTo=void 0,c.resolve(function(){return l.t.apply(l,arguments)}),a&&a(p,function(){return l.t.apply(l,arguments)})},h=function(p){!i&&!p&&l.services.languageDetector&&(p=[]);var S=typeof p=="string"?p:l.services.languageUtils.getBestMatchFromCodes(p);S&&(l.language||d(S),l.translator.language||l.translator.changeLanguage(S),l.services.languageDetector&&l.services.languageDetector.cacheUserLanguage&&l.services.languageDetector.cacheUserLanguage(S)),l.loadResources(S,function(b){f(b,S)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?h(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(h):this.services.languageDetector.detect(h):h(i),c}},{key:"getFixedT",value:function(i,a,l){var c=this,d=function f(h,g){var p;if(Ba(g)!=="object"){for(var S=arguments.length,b=new Array(S>2?S-2:0),v=2;v<S;v++)b[v-2]=arguments[v];p=c.options.overloadTranslationOptionHandler([h,g].concat(b))}else p=os({},g);p.lng=p.lng||f.lng,p.lngs=p.lngs||f.lngs,p.ns=p.ns||f.ns,p.keyPrefix=p.keyPrefix||l||f.keyPrefix;var k=c.options.keySeparator||".",T;return p.keyPrefix&&Array.isArray(h)?T=h.map(function(A){return"".concat(p.keyPrefix).concat(k).concat(A)}):T=p.keyPrefix?"".concat(p.keyPrefix).concat(k).concat(h):h,c.t(T,p)};return typeof i=="string"?d.lng=i:d.lngs=i,d.ns=a,d.keyPrefix=l,d}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var a=this,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var c=this.resolvedLanguage||this.languages[0],d=this.options?this.options.fallbackLng:!1,f=this.languages[this.languages.length-1];if(c.toLowerCase()==="cimode")return!0;var h=function(S,b){var v=a.services.backendConnector.state["".concat(S,"|").concat(b)];return v===-1||v===2};if(l.precheck){var g=l.precheck(this,h);if(g!==void 0)return g}return!!(this.hasResourceBundle(c,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||h(c,i)&&(!d||h(f,i)))}},{key:"loadNamespaces",value:function(i,a){var l=this,c=kf();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(d){l.options.ns.indexOf(d)<0&&l.options.ns.push(d)}),this.loadResources(function(d){c.resolve(),a&&a(d)}),c):(a&&a(),Promise.resolve())}},{key:"loadLanguages",value:function(i,a){var l=kf();typeof i=="string"&&(i=[i]);var c=this.options.preload||[],d=i.filter(function(f){return c.indexOf(f)<0});return d.length?(this.options.preload=c.concat(d),this.loadResources(function(f){l.resolve(),a&&a(f)}),l):(a&&a(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],l=this.services&&this.services.languageUtils||new RP(IP());return a.indexOf(l.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ug,c=os(os(os({},this.options),a),{isClone:!0}),d=new r(c);(a.debug!==void 0||a.prefix!==void 0)&&(d.logger=d.logger.clone(a));var f=["store","services","language"];return f.forEach(function(h){d[h]=i[h]}),d.services=os({},this.services),d.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},d.translator=new AP(d.services,d.options),d.translator.on("*",function(h){for(var g=arguments.length,p=new Array(g>1?g-1:0),S=1;S<g;S++)p[S-1]=arguments[S];d.emit.apply(d,[h].concat(p))}),d.init(c,l),d.translator.options=d.options,d.translator.backendConnector.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},d}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(Gl);Ql(Kg,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new Kg(t,e)});var Mi=Kg.createInstance();Mi.createInstance=Kg.createInstance;Mi.createInstance;Mi.dir;Mi.init;Mi.loadResources;Mi.reloadResources;Mi.use;Mi.changeLanguage;Mi.getFixedT;Mi.t;Mi.exists;Mi.setDefaultNamespace;Mi.hasLoadedNamespace;Mi.loadNamespaces;Mi.loadLanguages;const vj=(t,e)=>{const{rememberSubtitleOffset:r,lastSubtitleOffset:n,subtitleAlignment:i,subtitlePositionOffset:a,topSubtitlePositionOffset:l}=t;return x.useMemo(()=>new CI({rememberSubtitleOffset:r,lastSubtitleOffset:n,subtitleAlignment:i,subtitlePositionOffset:a,topSubtitlePositionOffset:l},e),[r,n,i,a,l,e])},dX=(t,e)=>x.useMemo(()=>{const r=[];for(let n=0;n<e;++n){const i=hs(t,n);r.push({styles:_x(i),styleString:iI(i),classes:i.subtitleBlur?"asbplayer-subtitles-blurred":""})}return r},[t,e]),fX=()=>{const[t,e]=x.useState(document.fullscreenElement!=null);x.useEffect(()=>{const n=()=>{e(document.fullscreenElement!=null)};return document.addEventListener("fullscreenchange",n),()=>document.removeEventListener("fullscreenchange",n)},[]);const r=x.useCallback(n=>{n&&!document.fullscreenElement?document.documentElement.requestFullscreen():!n&&document.fullscreenElement&&document.exitFullscreen()},[]);return{fullscreen:t,requestFullscreen:r}},pX=lr(m.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),hX=lr(m.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),gX=t=>m.jsx(ed,{...t,children:m.jsx("path",{d:"M20 4H6.83l8 8H20v2h-3.17l4.93 4.93c.15-.28.24-.59.24-.93V6c0-1.1-.9-2-2-2M1.04 3.87l1.2 1.2C2.09 5.35 2 5.66 2 6v12c0 1.1.9 2 2 2h13.17l2.96 2.96 1.41-1.41L2.45 2.45zM8 12v2H4v-2zm6 4.83V18H4v-2h9.17z"})}),BP=({onHold:t,onClick:e,children:r,...n})=>{const[i,a]=x.useState(),l=x.useCallback(()=>i===void 0?void 0:(Date.now()-i)/250,[i]),c=()=>{const f=l();f!==void 0&&f<1&&e?.(),a(void 0)},d=()=>{a(Date.now())};return x.useEffect(()=>{if(i===void 0)return;const f=setInterval(()=>{const h=l();h!==void 0&&h>0&&t?.(h)},250);return()=>clearInterval(f)},[i,t,l]),m.jsxs(m.Fragment,{children:[Qi.isMobile&&m.jsx(pr,{onTouchStart:d,onTouchEnd:c,onClick:()=>{},...n,children:r}),!Qi.isMobile&&m.jsx(pr,{onMouseDown:d,onMouseUp:c,onClick:()=>{},...n,children:r})]})},kc=40,$P=kc/2+1,mX=yn(()=>({container:{height:kc,overflowY:"scroll",scrollSnapType:"y mandatory",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},textAlign:"center"},child:{scrollbarWidth:"none",scrollSnapAlign:"center","&::-webkit-scrollbar":{display:"none"},scrollSnapStop:"always"}})),yX=({currentMilliseconds:t,totalMilliseconds:e,offset:r,offsetInputRef:n,onOffset:i,playbackRate:a,playbackRateInputRef:l,onPlaybackRate:c,initialControlType:d,onScrollTo:f})=>{const h=mX(),[g,p]=x.useState(ri.timeDisplay),S=x.useRef(0),[b,v]=x.useState(0),k=x.useRef(void 0);k.current=b;const T=x.useRef(void 0),A=x.useRef(void 0),w=x.useRef(g),R=x.useRef(void 0);R.current=f,w.current=g;const O=x.useCallback($=>{const V=$.currentTarget.scrollTop,W=V>S.current?Math.ceil(Math.floor(V)/kc):Math.floor(V/kc);b===2&&W!==g&&(f(W),p(W)),S.current=V},[f,b,g]),M=x.useCallback($=>{if(A.current!==void 0){$.preventDefault();return}if(Number.isInteger($.deltaY)||$.deltaX!==0||Math.abs($.deltaY)<1)return;$.preventDefault();const V=$.deltaY>0;let N=!1;V&&w.current<2?(T.current?.scrollBy({top:$P,behavior:"smooth"}),N=!0):!V&&w.current>0&&(T.current?.scrollBy({top:-$P,behavior:"smooth"}),N=!0),N&&(A.current!==void 0&&clearTimeout(A.current),A.current=setTimeout(()=>{A.current=void 0},500))},[]),j=x.useCallback($=>{b>0||$&&(d===void 0?v(2):setTimeout(()=>{$.scrollTop=kc*2;const V=(N,W)=>{$.scroll({top:N,behavior:"smooth"}),$.addEventListener("scrollend",z=>{z.currentTarget?.scrollTop>=kc*2||k.current===1&&(R.current?.(W),p(W),v(2))}),v(1)};d===1?V(kc+1,d):d===0?V(0,d):v(2)},0),$.addEventListener("wheel",M,{passive:!1}),$.addEventListener("scrollend",()=>{A.current=void 0}),T.current=$)},[b,d,M]);return m.jsxs("div",{ref:j,onScroll:O,className:h.container,children:[m.jsx(ZM,{currentMilliseconds:t,totalMilliseconds:e,className:h.child}),m.jsx(GM,{inputRef:n,offset:r,onOffset:i,className:h.child}),m.jsx(YM,{inputRef:l,playbackRate:a,onPlaybackRate:c,className:h.child})]})},bX=yn(({anchor:t})=>({button:{color:"white"},inactiveButton:{color:"rgba(120, 120, 120, 0.7)"},recordingButton:{color:"red"},container:{display:"inline-flex",width:"auto",backgroundColor:"rgba(0, 0, 0, .7)",borderRadius:16},playModePopOver:{"& .MuiPopover-paper":{maxHeight:"none"}},tooltip:{"& .MuiTooltip-tooltipPlacementTop":t==="top"?{marginTop:16}:{},"& .MuiTooltip-tooltipPlacementBottom":t==="bottom"?{marginBottom:16}:{}}})),vX=Ln.forwardRef(function({children:e,...r},n){return m.jsx(hn,{ref:n,container:!0,alignContent:"center",justifyContent:"center",...r,children:e})}),SX=Ln.forwardRef(function({model:e,className:r,anchor:n,tooltipsEnabled:i,initialControlType:a,onScrollToControlType:l,onMineSubtitle:c,onLoadSubtitles:d,onOffset:f,onPlaybackRate:h,onPlayModeSelected:g,onSeek:p,onToggleSubtitles:S},b){const v=bX({anchor:n}),k=x.useRef(void 0),T=x.useRef(void 0),[A,w]=x.useState(!1),[R,O]=x.useState(),[M,j]=x.useState(ri.timeDisplay),$=x.useCallback(ut=>{j(ut),l(ut)},[l]),V=x.useCallback(()=>{w(!1),O(void 0)},[]),N=x.useCallback(ut=>{O(ut.currentTarget),w(!0)},[]),W=x.useCallback(ut=>{g(ut),w(!1)},[g]),z=x.useCallback(()=>{!e||e.previousSubtitleTimestamp===void 0||f(e.currentTimestamp-e.previousSubtitleTimestamp)},[f,e]),I=x.useCallback(()=>{!e||e.nextSubtitleTimestamp===void 0||f(e.currentTimestamp-e.nextSubtitleTimestamp)},[f,e]),B=x.useCallback(()=>{e&&f(e.offset+100)},[f,e]),G=x.useCallback(()=>{e&&f(e.offset-100)},[f,e]),U=x.useCallback(()=>{e&&h(Math.max(.1,e.playbackRate-.1))},[h,e]),X=x.useCallback(()=>{e&&h(Math.min(5,e.playbackRate+.1))},[h,e]),q=x.useCallback(()=>{!e||e.previousSubtitleTimestamp===void 0||p(e.previousSubtitleTimestamp)},[p,e]),Z=x.useCallback(()=>{e&&p(Math.max(0,e.currentTimestamp-1e4))},[p,e]),F=x.useCallback(()=>{!e||e.nextSubtitleTimestamp===void 0||p(e.nextSubtitleTimestamp)},[p,e]),D=x.useCallback(()=>{e&&p(e.currentTimestamp+1e4)},[p,e]),J=x.useCallback(()=>{switch(M){case ri.timeDisplay:e?.emptySubtitleTrack?Z():q();break;case ri.subtitleOffset:z();break;case ri.playbackRate:U();break}},[M,e?.emptySubtitleTrack,Z,q,z,U]),ee=x.useCallback(()=>{switch(M){case ri.timeDisplay:e?.emptySubtitleTrack?D():F();break;case ri.subtitleOffset:I();break;case ri.playbackRate:X();break}},[M,e?.emptySubtitleTrack,D,F,I,X]),te=x.useCallback(()=>{switch(M){case ri.timeDisplay:break;case ri.subtitleOffset:B();break;case ri.playbackRate:U();break}},[M,B,U]),ie=x.useCallback(()=>{switch(M){case ri.timeDisplay:break;case ri.subtitleOffset:G();break;case ri.playbackRate:X();break}},[M,G,X]),{t:oe}=Wr(),{leftNumberControlTitle:ke,numberControlTitle:ve,rightNumberControlTitle:Q}=x.useMemo(()=>{switch(M){case ri.timeDisplay:return{leftNumberControlTitle:e?.emptySubtitleTrack?oe("binds.seekBackward"):oe("binds.seekToPreviousSubtitle"),numberControlTitle:oe("controls.currentTimestamp"),rightNumberControlTitle:e?.emptySubtitleTrack?oe("binds.seekForward"):oe("binds.seekToNextSubtitle")};case ri.subtitleOffset:return{leftNumberControlTitle:oe("action.increaseOffsetButton"),numberControlTitle:oe("controls.subtitleOffset"),rightNumberControlTitle:oe("action.decreaseOffsetButton")};case ri.playbackRate:return{leftNumberControlTitle:oe("binds.decreasePlaybackRate"),numberControlTitle:oe("controls.playbackRate"),rightNumberControlTitle:oe("binds.increasePlaybackRate")}}},[M,e,oe]);if(!e)return null;let de,we;switch(M){case ri.timeDisplay:de=!e.emptySubtitleTrack&&e.nextSubtitleTimestamp===void 0||e.recording,we=!e.emptySubtitleTrack&&e.previousSubtitleTimestamp===void 0||e.recording||e.currentTimestamp===0;break;case ri.subtitleOffset:de=e.nextSubtitleTimestamp===void 0||e.recording,we=e.previousSubtitleTimestamp===void 0||e.recording;break;case ri.playbackRate:de=e.playbackRate>=5||e.recording,we=e.playbackRate<=.1||e.recording;break}const ue=!e.emptySubtitleTrack&&!e.subtitleDisplaying||e.recording;function rt(ut){if(!ut)return null;if(ut.emptySubtitleTrack)return ut.recordingEnabled?ut.recording?oe("action.stopRecording"):oe("action.startRecording"):oe("action.mine");switch(ut.postMineAction){case qr.exportCard:case qr.showAnkiDialog:case qr.none:return oe("action.mine");case qr.updateLastCard:return oe("action.updateLastCard")}}const ye={className:v.tooltip,placement:n,disabled:!i},Le=r===void 0?v.container:`${r} ${v.container}`;return m.jsxs(m.Fragment,{children:[m.jsxs(vX,{ref:b,direction:"row",wrap:"nowrap",className:Le,children:[d&&m.jsx(hn,{item:!0,children:m.jsx(cn,{...ye,title:oe("action.loadSubtitles"),children:m.jsx("span",{children:m.jsx(pr,{disabled:e.recording,onClick:d,children:m.jsx(tj,{className:e.recording?v.inactiveButton:v.button})})})})}),m.jsx(hn,{item:!0,children:m.jsx(cn,{...ye,title:rt(e),children:e.emptySubtitleTrack&&e.recordingEnabled?m.jsx("span",{children:m.jsx(pr,{onClick:c,children:m.jsx(_M,{className:e.recording?v.recordingButton:v.button})})}):m.jsx("span",{children:m.jsx(pr,{disabled:ue,onClick:c,children:m.jsx(z1,{className:ue?v.inactiveButton:v.button})})})})}),!e.emptySubtitleTrack&&m.jsx(hn,{item:!0,children:m.jsx(cn,{...ye,title:oe("binds.toggleSubtitles"),children:m.jsx("span",{children:m.jsxs(pr,{disabled:e.recording,onClick:S,children:[e.subtitlesAreVisible&&m.jsx(gX,{className:e.recording?v.inactiveButton:v.button}),!e.subtitlesAreVisible&&m.jsx(WM,{className:e.recording?v.inactiveButton:v.button})]})})})}),!e.emptySubtitleTrack&&m.jsx(hn,{item:!0,children:m.jsx(cn,{...ye,title:oe("controls.playbackMode"),children:m.jsx("span",{children:m.jsx(pr,{disabled:e.recording,onClick:N,children:m.jsx(W1,{className:e.recording?v.inactiveButton:v.button})})})})}),!e.recording&&m.jsxs(m.Fragment,{children:[m.jsx(hn,{item:!0,children:m.jsx(cn,{...ye,title:ke,children:m.jsx("span",{children:m.jsx(BP,{onClick:J,onHold:te,disabled:we,children:m.jsx(pX,{className:we?v.inactiveButton:v.button})})})})}),m.jsx(cn,{...ye,title:ve,children:m.jsx(hn,{item:!0,children:m.jsx(yX,{offsetInputRef:k,playbackRateInputRef:T,offset:e.offset,onOffset:f,playbackRate:e.playbackRate,onPlaybackRate:h,initialControlType:a,onScrollTo:$,currentMilliseconds:e.currentTimestamp})})}),m.jsx(hn,{item:!0,children:m.jsx(cn,{...ye,title:Q,children:m.jsx("span",{children:m.jsx(BP,{onClick:ee,onHold:ie,disabled:de,children:m.jsx(hX,{className:de?v.inactiveButton:v.button})})})})})]})]}),A&&m.jsx(XM,{open:A,anchorEl:R,onClose:V,selectedPlayMode:e.playMode,onPlayMode:W,listStyle:{display:"flex",flexDirection:"row",padding:0,overflowX:"auto"},className:v.playModePopOver,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"}})]})}),xX=({isMobile:t,fetchLastControlType:e,saveLastControlType:r})=>{const n=x.useMemo(()=>t?ri.timeDisplay:ri.subtitleOffset,[t]),[i,a]=x.useState(n);x.useEffect(()=>{e().then(c=>{a(c===void 0?n:c)})},[n,e]);const l=x.useCallback(c=>{a(c),r(c)},[r]);return{lastControlType:i,setLastControlType:l}},wX=48,kX=yn(t=>({root:{position:"relative",backgroundColor:"black",height:"100vh",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},video:{margin:"auto"},cursorHidden:{cursor:"none"},mobileOverlay:{position:"absolute",zIndex:10,bottom:t.spacing(1.5)}}));function _S(t,e,r,n){if(window.outerWidth&&t.videoWidth>0&&t.videoHeight>0){const l=window.screen.availWidth-(window.outerWidth-window.innerWidth),c=window.screen.availHeight-(window.outerHeight-window.innerHeight),d=Math.min(1,Math.min(l/t.videoWidth,c/t.videoHeight));window.resizeTo(d*t.videoWidth+(window.outerWidth-window.innerWidth),d*t.videoHeight+(window.outerHeight-window.innerHeight))}let i,a;if(t.audioTracks){i=[];for(let l of t.audioTracks)i.push({id:l.id,label:l.label,language:l.language}),l.enabled&&(a=l.id)}else i=void 0,a=void 0;r(i),n(a),e.ready(t.duration,t.paused,t.playbackRate,i,a)}function CX(t){let e;switch(t.error?.code){case 1:e="MEDIA_ERR_ABORTED";break;case 2:e="MEDIA_ERR_ABORTED";break;case 3:e="MEDIA_ERR_DECODE";break;case 4:e="MEDIA_ERR_SRC_NOT_SUPPORTED";break;default:e="Unknown error";break}return e+": "+(t.error?.message||"<details missing>")}const TX=(t,e,r,n,i,a)=>{if(t.textImage)return`
<div style="max-width:${i*(e.current?.width??window.screen.availWidth)/t.textImage.screen.width*t.textImage.image.width}px;margin:auto;">
<img
    style="width:100%;"
    alt="subtitle"
    src="${t.textImage.dataUrl}"
    class="${n}"
/>
</div>
`;const l=n?`${n} asbplayer-subtitles`:"asbplayer-subtitles";return t.richText&&a[t.track].dictionaryColorizeOnHoverOnly?`<span class="${l}" style="${r}" data-track="${t.track}"><span class="asbplayer-subtitle-text">${t.text}</span><span class="asbplayer-subtitle-rich">${t.richText}</span></span>`:`<span class="${l}" style="${r}" data-track="${t.track}">${t.richText??t.text}</span>`},EX=Ln.memo(function({index:e,domCache:r,renderHtml:n,className:i,onMouseOver:a,onMouseOut:l}){return m.jsx("div",{className:i||"",onMouseOver:a,onMouseOut:l,ref:c=>{if(c){for(;c.firstChild;)r.return(c.lastChild);c.appendChild(r.get(String(e),n))}}})}),AX=yn(()=>({subtitleContainer:{position:"absolute",paddingLeft:20,paddingRight:20,textAlign:"center",whiteSpace:"normal",lineHeight:"inherit"}})),DP=Ln.forwardRef(function({subtitleSettings:e,alignment:r,baseOffset:n,children:i},a){const l=AX();return m.jsx("div",{ref:a,className:l.subtitleContainer,style:{...r==="bottom"?{bottom:e.subtitlePositionOffset+n}:{top:e.topSubtitlePositionOffset+n},...e.subtitlesWidth===-1?{}:{width:`${e.subtitlesWidth}%`}},children:i})}),zP=t=>_I(t).map(e=>e.subtitleAlignment),Sj="lastScrollableControlType",xj=new Fx,RX=async()=>{const t=xj.get(Sj);if(t!=null)return parseInt(t)},OX=t=>{xj.set(Sj,String(t))};function PX({settings:t,extension:e,videoFile:r,channel:n,popOut:i,miningContext:a,ankiDialogOpen:l,seekRequest:c,onAnkiDialogRequest:d,onError:f,onPlayModeChangedViaBind:h,onAnkiDialogRewind:g,onSettingsChanged:p}){const S=kX(),{t:b}=Wr(),v=x.useRef(void 0),k=x.useRef(void 0),[T,A]=m1(!0);k.current&&(k.current.width=T,k.current.height=A);const w=x.useMemo(()=>new PY(n),[n]),[R,O]=x.useState(!1),{fullscreen:M,requestFullscreen:j}=fX(),$=()=>!k.current?.paused||!1,[V,N]=x.useState(0),[W,z]=x.useState(),[I,B]=x.useState(0),[G,U]=x.useState(),[X,q]=x.useState(),[Z,F]=x.useState(!1),[D,J]=x.useState([]),ee=x.useMemo(()=>{const he=new Ic({returnLastShown:!1,showingCheckRadiusMs:150});return he.setSubtitles(D),he},[D]),[te,ie]=x.useState([]),[oe,ke]=x.useState(t),[ve,Q]=x.useState(t),[de,we]=x.useState(t),ue=vj({...oe,...ve},e),[rt,ye]=x.useState(ue.displaySubtitles),[Le,ut]=x.useState({}),[Be,bt]=x.useState(Yr.normal),[Ot,Mt]=x.useState(!1),[et,ht]=x.useState(ue.theaterMode),[Bt,_t]=x.useState(zP(ve)),[,it]=x.useState(ve.subtitlePositionOffset),[,je]=x.useState(ve.topSubtitlePositionOffset),qe=x.useRef([]);qe.current=te;const Oe=x.useMemo(()=>new qM,[]),ot=x.useRef(void 0),[Se,vt]=x.useState(Qi.isMobile),Pt=x.useRef(0),se=x.useRef(null),[le,st]=x.useState(!1),[$e,Xt]=x.useState(""),[Et,yr]=x.useState("info"),[fe,xe]=x.useState(!1),[dt,qt]=x.useState(),[ir,zt]=x.useState(0),[,Jt]=x.useState(),[jt,hr]=x.useState(),At=x.useRef(null),Tt=x.useRef(null),St=x.useRef(void 0);x.useEffect(()=>{ke(t),Q(t),we(t)},[t]),x.useEffect(()=>{_t(zP(ve)),it(ve.subtitlePositionOffset),je(ve.topSubtitlePositionOffset)},[ve]);const kt=x.useMemo(()=>{const he=new t2;return he.onStartedShowing=()=>{Be!==Yr.autoPause||oe.autoPausePreference!==va.atStart||w.pause()},he.onWillStopShowing=()=>{Be!==Yr.autoPause||oe.autoPausePreference!==va.atEnd||w.pause()},he},[w,oe,Be]),Ut=x.useRef(void 0);Ut.current=kt;const Ft=mj(oe.keyBindSet,e);x.useEffect(()=>{Mi.language!==oe.language&&Mi.changeLanguage(oe.language)},[oe]);const Nr=x.useCallback(()=>{const he=k.current;he&&(he.paused?w.pause(!1):w.play(!1),w.playbackRate(he.playbackRate,!1),w.currentTime(he.currentTime,!1),Jt({}),he.paused||(Ni.current=!1))},[w]),Vr=x.useRef(f);Vr.current=f;const $r=x.useCallback(he=>{if(he){const Je=he;k.current=Je,Je.readyState===4?_S(Je,w,U,q):(Je.onloadeddata=()=>_S(Je,w,U,q),Je.ondurationchange=()=>_S(Je,w,U,q)),Je.oncanplay=at=>{w.readyState(4),$()&&Oe.start()},Je.ontimeupdate=at=>Oe.setTime(he.currentTime*1e3),Je.onerror=at=>Vr.current?.(CX(he)),Je.onplay=Nr,Je.onpause=Nr,Je.onratechange=Nr,Je.onseeked=Nr,Qi.isMobile&&(k.current.volume=1)}},[Oe,w,Nr]);function wr(he){const Je=k.current?.audioTracks;if(Je)for(const at of Je)at.id===he?at.enabled=!0:at.enabled=!1}const Pr=x.useCallback(he=>{B(he),J(Je=>Je.map((at,gr)=>({text:at.text,textImage:at.textImage,start:at.originalStart+he,originalStart:at.originalStart,end:at.originalEnd+he,originalEnd:at.originalEnd,track:at.track,index:gr,richText:at.richText})))},[]),Hr=x.useCallback((he,Je)=>{k.current&&(k.current.playbackRate=he,Oe.rate=he,Je&&w.playbackRate(he))},[w,Oe]);x.useEffect(()=>(w.onReady((he,Je)=>{N(he),z(Je)}),w.onPlay(async()=>{await k.current?.play(),Oe.start()}),w.onPause(()=>{k.current?.pause(),Oe.stop()}),w.onCurrentTime(he=>{let Je=he;k.current&&(Je=sI(k.current,he)),k.current?.readyState===4&&w.readyState(4),Oe.stop(),Oe.setTime(Je*1e3),Ut.current?.clear()}),w.onAudioTrackSelected(he=>{wr(he),q(he),w.audioTrackSelected(he)}),w.onClose(()=>{w.close(),window.close()}),w.onSubtitles(he=>{if(J(he.map((Je,at)=>({...Je,index:at}))),zt(Math.max(...he.map(Je=>Je.track))+1),he&&he.length>0){const Je=he[0],at=Je.start-Je.originalStart;B(at)}ie([]),Ut.current?.clear()}),w.onSubtitlesUpdated(he=>{for(const at of he)St.current?.delete(String(at.index));const Je=new Map(he.map(at=>[at.index,at]));qe.current.some(at=>Je.has(at.index))&&ie(at=>at.map(gr=>{const fr=Je.get(gr.index);return fr?{...gr,text:fr.text,richText:fr.richText,tokenization:fr.tokenization}:gr})),J(at=>{if(!at.length)return at;const gr=at.slice();for(const fr of he)gr[fr.index]={...gr[fr.index],text:fr.text,richText:fr.richText,tokenization:fr.tokenization};return gr})}),w.onPlayMode(he=>bt(he)),w.onHideSubtitlePlayerToggle(he=>Mt(he)),w.onAppBarToggle(he=>ht(he)),w.onFullscreenToggle(he=>j(he)),w.onSubtitleSettings(Q),w.onMiscSettings(ke),w.onAnkiSettings(we),w.onOffset(Pr),w.onPlaybackRate(he=>{Hr(he,!1)}),w.onAlert((he,Je)=>{st(!0),Xt(he),yr(Je)}),window.onbeforeunload=he=>{v.current||w.close()},O(!0),()=>w.close()),[Oe,w,j,Pr,Hr]);const Kr=x.useCallback(()=>{k.current&&w.play()},[w]),Ue=x.useCallback(()=>w.pause(),[w]),We=x.useCallback(he=>{if(!Number.isFinite(V))return;$()&&Oe.stop();const Je=he*V;w.currentTime(Je/1e3)},[V,Oe,w]),Ct=x.useCallback(he=>{w.currentTime(he/1e3)},[w]);x.useEffect(()=>{c!==void 0&&We(c.timestamp/V)},[We,c,V]);const cr=x.useCallback(he=>{if(Pt.current=Date.now(),!!se.current){var Je=se.current.getBoundingClientRect();ot.current={x:he.clientX-Je.left,y:he.clientY-Je.top}}},[]),dr=x.useCallback(he=>{ot.current=void 0},[]),Tr=x.useCallback(he=>{$()&&(Oe.stop(),w.pause()),wr(he),q(he),w.currentTime(0),w.audioTrackSelected(he)},[w,Oe]),Lr=x.useCallback(()=>{w.loadFiles()},[w]);x.useEffect(()=>{if(!D||D.length===0)return;const he=setInterval(()=>{const Je=Oe.time(V);let at=[];const gr=ee.subtitlesAt(Je);for(const fr of gr.showing)Le[fr.track]||at.push(fr);gr.startedShowing&&!Le[gr.startedShowing.track]&&kt.startedShowing(gr.startedShowing),gr.willStopShowing&&!Le[gr.willStopShowing.track]&&kt.willStopShowing(gr.willStopShowing),at=at.sort((fr,sn)=>fr.track-sn.track),Fa(at,qe.current,(fr,sn)=>fr.index===sn.index)||(ie(at),at.length>0&&oe.autoCopyCurrentSubtitle&&document.hasFocus()&&navigator.clipboard.writeText(at.map(fr=>fr.text).join(`
`)).catch(fr=>{}))},100);return()=>clearInterval(he)},[ee,w,D,Le,Oe,V,kt,oe,e]);const br=x.useCallback(he=>{Pr(he),w.offset(he)},[w,Pr]),bn=x.useCallback(he=>{Hr(he,!0)},[Hr]);x.useEffect(()=>Ft.bindSeekToSubtitle((he,Je)=>{he.preventDefault(),w.currentTime(Je.start/1e3)},()=>!k.current,()=>Oe.time(V),()=>D),[Ft,w,D,V,Oe]),x.useEffect(()=>Ft.bindSeekToBeginningOfCurrentSubtitle((he,Je)=>{he.preventDefault(),w.currentTime(Je.start/1e3),t.alwaysPlayOnSubtitleRepeat&&w.play()},()=>!k.current,()=>Oe.time(V),()=>D),[Ft,w,D,V,Oe,t]),x.useEffect(()=>Ft.bindSeekBackwardOrForward((he,Je)=>{he.preventDefault();const at=Oe.time(V),gr=oe.seekDuration*1e3;Je?w.currentTime(Math.min(V/1e3,(at+gr)/1e3)):w.currentTime(Math.max(0,(at-gr)/1e3))},()=>!k.current),[Ft,w,V,Oe,oe]);const Sn=x.useCallback(he=>XP(D,he,de.surroundingSubtitlesCountRadius,de.surroundingSubtitlesTimeRadius),[D,de.surroundingSubtitlesCountRadius,de.surroundingSubtitlesTimeRadius]);x.useEffect(()=>Ft.bindAdjustOffset((he,Je)=>{he.preventDefault(),br(Je)},()=>!1,()=>D),[Ft,br,D]),x.useEffect(()=>Ft.bindResetOffet(he=>{he.preventDefault(),br(0)},()=>!1),[Ft,br]),x.useEffect(()=>Ft.bindAdjustPlaybackRate((he,Je)=>{he.preventDefault();const at=k.current;at&&Hr(Je?Math.min(5,at.playbackRate+oe.speedChangeStep):Math.max(.1,at.playbackRate-oe.speedChangeStep),!0)},()=>!1),[Hr,Ft,oe]),x.useEffect(()=>Ft.bindToggleSubtitles(he=>{he.preventDefault(),ye(!rt),ue.displaySubtitles=!rt},()=>!1),[Ft,rt,ue]),x.useEffect(()=>Ft.bindToggleSubtitleTrackInVideo((he,Je)=>{he.preventDefault(),ut(at=>{const gr={...at};return gr[Je]=!at[Je],gr})},()=>!1),[Ft]),x.useEffect(()=>Ft.bindAdjustSubtitlePositionOffset((he,Je)=>{let at={...ve};he.preventDefault(),Je?at.subtitlePositionOffset=ve.subtitlePositionOffset+20:at.subtitlePositionOffset=ve.subtitlePositionOffset-20,p(at),Q(at)},()=>!1),[Ft,ve,p]),x.useEffect(()=>Ft.bindAdjustTopSubtitlePositionOffset((he,Je)=>{let at={...ve};he.preventDefault(),Je?at.topSubtitlePositionOffset=ve.topSubtitlePositionOffset+20:at.topSubtitlePositionOffset=ve.topSubtitlePositionOffset-20,p(at),Q(at)},()=>!1),[Ft,ve,p]),x.useEffect(()=>Ft.bindToggleSubtitleTrackInList((he,Je)=>{he.preventDefault(),w.toggleSubtitleTrackInList(Je)},()=>!1),[Ft,w]),x.useEffect(()=>Ft.bindUnblurTrack((he,Je)=>{he.preventDefault();let at={...ve};for(let gr=0;gr<ir;++gr){const fr=hs(ve,gr).subtitleBlur,Pe=Og({subtitleBlur:gr===Je?!fr:fr},at,gr);at={...at,...Pe}}p(at),Q(at)},()=>!1),[Ft,ve,ir,p]),x.useEffect(()=>Ft.bindOffsetToSubtitle((he,Je)=>{he.preventDefault(),br(Je)},()=>!1,()=>Oe.time(V),()=>D),[Ft,br,D,Oe,V]);const xr=x.useCallback(()=>{if(!D||D.length===0){const he=Oe.time(V),Je=Math.min(he+5e3,V),at={text:"",start:he,originalStart:he,end:Je,originalEnd:Je,track:0};return{currentSubtitle:at,surroundingSubtitles:FS(at,V,5e3)}}else if(qe.current&&qe.current.length>0){const he=qe.current[0];return{currentSubtitle:he,surroundingSubtitles:Sn(he.index)}}},[D,Sn,V,Oe]),mr=x.useCallback((he,Je,at,gr,fr,sn,Pe,ce,ge)=>{switch(he){case qr.showAnkiDialog:w.copy(sn,Pe,ce,at??"",ge,qr.none),d(Je,at??"",gr,fr,sn,Pe,ce,ge),$()?(w.pause(),F(!0)):F(!1);break;default:w.copy(sn,Pe,ce,at??"",ge,he)}qt({videoFileUrl:Je,videoFileName:at??"",selectedAudioTrack:gr,playbackRate:fr,subtitle:sn,surroundingSubtitles:Pe,timestamp:ge})},[d,w]),ei=x.useCallback((he,Je,at,gr)=>{const fr=k.current;if(!fr)return;let sn;if(Je===void 0||at===void 0){const Pe=xr();if(Pe===void 0)return;Je=Pe.currentSubtitle,at=Pe.surroundingSubtitles,sn=Oe.time(V)}else sn=Je.start;mr(he,r,W??"",X,fr.playbackRate,Je,at,gr??{},sn)},[mr,xr,Oe,V,X,r,W]),ar=x.useCallback((he,Je)=>{if(jt===void 0)hr(Oe.time(V)),$()||w.play(),Qi.isMobile||(yr("info"),Xt(b("info.manualMiningIntervalPrompt")),xe(!0),st(!0));else{xe(!1),st(!1);const at=k.current;if(!at)return;const gr=Oe.time(V);if(gr>jt){let fr={text:"",start:jt,originalStart:jt,end:gr,originalEnd:gr,track:0},sn;if(D.length===0)sn=FS(fr,V,5e3);else{const Pe=Px(D,jt,gr,t.surroundingSubtitlesCountRadius,t.surroundingSubtitlesTimeRadius);fr={...fr,text:Pe.subtitle?.text??""},sn=Pe.surroundingSubtitles??[]}mr(he,r,W??"",X,at.playbackRate,fr,sn,Je??{},jt)}hr(void 0)}},[b,mr,w,jt,Oe,V,X,r,W,D,t.surroundingSubtitlesCountRadius,t.surroundingSubtitlesTimeRadius]),an=x.useCallback((he,Je,at,gr)=>{!Je&&!at&&D.length===0?ar(he,gr):(jt!==void 0&&(xe(!1),st(!1),hr(void 0)),ei(he,Je,at,gr))},[ei,ar,jt,D]);x.useEffect(()=>w.onCopy(an),[w,an]),x.useEffect(()=>Ft.bindAnkiExport(he=>{he.preventDefault(),he.stopPropagation(),an(qr.showAnkiDialog)},()=>!1),[an,Ft]),x.useEffect(()=>a.onEvent("stopped-mining",()=>{switch(oe.postMiningPlaybackState){case Zi.play:w.play();break;case Zi.pause:w.pause();break;case Zi.remember:Z&&w.play();break}}),[a,Z,oe,w]),x.useEffect(()=>Ft.bindUpdateLastCard(he=>{he.preventDefault(),he.stopPropagation(),an(qr.updateLastCard)},()=>!1),[an,Ft]),x.useEffect(()=>Ft.bindExportCard(he=>{he.preventDefault(),he.stopPropagation(),an(qr.exportCard)},()=>!1),[an,Ft]),x.useEffect(()=>Ft.bindTakeScreenshot(he=>{if(he.preventDefault(),l)g();else if(dt){const Je=Oe.time(V);mr(qr.showAnkiDialog,dt.videoFileUrl,dt.videoFileName,dt.selectedAudioTrack,dt.playbackRate,dt.subtitle,dt.surroundingSubtitles,{},Je)}},()=>!1),[Oe,V,Ft,dt,mr,i,l,g]),x.useEffect(()=>Ft.bindToggleRecording(he=>{he.preventDefault(),ar(qr.showAnkiDialog)},()=>!1),[Ft,ar]),x.useEffect(()=>Ft.bindCopy((he,Je)=>{he.preventDefault(),an(qr.none)},()=>!1,()=>{const he=xr();if(he!==void 0)return he.currentSubtitle}),[xr,an,Ft]),x.useEffect(()=>Ft.bindPlay(he=>{he.preventDefault(),$()?w.pause():w.play()},()=>!1),[Ft,w]);const Ir=x.useCallback((he,Je)=>{if(D.length===0)return;he.preventDefault();const at=Be===Je?Yr.normal:Je;w.playMode(at),h(Be,at)},[Be,w,D,h]);x.useEffect(()=>Ft.bindAutoPause(he=>Ir(he,Yr.autoPause),()=>!1),[Ft,Ir]),x.useEffect(()=>Ft.bindCondensedPlayback(he=>Ir(he,Yr.condensed),()=>!1),[Ft,Ir]),x.useEffect(()=>Ft.bindFastForwardPlayback(he=>Ir(he,Yr.fastForward),()=>!1),[Ft,Ir]),x.useEffect(()=>Ft.bindToggleRepeat(he=>{te.length>0&&Ir(he,Yr.repeat)},()=>!1),[Ft,Ir,te]);const gn=x.useCallback(()=>{ye(!rt),ue.displaySubtitles=!rt},[rt,ue]),lt=x.useCallback(()=>{j(!M)},[M,j]),Er=x.useCallback(he=>{k.current&&(k.current.volume=he)},[]),Wt=x.useCallback(()=>{w.popOutToggle(),i&&(v.current=!0,window.close())},[w,i]),Ke=x.useCallback(he=>{w.playMode(he)},[w]),mt=x.useCallback(()=>{w.close(),window.close()},[w]),$t=x.useCallback(()=>{w.hideSubtitlePlayerToggle()},[w]),Yt=x.useCallback(()=>{w.appBarToggle()},[w]),Ar=x.useCallback(he=>{let Je={};for(let gr=0;gr<Bt.length;++gr)Je={...Je,...Og({subtitleAlignment:he},ve,gr)};const at={...ve,...Je};_t([he]),p(at),Q(at)},[p,ve,Bt]),Dr=x.useCallback(()=>{$()?w.pause():w.play()},[w]),en=x.useCallback(()=>lt(),[lt]);x.useEffect(()=>{if(Qi.isMobile)return;const he=setInterval(()=>{Date.now()-Pt.current>300?Se&&vt(!1):Se||vt(!0)},100);return()=>clearInterval(he)},[Se]);const ji=x.useCallback(()=>{xe(!1),st(!1)},[]),xn=dX(ve,ir??1),po=x.useCallback(he=>TX(he,k,xn[he.track]?.styleString??xn[0].styleString,xn[he.track]?.classes??xn[0].classes,ve.imageBasedSubtitleScaleFactor,t.dictionaryTracks),[xn,ve.imageBasedSubtitleScaleFactor,t.dictionaryTracks]),{getSubtitleDomCache:ko}=_Y(D,po);x.useEffect(()=>{St.current=ko()},[ko]);const ho=x.useCallback(he=>{const Je=Wf(he==="right",Oe.time(V),D);Je&&w.currentTime(Je.start/1e3)},[Oe,V,D,w]);MY({onSwipe:ho,distance:50,ms:500});const Ni=x.useRef(void 0),ii=x.useMemo(()=>new HM,[]),Ra=x.useCallback(he=>{oe.pauseOnHoverMode!==ya.disabled&&k.current?.paused===!1&&(w.pause(),Ni.current=!0),ii.handleMouseOver(he.nativeEvent)},[ii,oe.pauseOnHoverMode,w]),Co=x.useCallback(he=>ii.handleMouseOut(he.nativeEvent),[ii]);x.useEffect(()=>Ft.bindMarkHoveredToken((he,Je)=>{const at=ii.parse();at&&(La(),he.preventDefault(),he.stopImmediatePropagation(),w.saveTokenLocal(at.track,at.token,Je,[],us.ADD))},()=>!1),[ii,Ft,w]),x.useEffect(()=>Ft.bindToggleHoveredTokenIgnored(he=>{const Je=ii.parse();Je&&(La(),he.preventDefault(),he.stopImmediatePropagation(),w.saveTokenLocal(Je.track,Je.token,null,[zl.IGNORED],us.TOGGLE))},()=>!1),[ii,Ft,w]);const tn=he=>{if(!At.current||!Tt.current||!k.current)return;const Je=At.current.getBoundingClientRect(),at=Tt.current.getBoundingClientRect(),gr=k.current.getBoundingClientRect(),fr=gr.height+gr.y,sn=at.y,Pe=Math.min(at.x,Je.x),ce=Math.max(at.x+at.width,Je.x+Je.width);return he.clientY<=fr&&he.clientY>=sn&&he.clientX>=Pe&&he.clientX<=ce},oa=x.useCallback(he=>{oe.pauseOnHoverMode===ya.inAndOut&&Ni.current&&!tn(he)&&(w.play(),Ni.current=!1)},[oe.pauseOnHoverMode,w]),{lastControlType:Io,setLastControlType:Oa}=xX({isMobile:Qi.isMobile,fetchLastControlType:RX,saveLastControlType:OX}),Kn=!Ot&&parent?.document?.body!==void 0&&parent.document.body.clientWidth===document.body.clientWidth,Vi=he=>Bt[he]??Bt[0],to=he=>m.jsx(EX,{index:he.index,domCache:St.current??ko(),renderHtml:()=>po(he),onMouseOver:Ra,onMouseOut:Co},he.index),Ve=he=>te.filter(Je=>Vi(Je.track)===he).map(to),Ht=rt?Ve("top"):[],sr=rt?Ve("bottom"):[],Gt=()=>{if(!Qi.isMobile||$()&&jt===void 0)return;const he=Oe.time(V);return{offset:I,playbackRate:k.current?.playbackRate??1,emptySubtitleTrack:D.length===0,recordingEnabled:!0,recording:jt!==void 0,previousSubtitleTimestamp:Wf(!1,he,D)?.originalStart??void 0,nextSubtitleTimestamp:Wf(!0,he,D)?.originalStart??void 0,currentTimestamp:he,postMineAction:t.clickToMineDefaultAction,subtitleDisplaying:te.length>0,subtitlesAreVisible:rt,playMode:Be,themeType:t.themeType}},_r=!$()&&Qi.isMobile?wX:0,rn=Bt[0]==="top"?"bottom":"top";return!R||Io===void 0?null:m.jsxs("div",{ref:se,onMouseMove:cr,onMouseLeave:dr,className:`${S.root} asbplayer-token-container`,tabIndex:-1,children:[m.jsx(Y_,{open:le,disableAutoHide:fe,onClose:ji,autoHideDuration:3e3,severity:Et,anchor:rn,children:$e}),m.jsx(SX,{ref:At,model:Gt(),className:S.mobileOverlay,anchor:"bottom",tooltipsEnabled:!0,initialControlType:Io,onScrollToControlType:Oa,onMineSubtitle:()=>an(t.clickToMineDefaultAction),onOffset:br,onPlaybackRate:bn,onPlayModeSelected:Ke,onSeek:Ct,onToggleSubtitles:gn}),m.jsx("video",{preload:"auto",controls:!1,onClick:Dr,onDoubleClick:en,className:Se?S.video:`${S.cursorHidden} ${S.video}`,ref:$r,src:r,onMouseOver:oa}),Ht.length>0&&m.jsx(DP,{alignment:"top",subtitleSettings:ve,baseOffset:0,children:Ht}),sr.length>0&&m.jsx(DP,{ref:Tt,alignment:"bottom",subtitleSettings:ve,baseOffset:_r,children:sr}),m.jsx(QM,{mousePositionRef:ot,clock:Oe,length:V,audioTracks:G,selectedAudioTrack:X,subtitlesToggle:D&&D.length>0,subtitlesEnabled:rt,offsetEnabled:!0,offset:I,playbackRate:k.current?.playbackRate??1,playbackRateEnabled:!0,fullscreenEnabled:!0,fullscreen:M,closeEnabled:!i,popOut:i,volumeEnabled:!0,popOutEnabled:!Qi.isMobile,playModeEnabled:D&&D.length>0,playMode:Be,hideSubtitlePlayerToggleEnabled:D?.length>0&&!i&&!M&&!Kn,subtitlePlayerHidden:Ot,onPlay:Kr,onPause:Ue,onSeek:We,onAudioTrackSelected:Tr,onSubtitlesToggle:gn,onFullscreenToggle:lt,onVolumeChange:Er,onOffsetChange:br,onPlaybackRateChange:bn,onPopOutToggle:Wt,onPlayMode:Ke,onClose:mt,onHideSubtitlePlayerToggle:$t,playbackPreferences:ue,showOnMouseMovement:!1,theaterModeToggleEnabled:!i&&!M,theaterModeEnabled:et,onTheaterModeToggle:Yt,subtitleAlignment:Bt[0],subtitleAlignmentEnabled:Bt.length===1,onSubtitleAlignment:Ar,hideToolbar:Qi.isMobile,onLoadFiles:i?void 0:Lr})]})}const _X="modulepreload",MX=function(t){return"/asbplayer/"+t},UP={},Vo=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let f=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};var l=f;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");i=f(r.map(h=>{if(h=MX(h),h in UP)return;UP[h]=!0;const g=h.endsWith(".css"),p=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const S=document.createElement("link");if(S.rel=g?"stylesheet":_X,g||(S.as="script"),S.crossOrigin="",S.href=h,d&&S.setAttribute("nonce",d),document.head.appendChild(S),g)return new Promise((b,v)=>{S.addEventListener("load",b),S.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},jX=(t,e,r)=>{const n=t[e];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((i,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})};var NX=function(e){return{type:"backend",init:function(n,i,a){},read:function(n,i,a){if(typeof e=="function"){if(e.length<3){try{var l=e(n,i);l&&typeof l.then=="function"?l.then(function(c){return a(null,c&&c.default||c)}).catch(a):a(null,l)}catch(c){a(c)}return}e(n,i,a);return}a(null,e&&e[n]&&e[n][i])}}};let MS=Mi.use(NX(t=>jX(Object.assign({"../../locales/de.json":()=>Vo(()=>import("./de-Cvlin7vk.js"),[]),"../../locales/en.json":()=>Vo(()=>import("./en-e1BcZWpN.js"),[]),"../../locales/es.json":()=>Vo(()=>import("./es-D-n4ad4H.js"),[]),"../../locales/fi.json":()=>Vo(()=>import("./fi-B7AvJcWo.js"),[]),"../../locales/fr.json":()=>Vo(()=>import("./fr-DmtfzsUQ.js"),[]),"../../locales/id.json":()=>Vo(()=>import("./id-mMKXIhOt.js"),[]),"../../locales/ja.json":()=>Vo(()=>import("./ja-D8H2UlS4.js"),[]),"../../locales/ko.json":()=>Vo(()=>import("./ko-C79cP5oT.js"),[]),"../../locales/pl.json":()=>Vo(()=>import("./pl-BD6U27LK.js"),[]),"../../locales/pt_BR.json":()=>Vo(()=>import("./pt_BR-BQYbM-RE.js"),[]),"../../locales/ru.json":()=>Vo(()=>import("./ru-BwWFK-xu.js"),[]),"../../locales/zh_CN.json":()=>Vo(()=>import("./zh_CN-kvkBGbNl.js"),[])}),`../../locales/${t}.json`,4))).use(Wz).init({partialBundledLanguages:!0,resources:{},fallbackLng:"en",debug:!1,ns:"translation",defaultNS:"translation",interpolation:{escapeValue:!1}});const IX=({language:t})=>{const[e,r]=x.useState(!1);return x.useEffect(()=>{e||MS.then(()=>r(!0))},[e]),x.useEffect(()=>{MS=MS.then(()=>Mi.changeLanguage(t))},[t]),{initialized:e}};class LX{settings;get ankiConnectUrl(){return this.settings.ankiConnectUrl}get deck(){return this.settings.deck}get noteType(){return this.settings.noteType}get sentenceField(){return this.settings.sentenceField}get definitionField(){return this.settings.definitionField}get audioField(){return this.settings.audioField}get imageField(){return this.settings.imageField}get wordField(){return this.settings.wordField}get sourceField(){return this.settings.sourceField}get urlField(){return this.settings.urlField}get track1Field(){return this.settings.track1Field}get track2Field(){return this.settings.track2Field}get track3Field(){return this.settings.track3Field}get ankiFieldSettings(){return this.settings.ankiFieldSettings}get customAnkiFields(){return this.settings.customAnkiFields}get customAnkiFieldSettings(){return this.settings.customAnkiFieldSettings}get tags(){return this.settings.tags}get preferMp3(){return this.settings.preferMp3}get audioPaddingStart(){return this.settings.audioPaddingStart}get audioPaddingEnd(){return this.settings.audioPaddingEnd}get maxImageWidth(){return this.settings.maxImageWidth}get maxImageHeight(){return this.settings.maxImageHeight}get surroundingSubtitlesCountRadius(){return this.settings.surroundingSubtitlesCountRadius}get surroundingSubtitlesTimeRadius(){return this.settings.surroundingSubtitlesTimeRadius}get recordWithAudioPlayback(){return this.settings.recordWithAudioPlayback}}const HP=new LX,FX=({settings:t,fetcher:e})=>(HP.settings=t,x.useMemo(()=>new Fm(HP,e),[e]));class BX{_callbacks={"started-mining":[],"stopped-mining":[]};_mining=!1;get mining(){return this._mining}onEvent(e,r){return this._callbacks[e].push(r),()=>this._remove(r,this._callbacks[e])}started(){this._mining=!0,this._callbacks["started-mining"].forEach(e=>e())}stopped(){this._mining=!1,this._callbacks["stopped-mining"].forEach(e=>e())}_remove(e,r){for(let n=r.length-1;n>=0;--n)if(e===r[n]){r.splice(n,1);break}}}const $X=({settings:t})=>{const[e,r]=x.useState();return x.useEffect(()=>{if(t.webSocketClientEnabled&&t.webSocketServerUrl){const n=new gj;return n.bind(t.webSocketServerUrl).catch(console.error),r(n),()=>n.unbind()}r(void 0)},[t.webSocketServerUrl,t.webSocketClientEnabled]),e};class DX{_extension;constructor(e){this._extension=e}async fetch(e){return(await this._extension.requestCopyHistory(e)).copyHistoryItems}async clear(){await this._extension.clearCopyHistory()}async delete(e){await this._extension.deleteCopyHistory(e)}async save(e){await this._extension.saveCopyHistory(e)}liveFetch(e,r){return()=>{}}}var Tg={exports:{}},zX=Tg.exports,VP;function UX(){return VP||(VP=1,function(t,e){(function(r,n){t.exports=n()})(zX,function(){var r=function(C,P){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,H){L.__proto__=H}||function(L,H){for(var Y in H)Object.prototype.hasOwnProperty.call(H,Y)&&(L[Y]=H[Y])})(C,P)},n=function(){return(n=Object.assign||function(C){for(var P,L=1,H=arguments.length;L<H;L++)for(var Y in P=arguments[L])Object.prototype.hasOwnProperty.call(P,Y)&&(C[Y]=P[Y]);return C}).apply(this,arguments)};function i(C,P,L){for(var H,Y=0,re=P.length;Y<re;Y++)!H&&Y in P||((H=H||Array.prototype.slice.call(P,0,Y))[Y]=P[Y]);return C.concat(H||Array.prototype.slice.call(P))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Eg,l=Object.keys,c=Array.isArray;function d(C,P){return typeof P!="object"||l(P).forEach(function(L){C[L]=P[L]}),C}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var f=Object.getPrototypeOf,h={}.hasOwnProperty;function g(C,P){return h.call(C,P)}function p(C,P){typeof P=="function"&&(P=P(f(C))),(typeof Reflect>"u"?l:Reflect.ownKeys)(P).forEach(function(L){b(C,L,P[L])})}var S=Object.defineProperty;function b(C,P,L,H){S(C,P,d(L&&g(L,"get")&&typeof L.get=="function"?{get:L.get,set:L.set,configurable:!0}:{value:L,configurable:!0,writable:!0},H))}function v(C){return{from:function(P){return C.prototype=Object.create(P.prototype),b(C.prototype,"constructor",C),{extend:p.bind(null,C.prototype)}}}}var k=Object.getOwnPropertyDescriptor,T=[].slice;function A(C,P,L){return T.call(C,P,L)}function w(C,P){return P(C)}function R(C){if(!C)throw new Error("Assertion Failed")}function O(C){a.setImmediate?setImmediate(C):setTimeout(C,0)}function M(C,P){if(typeof P=="string"&&g(C,P))return C[P];if(!P)return C;if(typeof P!="string"){for(var L=[],H=0,Y=P.length;H<Y;++H){var re=M(C,P[H]);L.push(re)}return L}var ae=P.indexOf(".");if(ae!==-1){var pe=C[P.substr(0,ae)];return pe==null?void 0:M(pe,P.substr(ae+1))}}function j(C,P,L){if(C&&P!==void 0&&!("isFrozen"in Object&&Object.isFrozen(C)))if(typeof P!="string"&&"length"in P){R(typeof L!="string"&&"length"in L);for(var H=0,Y=P.length;H<Y;++H)j(C,P[H],L[H])}else{var re,ae,pe=P.indexOf(".");pe!==-1?(re=P.substr(0,pe),(ae=P.substr(pe+1))===""?L===void 0?c(C)&&!isNaN(parseInt(re))?C.splice(re,1):delete C[re]:C[re]=L:j(pe=!(pe=C[re])||!g(C,re)?C[re]={}:pe,ae,L)):L===void 0?c(C)&&!isNaN(parseInt(P))?C.splice(P,1):delete C[P]:C[P]=L}}function $(C){var P,L={};for(P in C)g(C,P)&&(L[P]=C[P]);return L}var V=[].concat;function N(C){return V.apply([],C)}var je="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(N([8,16,32,64].map(function(C){return["Int","Uint","Float"].map(function(P){return P+C+"Array"})}))).filter(function(C){return a[C]}),W=new Set(je.map(function(C){return a[C]})),z=null;function I(C){return z=new WeakMap,C=function P(L){if(!L||typeof L!="object")return L;var H=z.get(L);if(H)return H;if(c(L)){H=[],z.set(L,H);for(var Y=0,re=L.length;Y<re;++Y)H.push(P(L[Y]))}else if(W.has(L.constructor))H=L;else{var ae,pe=f(L);for(ae in H=pe===Object.prototype?{}:Object.create(pe),z.set(L,H),L)g(L,ae)&&(H[ae]=P(L[ae]))}return H}(C),z=null,C}var B={}.toString;function G(C){return B.call(C).slice(8,-1)}var U=typeof Symbol<"u"?Symbol.iterator:"@@iterator",X=typeof U=="symbol"?function(C){var P;return C!=null&&(P=C[U])&&P.apply(C)}:function(){return null};function q(C,P){return P=C.indexOf(P),0<=P&&C.splice(P,1),0<=P}var Z={};function F(C){var P,L,H,Y;if(arguments.length===1){if(c(C))return C.slice();if(this===Z&&typeof C=="string")return[C];if(Y=X(C)){for(L=[];!(H=Y.next()).done;)L.push(H.value);return L}if(C==null)return[C];if(typeof(P=C.length)!="number")return[C];for(L=new Array(P);P--;)L[P]=C[P];return L}for(P=arguments.length,L=new Array(P);P--;)L[P]=arguments[P];return L}var D=typeof Symbol<"u"?function(C){return C[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},it=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],go=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(it),J={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ee(C,P){this.name=C,this.message=P}function te(C,P){return C+". Errors: "+Object.keys(P).map(function(L){return P[L].toString()}).filter(function(L,H,Y){return Y.indexOf(L)===H}).join(`
`)}function ie(C,P,L,H){this.failures=P,this.failedKeys=H,this.successCount=L,this.message=te(C,P)}function oe(C,P){this.name="BulkError",this.failures=Object.keys(P).map(function(L){return P[L]}),this.failuresByPos=P,this.message=te(C,this.failures)}v(ee).from(Error).extend({toString:function(){return this.name+": "+this.message}}),v(ie).from(ee),v(oe).from(ee);var ke=go.reduce(function(C,P){return C[P]=P+"Error",C},{}),ve=ee,Q=go.reduce(function(C,P){var L=P+"Error";function H(Y,re){this.name=L,Y?typeof Y=="string"?(this.message="".concat(Y).concat(re?`
 `+re:""),this.inner=re||null):typeof Y=="object"&&(this.message="".concat(Y.name," ").concat(Y.message),this.inner=Y):(this.message=J[P]||L,this.inner=null)}return v(H).from(ve),C[P]=H,C},{});Q.Syntax=SyntaxError,Q.Type=TypeError,Q.Range=RangeError;var de=it.reduce(function(C,P){return C[P+"Error"]=Q[P],C},{}),we=go.reduce(function(C,P){return["Syntax","Type","Range"].indexOf(P)===-1&&(C[P+"Error"]=Q[P]),C},{});function ue(){}function rt(C){return C}function ye(C,P){return C==null||C===rt?P:function(L){return P(C(L))}}function Le(C,P){return function(){C.apply(this,arguments),P.apply(this,arguments)}}function ut(C,P){return C===ue?P:function(){var L=C.apply(this,arguments);L!==void 0&&(arguments[0]=L);var H=this.onsuccess,Y=this.onerror;this.onsuccess=null,this.onerror=null;var re=P.apply(this,arguments);return H&&(this.onsuccess=this.onsuccess?Le(H,this.onsuccess):H),Y&&(this.onerror=this.onerror?Le(Y,this.onerror):Y),re!==void 0?re:L}}function Be(C,P){return C===ue?P:function(){C.apply(this,arguments);var L=this.onsuccess,H=this.onerror;this.onsuccess=this.onerror=null,P.apply(this,arguments),L&&(this.onsuccess=this.onsuccess?Le(L,this.onsuccess):L),H&&(this.onerror=this.onerror?Le(H,this.onerror):H)}}function bt(C,P){return C===ue?P:function(L){var H=C.apply(this,arguments);d(L,H);var Y=this.onsuccess,re=this.onerror;return this.onsuccess=null,this.onerror=null,L=P.apply(this,arguments),Y&&(this.onsuccess=this.onsuccess?Le(Y,this.onsuccess):Y),re&&(this.onerror=this.onerror?Le(re,this.onerror):re),H===void 0?L===void 0?void 0:L:d(H,L)}}function Ot(C,P){return C===ue?P:function(){return P.apply(this,arguments)!==!1&&C.apply(this,arguments)}}function Mt(C,P){return C===ue?P:function(){var L=C.apply(this,arguments);if(L&&typeof L.then=="function"){for(var H=this,Y=arguments.length,re=new Array(Y);Y--;)re[Y]=arguments[Y];return L.then(function(){return P.apply(H,re)})}return P.apply(this,arguments)}}we.ModifyError=ie,we.DexieError=ee,we.BulkError=oe;var et=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ht(C){et=C}var Bt={},_t=100,je=typeof Promise>"u"?[]:function(){var C=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[C,f(C),C];var P=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[P,f(P),C]}(),it=je[0],go=je[1],je=je[2],go=go&&go.then,qe=it&&it.constructor,Oe=!!je,ot=function(C,P){Xt.push([C,P]),vt&&(queueMicrotask(jt),vt=!1)},Se=!0,vt=!0,Pt=[],se=[],le=rt,st={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ue,pgp:!1,env:{},finalize:ue},$e=st,Xt=[],Et=0,yr=[];function fe(C){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var P=this._PSD=$e;if(typeof C!="function"){if(C!==Bt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&qt(this,this._value))}this._state=null,this._value=null,++P.ref,function L(H,Y){try{Y(function(re){if(H._state===null){if(re===H)throw new TypeError("A promise cannot be resolved with itself.");var ae=H._lib&&hr();re&&typeof re.then=="function"?L(H,function(pe,Te){re instanceof fe?re._then(pe,Te):re.then(pe,Te)}):(H._state=!0,H._value=re,ir(H)),ae&&At()}},qt.bind(null,H))}catch(re){qt(H,re)}}(this,C)}var xe={get:function(){var C=$e,P=$r;function L(H,Y){var re=this,ae=!C.global&&(C!==$e||P!==$r),pe=ae&&!Kr(),Te=new fe(function(Ae,Me){zt(re,new dt(Tr(H,C,ae,pe),Tr(Y,C,ae,pe),Ae,Me,C))});return this._consoleTask&&(Te._consoleTask=this._consoleTask),Te}return L.prototype=Bt,L},set:function(C){b(this,"then",C&&C.prototype===Bt?xe:{get:function(){return C},set:xe.set})}};function dt(C,P,L,H,Y){this.onFulfilled=typeof C=="function"?C:null,this.onRejected=typeof P=="function"?P:null,this.resolve=L,this.reject=H,this.psd=Y}function qt(C,P){var L,H;se.push(P),C._state===null&&(L=C._lib&&hr(),P=le(P),C._state=!1,C._value=P,H=C,Pt.some(function(Y){return Y._value===H._value})||Pt.push(H),ir(C),L&&At())}function ir(C){var P=C._listeners;C._listeners=[];for(var L=0,H=P.length;L<H;++L)zt(C,P[L]);var Y=C._PSD;--Y.ref||Y.finalize(),Et===0&&(++Et,ot(function(){--Et==0&&Tt()},[]))}function zt(C,P){if(C._state!==null){var L=C._state?P.onFulfilled:P.onRejected;if(L===null)return(C._state?P.resolve:P.reject)(C._value);++P.psd.ref,++Et,ot(Jt,[L,C,P])}else C._listeners.push(P)}function Jt(C,P,L){try{var H,Y=P._value;!P._state&&se.length&&(se=[]),H=et&&P._consoleTask?P._consoleTask.run(function(){return C(Y)}):C(Y),P._state||se.indexOf(Y)!==-1||function(re){for(var ae=Pt.length;ae;)if(Pt[--ae]._value===re._value)return Pt.splice(ae,1)}(P),L.resolve(H)}catch(re){L.reject(re)}finally{--Et==0&&Tt(),--L.psd.ref||L.psd.finalize()}}function jt(){dr(st,function(){hr()&&At()})}function hr(){var C=Se;return vt=Se=!1,C}function At(){var C,P,L;do for(;0<Xt.length;)for(C=Xt,Xt=[],L=C.length,P=0;P<L;++P){var H=C[P];H[0].apply(null,H[1])}while(0<Xt.length);vt=Se=!0}function Tt(){var C=Pt;Pt=[],C.forEach(function(H){H._PSD.onunhandled.call(null,H._value,H)});for(var P=yr.slice(0),L=P.length;L;)P[--L]()}function St(C){return new fe(Bt,!1,C)}function kt(C,P){var L=$e;return function(){var H=hr(),Y=$e;try{return Ct(L,!0),C.apply(this,arguments)}catch(re){P&&P(re)}finally{Ct(Y,!1),H&&At()}}}p(fe.prototype,{then:xe,_then:function(C,P){zt(this,new dt(null,null,C,P,$e))},catch:function(C){if(arguments.length===1)return this.then(null,C);var P=C,L=arguments[1];return typeof P=="function"?this.then(null,function(H){return(H instanceof P?L:St)(H)}):this.then(null,function(H){return(H&&H.name===P?L:St)(H)})},finally:function(C){return this.then(function(P){return fe.resolve(C()).then(function(){return P})},function(P){return fe.resolve(C()).then(function(){return St(P)})})},timeout:function(C,P){var L=this;return C<1/0?new fe(function(H,Y){var re=setTimeout(function(){return Y(new Q.Timeout(P))},C);L.then(H,Y).finally(clearTimeout.bind(null,re))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&b(fe.prototype,Symbol.toStringTag,"Dexie.Promise"),st.env=cr(),p(fe,{all:function(){var C=F.apply(null,arguments).map(Ue);return new fe(function(P,L){C.length===0&&P([]);var H=C.length;C.forEach(function(Y,re){return fe.resolve(Y).then(function(ae){C[re]=ae,--H||P(C)},L)})})},resolve:function(C){return C instanceof fe?C:C&&typeof C.then=="function"?new fe(function(P,L){C.then(P,L)}):new fe(Bt,!0,C)},reject:St,race:function(){var C=F.apply(null,arguments).map(Ue);return new fe(function(P,L){C.map(function(H){return fe.resolve(H).then(P,L)})})},PSD:{get:function(){return $e},set:function(C){return $e=C}},totalEchoes:{get:function(){return $r}},newPSD:Pr,usePSD:dr,scheduler:{get:function(){return ot},set:function(C){ot=C}},rejectionMapper:{get:function(){return le},set:function(C){le=C}},follow:function(C,P){return new fe(function(L,H){return Pr(function(Y,re){var ae=$e;ae.unhandleds=[],ae.onunhandled=re,ae.finalize=Le(function(){var pe,Te=this;pe=function(){Te.unhandleds.length===0?Y():re(Te.unhandleds[0])},yr.push(function Ae(){pe(),yr.splice(yr.indexOf(Ae),1)}),++Et,ot(function(){--Et==0&&Tt()},[])},ae.finalize),C()},P,L,H)})}}),qe&&(qe.allSettled&&b(fe,"allSettled",function(){var C=F.apply(null,arguments).map(Ue);return new fe(function(P){C.length===0&&P([]);var L=C.length,H=new Array(L);C.forEach(function(Y,re){return fe.resolve(Y).then(function(ae){return H[re]={status:"fulfilled",value:ae}},function(ae){return H[re]={status:"rejected",reason:ae}}).then(function(){return--L||P(H)})})})}),qe.any&&typeof AggregateError<"u"&&b(fe,"any",function(){var C=F.apply(null,arguments).map(Ue);return new fe(function(P,L){C.length===0&&L(new AggregateError([]));var H=C.length,Y=new Array(H);C.forEach(function(re,ae){return fe.resolve(re).then(function(pe){return P(pe)},function(pe){Y[ae]=pe,--H||L(new AggregateError(Y))})})})}),qe.withResolvers&&(fe.withResolvers=qe.withResolvers));var Ut={awaits:0,echoes:0,id:0},Ft=0,Nr=[],Vr=0,$r=0,wr=0;function Pr(C,P,L,H){var Y=$e,re=Object.create(Y);return re.parent=Y,re.ref=0,re.global=!1,re.id=++wr,st.env,re.env=Oe?{Promise:fe,PromiseProp:{value:fe,configurable:!0,writable:!0},all:fe.all,race:fe.race,allSettled:fe.allSettled,any:fe.any,resolve:fe.resolve,reject:fe.reject}:{},P&&d(re,P),++Y.ref,re.finalize=function(){--this.parent.ref||this.parent.finalize()},H=dr(re,C,L,H),re.ref===0&&re.finalize(),H}function Hr(){return Ut.id||(Ut.id=++Ft),++Ut.awaits,Ut.echoes+=_t,Ut.id}function Kr(){return!!Ut.awaits&&(--Ut.awaits==0&&(Ut.id=0),Ut.echoes=Ut.awaits*_t,!0)}function Ue(C){return Ut.echoes&&C&&C.constructor===qe?(Hr(),C.then(function(P){return Kr(),P},function(P){return Kr(),br(P)})):C}function We(){var C=Nr[Nr.length-1];Nr.pop(),Ct(C,!1)}function Ct(C,P){var L,H=$e;(P?!Ut.echoes||Vr++&&C===$e:!Vr||--Vr&&C===$e)||queueMicrotask(P?(function(Y){++$r,Ut.echoes&&--Ut.echoes!=0||(Ut.echoes=Ut.awaits=Ut.id=0),Nr.push($e),Ct(Y,!0)}).bind(null,C):We),C!==$e&&($e=C,H===st&&(st.env=cr()),Oe&&(L=st.env.Promise,P=C.env,(H.global||C.global)&&(Object.defineProperty(a,"Promise",P.PromiseProp),L.all=P.all,L.race=P.race,L.resolve=P.resolve,L.reject=P.reject,P.allSettled&&(L.allSettled=P.allSettled),P.any&&(L.any=P.any))))}function cr(){var C=a.Promise;return Oe?{Promise:C,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:C.all,race:C.race,allSettled:C.allSettled,any:C.any,resolve:C.resolve,reject:C.reject}:{}}function dr(C,P,L,H,Y){var re=$e;try{return Ct(C,!0),P(L,H,Y)}finally{Ct(re,!1)}}function Tr(C,P,L,H){return typeof C!="function"?C:function(){var Y=$e;L&&Hr(),Ct(P,!0);try{return C.apply(this,arguments)}finally{Ct(Y,!1),H&&queueMicrotask(Kr)}}}function Lr(C){Promise===qe&&Ut.echoes===0?Vr===0?C():enqueueNativeMicroTask(C):setTimeout(C,0)}(""+go).indexOf("[native code]")===-1&&(Hr=Kr=ue);var br=fe.reject,bn="",Sn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",xr="String expected.",mr=[],ei="__dbnames",ar="readonly",an="readwrite";function Ir(C,P){return C?P?function(){return C.apply(this,arguments)&&P.apply(this,arguments)}:C:P}var gn={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function lt(C){return typeof C!="string"||/\./.test(C)?function(P){return P}:function(P){return P[C]===void 0&&C in P&&delete(P=I(P))[C],P}}function Er(){throw Q.Type()}function Wt(C,P){try{var L=Ke(C),H=Ke(P);if(L!==H)return L==="Array"?1:H==="Array"?-1:L==="binary"?1:H==="binary"?-1:L==="string"?1:H==="string"?-1:L==="Date"?1:H!=="Date"?NaN:-1;switch(L){case"number":case"Date":case"string":return P<C?1:C<P?-1:0;case"binary":return function(Y,re){for(var ae=Y.length,pe=re.length,Te=ae<pe?ae:pe,Ae=0;Ae<Te;++Ae)if(Y[Ae]!==re[Ae])return Y[Ae]<re[Ae]?-1:1;return ae===pe?0:ae<pe?-1:1}(mt(C),mt(P));case"Array":return function(Y,re){for(var ae=Y.length,pe=re.length,Te=ae<pe?ae:pe,Ae=0;Ae<Te;++Ae){var Me=Wt(Y[Ae],re[Ae]);if(Me!==0)return Me}return ae===pe?0:ae<pe?-1:1}(C,P)}}catch{}return NaN}function Ke(C){var P=typeof C;return P!="object"?P:ArrayBuffer.isView(C)?"binary":(C=G(C),C==="ArrayBuffer"?"binary":C)}function mt(C){return C instanceof Uint8Array?C:ArrayBuffer.isView(C)?new Uint8Array(C.buffer,C.byteOffset,C.byteLength):new Uint8Array(C)}var $t=(Yt.prototype._trans=function(C,P,L){var H=this._tx||$e.trans,Y=this.name,re=et&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(C==="readonly"?"read":"write"," ").concat(this.name));function ae(Ae,Me,be){if(!be.schema[Y])throw new Q.NotFound("Table "+Y+" not part of transaction");return P(be.idbtrans,be)}var pe=hr();try{var Te=H&&H.db._novip===this.db._novip?H===$e.trans?H._promise(C,ae,L):Pr(function(){return H._promise(C,ae,L)},{trans:H,transless:$e.transless||$e}):function Ae(Me,be,Ie,Ce){if(Me.idbdb&&(Me._state.openComplete||$e.letThrough||Me._vip)){var _e=Me._createTransaction(be,Ie,Me._dbSchema);try{_e.create(),Me._state.PR1398_maxLoop=3}catch(Fe){return Fe.name===ke.InvalidState&&Me.isOpen()&&0<--Me._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Me.close({disableAutoOpen:!1}),Me.open().then(function(){return Ae(Me,be,Ie,Ce)})):br(Fe)}return _e._promise(be,function(Fe,Re){return Pr(function(){return $e.trans=_e,Ce(Fe,Re,_e)})}).then(function(Fe){if(be==="readwrite")try{_e.idbtrans.commit()}catch{}return be==="readonly"?Fe:_e._completion.then(function(){return Fe})})}if(Me._state.openComplete)return br(new Q.DatabaseClosed(Me._state.dbOpenError));if(!Me._state.isBeingOpened){if(!Me._state.autoOpen)return br(new Q.DatabaseClosed);Me.open().catch(ue)}return Me._state.dbReadyPromise.then(function(){return Ae(Me,be,Ie,Ce)})}(this.db,C,[this.name],ae);return re&&(Te._consoleTask=re,Te=Te.catch(function(Ae){return console.trace(Ae),br(Ae)})),Te}finally{pe&&At()}},Yt.prototype.get=function(C,P){var L=this;return C&&C.constructor===Object?this.where(C).first(P):C==null?br(new Q.Type("Invalid argument to Table.get()")):this._trans("readonly",function(H){return L.core.get({trans:H,key:C}).then(function(Y){return L.hook.reading.fire(Y)})}).then(P)},Yt.prototype.where=function(C){if(typeof C=="string")return new this.db.WhereClause(this,C);if(c(C))return new this.db.WhereClause(this,"[".concat(C.join("+"),"]"));var P=l(C);if(P.length===1)return this.where(P[0]).equals(C[P[0]]);var L=this.schema.indexes.concat(this.schema.primKey).filter(function(pe){if(pe.compound&&P.every(function(Ae){return 0<=pe.keyPath.indexOf(Ae)})){for(var Te=0;Te<P.length;++Te)if(P.indexOf(pe.keyPath[Te])===-1)return!1;return!0}return!1}).sort(function(pe,Te){return pe.keyPath.length-Te.keyPath.length})[0];if(L&&this.db._maxKey!==bn){var re=L.keyPath.slice(0,P.length);return this.where(re).equals(re.map(function(Te){return C[Te]}))}!L&&et&&console.warn("The query ".concat(JSON.stringify(C)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(P.join("+"),"]"));var H=this.schema.idxByName;function Y(pe,Te){return Wt(pe,Te)===0}var ae=P.reduce(function(be,Te){var Ae=be[0],Me=be[1],be=H[Te],Ie=C[Te];return[Ae||be,Ae||!be?Ir(Me,be&&be.multi?function(Ce){return Ce=M(Ce,Te),c(Ce)&&Ce.some(function(_e){return Y(Ie,_e)})}:function(Ce){return Y(Ie,M(Ce,Te))}):Me]},[null,null]),re=ae[0],ae=ae[1];return re?this.where(re.name).equals(C[re.keyPath]).filter(ae):L?this.filter(ae):this.where(P).equals("")},Yt.prototype.filter=function(C){return this.toCollection().and(C)},Yt.prototype.count=function(C){return this.toCollection().count(C)},Yt.prototype.offset=function(C){return this.toCollection().offset(C)},Yt.prototype.limit=function(C){return this.toCollection().limit(C)},Yt.prototype.each=function(C){return this.toCollection().each(C)},Yt.prototype.toArray=function(C){return this.toCollection().toArray(C)},Yt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Yt.prototype.orderBy=function(C){return new this.db.Collection(new this.db.WhereClause(this,c(C)?"[".concat(C.join("+"),"]"):C))},Yt.prototype.reverse=function(){return this.toCollection().reverse()},Yt.prototype.mapToClass=function(C){var P,L=this.db,H=this.name;function Y(){return P!==null&&P.apply(this,arguments)||this}(this.schema.mappedClass=C).prototype instanceof Er&&(function(Te,Ae){if(typeof Ae!="function"&&Ae!==null)throw new TypeError("Class extends value "+String(Ae)+" is not a constructor or null");function Me(){this.constructor=Te}r(Te,Ae),Te.prototype=Ae===null?Object.create(Ae):(Me.prototype=Ae.prototype,new Me)}(Y,P=C),Object.defineProperty(Y.prototype,"db",{get:function(){return L},enumerable:!1,configurable:!0}),Y.prototype.table=function(){return H},C=Y);for(var re=new Set,ae=C.prototype;ae;ae=f(ae))Object.getOwnPropertyNames(ae).forEach(function(Te){return re.add(Te)});function pe(Te){if(!Te)return Te;var Ae,Me=Object.create(C.prototype);for(Ae in Te)if(!re.has(Ae))try{Me[Ae]=Te[Ae]}catch{}return Me}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=pe,this.hook("reading",pe),C},Yt.prototype.defineClass=function(){return this.mapToClass(function(C){d(this,C)})},Yt.prototype.add=function(C,P){var L=this,H=this.schema.primKey,Y=H.auto,re=H.keyPath,ae=C;return re&&Y&&(ae=lt(re)(C)),this._trans("readwrite",function(pe){return L.core.mutate({trans:pe,type:"add",keys:P!=null?[P]:null,values:[ae]})}).then(function(pe){return pe.numFailures?fe.reject(pe.failures[0]):pe.lastResult}).then(function(pe){if(re)try{j(C,re,pe)}catch{}return pe})},Yt.prototype.update=function(C,P){return typeof C!="object"||c(C)?this.where(":id").equals(C).modify(P):(C=M(C,this.schema.primKey.keyPath),C===void 0?br(new Q.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(C).modify(P))},Yt.prototype.put=function(C,P){var L=this,H=this.schema.primKey,Y=H.auto,re=H.keyPath,ae=C;return re&&Y&&(ae=lt(re)(C)),this._trans("readwrite",function(pe){return L.core.mutate({trans:pe,type:"put",values:[ae],keys:P!=null?[P]:null})}).then(function(pe){return pe.numFailures?fe.reject(pe.failures[0]):pe.lastResult}).then(function(pe){if(re)try{j(C,re,pe)}catch{}return pe})},Yt.prototype.delete=function(C){var P=this;return this._trans("readwrite",function(L){return P.core.mutate({trans:L,type:"delete",keys:[C]})}).then(function(L){return L.numFailures?fe.reject(L.failures[0]):void 0})},Yt.prototype.clear=function(){var C=this;return this._trans("readwrite",function(P){return C.core.mutate({trans:P,type:"deleteRange",range:gn})}).then(function(P){return P.numFailures?fe.reject(P.failures[0]):void 0})},Yt.prototype.bulkGet=function(C){var P=this;return this._trans("readonly",function(L){return P.core.getMany({keys:C,trans:L}).then(function(H){return H.map(function(Y){return P.hook.reading.fire(Y)})})})},Yt.prototype.bulkAdd=function(C,P,L){var H=this,Y=Array.isArray(P)?P:void 0,re=(L=L||(Y?void 0:P))?L.allKeys:void 0;return this._trans("readwrite",function(ae){var Ae=H.schema.primKey,pe=Ae.auto,Ae=Ae.keyPath;if(Ae&&Y)throw new Q.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(Y&&Y.length!==C.length)throw new Q.InvalidArgument("Arguments objects and keys must have the same length");var Te=C.length,Ae=Ae&&pe?C.map(lt(Ae)):C;return H.core.mutate({trans:ae,type:"add",keys:Y,values:Ae,wantResults:re}).then(function(_e){var be=_e.numFailures,Ie=_e.results,Ce=_e.lastResult,_e=_e.failures;if(be===0)return re?Ie:Ce;throw new oe("".concat(H.name,".bulkAdd(): ").concat(be," of ").concat(Te," operations failed"),_e)})})},Yt.prototype.bulkPut=function(C,P,L){var H=this,Y=Array.isArray(P)?P:void 0,re=(L=L||(Y?void 0:P))?L.allKeys:void 0;return this._trans("readwrite",function(ae){var Ae=H.schema.primKey,pe=Ae.auto,Ae=Ae.keyPath;if(Ae&&Y)throw new Q.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(Y&&Y.length!==C.length)throw new Q.InvalidArgument("Arguments objects and keys must have the same length");var Te=C.length,Ae=Ae&&pe?C.map(lt(Ae)):C;return H.core.mutate({trans:ae,type:"put",keys:Y,values:Ae,wantResults:re}).then(function(_e){var be=_e.numFailures,Ie=_e.results,Ce=_e.lastResult,_e=_e.failures;if(be===0)return re?Ie:Ce;throw new oe("".concat(H.name,".bulkPut(): ").concat(be," of ").concat(Te," operations failed"),_e)})})},Yt.prototype.bulkUpdate=function(C){var P=this,L=this.core,H=C.map(function(ae){return ae.key}),Y=C.map(function(ae){return ae.changes}),re=[];return this._trans("readwrite",function(ae){return L.getMany({trans:ae,keys:H,cache:"clone"}).then(function(pe){var Te=[],Ae=[];C.forEach(function(be,Ie){var Ce=be.key,_e=be.changes,Fe=pe[Ie];if(Fe){for(var Re=0,He=Object.keys(_e);Re<He.length;Re++){var Ze=He[Re],Qe=_e[Ze];if(Ze===P.schema.primKey.keyPath){if(Wt(Qe,Ce)!==0)throw new Q.Constraint("Cannot update primary key in bulkUpdate()")}else j(Fe,Ze,Qe)}re.push(Ie),Te.push(Ce),Ae.push(Fe)}});var Me=Te.length;return L.mutate({trans:ae,type:"put",keys:Te,values:Ae,updates:{keys:H,changeSpecs:Y}}).then(function(be){var Ie=be.numFailures,Ce=be.failures;if(Ie===0)return Me;for(var _e=0,Fe=Object.keys(Ce);_e<Fe.length;_e++){var Re,He=Fe[_e],Ze=re[Number(He)];Ze!=null&&(Re=Ce[He],delete Ce[He],Ce[Ze]=Re)}throw new oe("".concat(P.name,".bulkUpdate(): ").concat(Ie," of ").concat(Me," operations failed"),Ce)})})})},Yt.prototype.bulkDelete=function(C){var P=this,L=C.length;return this._trans("readwrite",function(H){return P.core.mutate({trans:H,type:"delete",keys:C})}).then(function(ae){var Y=ae.numFailures,re=ae.lastResult,ae=ae.failures;if(Y===0)return re;throw new oe("".concat(P.name,".bulkDelete(): ").concat(Y," of ").concat(L," operations failed"),ae)})},Yt);function Yt(){}function Ar(C){function P(ae,pe){if(pe){for(var Te=arguments.length,Ae=new Array(Te-1);--Te;)Ae[Te-1]=arguments[Te];return L[ae].subscribe.apply(null,Ae),C}if(typeof ae=="string")return L[ae]}var L={};P.addEventType=re;for(var H=1,Y=arguments.length;H<Y;++H)re(arguments[H]);return P;function re(ae,pe,Te){if(typeof ae!="object"){var Ae;pe=pe||Ot;var Me={subscribers:[],fire:Te=Te||ue,subscribe:function(be){Me.subscribers.indexOf(be)===-1&&(Me.subscribers.push(be),Me.fire=pe(Me.fire,be))},unsubscribe:function(be){Me.subscribers=Me.subscribers.filter(function(Ie){return Ie!==be}),Me.fire=Me.subscribers.reduce(pe,Te)}};return L[ae]=P[ae]=Me}l(Ae=ae).forEach(function(be){var Ie=Ae[be];if(c(Ie))re(be,Ae[be][0],Ae[be][1]);else{if(Ie!=="asap")throw new Q.InvalidArgument("Invalid event config");var Ce=re(be,rt,function(){for(var _e=arguments.length,Fe=new Array(_e);_e--;)Fe[_e]=arguments[_e];Ce.subscribers.forEach(function(Re){O(function(){Re.apply(null,Fe)})})})}})}}function Dr(C,P){return v(P).from({prototype:C}),P}function en(C,P){return!(C.filter||C.algorithm||C.or)&&(P?C.justLimit:!C.replayFilter)}function ji(C,P){C.filter=Ir(C.filter,P)}function xn(C,P,L){var H=C.replayFilter;C.replayFilter=H?function(){return Ir(H(),P())}:P,C.justLimit=L&&!H}function po(C,P){if(C.isPrimKey)return P.primaryKey;var L=P.getIndexByKeyPath(C.index);if(!L)throw new Q.Schema("KeyPath "+C.index+" on object store "+P.name+" is not indexed");return L}function ko(C,P,L){var H=po(C,P.schema);return P.openCursor({trans:L,values:!C.keysOnly,reverse:C.dir==="prev",unique:!!C.unique,query:{index:H,range:C.range}})}function ho(C,P,L,H){var Y=C.replayFilter?Ir(C.filter,C.replayFilter()):C.filter;if(C.or){var re={},ae=function(pe,Te,Ae){var Me,be;Y&&!Y(Te,Ae,function(Ie){return Te.stop(Ie)},function(Ie){return Te.fail(Ie)})||((be=""+(Me=Te.primaryKey))=="[object ArrayBuffer]"&&(be=""+new Uint8Array(Me)),g(re,be)||(re[be]=!0,P(pe,Te,Ae)))};return Promise.all([C.or._iterate(ae,L),Ni(ko(C,H,L),C.algorithm,ae,!C.keysOnly&&C.valueMapper)])}return Ni(ko(C,H,L),Ir(C.algorithm,Y),P,!C.keysOnly&&C.valueMapper)}function Ni(C,P,L,H){var Y=kt(H?function(re,ae,pe){return L(H(re),ae,pe)}:L);return C.then(function(re){if(re)return re.start(function(){var ae=function(){return re.continue()};P&&!P(re,function(pe){return ae=pe},function(pe){re.stop(pe),ae=ue},function(pe){re.fail(pe),ae=ue})||Y(re.value,re,function(pe){return ae=pe}),ae()})})}var ii=(Ra.prototype.execute=function(C){var P=this["@@propmod"];if(P.add!==void 0){var L=P.add;if(c(L))return i(i([],c(C)?C:[],!0),L).sort();if(typeof L=="number")return(Number(C)||0)+L;if(typeof L=="bigint")try{return BigInt(C)+L}catch{return BigInt(0)+L}throw new TypeError("Invalid term ".concat(L))}if(P.remove!==void 0){var H=P.remove;if(c(H))return c(C)?C.filter(function(Y){return!H.includes(Y)}).sort():[];if(typeof H=="number")return Number(C)-H;if(typeof H=="bigint")try{return BigInt(C)-H}catch{return BigInt(0)-H}throw new TypeError("Invalid subtrahend ".concat(H))}return L=(L=P.replacePrefix)===null||L===void 0?void 0:L[0],L&&typeof C=="string"&&C.startsWith(L)?P.replacePrefix[1]+C.substring(L.length):C},Ra);function Ra(C){this["@@propmod"]=C}var Co=(tn.prototype._read=function(C,P){var L=this._ctx;return L.error?L.table._trans(null,br.bind(null,L.error)):L.table._trans("readonly",C).then(P)},tn.prototype._write=function(C){var P=this._ctx;return P.error?P.table._trans(null,br.bind(null,P.error)):P.table._trans("readwrite",C,"locked")},tn.prototype._addAlgorithm=function(C){var P=this._ctx;P.algorithm=Ir(P.algorithm,C)},tn.prototype._iterate=function(C,P){return ho(this._ctx,C,P,this._ctx.table.core)},tn.prototype.clone=function(C){var P=Object.create(this.constructor.prototype),L=Object.create(this._ctx);return C&&d(L,C),P._ctx=L,P},tn.prototype.raw=function(){return this._ctx.valueMapper=null,this},tn.prototype.each=function(C){var P=this._ctx;return this._read(function(L){return ho(P,C,L,P.table.core)})},tn.prototype.count=function(C){var P=this;return this._read(function(L){var H=P._ctx,Y=H.table.core;if(en(H,!0))return Y.count({trans:L,query:{index:po(H,Y.schema),range:H.range}}).then(function(ae){return Math.min(ae,H.limit)});var re=0;return ho(H,function(){return++re,!1},L,Y).then(function(){return re})}).then(C)},tn.prototype.sortBy=function(C,P){var L=C.split(".").reverse(),H=L[0],Y=L.length-1;function re(Te,Ae){return Ae?re(Te[L[Ae]],Ae-1):Te[H]}var ae=this._ctx.dir==="next"?1:-1;function pe(Te,Ae){return Wt(re(Te,Y),re(Ae,Y))*ae}return this.toArray(function(Te){return Te.sort(pe)}).then(P)},tn.prototype.toArray=function(C){var P=this;return this._read(function(L){var H=P._ctx;if(H.dir==="next"&&en(H,!0)&&0<H.limit){var Y=H.valueMapper,re=po(H,H.table.core.schema);return H.table.core.query({trans:L,limit:H.limit,values:!0,query:{index:re,range:H.range}}).then(function(pe){return pe=pe.result,Y?pe.map(Y):pe})}var ae=[];return ho(H,function(pe){return ae.push(pe)},L,H.table.core).then(function(){return ae})},C)},tn.prototype.offset=function(C){var P=this._ctx;return C<=0||(P.offset+=C,en(P)?xn(P,function(){var L=C;return function(H,Y){return L===0||(L===1?--L:Y(function(){H.advance(L),L=0}),!1)}}):xn(P,function(){var L=C;return function(){return--L<0}})),this},tn.prototype.limit=function(C){return this._ctx.limit=Math.min(this._ctx.limit,C),xn(this._ctx,function(){var P=C;return function(L,H,Y){return--P<=0&&H(Y),0<=P}},!0),this},tn.prototype.until=function(C,P){return ji(this._ctx,function(L,H,Y){return!C(L.value)||(H(Y),P)}),this},tn.prototype.first=function(C){return this.limit(1).toArray(function(P){return P[0]}).then(C)},tn.prototype.last=function(C){return this.reverse().first(C)},tn.prototype.filter=function(C){var P;return ji(this._ctx,function(L){return C(L.value)}),(P=this._ctx).isMatch=Ir(P.isMatch,C),this},tn.prototype.and=function(C){return this.filter(C)},tn.prototype.or=function(C){return new this.db.WhereClause(this._ctx.table,C,this)},tn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},tn.prototype.desc=function(){return this.reverse()},tn.prototype.eachKey=function(C){var P=this._ctx;return P.keysOnly=!P.isMatch,this.each(function(L,H){C(H.key,H)})},tn.prototype.eachUniqueKey=function(C){return this._ctx.unique="unique",this.eachKey(C)},tn.prototype.eachPrimaryKey=function(C){var P=this._ctx;return P.keysOnly=!P.isMatch,this.each(function(L,H){C(H.primaryKey,H)})},tn.prototype.keys=function(C){var P=this._ctx;P.keysOnly=!P.isMatch;var L=[];return this.each(function(H,Y){L.push(Y.key)}).then(function(){return L}).then(C)},tn.prototype.primaryKeys=function(C){var P=this._ctx;if(P.dir==="next"&&en(P,!0)&&0<P.limit)return this._read(function(H){var Y=po(P,P.table.core.schema);return P.table.core.query({trans:H,values:!1,limit:P.limit,query:{index:Y,range:P.range}})}).then(function(H){return H.result}).then(C);P.keysOnly=!P.isMatch;var L=[];return this.each(function(H,Y){L.push(Y.primaryKey)}).then(function(){return L}).then(C)},tn.prototype.uniqueKeys=function(C){return this._ctx.unique="unique",this.keys(C)},tn.prototype.firstKey=function(C){return this.limit(1).keys(function(P){return P[0]}).then(C)},tn.prototype.lastKey=function(C){return this.reverse().firstKey(C)},tn.prototype.distinct=function(){var C=this._ctx,C=C.index&&C.table.schema.idxByName[C.index];if(!C||!C.multi)return this;var P={};return ji(this._ctx,function(Y){var H=Y.primaryKey.toString(),Y=g(P,H);return P[H]=!0,!Y}),this},tn.prototype.modify=function(C){var P=this,L=this._ctx;return this._write(function(H){var Y,re,ae;ae=typeof C=="function"?C:(Y=l(C),re=Y.length,function(Re){for(var He=!1,Ze=0;Ze<re;++Ze){var Qe=Y[Ze],ft=C[Qe],Lt=M(Re,Qe);ft instanceof ii?(j(Re,Qe,ft.execute(Lt)),He=!0):Lt!==ft&&(j(Re,Qe,ft),He=!0)}return He});var pe=L.table.core,be=pe.schema.primaryKey,Te=be.outbound,Ae=be.extractKey,Me=200,be=P.db._options.modifyChunkSize;be&&(Me=typeof be=="object"?be[pe.name]||be["*"]||200:be);function Ie(Re,Qe){var Ze=Qe.failures,Qe=Qe.numFailures;_e+=Re-Qe;for(var ft=0,Lt=l(Ze);ft<Lt.length;ft++){var Vt=Lt[ft];Ce.push(Ze[Vt])}}var Ce=[],_e=0,Fe=[];return P.clone().primaryKeys().then(function(Re){function He(Qe){var ft=Math.min(Me,Re.length-Qe);return pe.getMany({trans:H,keys:Re.slice(Qe,Qe+ft),cache:"immutable"}).then(function(Lt){for(var Vt=[],Nt=[],Dt=Te?[]:null,Kt=[],It=0;It<ft;++It){var Zt=Lt[It],kr={value:I(Zt),primKey:Re[Qe+It]};ae.call(kr,kr.value,kr)!==!1&&(kr.value==null?Kt.push(Re[Qe+It]):Te||Wt(Ae(Zt),Ae(kr.value))===0?(Nt.push(kr.value),Te&&Dt.push(Re[Qe+It])):(Kt.push(Re[Qe+It]),Vt.push(kr.value)))}return Promise.resolve(0<Vt.length&&pe.mutate({trans:H,type:"add",values:Vt}).then(function(Rr){for(var zr in Rr.failures)Kt.splice(parseInt(zr),1);Ie(Vt.length,Rr)})).then(function(){return(0<Nt.length||Ze&&typeof C=="object")&&pe.mutate({trans:H,type:"put",keys:Dt,values:Nt,criteria:Ze,changeSpec:typeof C!="function"&&C,isAdditionalChunk:0<Qe}).then(function(Rr){return Ie(Nt.length,Rr)})}).then(function(){return(0<Kt.length||Ze&&C===oa)&&pe.mutate({trans:H,type:"delete",keys:Kt,criteria:Ze,isAdditionalChunk:0<Qe}).then(function(Rr){return Ie(Kt.length,Rr)})}).then(function(){return Re.length>Qe+ft&&He(Qe+Me)})})}var Ze=en(L)&&L.limit===1/0&&(typeof C!="function"||C===oa)&&{index:L.index,range:L.range};return He(0).then(function(){if(0<Ce.length)throw new ie("Error modifying one or more objects",Ce,_e,Fe);return Re.length})})})},tn.prototype.delete=function(){var C=this._ctx,P=C.range;return en(C)&&(C.isPrimKey||P.type===3)?this._write(function(L){var H=C.table.core.schema.primaryKey,Y=P;return C.table.core.count({trans:L,query:{index:H,range:Y}}).then(function(re){return C.table.core.mutate({trans:L,type:"deleteRange",range:Y}).then(function(ae){var pe=ae.failures;if(ae.lastResult,ae.results,ae=ae.numFailures,ae)throw new ie("Could not delete some values",Object.keys(pe).map(function(Te){return pe[Te]}),re-ae);return re-ae})})}):this.modify(oa)},tn);function tn(){}var oa=function(C,P){return P.value=null};function Io(C,P){return C<P?-1:C===P?0:1}function Oa(C,P){return P<C?-1:C===P?0:1}function Kn(C,P,L){return C=C instanceof sr?new C.Collection(C):C,C._ctx.error=new(L||TypeError)(P),C}function Vi(C){return new C.Collection(C,function(){return Ht("")}).limit(0)}function to(C,P,L,H){var Y,re,ae,pe,Te,Ae,Me,be=L.length;if(!L.every(function(_e){return typeof _e=="string"}))return Kn(C,xr);function Ie(_e){Y=_e==="next"?function(Re){return Re.toUpperCase()}:function(Re){return Re.toLowerCase()},re=_e==="next"?function(Re){return Re.toLowerCase()}:function(Re){return Re.toUpperCase()},ae=_e==="next"?Io:Oa;var Fe=L.map(function(Re){return{lower:re(Re),upper:Y(Re)}}).sort(function(Re,He){return ae(Re.lower,He.lower)});pe=Fe.map(function(Re){return Re.upper}),Te=Fe.map(function(Re){return Re.lower}),Me=(Ae=_e)==="next"?"":H}Ie("next"),C=new C.Collection(C,function(){return Ve(pe[0],Te[be-1]+H)}),C._ondirectionchange=function(_e){Ie(_e)};var Ce=0;return C._addAlgorithm(function(_e,Fe,Re){var He=_e.key;if(typeof He!="string")return!1;var Ze=re(He);if(P(Ze,Te,Ce))return!0;for(var Qe=null,ft=Ce;ft<be;++ft){var Lt=function(Vt,Nt,Dt,Kt,It,Zt){for(var kr=Math.min(Vt.length,Kt.length),Rr=-1,zr=0;zr<kr;++zr){var qi=Nt[zr];if(qi!==Kt[zr])return It(Vt[zr],Dt[zr])<0?Vt.substr(0,zr)+Dt[zr]+Dt.substr(zr+1):It(Vt[zr],Kt[zr])<0?Vt.substr(0,zr)+Kt[zr]+Dt.substr(zr+1):0<=Rr?Vt.substr(0,Rr)+Nt[Rr]+Dt.substr(Rr+1):null;It(Vt[zr],qi)<0&&(Rr=zr)}return kr<Kt.length&&Zt==="next"?Vt+Dt.substr(Vt.length):kr<Vt.length&&Zt==="prev"?Vt.substr(0,Dt.length):Rr<0?null:Vt.substr(0,Rr)+Kt[Rr]+Dt.substr(Rr+1)}(He,Ze,pe[ft],Te[ft],ae,Ae);Lt===null&&Qe===null?Ce=ft+1:(Qe===null||0<ae(Qe,Lt))&&(Qe=Lt)}return Fe(Qe!==null?function(){_e.continue(Qe+Me)}:Re),!1}),C}function Ve(C,P,L,H){return{type:2,lower:C,upper:P,lowerOpen:L,upperOpen:H}}function Ht(C){return{type:1,lower:C,upper:C}}var sr=(Object.defineProperty(Gt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Gt.prototype.between=function(C,P,L,H){L=L!==!1,H=H===!0;try{return 0<this._cmp(C,P)||this._cmp(C,P)===0&&(L||H)&&(!L||!H)?Vi(this):new this.Collection(this,function(){return Ve(C,P,!L,!H)})}catch{return Kn(this,Sn)}},Gt.prototype.equals=function(C){return C==null?Kn(this,Sn):new this.Collection(this,function(){return Ht(C)})},Gt.prototype.above=function(C){return C==null?Kn(this,Sn):new this.Collection(this,function(){return Ve(C,void 0,!0)})},Gt.prototype.aboveOrEqual=function(C){return C==null?Kn(this,Sn):new this.Collection(this,function(){return Ve(C,void 0,!1)})},Gt.prototype.below=function(C){return C==null?Kn(this,Sn):new this.Collection(this,function(){return Ve(void 0,C,!1,!0)})},Gt.prototype.belowOrEqual=function(C){return C==null?Kn(this,Sn):new this.Collection(this,function(){return Ve(void 0,C)})},Gt.prototype.startsWith=function(C){return typeof C!="string"?Kn(this,xr):this.between(C,C+bn,!0,!0)},Gt.prototype.startsWithIgnoreCase=function(C){return C===""?this.startsWith(C):to(this,function(P,L){return P.indexOf(L[0])===0},[C],bn)},Gt.prototype.equalsIgnoreCase=function(C){return to(this,function(P,L){return P===L[0]},[C],"")},Gt.prototype.anyOfIgnoreCase=function(){var C=F.apply(Z,arguments);return C.length===0?Vi(this):to(this,function(P,L){return L.indexOf(P)!==-1},C,"")},Gt.prototype.startsWithAnyOfIgnoreCase=function(){var C=F.apply(Z,arguments);return C.length===0?Vi(this):to(this,function(P,L){return L.some(function(H){return P.indexOf(H)===0})},C,bn)},Gt.prototype.anyOf=function(){var C=this,P=F.apply(Z,arguments),L=this._cmp;try{P.sort(L)}catch{return Kn(this,Sn)}if(P.length===0)return Vi(this);var H=new this.Collection(this,function(){return Ve(P[0],P[P.length-1])});H._ondirectionchange=function(re){L=re==="next"?C._ascending:C._descending,P.sort(L)};var Y=0;return H._addAlgorithm(function(re,ae,pe){for(var Te=re.key;0<L(Te,P[Y]);)if(++Y===P.length)return ae(pe),!1;return L(Te,P[Y])===0||(ae(function(){re.continue(P[Y])}),!1)}),H},Gt.prototype.notEqual=function(C){return this.inAnyRange([[-1/0,C],[C,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Gt.prototype.noneOf=function(){var C=F.apply(Z,arguments);if(C.length===0)return new this.Collection(this);try{C.sort(this._ascending)}catch{return Kn(this,Sn)}var P=C.reduce(function(L,H){return L?L.concat([[L[L.length-1][1],H]]):[[-1/0,H]]},null);return P.push([C[C.length-1],this.db._maxKey]),this.inAnyRange(P,{includeLowers:!1,includeUppers:!1})},Gt.prototype.inAnyRange=function(He,P){var L=this,H=this._cmp,Y=this._ascending,re=this._descending,ae=this._min,pe=this._max;if(He.length===0)return Vi(this);if(!He.every(function(Ze){return Ze[0]!==void 0&&Ze[1]!==void 0&&Y(Ze[0],Ze[1])<=0}))return Kn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Q.InvalidArgument);var Te=!P||P.includeLowers!==!1,Ae=P&&P.includeUppers===!0,Me,be=Y;function Ie(Ze,Qe){return be(Ze[0],Qe[0])}try{(Me=He.reduce(function(Ze,Qe){for(var ft=0,Lt=Ze.length;ft<Lt;++ft){var Vt=Ze[ft];if(H(Qe[0],Vt[1])<0&&0<H(Qe[1],Vt[0])){Vt[0]=ae(Vt[0],Qe[0]),Vt[1]=pe(Vt[1],Qe[1]);break}}return ft===Lt&&Ze.push(Qe),Ze},[])).sort(Ie)}catch{return Kn(this,Sn)}var Ce=0,_e=Ae?function(Ze){return 0<Y(Ze,Me[Ce][1])}:function(Ze){return 0<=Y(Ze,Me[Ce][1])},Fe=Te?function(Ze){return 0<re(Ze,Me[Ce][0])}:function(Ze){return 0<=re(Ze,Me[Ce][0])},Re=_e,He=new this.Collection(this,function(){return Ve(Me[0][0],Me[Me.length-1][1],!Te,!Ae)});return He._ondirectionchange=function(Ze){be=Ze==="next"?(Re=_e,Y):(Re=Fe,re),Me.sort(Ie)},He._addAlgorithm(function(Ze,Qe,ft){for(var Lt,Vt=Ze.key;Re(Vt);)if(++Ce===Me.length)return Qe(ft),!1;return!_e(Lt=Vt)&&!Fe(Lt)||(L._cmp(Vt,Me[Ce][1])===0||L._cmp(Vt,Me[Ce][0])===0||Qe(function(){be===Y?Ze.continue(Me[Ce][0]):Ze.continue(Me[Ce][1])}),!1)}),He},Gt.prototype.startsWithAnyOf=function(){var C=F.apply(Z,arguments);return C.every(function(P){return typeof P=="string"})?C.length===0?Vi(this):this.inAnyRange(C.map(function(P){return[P,P+bn]})):Kn(this,"startsWithAnyOf() only works with strings")},Gt);function Gt(){}function _r(C){return kt(function(P){return rn(P),C(P.target.error),!1})}function rn(C){C.stopPropagation&&C.stopPropagation(),C.preventDefault&&C.preventDefault()}var he="storagemutated",Je="x-storagemutated-1",at=Ar(null,he),gr=(fr.prototype._lock=function(){return R(!$e.global),++this._reculock,this._reculock!==1||$e.global||($e.lockOwnerFor=this),this},fr.prototype._unlock=function(){if(R(!$e.global),--this._reculock==0)for($e.global||($e.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var C=this._blockedFuncs.shift();try{dr(C[1],C[0])}catch{}}return this},fr.prototype._locked=function(){return this._reculock&&$e.lockOwnerFor!==this},fr.prototype.create=function(C){var P=this;if(!this.mode)return this;var L=this.db.idbdb,H=this.db._state.dbOpenError;if(R(!this.idbtrans),!C&&!L)switch(H&&H.name){case"DatabaseClosedError":throw new Q.DatabaseClosed(H);case"MissingAPIError":throw new Q.MissingAPI(H.message,H);default:throw new Q.OpenFailed(H)}if(!this.active)throw new Q.TransactionInactive;return R(this._completion._state===null),(C=this.idbtrans=C||(this.db.core||L).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=kt(function(Y){rn(Y),P._reject(C.error)}),C.onabort=kt(function(Y){rn(Y),P.active&&P._reject(new Q.Abort(C.error)),P.active=!1,P.on("abort").fire(Y)}),C.oncomplete=kt(function(){P.active=!1,P._resolve(),"mutatedParts"in C&&at.storagemutated.fire(C.mutatedParts)}),this},fr.prototype._promise=function(C,P,L){var H=this;if(C==="readwrite"&&this.mode!=="readwrite")return br(new Q.ReadOnly("Transaction is readonly"));if(!this.active)return br(new Q.TransactionInactive);if(this._locked())return new fe(function(re,ae){H._blockedFuncs.push([function(){H._promise(C,P,L).then(re,ae)},$e])});if(L)return Pr(function(){var re=new fe(function(ae,pe){H._lock();var Te=P(ae,pe,H);Te&&Te.then&&Te.then(ae,pe)});return re.finally(function(){return H._unlock()}),re._lib=!0,re});var Y=new fe(function(re,ae){var pe=P(re,ae,H);pe&&pe.then&&pe.then(re,ae)});return Y._lib=!0,Y},fr.prototype._root=function(){return this.parent?this.parent._root():this},fr.prototype.waitFor=function(C){var P,L=this._root(),H=fe.resolve(C);L._waitingFor?L._waitingFor=L._waitingFor.then(function(){return H}):(L._waitingFor=H,L._waitingQueue=[],P=L.idbtrans.objectStore(L.storeNames[0]),function re(){for(++L._spinCount;L._waitingQueue.length;)L._waitingQueue.shift()();L._waitingFor&&(P.get(-1/0).onsuccess=re)}());var Y=L._waitingFor;return new fe(function(re,ae){H.then(function(pe){return L._waitingQueue.push(kt(re.bind(null,pe)))},function(pe){return L._waitingQueue.push(kt(ae.bind(null,pe)))}).finally(function(){L._waitingFor===Y&&(L._waitingFor=null)})})},fr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Q.Abort))},fr.prototype.table=function(C){var P=this._memoizedTables||(this._memoizedTables={});if(g(P,C))return P[C];var L=this.schema[C];if(!L)throw new Q.NotFound("Table "+C+" not part of transaction");return L=new this.db.Table(C,L,this),L.core=this.db.core.table(C),P[C]=L},fr);function fr(){}function sn(C,P,L,H,Y,re,ae){return{name:C,keyPath:P,unique:L,multi:H,auto:Y,compound:re,src:(L&&!ae?"&":"")+(H?"*":"")+(Y?"++":"")+Pe(P)}}function Pe(C){return typeof C=="string"?C:C?"["+[].join.call(C,"+")+"]":""}function ce(C,P,L){return{name:C,primKey:P,indexes:L,mappedClass:null,idxByName:(H=function(Y){return[Y.name,Y]},L.reduce(function(Y,re,ae){return ae=H(re,ae),ae&&(Y[ae[0]]=ae[1]),Y},{}))};var H}var ge=function(C){try{return C.only([[]]),ge=function(){return[[]]},[[]]}catch{return ge=function(){return bn},bn}};function nt(C){return C==null?function(){}:typeof C=="string"?(P=C).split(".").length===1?function(L){return L[P]}:function(L){return M(L,P)}:function(L){return M(L,C)};var P}function Rt(C){return[].slice.call(C)}var Gr=0;function Zr(C){return C==null?":id":typeof C=="string"?C:"[".concat(C.join("+"),"]")}function Gn(C,P,Te){function H(Re){if(Re.type===3)return null;if(Re.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Ce=Re.lower,_e=Re.upper,Fe=Re.lowerOpen,Re=Re.upperOpen;return Ce===void 0?_e===void 0?null:P.upperBound(_e,!!Re):_e===void 0?P.lowerBound(Ce,!!Fe):P.bound(Ce,_e,!!Fe,!!Re)}function Y(Ie){var Ce,_e=Ie.name;return{name:_e,schema:Ie,mutate:function(Fe){var Re=Fe.trans,He=Fe.type,Ze=Fe.keys,Qe=Fe.values,ft=Fe.range;return new Promise(function(Lt,Vt){Lt=kt(Lt);var Nt=Re.objectStore(_e),Dt=Nt.keyPath==null,Kt=He==="put"||He==="add";if(!Kt&&He!=="delete"&&He!=="deleteRange")throw new Error("Invalid operation type: "+He);var It,Zt=(Ze||Qe||{length:1}).length;if(Ze&&Qe&&Ze.length!==Qe.length)throw new Error("Given keys array must have same length as given values array.");if(Zt===0)return Lt({numFailures:0,failures:{},results:[],lastResult:void 0});function kr(Li){++qi,rn(Li)}var Rr=[],zr=[],qi=0;if(He==="deleteRange"){if(ft.type===4)return Lt({numFailures:qi,failures:zr,results:[],lastResult:void 0});ft.type===3?Rr.push(It=Nt.clear()):Rr.push(It=Nt.delete(H(ft)))}else{var Dt=Kt?Dt?[Qe,Ze]:[Qe,null]:[Ze,null],Fr=Dt[0],pi=Dt[1];if(Kt)for(var vi=0;vi<Zt;++vi)Rr.push(It=pi&&pi[vi]!==void 0?Nt[He](Fr[vi],pi[vi]):Nt[He](Fr[vi])),It.onerror=kr;else for(vi=0;vi<Zt;++vi)Rr.push(It=Nt[He](Fr[vi])),It.onerror=kr}function _a(Li){Li=Li.target.result,Rr.forEach(function(la,Za){return la.error!=null&&(zr[Za]=la.error)}),Lt({numFailures:qi,failures:zr,results:He==="delete"?Ze:Rr.map(function(la){return la.result}),lastResult:Li})}It.onerror=function(Li){kr(Li),_a(Li)},It.onsuccess=_a})},getMany:function(Fe){var Re=Fe.trans,He=Fe.keys;return new Promise(function(Ze,Qe){Ze=kt(Ze);for(var ft,Lt=Re.objectStore(_e),Vt=He.length,Nt=new Array(Vt),Dt=0,Kt=0,It=function(Rr){Rr=Rr.target,Nt[Rr._pos]=Rr.result,++Kt===Dt&&Ze(Nt)},Zt=_r(Qe),kr=0;kr<Vt;++kr)He[kr]!=null&&((ft=Lt.get(He[kr]))._pos=kr,ft.onsuccess=It,ft.onerror=Zt,++Dt);Dt===0&&Ze(Nt)})},get:function(Fe){var Re=Fe.trans,He=Fe.key;return new Promise(function(Ze,Qe){Ze=kt(Ze);var ft=Re.objectStore(_e).get(He);ft.onsuccess=function(Lt){return Ze(Lt.target.result)},ft.onerror=_r(Qe)})},query:(Ce=Ae,function(Fe){return new Promise(function(Re,He){Re=kt(Re);var Ze,Qe,ft,Dt=Fe.trans,Lt=Fe.values,Vt=Fe.limit,It=Fe.query,Nt=Vt===1/0?void 0:Vt,Kt=It.index,It=It.range,Dt=Dt.objectStore(_e),Kt=Kt.isPrimaryKey?Dt:Dt.index(Kt.name),It=H(It);if(Vt===0)return Re({result:[]});Ce?((Nt=Lt?Kt.getAll(It,Nt):Kt.getAllKeys(It,Nt)).onsuccess=function(Zt){return Re({result:Zt.target.result})},Nt.onerror=_r(He)):(Ze=0,Qe=!Lt&&"openKeyCursor"in Kt?Kt.openKeyCursor(It):Kt.openCursor(It),ft=[],Qe.onsuccess=function(Zt){var kr=Qe.result;return kr?(ft.push(Lt?kr.value:kr.primaryKey),++Ze===Vt?Re({result:ft}):void kr.continue()):Re({result:ft})},Qe.onerror=_r(He))})}),openCursor:function(Fe){var Re=Fe.trans,He=Fe.values,Ze=Fe.query,Qe=Fe.reverse,ft=Fe.unique;return new Promise(function(Lt,Vt){Lt=kt(Lt);var Kt=Ze.index,Nt=Ze.range,Dt=Re.objectStore(_e),Dt=Kt.isPrimaryKey?Dt:Dt.index(Kt.name),Kt=Qe?ft?"prevunique":"prev":ft?"nextunique":"next",It=!He&&"openKeyCursor"in Dt?Dt.openKeyCursor(H(Nt),Kt):Dt.openCursor(H(Nt),Kt);It.onerror=_r(Vt),It.onsuccess=kt(function(Zt){var kr,Rr,zr,qi,Fr=It.result;Fr?(Fr.___id=++Gr,Fr.done=!1,kr=Fr.continue.bind(Fr),Rr=(Rr=Fr.continuePrimaryKey)&&Rr.bind(Fr),zr=Fr.advance.bind(Fr),qi=function(){throw new Error("Cursor not stopped")},Fr.trans=Re,Fr.stop=Fr.continue=Fr.continuePrimaryKey=Fr.advance=function(){throw new Error("Cursor not started")},Fr.fail=kt(Vt),Fr.next=function(){var pi=this,vi=1;return this.start(function(){return vi--?pi.continue():pi.stop()}).then(function(){return pi})},Fr.start=function(pi){function vi(){if(It.result)try{pi()}catch(Li){Fr.fail(Li)}else Fr.done=!0,Fr.start=function(){throw new Error("Cursor behind last entry")},Fr.stop()}var _a=new Promise(function(Li,la){Li=kt(Li),It.onerror=_r(la),Fr.fail=la,Fr.stop=function(Za){Fr.stop=Fr.continue=Fr.continuePrimaryKey=Fr.advance=qi,Li(Za)}});return It.onsuccess=kt(function(Li){It.onsuccess=vi,vi()}),Fr.continue=kr,Fr.continuePrimaryKey=Rr,Fr.advance=zr,vi(),_a},Lt(Fr)):Lt(null)},Vt)})},count:function(Fe){var Re=Fe.query,He=Fe.trans,Ze=Re.index,Qe=Re.range;return new Promise(function(ft,Lt){var Vt=He.objectStore(_e),Nt=Ze.isPrimaryKey?Vt:Vt.index(Ze.name),Vt=H(Qe),Nt=Vt?Nt.count(Vt):Nt.count();Nt.onsuccess=kt(function(Dt){return ft(Dt.target.result)}),Nt.onerror=_r(Lt)})}}}var re,ae,pe,Me=(ae=Te,pe=Rt((re=C).objectStoreNames),{schema:{name:re.name,tables:pe.map(function(Ie){return ae.objectStore(Ie)}).map(function(Ie){var Ce=Ie.keyPath,Re=Ie.autoIncrement,_e=c(Ce),Fe={},Re={name:Ie.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Ce==null,compound:_e,keyPath:Ce,autoIncrement:Re,unique:!0,extractKey:nt(Ce)},indexes:Rt(Ie.indexNames).map(function(He){return Ie.index(He)}).map(function(ft){var Ze=ft.name,Qe=ft.unique,Lt=ft.multiEntry,ft=ft.keyPath,Lt={name:Ze,compound:c(ft),keyPath:ft,unique:Qe,multiEntry:Lt,extractKey:nt(ft)};return Fe[Zr(ft)]=Lt}),getIndexByKeyPath:function(He){return Fe[Zr(He)]}};return Fe[":id"]=Re.primaryKey,Ce!=null&&(Fe[Zr(Ce)]=Re.primaryKey),Re})},hasGetAll:0<pe.length&&"getAll"in ae.objectStore(pe[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Te=Me.schema,Ae=Me.hasGetAll,Me=Te.tables.map(Y),be={};return Me.forEach(function(Ie){return be[Ie.name]=Ie}),{stack:"dbcore",transaction:C.transaction.bind(C),table:function(Ie){if(!be[Ie])throw new Error("Table '".concat(Ie,"' not found"));return be[Ie]},MIN_KEY:-1/0,MAX_KEY:ge(P),schema:Te}}function Pa(C,P,L,H){var Y=L.IDBKeyRange;return L.indexedDB,{dbcore:(H=Gn(P,Y,H),C.dbcore.reduce(function(re,ae){return ae=ae.create,n(n({},re),ae(re))},H))}}function aa(C,H){var L=H.db,H=Pa(C._middlewares,L,C._deps,H);C.core=H.dbcore,C.tables.forEach(function(Y){var re=Y.name;C.core.schema.tables.some(function(ae){return ae.name===re})&&(Y.core=C.core.table(re),C[re]instanceof C.Table&&(C[re].core=Y.core))})}function Qs(C,P,L,H){L.forEach(function(Y){var re=H[Y];P.forEach(function(ae){var pe=function Te(Ae,Me){return k(Ae,Me)||(Ae=f(Ae))&&Te(Ae,Me)}(ae,Y);(!pe||"value"in pe&&pe.value===void 0)&&(ae===C.Transaction.prototype||ae instanceof C.Transaction?b(ae,Y,{get:function(){return this.table(Y)},set:function(Te){S(this,Y,{value:Te,writable:!0,configurable:!0,enumerable:!0})}}):ae[Y]=new C.Table(Y,re))})})}function Ka(C,P){P.forEach(function(L){for(var H in L)L[H]instanceof C.Table&&delete L[H]})}function Js(C,P){return C._cfg.version-P._cfg.version}function Ga(C,P,L,H){var Y=C._dbSchema;L.objectStoreNames.contains("$meta")&&!Y.$meta&&(Y.$meta=ce("$meta",Op("")[0],[]),C._storeNames.push("$meta"));var re=C._createTransaction("readwrite",C._storeNames,Y);re.create(L),re._completion.catch(H);var ae=re._reject.bind(re),pe=$e.transless||$e;Pr(function(){return $e.trans=re,$e.transless=pe,P!==0?(aa(C,L),Ae=P,((Te=re).storeNames.includes("$meta")?Te.table("$meta").get("version").then(function(Me){return Me??Ae}):fe.resolve(Ae)).then(function(Me){return Ie=Me,Ce=re,_e=L,Fe=[],Me=(be=C)._versions,Re=be._dbSchema=el(0,be.idbdb,_e),(Me=Me.filter(function(He){return He._cfg.version>=Ie})).length!==0?(Me.forEach(function(He){Fe.push(function(){var Ze=Re,Qe=He._cfg.dbschema;zc(be,Ze,_e),zc(be,Qe,_e),Re=be._dbSchema=Qe;var ft=$c(Ze,Qe);ft.add.forEach(function(Kt){dd(_e,Kt[0],Kt[1].primKey,Kt[1].indexes)}),ft.change.forEach(function(Kt){if(Kt.recreate)throw new Q.Upgrade("Not yet support for changing primary key");var It=_e.objectStore(Kt.name);Kt.add.forEach(function(Zt){return Dc(It,Zt)}),Kt.change.forEach(function(Zt){It.deleteIndex(Zt.name),Dc(It,Zt)}),Kt.del.forEach(function(Zt){return It.deleteIndex(Zt)})});var Lt=He._cfg.contentUpgrade;if(Lt&&He._cfg.version>Ie){aa(be,_e),Ce._memoizedTables={};var Vt=$(Qe);ft.del.forEach(function(Kt){Vt[Kt]=Ze[Kt]}),Ka(be,[be.Transaction.prototype]),Qs(be,[be.Transaction.prototype],l(Vt),Vt),Ce.schema=Vt;var Nt,Dt=D(Lt);return Dt&&Hr(),ft=fe.follow(function(){var Kt;(Nt=Lt(Ce))&&Dt&&(Kt=Kr.bind(null,null),Nt.then(Kt,Kt))}),Nt&&typeof Nt.then=="function"?fe.resolve(Nt):ft.then(function(){return Nt})}}),Fe.push(function(Ze){var Qe,ft,Lt=He._cfg.dbschema;Qe=Lt,ft=Ze,[].slice.call(ft.db.objectStoreNames).forEach(function(Vt){return Qe[Vt]==null&&ft.db.deleteObjectStore(Vt)}),Ka(be,[be.Transaction.prototype]),Qs(be,[be.Transaction.prototype],be._storeNames,be._dbSchema),Ce.schema=be._dbSchema}),Fe.push(function(Ze){be.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(be.idbdb.version/10)===He._cfg.version?(be.idbdb.deleteObjectStore("$meta"),delete be._dbSchema.$meta,be._storeNames=be._storeNames.filter(function(Qe){return Qe!=="$meta"})):Ze.objectStore("$meta").put(He._cfg.version,"version"))})}),function He(){return Fe.length?fe.resolve(Fe.shift()(Ce.idbtrans)).then(He):fe.resolve()}().then(function(){Rp(Re,_e)})):fe.resolve();var be,Ie,Ce,_e,Fe,Re}).catch(ae)):(l(Y).forEach(function(Me){dd(L,Me,Y[Me].primKey,Y[Me].indexes)}),aa(C,L),void fe.follow(function(){return C.on.populate.fire(re)}).catch(ae));var Te,Ae})}function Ss(C,P){Rp(C._dbSchema,P),P.db.version%10!=0||P.objectStoreNames.contains("$meta")||P.db.createObjectStore("$meta").add(Math.ceil(P.db.version/10-1),"version");var L=el(0,C.idbdb,P);zc(C,C._dbSchema,P);for(var H=0,Y=$c(L,C._dbSchema).change;H<Y.length;H++){var re=function(ae){if(ae.change.length||ae.recreate)return console.warn("Unable to patch indexes of table ".concat(ae.name," because it has changes on the type of index or primary key.")),{value:void 0};var pe=P.objectStore(ae.name);ae.add.forEach(function(Te){et&&console.debug("Dexie upgrade patch: Creating missing index ".concat(ae.name,".").concat(Te.src)),Dc(pe,Te)})}(Y[H]);if(typeof re=="object")return re.value}}function $c(C,P){var L,H={del:[],add:[],change:[]};for(L in C)P[L]||H.del.push(L);for(L in P){var Y=C[L],re=P[L];if(Y){var ae={name:L,def:re,recreate:!1,del:[],add:[],change:[]};if(""+(Y.primKey.keyPath||"")!=""+(re.primKey.keyPath||"")||Y.primKey.auto!==re.primKey.auto)ae.recreate=!0,H.change.push(ae);else{var pe=Y.idxByName,Te=re.idxByName,Ae=void 0;for(Ae in pe)Te[Ae]||ae.del.push(Ae);for(Ae in Te){var Me=pe[Ae],be=Te[Ae];Me?Me.src!==be.src&&ae.change.push(be):ae.add.push(be)}(0<ae.del.length||0<ae.add.length||0<ae.change.length)&&H.change.push(ae)}}else H.add.push([L,re])}return H}function dd(C,P,L,H){var Y=C.db.createObjectStore(P,L.keyPath?{keyPath:L.keyPath,autoIncrement:L.auto}:{autoIncrement:L.auto});return H.forEach(function(re){return Dc(Y,re)}),Y}function Rp(C,P){l(C).forEach(function(L){P.db.objectStoreNames.contains(L)||(et&&console.debug("Dexie: Creating missing table",L),dd(P,L,C[L].primKey,C[L].indexes))})}function Dc(C,P){C.createIndex(P.name,P.keyPath,{unique:P.unique,multiEntry:P.multi})}function el(C,P,L){var H={};return A(P.objectStoreNames,0).forEach(function(Y){for(var re=L.objectStore(Y),ae=sn(Pe(Ae=re.keyPath),Ae||"",!0,!1,!!re.autoIncrement,Ae&&typeof Ae!="string",!0),pe=[],Te=0;Te<re.indexNames.length;++Te){var Me=re.index(re.indexNames[Te]),Ae=Me.keyPath,Me=sn(Me.name,Ae,!!Me.unique,!!Me.multiEntry,!1,Ae&&typeof Ae!="string",!1);pe.push(Me)}H[Y]=ce(Y,ae,pe)}),H}function zc(C,P,L){for(var H=L.db.objectStoreNames,Y=0;Y<H.length;++Y){var re=H[Y],ae=L.objectStore(re);C._hasGetAll="getAll"in ae;for(var pe=0;pe<ae.indexNames.length;++pe){var Te=ae.indexNames[pe],Ae=ae.index(Te).keyPath,Me=typeof Ae=="string"?Ae:"["+A(Ae).join("+")+"]";!P[re]||(Ae=P[re].idxByName[Me])&&(Ae.name=Te,delete P[re].idxByName[Me],P[re].idxByName[Te]=Ae)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(C._hasGetAll=!1)}function Op(C){return C.split(",").map(function(P,L){var H=(P=P.trim()).replace(/([&*]|\+\+)/g,""),Y=/^\[/.test(H)?H.match(/^\[(.*)\]$/)[1].split("+"):H;return sn(H,Y||null,/\&/.test(P),/\*/.test(P),/\+\+/.test(P),c(Y),L===0)})}var Vm=(Uc.prototype._parseStoresSpec=function(C,P){l(C).forEach(function(L){if(C[L]!==null){var H=Op(C[L]),Y=H.shift();if(Y.unique=!0,Y.multi)throw new Q.Schema("Primary key cannot be multi-valued");H.forEach(function(re){if(re.auto)throw new Q.Schema("Only primary key can be marked as autoIncrement (++)");if(!re.keyPath)throw new Q.Schema("Index must have a name and cannot be an empty string")}),P[L]=ce(L,Y,H)}})},Uc.prototype.stores=function(L){var P=this.db;this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,L):L;var L=P._versions,H={},Y={};return L.forEach(function(re){d(H,re._cfg.storesSource),Y=re._cfg.dbschema={},re._parseStoresSpec(H,Y)}),P._dbSchema=Y,Ka(P,[P._allTables,P,P.Transaction.prototype]),Qs(P,[P._allTables,P,P.Transaction.prototype,this._cfg.tables],l(Y),Y),P._storeNames=l(Y),this},Uc.prototype.upgrade=function(C){return this._cfg.contentUpgrade=Mt(this._cfg.contentUpgrade||ue,C),this},Uc);function Uc(){}function fd(C,P){var L=C._dbNamesDB;return L||(L=C._dbNamesDB=new sa(ei,{addons:[],indexedDB:C,IDBKeyRange:P})).version(1).stores({dbnames:"name"}),L.table("dbnames")}function Hc(C){return C&&typeof C.databases=="function"}function pd(C){return Pr(function(){return $e.letThrough=!0,C()})}function hd(C){return!("from"in C)}var Ii=function(C,P){if(!this){var L=new Ii;return C&&"d"in C&&d(L,C),L}d(this,arguments.length?{d:1,from:C,to:1<arguments.length?P:C}:{d:0})};function Jl(C,P,L){var H=Wt(P,L);if(!isNaN(H)){if(0<H)throw RangeError();if(hd(C))return d(C,{from:P,to:L,d:1});var Y=C.l,H=C.r;if(Wt(L,C.from)<0)return Y?Jl(Y,P,L):C.l={from:P,to:L,d:1,l:null,r:null},_p(C);if(0<Wt(P,C.to))return H?Jl(H,P,L):C.r={from:P,to:L,d:1,l:null,r:null},_p(C);Wt(P,C.from)<0&&(C.from=P,C.l=null,C.d=H?H.d+1:1),0<Wt(L,C.to)&&(C.to=L,C.r=null,C.d=C.l?C.l.d+1:1),L=!C.r,Y&&!C.l&&xs(C,Y),H&&L&&xs(C,H)}}function xs(C,P){hd(P)||function L(H,Te){var re=Te.from,ae=Te.to,pe=Te.l,Te=Te.r;Jl(H,re,ae),pe&&L(H,pe),Te&&L(H,Te)}(C,P)}function Pp(C,P){var L=Vc(P),H=L.next();if(H.done)return!1;for(var Y=H.value,re=Vc(C),ae=re.next(Y.from),pe=ae.value;!H.done&&!ae.done;){if(Wt(pe.from,Y.to)<=0&&0<=Wt(pe.to,Y.from))return!0;Wt(Y.from,pe.from)<0?Y=(H=L.next(pe.from)).value:pe=(ae=re.next(Y.from)).value}return!1}function Vc(C){var P=hd(C)?null:{s:0,n:C};return{next:function(L){for(var H=0<arguments.length;P;)switch(P.s){case 0:if(P.s=1,H)for(;P.n.l&&Wt(L,P.n.from)<0;)P={up:P,n:P.n.l,s:1};else for(;P.n.l;)P={up:P,n:P.n.l,s:1};case 1:if(P.s=2,!H||Wt(L,P.n.to)<=0)return{value:P.n,done:!1};case 2:if(P.n.r){P.s=3,P={up:P,n:P.n.r,s:0};continue}case 3:P=P.up}return{done:!0}}}}function _p(C){var P,L,H=(((P=C.r)===null||P===void 0?void 0:P.d)||0)-(((L=C.l)===null||L===void 0?void 0:L.d)||0),Y=1<H?"r":H<-1?"l":"";Y&&(P=Y=="r"?"l":"r",L=n({},C),H=C[Y],C.from=H.from,C.to=H.to,C[Y]=H[Y],L[Y]=H[P],(C[P]=L).d=gd(L)),C.d=gd(C)}function gd(L){var P=L.r,L=L.l;return(P?L?Math.max(P.d,L.d):P.d:L?L.d:0)+1}function qc(C,P){return l(P).forEach(function(L){C[L]?xs(C[L],P[L]):C[L]=function H(Y){var re,ae,pe={};for(re in Y)g(Y,re)&&(ae=Y[re],pe[re]=!ae||typeof ae!="object"||W.has(ae.constructor)?ae:H(ae));return pe}(P[L])}),C}function md(C,P){return C.all||P.all||Object.keys(C).some(function(L){return P[L]&&Pp(P[L],C[L])})}p(Ii.prototype,((go={add:function(C){return xs(this,C),this},addKey:function(C){return Jl(this,C,C),this},addKeys:function(C){var P=this;return C.forEach(function(L){return Jl(P,L,L)}),this},hasKey:function(C){var P=Vc(this).next(C).value;return P&&Wt(P.from,C)<=0&&0<=Wt(P.to,C)}})[U]=function(){return Vc(this)},go));var ws={},yd={},bd=!1;function Wc(C){qc(yd,C),bd||(bd=!0,setTimeout(function(){bd=!1,vd(yd,!(yd={}))},0))}function vd(C,P){P===void 0&&(P=!1);var L=new Set;if(C.all)for(var H=0,Y=Object.values(ws);H<Y.length;H++)Mp(ae=Y[H],C,L,P);else for(var re in C){var ae,pe=/^idb\:\/\/(.*)\/(.*)\//.exec(re);pe&&(re=pe[1],pe=pe[2],(ae=ws["idb://".concat(re,"/").concat(pe)])&&Mp(ae,C,L,P))}L.forEach(function(Te){return Te()})}function Mp(C,P,L,H){for(var Y=[],re=0,ae=Object.entries(C.queries.query);re<ae.length;re++){for(var pe=ae[re],Te=pe[0],Ae=[],Me=0,be=pe[1];Me<be.length;Me++){var Ie=be[Me];md(P,Ie.obsSet)?Ie.subscribers.forEach(function(Re){return L.add(Re)}):H&&Ae.push(Ie)}H&&Y.push([Te,Ae])}if(H)for(var Ce=0,_e=Y;Ce<_e.length;Ce++){var Fe=_e[Ce],Te=Fe[0],Ae=Fe[1];C.queries.query[Te]=Ae}}function qm(C){var P=C._state,L=C._deps.indexedDB;if(P.isBeingOpened||C.idbdb)return P.dbReadyPromise.then(function(){return P.dbOpenError?br(P.dbOpenError):C});P.isBeingOpened=!0,P.dbOpenError=null,P.openComplete=!1;var H=P.openCanceller,Y=Math.round(10*C.verno),re=!1;function ae(){if(P.openCanceller!==H)throw new Q.DatabaseClosed("db.open() was cancelled")}function pe(){return new fe(function(Ie,Ce){if(ae(),!L)throw new Q.MissingAPI;var _e=C.name,Fe=P.autoSchema||!Y?L.open(_e):L.open(_e,Y);if(!Fe)throw new Q.MissingAPI;Fe.onerror=_r(Ce),Fe.onblocked=kt(C._fireOnBlocked),Fe.onupgradeneeded=kt(function(Re){var He;Me=Fe.transaction,P.autoSchema&&!C._options.allowEmptyDB?(Fe.onerror=rn,Me.abort(),Fe.result.close(),(He=L.deleteDatabase(_e)).onsuccess=He.onerror=kt(function(){Ce(new Q.NoSuchDatabase("Database ".concat(_e," doesnt exist")))})):(Me.onerror=_r(Ce),Re=Re.oldVersion>Math.pow(2,62)?0:Re.oldVersion,be=Re<1,C.idbdb=Fe.result,re&&Ss(C,Me),Ga(C,Re/10,Me,Ce))},Ce),Fe.onsuccess=kt(function(){Me=null;var Re,He,Ze,Qe,ft,Lt=C.idbdb=Fe.result,Vt=A(Lt.objectStoreNames);if(0<Vt.length)try{var Nt=Lt.transaction((Qe=Vt).length===1?Qe[0]:Qe,"readonly");if(P.autoSchema)He=Lt,Ze=Nt,(Re=C).verno=He.version/10,Ze=Re._dbSchema=el(0,He,Ze),Re._storeNames=A(He.objectStoreNames,0),Qs(Re,[Re._allTables],l(Ze),Ze);else if(zc(C,C._dbSchema,Nt),((ft=$c(el(0,(ft=C).idbdb,Nt),ft._dbSchema)).add.length||ft.change.some(function(Dt){return Dt.add.length||Dt.change.length}))&&!re)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Lt.close(),Y=Lt.version+1,re=!0,Ie(pe());aa(C,Nt)}catch{}mr.push(C),Lt.onversionchange=kt(function(Dt){P.vcFired=!0,C.on("versionchange").fire(Dt)}),Lt.onclose=kt(function(Dt){C.on("close").fire(Dt)}),be&&(ft=C._deps,Nt=_e,Lt=ft.indexedDB,ft=ft.IDBKeyRange,Hc(Lt)||Nt===ei||fd(Lt,ft).put({name:Nt}).catch(ue)),Ie()},Ce)}).catch(function(Ie){switch(Ie?.name){case"UnknownError":if(0<P.PR1398_maxLoop)return P.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),pe();break;case"VersionError":if(0<Y)return Y=0,pe()}return fe.reject(Ie)})}var Te,Ae=P.dbReadyResolve,Me=null,be=!1;return fe.race([H,(typeof navigator>"u"?fe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ie){function Ce(){return indexedDB.databases().finally(Ie)}Te=setInterval(Ce,100),Ce()}).finally(function(){return clearInterval(Te)}):Promise.resolve()).then(pe)]).then(function(){return ae(),P.onReadyBeingFired=[],fe.resolve(pd(function(){return C.on.ready.fire(C.vip)})).then(function Ie(){if(0<P.onReadyBeingFired.length){var Ce=P.onReadyBeingFired.reduce(Mt,ue);return P.onReadyBeingFired=[],fe.resolve(pd(function(){return Ce(C.vip)})).then(Ie)}})}).finally(function(){P.openCanceller===H&&(P.onReadyBeingFired=null,P.isBeingOpened=!1)}).catch(function(Ie){P.dbOpenError=Ie;try{Me&&Me.abort()}catch{}return H===P.openCanceller&&C._close(),br(Ie)}).finally(function(){P.openComplete=!0,Ae()}).then(function(){var Ie;return be&&(Ie={},C.tables.forEach(function(Ce){Ce.schema.indexes.forEach(function(_e){_e.name&&(Ie["idb://".concat(C.name,"/").concat(Ce.name,"/").concat(_e.name)]=new Ii(-1/0,[[[]]]))}),Ie["idb://".concat(C.name,"/").concat(Ce.name,"/")]=Ie["idb://".concat(C.name,"/").concat(Ce.name,"/:dels")]=new Ii(-1/0,[[[]]])}),at(he).fire(Ie),vd(Ie,!0)),C})}function ec(C){function P(re){return C.next(re)}var L=Y(P),H=Y(function(re){return C.throw(re)});function Y(re){return function(Te){var pe=re(Te),Te=pe.value;return pe.done?Te:Te&&typeof Te.then=="function"?Te.then(L,H):c(Te)?Promise.all(Te).then(L,H):L(Te)}}return Y(P)()}function Ya(C,P,L){for(var H=c(C)?C.slice():[C],Y=0;Y<L;++Y)H.push(P);return H}var Wm={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(C){return n(n({},C),{table:function(P){var L=C.table(P),H=L.schema,Y={},re=[];function ae(be,Ie,Ce){var _e=Zr(be),Fe=Y[_e]=Y[_e]||[],Re=be==null?0:typeof be=="string"?1:be.length,He=0<Ie,He=n(n({},Ce),{name:He?"".concat(_e,"(virtual-from:").concat(Ce.name,")"):Ce.name,lowLevelIndex:Ce,isVirtual:He,keyTail:Ie,keyLength:Re,extractKey:nt(be),unique:!He&&Ce.unique});return Fe.push(He),He.isPrimaryKey||re.push(He),1<Re&&ae(Re===2?be[0]:be.slice(0,Re-1),Ie+1,Ce),Fe.sort(function(Ze,Qe){return Ze.keyTail-Qe.keyTail}),He}P=ae(H.primaryKey.keyPath,0,H.primaryKey),Y[":id"]=[P];for(var pe=0,Te=H.indexes;pe<Te.length;pe++){var Ae=Te[pe];ae(Ae.keyPath,0,Ae)}function Me(be){var Ie,Ce=be.query.index;return Ce.isVirtual?n(n({},be),{query:{index:Ce.lowLevelIndex,range:(Ie=be.query.range,Ce=Ce.keyTail,{type:Ie.type===1?2:Ie.type,lower:Ya(Ie.lower,Ie.lowerOpen?C.MAX_KEY:C.MIN_KEY,Ce),lowerOpen:!0,upper:Ya(Ie.upper,Ie.upperOpen?C.MIN_KEY:C.MAX_KEY,Ce),upperOpen:!0})}}):be}return n(n({},L),{schema:n(n({},H),{primaryKey:P,indexes:re,getIndexByKeyPath:function(be){return(be=Y[Zr(be)])&&be[0]}}),count:function(be){return L.count(Me(be))},query:function(be){return L.query(Me(be))},openCursor:function(be){var Ie=be.query.index,Ce=Ie.keyTail,_e=Ie.isVirtual,Fe=Ie.keyLength;return _e?L.openCursor(Me(be)).then(function(He){return He&&Re(He)}):L.openCursor(be);function Re(He){return Object.create(He,{continue:{value:function(Ze){Ze!=null?He.continue(Ya(Ze,be.reverse?C.MAX_KEY:C.MIN_KEY,Ce)):be.unique?He.continue(He.key.slice(0,Fe).concat(be.reverse?C.MIN_KEY:C.MAX_KEY,Ce)):He.continue()}},continuePrimaryKey:{value:function(Ze,Qe){He.continuePrimaryKey(Ya(Ze,C.MAX_KEY,Ce),Qe)}},primaryKey:{get:function(){return He.primaryKey}},key:{get:function(){var Ze=He.key;return Fe===1?Ze[0]:Ze.slice(0,Fe)}},value:{get:function(){return He.value}}})}}})}})}};function Kc(C,P,L,H){return L=L||{},H=H||"",l(C).forEach(function(Y){var re,ae,pe;g(P,Y)?(re=C[Y],ae=P[Y],typeof re=="object"&&typeof ae=="object"&&re&&ae?(pe=G(re))!==G(ae)?L[H+Y]=P[Y]:pe==="Object"?Kc(re,ae,L,H+Y+"."):re!==ae&&(L[H+Y]=P[Y]):re!==ae&&(L[H+Y]=P[Y])):L[H+Y]=void 0}),l(P).forEach(function(Y){g(C,Y)||(L[H+Y]=P[Y])}),L}function Gc(C,P){return P.type==="delete"?P.keys:P.keys||P.values.map(C.extractKey)}var jp={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(C){return n(n({},C),{table:function(P){var L=C.table(P),H=L.schema.primaryKey;return n(n({},L),{mutate:function(Y){var re=$e.trans,ae=re.table(P).hook,pe=ae.deleting,Te=ae.creating,Ae=ae.updating;switch(Y.type){case"add":if(Te.fire===ue)break;return re._promise("readwrite",function(){return Me(Y)},!0);case"put":if(Te.fire===ue&&Ae.fire===ue)break;return re._promise("readwrite",function(){return Me(Y)},!0);case"delete":if(pe.fire===ue)break;return re._promise("readwrite",function(){return Me(Y)},!0);case"deleteRange":if(pe.fire===ue)break;return re._promise("readwrite",function(){return function be(Ie,Ce,_e){return L.query({trans:Ie,values:!1,query:{index:H,range:Ce},limit:_e}).then(function(Fe){var Re=Fe.result;return Me({type:"delete",keys:Re,trans:Ie}).then(function(He){return 0<He.numFailures?Promise.reject(He.failures[0]):Re.length<_e?{failures:[],numFailures:0,lastResult:void 0}:be(Ie,n(n({},Ce),{lower:Re[Re.length-1],lowerOpen:!0}),_e)})})}(Y.trans,Y.range,1e4)},!0)}return L.mutate(Y);function Me(be){var Ie,Ce,_e,Fe=$e.trans,Re=be.keys||Gc(H,be);if(!Re)throw new Error("Keys missing");return(be=be.type==="add"||be.type==="put"?n(n({},be),{keys:Re}):n({},be)).type!=="delete"&&(be.values=i([],be.values)),be.keys&&(be.keys=i([],be.keys)),Ie=L,_e=Re,((Ce=be).type==="add"?Promise.resolve([]):Ie.getMany({trans:Ce.trans,keys:_e,cache:"immutable"})).then(function(He){var Ze=Re.map(function(Qe,ft){var Lt,Vt,Nt,Dt=He[ft],Kt={onerror:null,onsuccess:null};return be.type==="delete"?pe.fire.call(Kt,Qe,Dt,Fe):be.type==="add"||Dt===void 0?(Lt=Te.fire.call(Kt,Qe,be.values[ft],Fe),Qe==null&&Lt!=null&&(be.keys[ft]=Qe=Lt,H.outbound||j(be.values[ft],H.keyPath,Qe))):(Lt=Kc(Dt,be.values[ft]),(Vt=Ae.fire.call(Kt,Lt,Qe,Dt,Fe))&&(Nt=be.values[ft],Object.keys(Vt).forEach(function(It){g(Nt,It)?Nt[It]=Vt[It]:j(Nt,It,Vt[It])}))),Kt});return L.mutate(be).then(function(Qe){for(var ft=Qe.failures,Lt=Qe.results,Vt=Qe.numFailures,Qe=Qe.lastResult,Nt=0;Nt<Re.length;++Nt){var Dt=(Lt||Re)[Nt],Kt=Ze[Nt];Dt==null?Kt.onerror&&Kt.onerror(ft[Nt]):Kt.onsuccess&&Kt.onsuccess(be.type==="put"&&He[Nt]?be.values[Nt]:Dt)}return{failures:ft,results:Lt,numFailures:Vt,lastResult:Qe}}).catch(function(Qe){return Ze.forEach(function(ft){return ft.onerror&&ft.onerror(Qe)}),Promise.reject(Qe)})})}}})}})}};function Sd(C,P,L){try{if(!P||P.keys.length<C.length)return null;for(var H=[],Y=0,re=0;Y<P.keys.length&&re<C.length;++Y)Wt(P.keys[Y],C[re])===0&&(H.push(L?I(P.values[Y]):P.values[Y]),++re);return H.length===C.length?H:null}catch{return null}}var Np={stack:"dbcore",level:-1,create:function(C){return{table:function(P){var L=C.table(P);return n(n({},L),{getMany:function(H){if(!H.cache)return L.getMany(H);var Y=Sd(H.keys,H.trans._cache,H.cache==="clone");return Y?fe.resolve(Y):L.getMany(H).then(function(re){return H.trans._cache={keys:H.keys,values:H.cache==="clone"?I(re):re},re})},mutate:function(H){return H.type!=="add"&&(H.trans._cache=null),L.mutate(H)}})}}}};function ks(C,P){return C.trans.mode==="readonly"&&!!C.subscr&&!C.trans.explicit&&C.trans.db._options.cache!=="disabled"&&!P.schema.primaryKey.outbound}function Ip(C,P){switch(C){case"query":return P.values&&!P.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Km={stack:"dbcore",level:0,name:"Observability",create:function(C){var P=C.schema.name,L=new Ii(C.MIN_KEY,C.MAX_KEY);return n(n({},C),{transaction:function(H,Y,re){if($e.subscr&&Y!=="readonly")throw new Q.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat($e.querier));return C.transaction(H,Y,re)},table:function(H){var Y=C.table(H),re=Y.schema,ae=re.primaryKey,be=re.indexes,pe=ae.extractKey,Te=ae.outbound,Ae=ae.autoIncrement&&be.filter(function(Ce){return Ce.compound&&Ce.keyPath.includes(ae.keyPath)}),Me=n(n({},Y),{mutate:function(Ce){function _e(It){return It="idb://".concat(P,"/").concat(H,"/").concat(It),Qe[It]||(Qe[It]=new Ii)}var Fe,Re,He,Ze=Ce.trans,Qe=Ce.mutatedParts||(Ce.mutatedParts={}),ft=_e(""),Lt=_e(":dels"),Vt=Ce.type,Kt=Ce.type==="deleteRange"?[Ce.range]:Ce.type==="delete"?[Ce.keys]:Ce.values.length<50?[Gc(ae,Ce).filter(function(It){return It}),Ce.values]:[],Nt=Kt[0],Dt=Kt[1],Kt=Ce.trans._cache;return c(Nt)?(ft.addKeys(Nt),(Kt=Vt==="delete"||Nt.length===Dt.length?Sd(Nt,Kt):null)||Lt.addKeys(Nt),(Kt||Dt)&&(Fe=_e,Re=Kt,He=Dt,re.indexes.forEach(function(It){var Zt=Fe(It.name||"");function kr(zr){return zr!=null?It.extractKey(zr):null}function Rr(zr){return It.multiEntry&&c(zr)?zr.forEach(function(qi){return Zt.addKey(qi)}):Zt.addKey(zr)}(Re||He).forEach(function(zr,pi){var Fr=Re&&kr(Re[pi]),pi=He&&kr(He[pi]);Wt(Fr,pi)!==0&&(Fr!=null&&Rr(Fr),pi!=null&&Rr(pi))})}))):Nt?(Dt={from:(Dt=Nt.lower)!==null&&Dt!==void 0?Dt:C.MIN_KEY,to:(Dt=Nt.upper)!==null&&Dt!==void 0?Dt:C.MAX_KEY},Lt.add(Dt),ft.add(Dt)):(ft.add(L),Lt.add(L),re.indexes.forEach(function(It){return _e(It.name).add(L)})),Y.mutate(Ce).then(function(It){return!Nt||Ce.type!=="add"&&Ce.type!=="put"||(ft.addKeys(It.results),Ae&&Ae.forEach(function(Zt){for(var kr=Ce.values.map(function(Fr){return Zt.extractKey(Fr)}),Rr=Zt.keyPath.findIndex(function(Fr){return Fr===ae.keyPath}),zr=0,qi=It.results.length;zr<qi;++zr)kr[zr][Rr]=It.results[zr];_e(Zt.name).addKeys(kr)})),Ze.mutatedParts=qc(Ze.mutatedParts||{},Qe),It})}}),be=function(_e){var Fe=_e.query,_e=Fe.index,Fe=Fe.range;return[_e,new Ii((_e=Fe.lower)!==null&&_e!==void 0?_e:C.MIN_KEY,(Fe=Fe.upper)!==null&&Fe!==void 0?Fe:C.MAX_KEY)]},Ie={get:function(Ce){return[ae,new Ii(Ce.key)]},getMany:function(Ce){return[ae,new Ii().addKeys(Ce.keys)]},count:be,query:be,openCursor:be};return l(Ie).forEach(function(Ce){Me[Ce]=function(_e){var Fe=$e.subscr,Re=!!Fe,He=ks($e,Y)&&Ip(Ce,_e)?_e.obsSet={}:Fe;if(Re){var Ze=function(Dt){return Dt="idb://".concat(P,"/").concat(H,"/").concat(Dt),He[Dt]||(He[Dt]=new Ii)},Qe=Ze(""),ft=Ze(":dels"),Fe=Ie[Ce](_e),Re=Fe[0],Fe=Fe[1];if((Ce==="query"&&Re.isPrimaryKey&&!_e.values?ft:Ze(Re.name||"")).add(Fe),!Re.isPrimaryKey){if(Ce!=="count"){var Lt=Ce==="query"&&Te&&_e.values&&Y.query(n(n({},_e),{values:!1}));return Y[Ce].apply(this,arguments).then(function(Dt){if(Ce==="query"){if(Te&&_e.values)return Lt.then(function(kr){return kr=kr.result,Qe.addKeys(kr),Dt});var Kt=_e.values?Dt.result.map(pe):Dt.result;(_e.values?Qe:ft).addKeys(Kt)}else if(Ce==="openCursor"){var It=Dt,Zt=_e.values;return It&&Object.create(It,{key:{get:function(){return ft.addKey(It.primaryKey),It.key}},primaryKey:{get:function(){var kr=It.primaryKey;return ft.addKey(kr),kr}},value:{get:function(){return Zt&&Qe.addKey(It.primaryKey),It.value}}})}return Dt})}ft.add(L)}}return Y[Ce].apply(this,arguments)}}),Me}})}};function Lp(C,P,L){if(L.numFailures===0)return P;if(P.type==="deleteRange")return null;var H=P.keys?P.keys.length:"values"in P&&P.values?P.values.length:1;return L.numFailures===H?null:(P=n({},P),c(P.keys)&&(P.keys=P.keys.filter(function(Y,re){return!(re in L.failures)})),"values"in P&&c(P.values)&&(P.values=P.values.filter(function(Y,re){return!(re in L.failures)})),P)}function Yc(C,P){return L=C,((H=P).lower===void 0||(H.lowerOpen?0<Wt(L,H.lower):0<=Wt(L,H.lower)))&&(C=C,(P=P).upper===void 0||(P.upperOpen?Wt(C,P.upper)<0:Wt(C,P.upper)<=0));var L,H}function xd(C,P,Ie,H,Y,re){if(!Ie||Ie.length===0)return C;var ae=P.query.index,pe=ae.multiEntry,Te=P.query.range,Ae=H.schema.primaryKey.extractKey,Me=ae.extractKey,be=(ae.lowLevelIndex||ae).extractKey,Ie=Ie.reduce(function(Ce,_e){var Fe=Ce,Re=[];if(_e.type==="add"||_e.type==="put")for(var He=new Ii,Ze=_e.values.length-1;0<=Ze;--Ze){var Qe,ft=_e.values[Ze],Lt=Ae(ft);He.hasKey(Lt)||(Qe=Me(ft),(pe&&c(Qe)?Qe.some(function(It){return Yc(It,Te)}):Yc(Qe,Te))&&(He.addKey(Lt),Re.push(ft)))}switch(_e.type){case"add":var Vt=new Ii().addKeys(P.values?Ce.map(function(Zt){return Ae(Zt)}):Ce),Fe=Ce.concat(P.values?Re.filter(function(Zt){return Zt=Ae(Zt),!Vt.hasKey(Zt)&&(Vt.addKey(Zt),!0)}):Re.map(function(Zt){return Ae(Zt)}).filter(function(Zt){return!Vt.hasKey(Zt)&&(Vt.addKey(Zt),!0)}));break;case"put":var Nt=new Ii().addKeys(_e.values.map(function(Zt){return Ae(Zt)}));Fe=Ce.filter(function(Zt){return!Nt.hasKey(P.values?Ae(Zt):Zt)}).concat(P.values?Re:Re.map(function(Zt){return Ae(Zt)}));break;case"delete":var Dt=new Ii().addKeys(_e.keys);Fe=Ce.filter(function(Zt){return!Dt.hasKey(P.values?Ae(Zt):Zt)});break;case"deleteRange":var Kt=_e.range;Fe=Ce.filter(function(Zt){return!Yc(Ae(Zt),Kt)})}return Fe},C);return Ie===C?C:(Ie.sort(function(Ce,_e){return Wt(be(Ce),be(_e))||Wt(Ae(Ce),Ae(_e))}),P.limit&&P.limit<1/0&&(Ie.length>P.limit?Ie.length=P.limit:C.length===P.limit&&Ie.length<P.limit&&(Y.dirty=!0)),re?Object.freeze(Ie):Ie)}function tl(C,P){return Wt(C.lower,P.lower)===0&&Wt(C.upper,P.upper)===0&&!!C.lowerOpen==!!P.lowerOpen&&!!C.upperOpen==!!P.upperOpen}function tc(C,P){return function(L,H,Y,re){if(L===void 0)return H!==void 0?-1:0;if(H===void 0)return 1;if((H=Wt(L,H))===0){if(Y&&re)return 0;if(Y)return 1;if(re)return-1}return H}(C.lower,P.lower,C.lowerOpen,P.lowerOpen)<=0&&0<=function(L,H,Y,re){if(L===void 0)return H!==void 0?1:0;if(H===void 0)return-1;if((H=Wt(L,H))===0){if(Y&&re)return 0;if(Y)return-1;if(re)return 1}return H}(C.upper,P.upper,C.upperOpen,P.upperOpen)}function Gm(C,P,L,H){C.subscribers.add(L),H.addEventListener("abort",function(){var Y,re;C.subscribers.delete(L),C.subscribers.size===0&&(Y=C,re=P,setTimeout(function(){Y.subscribers.size===0&&q(re,Y)},3e3))})}var Xc={stack:"dbcore",level:0,name:"Cache",create:function(C){var P=C.schema.name;return n(n({},C),{transaction:function(L,H,Y){var re,ae,pe=C.transaction(L,H,Y);return H==="readwrite"&&(ae=(re=new AbortController).signal,Y=function(Te){return function(){if(re.abort(),H==="readwrite"){for(var Ae=new Set,Me=0,be=L;Me<be.length;Me++){var Ie=be[Me],Ce=ws["idb://".concat(P,"/").concat(Ie)];if(Ce){var _e=C.table(Ie),Fe=Ce.optimisticOps.filter(function(Zt){return Zt.trans===pe});if(pe._explicit&&Te&&pe.mutatedParts)for(var Re=0,He=Object.values(Ce.queries.query);Re<He.length;Re++)for(var Ze=0,Qe=(Vt=He[Re]).slice();Ze<Qe.length;Ze++)md((Nt=Qe[Ze]).obsSet,pe.mutatedParts)&&(q(Vt,Nt),Nt.subscribers.forEach(function(Zt){return Ae.add(Zt)}));else if(0<Fe.length){Ce.optimisticOps=Ce.optimisticOps.filter(function(Zt){return Zt.trans!==pe});for(var ft=0,Lt=Object.values(Ce.queries.query);ft<Lt.length;ft++)for(var Vt,Nt,Dt,Kt=0,It=(Vt=Lt[ft]).slice();Kt<It.length;Kt++)(Nt=It[Kt]).res!=null&&pe.mutatedParts&&(Te&&!Nt.dirty?(Dt=Object.isFrozen(Nt.res),Dt=xd(Nt.res,Nt.req,Fe,_e,Nt,Dt),Nt.dirty?(q(Vt,Nt),Nt.subscribers.forEach(function(Zt){return Ae.add(Zt)})):Dt!==Nt.res&&(Nt.res=Dt,Nt.promise=fe.resolve({result:Dt}))):(Nt.dirty&&q(Vt,Nt),Nt.subscribers.forEach(function(Zt){return Ae.add(Zt)})))}}}Ae.forEach(function(Zt){return Zt()})}}},pe.addEventListener("abort",Y(!1),{signal:ae}),pe.addEventListener("error",Y(!1),{signal:ae}),pe.addEventListener("complete",Y(!0),{signal:ae})),pe},table:function(L){var H=C.table(L),Y=H.schema.primaryKey;return n(n({},H),{mutate:function(re){var ae=$e.trans;if(Y.outbound||ae.db._options.cache==="disabled"||ae.explicit||ae.idbtrans.mode!=="readwrite")return H.mutate(re);var pe=ws["idb://".concat(P,"/").concat(L)];return pe?(ae=H.mutate(re),re.type!=="add"&&re.type!=="put"||!(50<=re.values.length||Gc(Y,re).some(function(Te){return Te==null}))?(pe.optimisticOps.push(re),re.mutatedParts&&Wc(re.mutatedParts),ae.then(function(Te){0<Te.numFailures&&(q(pe.optimisticOps,re),(Te=Lp(0,re,Te))&&pe.optimisticOps.push(Te),re.mutatedParts&&Wc(re.mutatedParts))}),ae.catch(function(){q(pe.optimisticOps,re),re.mutatedParts&&Wc(re.mutatedParts)})):ae.then(function(Te){var Ae=Lp(0,n(n({},re),{values:re.values.map(function(Me,be){var Ie;return Te.failures[be]?Me:(Me=(Ie=Y.keyPath)!==null&&Ie!==void 0&&Ie.includes(".")?I(Me):n({},Me),j(Me,Y.keyPath,Te.results[be]),Me)})}),Te);pe.optimisticOps.push(Ae),queueMicrotask(function(){return re.mutatedParts&&Wc(re.mutatedParts)})}),ae):H.mutate(re)},query:function(re){if(!ks($e,H)||!Ip("query",re))return H.query(re);var ae=((Ae=$e.trans)===null||Ae===void 0?void 0:Ae.db._options.cache)==="immutable",be=$e,pe=be.requery,Te=be.signal,Ae=function(_e,Fe,Re,He){var Ze=ws["idb://".concat(_e,"/").concat(Fe)];if(!Ze)return[];if(!(Fe=Ze.queries[Re]))return[null,!1,Ze,null];var Qe=Fe[(He.query?He.query.index.name:null)||""];if(!Qe)return[null,!1,Ze,null];switch(Re){case"query":var ft=Qe.find(function(Lt){return Lt.req.limit===He.limit&&Lt.req.values===He.values&&tl(Lt.req.query.range,He.query.range)});return ft?[ft,!0,Ze,Qe]:[Qe.find(function(Lt){return("limit"in Lt.req?Lt.req.limit:1/0)>=He.limit&&(!He.values||Lt.req.values)&&tc(Lt.req.query.range,He.query.range)}),!1,Ze,Qe];case"count":return ft=Qe.find(function(Lt){return tl(Lt.req.query.range,He.query.range)}),[ft,!!ft,Ze,Qe]}}(P,L,"query",re),Me=Ae[0],be=Ae[1],Ie=Ae[2],Ce=Ae[3];return Me&&be?Me.obsSet=re.obsSet:(be=H.query(re).then(function(_e){var Fe=_e.result;if(Me&&(Me.res=Fe),ae){for(var Re=0,He=Fe.length;Re<He;++Re)Object.freeze(Fe[Re]);Object.freeze(Fe)}else _e.result=I(Fe);return _e}).catch(function(_e){return Ce&&Me&&q(Ce,Me),Promise.reject(_e)}),Me={obsSet:re.obsSet,promise:be,subscribers:new Set,type:"query",req:re,dirty:!1},Ce?Ce.push(Me):(Ce=[Me],(Ie=Ie||(ws["idb://".concat(P,"/").concat(L)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[re.query.index.name||""]=Ce)),Gm(Me,Ce,pe,Te),Me.promise.then(function(_e){return{result:xd(_e.result,re,Ie?.optimisticOps,H,Me,ae)}})}})}})}};function rc(C,P){return new Proxy(C,{get:function(L,H,Y){return H==="db"?P:Reflect.get(L,H,Y)}})}var sa=(Vn.prototype.version=function(C){if(isNaN(C)||C<.1)throw new Q.Type("Given version is not a positive number");if(C=Math.round(10*C)/10,this.idbdb||this._state.isBeingOpened)throw new Q.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,C);var P=this._versions,L=P.filter(function(H){return H._cfg.version===C})[0];return L||(L=new this.Version(C),P.push(L),P.sort(Js),L.stores({}),this._state.autoSchema=!1,L)},Vn.prototype._whenReady=function(C){var P=this;return this.idbdb&&(this._state.openComplete||$e.letThrough||this._vip)?C():new fe(function(L,H){if(P._state.openComplete)return H(new Q.DatabaseClosed(P._state.dbOpenError));if(!P._state.isBeingOpened){if(!P._state.autoOpen)return void H(new Q.DatabaseClosed);P.open().catch(ue)}P._state.dbReadyPromise.then(L,H)}).then(C)},Vn.prototype.use=function(C){var P=C.stack,L=C.create,H=C.level,Y=C.name;return Y&&this.unuse({stack:P,name:Y}),C=this._middlewares[P]||(this._middlewares[P]=[]),C.push({stack:P,create:L,level:H??10,name:Y}),C.sort(function(re,ae){return re.level-ae.level}),this},Vn.prototype.unuse=function(C){var P=C.stack,L=C.name,H=C.create;return P&&this._middlewares[P]&&(this._middlewares[P]=this._middlewares[P].filter(function(Y){return H?Y.create!==H:!!L&&Y.name!==L})),this},Vn.prototype.open=function(){var C=this;return dr(st,function(){return qm(C)})},Vn.prototype._close=function(){var C=this._state,P=mr.indexOf(this);if(0<=P&&mr.splice(P,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}C.isBeingOpened||(C.dbReadyPromise=new fe(function(L){C.dbReadyResolve=L}),C.openCanceller=new fe(function(L,H){C.cancelOpen=H}))},Vn.prototype.close=function(L){var P=(L===void 0?{disableAutoOpen:!0}:L).disableAutoOpen,L=this._state;P?(L.isBeingOpened&&L.cancelOpen(new Q.DatabaseClosed),this._close(),L.autoOpen=!1,L.dbOpenError=new Q.DatabaseClosed):(this._close(),L.autoOpen=this._options.autoOpen||L.isBeingOpened,L.openComplete=!1,L.dbOpenError=null)},Vn.prototype.delete=function(C){var P=this;C===void 0&&(C={disableAutoOpen:!0});var L=0<arguments.length&&typeof arguments[0]!="object",H=this._state;return new fe(function(Y,re){function ae(){P.close(C);var pe=P._deps.indexedDB.deleteDatabase(P.name);pe.onsuccess=kt(function(){var Te,Ae,Me;Te=P._deps,Ae=P.name,Me=Te.indexedDB,Te=Te.IDBKeyRange,Hc(Me)||Ae===ei||fd(Me,Te).delete(Ae).catch(ue),Y()}),pe.onerror=_r(re),pe.onblocked=P._fireOnBlocked}if(L)throw new Q.InvalidArgument("Invalid closeOptions argument to db.delete()");H.isBeingOpened?H.dbReadyPromise.then(ae):ae()})},Vn.prototype.backendDB=function(){return this.idbdb},Vn.prototype.isOpen=function(){return this.idbdb!==null},Vn.prototype.hasBeenClosed=function(){var C=this._state.dbOpenError;return C&&C.name==="DatabaseClosed"},Vn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Vn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Vn.prototype,"tables",{get:function(){var C=this;return l(this._allTables).map(function(P){return C._allTables[P]})},enumerable:!1,configurable:!0}),Vn.prototype.transaction=function(){var C=(function(P,L,H){var Y=arguments.length;if(Y<2)throw new Q.InvalidArgument("Too few arguments");for(var re=new Array(Y-1);--Y;)re[Y-1]=arguments[Y];return H=re.pop(),[P,N(re),H]}).apply(this,arguments);return this._transaction.apply(this,C)},Vn.prototype._transaction=function(C,P,L){var H=this,Y=$e.trans;Y&&Y.db===this&&C.indexOf("!")===-1||(Y=null);var re,ae,pe=C.indexOf("?")!==-1;C=C.replace("!","").replace("?","");try{if(ae=P.map(function(Ae){if(Ae=Ae instanceof H.Table?Ae.name:Ae,typeof Ae!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Ae}),C=="r"||C===ar)re=ar;else{if(C!="rw"&&C!=an)throw new Q.InvalidArgument("Invalid transaction mode: "+C);re=an}if(Y){if(Y.mode===ar&&re===an){if(!pe)throw new Q.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");Y=null}Y&&ae.forEach(function(Ae){if(Y&&Y.storeNames.indexOf(Ae)===-1){if(!pe)throw new Q.SubTransaction("Table "+Ae+" not included in parent transaction.");Y=null}}),pe&&Y&&!Y.active&&(Y=null)}}catch(Ae){return Y?Y._promise(null,function(Me,be){be(Ae)}):br(Ae)}var Te=(function Ae(Me,be,Ie,Ce,_e){return fe.resolve().then(function(){var Fe=$e.transless||$e,Re=Me._createTransaction(be,Ie,Me._dbSchema,Ce);if(Re.explicit=!0,Fe={trans:Re,transless:Fe},Ce)Re.idbtrans=Ce.idbtrans;else try{Re.create(),Re.idbtrans._explicit=!0,Me._state.PR1398_maxLoop=3}catch(Qe){return Qe.name===ke.InvalidState&&Me.isOpen()&&0<--Me._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Me.close({disableAutoOpen:!1}),Me.open().then(function(){return Ae(Me,be,Ie,null,_e)})):br(Qe)}var He,Ze=D(_e);return Ze&&Hr(),Fe=fe.follow(function(){var Qe;(He=_e.call(Re,Re))&&(Ze?(Qe=Kr.bind(null,null),He.then(Qe,Qe)):typeof He.next=="function"&&typeof He.throw=="function"&&(He=ec(He)))},Fe),(He&&typeof He.then=="function"?fe.resolve(He).then(function(Qe){return Re.active?Qe:br(new Q.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Fe.then(function(){return He})).then(function(Qe){return Ce&&Re._resolve(),Re._completion.then(function(){return Qe})}).catch(function(Qe){return Re._reject(Qe),br(Qe)})})}).bind(null,this,re,ae,Y,L);return Y?Y._promise(re,Te,"lock"):$e.trans?dr($e.transless,function(){return H._whenReady(Te)}):this._whenReady(Te)},Vn.prototype.table=function(C){if(!g(this._allTables,C))throw new Q.InvalidTable("Table ".concat(C," does not exist"));return this._allTables[C]},Vn);function Vn(C,P){var L=this;this._middlewares={},this.verno=0;var H=Vn.dependencies;this._options=P=n({addons:Vn.addons,autoOpen:!0,indexedDB:H.indexedDB,IDBKeyRange:H.IDBKeyRange,cache:"cloned"},P),this._deps={indexedDB:P.indexedDB,IDBKeyRange:P.IDBKeyRange},H=P.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var Y,re,ae,pe,Te,Ae={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ue,dbReadyPromise:null,cancelOpen:ue,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:P.autoOpen};Ae.dbReadyPromise=new fe(function(be){Ae.dbReadyResolve=be}),Ae.openCanceller=new fe(function(be,Ie){Ae.cancelOpen=Ie}),this._state=Ae,this.name=C,this.on=Ar(this,"populate","blocked","versionchange","close",{ready:[Mt,ue]}),this.on.ready.subscribe=w(this.on.ready.subscribe,function(be){return function(Ie,Ce){Vn.vip(function(){var _e,Fe=L._state;Fe.openComplete?(Fe.dbOpenError||fe.resolve().then(Ie),Ce&&be(Ie)):Fe.onReadyBeingFired?(Fe.onReadyBeingFired.push(Ie),Ce&&be(Ie)):(be(Ie),_e=L,Ce||be(function Re(){_e.on.ready.unsubscribe(Ie),_e.on.ready.unsubscribe(Re)}))})}}),this.Collection=(Y=this,Dr(Co.prototype,function(He,Re){this.db=Y;var Ce=gn,_e=null;if(Re)try{Ce=Re()}catch(Ze){_e=Ze}var Fe=He._ctx,Re=Fe.table,He=Re.hook.reading.fire;this._ctx={table:Re,index:Fe.index,isPrimKey:!Fe.index||Re.schema.primKey.keyPath&&Fe.index===Re.schema.primKey.name,range:Ce,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:_e,or:Fe.or,valueMapper:He!==rt?He:null}})),this.Table=(re=this,Dr($t.prototype,function(be,Ie,Ce){this.db=re,this._tx=Ce,this.name=be,this.schema=Ie,this.hook=re._allTables[be]?re._allTables[be].hook:Ar(null,{creating:[ut,ue],reading:[ye,rt],updating:[bt,ue],deleting:[Be,ue]})})),this.Transaction=(ae=this,Dr(gr.prototype,function(be,Ie,Ce,_e,Fe){var Re=this;this.db=ae,this.mode=be,this.storeNames=Ie,this.schema=Ce,this.chromeTransactionDurability=_e,this.idbtrans=null,this.on=Ar(this,"complete","error","abort"),this.parent=Fe||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new fe(function(He,Ze){Re._resolve=He,Re._reject=Ze}),this._completion.then(function(){Re.active=!1,Re.on.complete.fire()},function(He){var Ze=Re.active;return Re.active=!1,Re.on.error.fire(He),Re.parent?Re.parent._reject(He):Ze&&Re.idbtrans&&Re.idbtrans.abort(),br(He)})})),this.Version=(pe=this,Dr(Vm.prototype,function(be){this.db=pe,this._cfg={version:be,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Te=this,Dr(sr.prototype,function(be,Ie,Ce){if(this.db=Te,this._ctx={table:be,index:Ie===":id"?null:Ie,or:Ce},this._cmp=this._ascending=Wt,this._descending=function(_e,Fe){return Wt(Fe,_e)},this._max=function(_e,Fe){return 0<Wt(_e,Fe)?_e:Fe},this._min=function(_e,Fe){return Wt(_e,Fe)<0?_e:Fe},this._IDBKeyRange=Te._deps.IDBKeyRange,!this._IDBKeyRange)throw new Q.MissingAPI})),this.on("versionchange",function(be){0<be.newVersion?console.warn("Another connection wants to upgrade database '".concat(L.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(L.name,"'. Closing db now to resume the delete request.")),L.close({disableAutoOpen:!1})}),this.on("blocked",function(be){!be.newVersion||be.newVersion<be.oldVersion?console.warn("Dexie.delete('".concat(L.name,"') was blocked")):console.warn("Upgrade '".concat(L.name,"' blocked by other connection holding version ").concat(be.oldVersion/10))}),this._maxKey=ge(P.IDBKeyRange),this._createTransaction=function(be,Ie,Ce,_e){return new L.Transaction(be,Ie,Ce,L._options.chromeTransactionDurability,_e)},this._fireOnBlocked=function(be){L.on("blocked").fire(be),mr.filter(function(Ie){return Ie.name===L.name&&Ie!==L&&!Ie._state.vcFired}).map(function(Ie){return Ie.on("versionchange").fire(be)})},this.use(Np),this.use(Xc),this.use(Km),this.use(Wm),this.use(jp);var Me=new Proxy(this,{get:function(be,Ie,Ce){if(Ie==="_vip")return!0;if(Ie==="table")return function(Fe){return rc(L.table(Fe),Me)};var _e=Reflect.get(be,Ie,Ce);return _e instanceof $t?rc(_e,Me):Ie==="tables"?_e.map(function(Fe){return rc(Fe,Me)}):Ie==="_createTransaction"?function(){return rc(_e.apply(this,arguments),Me)}:_e}});this.vip=Me,H.forEach(function(be){return be(L)})}var rl,go=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Fp=(Zc.prototype.subscribe=function(C,P,L){return this._subscribe(C&&typeof C!="function"?C:{next:C,error:P,complete:L})},Zc.prototype[go]=function(){return this},Zc);function Zc(C){this._subscribe=C}try{rl={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{rl={indexedDB:null,IDBKeyRange:null}}function Bp(C){var P,L=!1,H=new Fp(function(Y){var re=D(C),ae,pe=!1,Te={},Ae={},Me={get closed(){return pe},unsubscribe:function(){pe||(pe=!0,ae&&ae.abort(),be&&at.storagemutated.unsubscribe(Ce))}};Y.start&&Y.start(Me);var be=!1,Ie=function(){return Lr(_e)},Ce=function(Fe){qc(Te,Fe),md(Ae,Te)&&Ie()},_e=function(){var Fe,Re,He;!pe&&rl.indexedDB&&(Te={},Fe={},ae&&ae.abort(),ae=new AbortController,He=function(Ze){var Qe=hr();try{re&&Hr();var ft=Pr(C,Ze);return ft=re?ft.finally(Kr):ft}finally{Qe&&At()}}(Re={subscr:Fe,signal:ae.signal,requery:Ie,querier:C,trans:null}),Promise.resolve(He).then(function(Ze){L=!0,P=Ze,pe||Re.signal.aborted||(Te={},function(Qe){for(var ft in Qe)if(g(Qe,ft))return;return 1}(Ae=Fe)||be||(at(he,Ce),be=!0),Lr(function(){return!pe&&Y.next&&Y.next(Ze)}))},function(Ze){L=!1,["DatabaseClosedError","AbortError"].includes(Ze?.name)||pe||Lr(function(){pe||Y.error&&Y.error(Ze)})}))};return setTimeout(Ie,0),Me});return H.hasValue=function(){return L},H.getValue=function(){return P},H}var Cs=sa;function wd(C){var P=Xa;try{Xa=!0,at.storagemutated.fire(C),vd(C,!0)}finally{Xa=P}}p(Cs,n(n({},we),{delete:function(C){return new Cs(C,{addons:[]}).delete()},exists:function(C){return new Cs(C,{addons:[]}).open().then(function(P){return P.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(C){try{return P=Cs.dependencies,L=P.indexedDB,P=P.IDBKeyRange,(Hc(L)?Promise.resolve(L.databases()).then(function(H){return H.map(function(Y){return Y.name}).filter(function(Y){return Y!==ei})}):fd(L,P).toCollection().primaryKeys()).then(C)}catch{return br(new Q.MissingAPI)}var P,L},defineClass:function(){return function(C){d(this,C)}},ignoreTransaction:function(C){return $e.trans?dr($e.transless,C):C()},vip:pd,async:function(C){return function(){try{var P=ec(C.apply(this,arguments));return P&&typeof P.then=="function"?P:fe.resolve(P)}catch(L){return br(L)}}},spawn:function(C,P,L){try{var H=ec(C.apply(L,P||[]));return H&&typeof H.then=="function"?H:fe.resolve(H)}catch(Y){return br(Y)}},currentTransaction:{get:function(){return $e.trans||null}},waitFor:function(C,P){return P=fe.resolve(typeof C=="function"?Cs.ignoreTransaction(C):C).timeout(P||6e4),$e.trans?$e.trans.waitFor(P):P},Promise:fe,debug:{get:function(){return et},set:function(C){ht(C)}},derive:v,extend:d,props:p,override:w,Events:Ar,on:at,liveQuery:Bp,extendObservabilitySet:qc,getByKeyPath:M,setByKeyPath:j,delByKeyPath:function(C,P){typeof P=="string"?j(C,P,void 0):"length"in P&&[].map.call(P,function(L){j(C,L,void 0)})},shallowClone:$,deepClone:I,getObjectDiff:Kc,cmp:Wt,asap:O,minKey:-1/0,addons:[],connections:mr,errnames:ke,dependencies:rl,cache:ws,semVer:"4.0.11",version:"4.0.11".split(".").map(function(C){return parseInt(C)}).reduce(function(C,P,L){return C+P/Math.pow(10,2*L)})})),Cs.maxKey=ge(Cs.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(at(he,function(C){Xa||(C=new CustomEvent(Je,{detail:C}),Xa=!0,dispatchEvent(C),Xa=!1)}),addEventListener(Je,function(C){C=C.detail,Xa||wd(C)}));var nl,Xa=!1,ro=function(){};return typeof BroadcastChannel<"u"&&((ro=function(){(nl=new BroadcastChannel(Je)).onmessage=function(C){return C.data&&wd(C.data)}})(),typeof nl.unref=="function"&&nl.unref(),at(he,function(C){Xa||nl.postMessage(C)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(C){if(!sa.disableBfCache&&C.persisted){et&&console.debug("Dexie: handling persisted pagehide"),nl?.close();for(var P=0,L=mr;P<L.length;P++)L[P].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(C){!sa.disableBfCache&&C.persisted&&(et&&console.debug("Dexie: handling persisted pageshow"),ro(),wd({all:new Ii(-1/0,[[]])}))})),fe.rejectionMapper=function(C,P){return!C||C instanceof ee||C instanceof TypeError||C instanceof SyntaxError||!C.name||!de[C.name]?C:(P=new de[C.name](P||C.message,C),"stack"in C&&b(P,"stack",{get:function(){return this.inner.stack}}),P)},ht(et),n(sa,Object.freeze({__proto__:null,Dexie:sa,liveQuery:Bp,Entity:Er,cmp:Wt,PropModification:ii,replacePrefix:function(C,P){return new ii({replacePrefix:[C,P]})},add:function(C){return new ii({add:C})},remove:function(C){return new ii({remove:C})},default:sa,RangeSet:Ii,mergeRanges:xs,rangesOverlap:Pp}),{default:sa}),sa})}(Tg)),Tg.exports}var HX=UX();const Ox=Yl(HX),qP=Symbol.for("Dexie"),lp=globalThis[qP]||(globalThis[qP]=Ox);if(Ox.semVer!==lp.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ox.semVer} and ${lp.semVer}`);const{liveQuery:VX,mergeRanges:bZ,rangesOverlap:vZ,RangeSet:SZ,cmp:xZ,Entity:wZ,PropModification:kZ,replacePrefix:CZ,add:TZ,remove:EZ}=lp;class qX extends lp{copyHistoryItems;constructor(){super("CopyHistoryDatabase"),this.version(1).stores({copyHistoryItems:"++index,id,timestamp"}),this.version(2).stores({copyHistoryItems:"++index,id,timestamp"}).upgrade(e=>e.table("copyHistoryItems").toCollection().modify(r=>{const n={text:r.text,textImage:r.textImage,start:r.start,end:r.end,originalStart:r.originalStart,originalEnd:r.originalEnd,track:r.track,index:r.index,richText:r.richText};if(r.subtitle=n,delete r.text,delete r.textImage,delete r.start,delete r.end,delete r.originalStart,delete r.originalEnd,delete r.track,r.videoFileName||r.audioFileName){const i={name:r.videoFileName||r.audioFileName,blobUrl:"",playbackRate:r.filePlaybackRate,audioTrack:r.audioTrack};r.file=i,delete r.videoFileName,delete r.audioFileName,delete r.filePlaybackRate,delete r.audioTrack}}))}}class WX{_db=new qX;_limit;constructor(e){this._limit=e}set limit(e){this._limit=e}async clear(){await this._db.copyHistoryItems.clear()}async fetch(e){if(e<=0)return[];const r=await await this._db.copyHistoryItems.reverse().limit(e).toArray();return r.reverse(),r}liveFetch(e,r){const i=VX(()=>this.fetch(e)).subscribe(r);return()=>i.unsubscribe()}async save(e){if(this._limit<=0)return;const r={id:e.id,timestamp:e.timestamp,subtitle:e.subtitle,surroundingSubtitles:e.surroundingSubtitles,subtitleFileName:e.subtitleFileName,url:e.url,image:e.image,audio:e.audio,file:e.file,mediaTimestamp:e.mediaTimestamp},n=await this._db.copyHistoryItems.where("id").equals(e.id).primaryKeys();n.length>0&&(r.index=n[0]);const i=await this._db.copyHistoryItems.put(r);await this._prune(i)}async _prune(e){if(await this._db.copyHistoryItems.count()>this._limit){const n=await this._db.copyHistoryItems.where("index").belowOrEqual(e-this._limit).primaryKeys();n.length>0&&await this._db.copyHistoryItems.bulkDelete(n)}}async delete(e){const r=await this._db.copyHistoryItems.where("id").equals(e).primaryKeys();await this._db.copyHistoryItems.bulkDelete(r)}}function jS(t){return new Worker("/asbplayer/assets/mp3-encoder-worker-CA7h5Flz.js",{name:t?.name})}function KX(t){return new Worker("/asbplayer/assets/pgs-parser-worker-BgEMyVln.js",{name:t?.name})}function GX(t={}){const{immediate:e=!1,onNeedRefresh:r,onOfflineReady:n,onRegistered:i,onRegisteredSW:a,onRegisterError:l}=t;let c,d,f;const h=async(p=!0)=>{await d,f?.()};async function g(){if("serviceWorker"in navigator){if(c=await Vo(async()=>{const{Workbox:p}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:p}},[]).then(({Workbox:p})=>new p("/asbplayer/sw.js",{scope:"/asbplayer/",type:"classic"})).catch(p=>{l?.(p)}),!c)return;f=()=>{c?.messageSkipWaiting()};{let p=!1;const S=()=>{p=!0,c?.addEventListener("controlling",b=>{b.isUpdate&&window.location.reload()}),r?.()};c.addEventListener("installed",b=>{typeof b.isUpdate>"u"?typeof b.isExternal<"u"&&b.isExternal?S():!p&&n?.():b.isUpdate||n?.()}),c.addEventListener("waiting",S)}c.register({immediate:e}).then(p=>{a?a("/asbplayer/sw.js",p):i?.(p)}).catch(p=>{l?.(p)})}}return d=g(),h}const YX=({onNeedRefresh:t,onOfflineReady:e})=>{const[r,n]=x.useState({fn:()=>{}});return x.useEffect(()=>{const i=GX({onNeedRefresh(){t()},onOfflineReady(){e()}});n({fn:i})},[t,e]),{doUpdate:r.fn}},XX=({open:t,onRefresh:e,onClose:r})=>{const{t:n}=Wr();return m.jsxs(Cp,{open:t,onClose:r,children:[m.jsx(aj,{children:n("app.pwaUpdatePromptTitle")}),m.jsx(rd,{children:n("app.pwaUpdatePromptBody")}),m.jsxs(Rm,{children:[m.jsx(fi,{onClick:r,children:n("action.cancel")}),m.jsx(fi,{onClick:e,children:n("action.ok")})]})]})},ZX="1.12.0",QX="https://chromewebstore.google.com/detail/asbplayer-language-learni/hkledmpjpaehamkiehglnbelcpdflcab",JX=".srt,.ass,.vtt,.sup,.mp3,.m4a,.aac,.flac,.ogg,.wav,.opus,.mkv,.mp4,.avi,.m4v,.webm",eZ=yn(t=>({content:{flexGrow:1,transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginRight:0},contentShift:({drawerWidth:e})=>({transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginRight:e})}));function tZ(t){let e=[],r;for(let n=0;n<t.length;++n){const i=t[n],a=i.name.lastIndexOf(".");if(a===-1)throw new Rf("error.unknownExtension",{fileName:i.name});const l=i.name.substring(a+1,i.name.length);switch(l){case"ass":case"srt":case"vtt":case"nfvtt":case"sup":case"ytxml":case"ytsrv3":case"dfxp":case"ttml2":case"bbjson":e.push(i);break;case"mkv":case"mp4":case"m4v":case"avi":case"webm":if(r)throw new Rf("error.onlyOneVideoFile");r=i;break;case"mp3":case"m4a":case"aac":case"flac":case"ogg":case"wav":case"opus":case"m4b":if(r)throw new Rf("error.onlyOneAudioFile");r=i;break;default:throw new Rf("error.unsupportedExtension",{extension:l})}}return{subtitleFiles:e,videoFile:r}}function rZ({searchParams:t,...e}){const r=t.get("video"),n=t.get("channel"),i=t.get("popout")==="true";return x.useEffect(()=>{uI(r)},[r]),m.jsx(PX,{videoFile:r,channel:n,popOut:i,...e})}function nZ(t){const e=eZ(t);return m.jsx("main",{className:wt(e.content,{[e.contentShift]:t.drawerOpen}),children:t.children})}function iZ({origin:t,logoUrl:e,dictionaryProvider:r,settingsProvider:n,settings:i,globalState:a,extension:l,fetcher:c,onSettingsChanged:d,onGlobalStateChanged:f,...h}){const{t:g}=Wr(),p=x.useMemo(()=>new k4({regexFilter:i.subtitleRegexFilter,regexFilterTextReplacement:i.subtitleRegexFilterTextReplacement,subtitleHtml:i.subtitleHtml,convertNetflixRuby:i.convertNetflixRuby,pgsParserWorkerFactory:async()=>new KX}),[i.subtitleRegexFilter,i.subtitleRegexFilterTextReplacement,i.subtitleHtml,i.convertNetflixRuby]),S=$X({settings:i}),[b,v]=x.useState([]),k=vj(i,l),T=x.useMemo(()=>P5(i.themeType),[i.themeType]),A=FX({settings:i,fetcher:c}),w=x.useMemo(()=>new URLSearchParams(location.search),[]),R=x.useMemo(()=>w.get("video")!==null,[w]),[O,M]=x.useState(!1),j=mj(i.keyBindSet,l),$=x.useRef(null),V=x.useRef(null),[N,W]=x.useState(),[z]=m1(!R),I=$.current?.2:.3,B=$.current?150:300,G=Math.max(B,z*I),U=x.useMemo(()=>l.supportsCopyHistoryRequest?new DX(l):new WX(i.miningHistoryStorageLimit),[l,i.miningHistoryStorageLimit]),{copyHistoryItems:X,refreshCopyHistory:q,deleteCopyHistoryItem:Z,saveCopyHistoryItem:F,deleteAllCopyHistoryItems:D}=ML(i.miningHistoryStorageLimit,U),J=x.useRef([]);J.current=X;const[ee,te]=x.useState(!1),[ie,oe]=x.useState(k.theaterMode),[ke,ve]=x.useState(k.hideSubtitleList),[Q,de]=x.useState(!1),[we,ue]=x.useState(),[rt,ye]=x.useState(!1),[Le,ut]=x.useState(),[Be,bt]=x.useState(),[Ot,Mt]=x.useState(),[et,ht]=x.useState({subtitleFiles:[]}),[Bt,_t]=x.useState([]),[it,je]=x.useState(!1),qe=x.useRef(null),[Oe,ot]=x.useState(),[Se,vt]=x.useState(!1),[Pt,se]=x.useState(!1),[le,st]=x.useState(),$e=x.useMemo(()=>new BX,[]),[Xt,Et]=x.useState(!1),[yr,fe]=x.useState(),[xe,dt]=x.useState(!1),[qt,ir]=x.useState(),[zt,Jt]=x.useState(),[jt,hr]=x.useState(),At=x.useRef(null),{subtitleFiles:Tt}=et,St=x.useCallback(Ve=>{console.error(Ve),hr(Ve),ut("error"),Ve instanceof Rf?ue(g(Ve.locKey,Ve.locParams)??"<failed to localize error>"):Ve instanceof Error?ue(Ve.message):ue(typeof Ve=="string"?Ve:String(Ve)),ye(!0)},[g]),kt=x.useCallback(Ve=>{ut("info");let Ht;const sr=32;Ve.length>=sr?Ht=`${Ve.substring(0,sr)}...`:Ht=Ve,ue(g("info.copiedSubtitle",{text:Ht})),ye(!0)},[g]),Ut=x.useCallback(Ve=>{if(!Ve&&J.current.length===0)return;const Ht=Ve??J.current[J.current.length-1];st(Ht),vt(!0),se(!1),dt(!0),$e.started()},[$e]),Ft=x.useCallback(async(Ve,Ht,sr,Gt,_r,rn,he,Je)=>{const at={subtitle:_r,surroundingSubtitles:rn,...he,timestamp:Date.now(),id:En(),subtitleFileName:Ht,mediaTimestamp:Je,file:{name:Ht,blobUrl:Ve,audioTrack:sr,playbackRate:Gt}};Ut(at)},[Ut]),Nr=x.useCallback(async Ve=>{se(!0);try{const Ht=await A.export(Ve);Ve.mode!=="gui"&&(Ve.mode==="default"?(ut("success"),ue(g("info.exportedCard",{result:Ht})),ye(!0)):Ve.mode==="updateLast"&&(ut("success"),ue(g("info.updatedCard",{result:Ht})),ye(!0)),vt(!1),$e.mining&&$e.stopped()),i.lastSelectedAnkiExportMode!==Ve.mode&&d({lastSelectedAnkiExportMode:Ve.mode}),r.ankiCardWasModified()}catch(Ht){St(Ht)}finally{se(!1),dt(!1)}},[A,$e,i.lastSelectedAnkiExportMode,d,St,g,r]),Vr=x.useRef(i);Vr.current=i;const $r=x.useCallback(async(Ve,Ht,sr)=>{Ve.subtitle&&Vr.current.copyToClipboardOnMine&&navigator.clipboard.writeText(Ve.subtitle.text);const Gt={...Ve,subtitleFileName:Ve.subtitleFileName||Ve.file?.name||"",timestamp:Date.now(),id:sr||En()};switch(l.supportsSidePanel?l.publishCard(Gt):F(Gt),Ht??qr.none){case qr.none:ut("success"),ue(Ve.subtitle.text===""?g("info.savedTimestamp",{timestamp:_c(Ve.subtitle.start)}):g("info.copiedSubtitle2",{result:Ve.subtitle.text})),ye(!0);break;case qr.showAnkiDialog:Ut(Gt);break;case qr.exportCard:case qr.updateLastCard:$e.started();let _r=qo.fromCard(Gt,Vr.current.audioPaddingStart,Vr.current.audioPaddingEnd,Vr.current.recordWithAudioPlayback);_r&&Vr.current.preferMp3&&(_r=_r.toMp3(()=>new jS)),Nr({text:Zo(Ve.subtitle,Ve.surroundingSubtitles),track1:Zo(Ve.subtitle,Ve.surroundingSubtitles,0),track2:Zo(Ve.subtitle,Ve.surroundingSubtitles,1),track3:Zo(Ve.subtitle,Ve.surroundingSubtitles,2),definition:Gt.definition??"",audioClip:_r,image:Kf.fromCard(Gt,Vr.current.maxImageWidth,Vr.current.maxImageHeight),word:Gt.word??"",source:`${Gt.subtitleFileName} (${_c(Ve.mediaTimestamp)})`,url:"",customFieldValues:Gt.customFieldValues??{},tags:Vr.current.tags,mode:Ht===qr.updateLastCard?"updateLast":"default"});break;default:throw new Error("Unknown post mine action: "+Ht)}},[l,$e,F,Nr,Ut,g]),wr=x.useCallback(async()=>{l.supportsSidePanel?l.toggleSidePanel():(await q(),te(Ve=>!Ve),M(!1))},[l,q]),Pr=x.useCallback(()=>te(!1),[]),Hr=x.useCallback(()=>{const Ve=!k.theaterMode;k.theaterMode=Ve,oe(Ve),M(!1)},[k]);x.useEffect(()=>{O?document.fullscreenElement||document.documentElement.requestFullscreen():document.fullscreenElement&&document.exitFullscreen()},[O]),x.useEffect(()=>{const Ve=()=>{document.fullscreenElement||M(!1)};return document.addEventListener("fullscreenchange",Ve),()=>document.removeEventListener("fullscreenchange",Ve)},[]);const Kr=x.useCallback(()=>{k.hideSubtitleList=!ke,ve(!ke)},[ke,k]),Ue=x.useCallback(()=>{de(Ve=>!Ve),ve(!1)},[]),We=x.useCallback(()=>{dt(!0),Et(!0)},[]),Ct=x.useCallback(()=>ye(!1),[]),cr=x.useCallback(()=>{Et(!1),fe(void 0),dt(Se)},[Se]),dr=x.useCallback(Ve=>{Ve===et.videoFileUrl&&(ht(Ht=>(cT(Ve),{subtitleFiles:Ht.subtitleFiles,videoFile:void 0,videoFileUrl:void 0})),M(!1))},[et]),Tr=x.useCallback(async Ve=>{try{const Ht=qo.fromCard(Ve,i.audioPaddingStart,i.audioPaddingEnd,!1);Ht?.error===void 0?i.preferMp3?Ht.toMp3(()=>new jS).download():Ht.download():St(g(Ht.errorLocKey))}catch(Ht){St(Ht)}},[St,i.audioPaddingStart,i.audioPaddingEnd,i.preferMp3,g]),Lr=x.useCallback(Ve=>{try{const Ht=Kf.fromCard(Ve,i.maxImageWidth,i.maxImageHeight);Ht.error===void 0?Ht.download():Ht.error===Yu.fileLinkLost?St(g("ankiDialog.imageFileLinkLost")):Ht.error===Yu.captureFailed&&St(g("ankiDialog.imageCaptureFailed"))}catch(Ht){St(Ht)}},[St,i.maxImageWidth,i.maxImageHeight,g]),br=x.useCallback((Ve,Ht)=>{const sr=[];for(const Gt of Ht)sr.find(_r=>_r.start===Gt.subtitle.start&&_r.end===Gt.subtitle.end&&_r.text===Gt.subtitle.text)===void 0&&sr.push(Gt.subtitle);Xu(new Blob([p.subtitlesToSrt(sr)],{type:"text/plain"}),`${Ve}_MiningHistory_${new Date().toISOString()}.srt`)},[p]),bn=x.useCallback((Ve,Ht)=>{if(!Tt.find(sr=>sr.name===Ht)){St(g("error.subtitleFileNotOpen",{fileName:Ht}));return}bt(Ve)},[Tt,St,g]),Sn=x.useCallback(Ve=>{bn(Ve.subtitle,Ve.subtitleFileName)},[bn]),xr=x.useCallback(Ve=>{st(Ve),vt(!0),se(!1),dt(!0)},[]),mr=x.useCallback(()=>{vt(!1),se(!1),dt(!1),$e.mining&&$e.stopped()},[$e]),ei=x.useCallback(()=>{if(le){if(!Tt.find(Ve=>Ve.name===le.subtitleFileName)){St(g("error.subtitleFileNotOpen",{fileName:le.subtitleFileName}));return}Mt(le.subtitle),mr()}},[le,Tt,mr,St,g]),ar=x.useCallback(()=>{le&&(W({timestamp:le.subtitle.start}),mr())},[le,mr]);x.useEffect(()=>{function Ve(Ht){if(zt===void 0||Ht.length!==zt.length)Jt(Ht);else{let Gt=!1;for(let _r=0;_r<zt.length;++_r){const rn=zt[_r],he=Ht[_r];if(rn.id!==he.id||rn.title!==he.title||rn.src!==he.src||rn.faviconUrl!==he.faviconUrl||rn.subscribed!==he.subscribed||rn.synced!==he.synced||rn.syncedTimestamp!==he.syncedTimestamp||rn.faviconUrl!==he.faviconUrl){Gt=!0;break}}Gt&&Jt(Ht)}qt&&Ht.filter(Gt=>Gt.id===qt.id&&Gt.src===qt.src).length===0&&(ir(void 0),St(g("error.lostTabConnection",{tabName:qt.id+" "+qt.title})))}return l.subscribeTabs(Ve)},[zt,qt,l,St,g]);const an=x.useCallback(Ve=>{ir(Ve)},[]),Ir=x.useCallback(({files:Ve,flattenSubtitleFiles:Ht})=>{try{let{subtitleFiles:sr,videoFile:Gt}=tZ(Ve);if(ht(_r=>{let rn;Gt?(_r.videoFileUrl&&cT(_r.videoFileUrl),Gt&&(rn=BS(Gt)),ir(void 0)):(Gt=_r.videoFile,rn=_r.videoFileUrl);const he={subtitleFiles:sr.length===0?_r.subtitleFiles:sr,videoFile:Gt,videoFileUrl:rn,flattenSubtitleFiles:Ht},Je=fr=>[...fr.subtitleFiles,fr.videoFile].filter(sn=>sn!==void 0),at=Je(_r),gr=Je(he).filter(fr=>{for(const sn of at)if(fr===sn)return!1;return!0});return _t(gr),he}),sr.length>0){const _r=sr[0].name;ot(_r.substring(0,_r.lastIndexOf(".")))}}catch(sr){console.error(sr),St(sr)}},[St]),gn=x.useCallback(async Ve=>{if(Ve.length!==1){St(g("error.onlyOneDirectoryAllowed"));return}const Ht=Ve[0].webkitGetAsEntry();if(!Ht||!Ht.isDirectory){St(g("error.failedToLoadDirectory"));return}const sr=Ht;try{const Gt=await new Promise((he,Je)=>sr.createReader().readEntries(he,Je));if(Gt.find(he=>he.isDirectory)){St(g("error.subdirectoriesNotAllowed"));return}const _r=Gt.map(he=>new Promise((Je,at)=>he.file(Je,at))),rn=[];for(const he of _r)rn.push(await he);Ir({files:rn})}catch(Gt){St(Gt)}},[St,Ir,g]);x.useEffect(()=>{S&&(S.onLoadSubtitles=async Ve=>{const{files:Ht}=Ve.body,sr=(Ht??[]).map(async Gt=>new File([await(await fetch("data:text/plain;base64,"+Gt.base64)).blob()],Gt.name));Ir({files:await Promise.all(sr)})})},[S,Ir]),x.useEffect(()=>{if(R){l.videoPlayer=!0,l.loadedSubtitles=!1,l.syncedVideoElement=void 0,l.startHeartbeat();return}async function Ve(sr){if(sr.data.command==="sync"||sr.data.command==="syncv2"){const Gt=(l.tabs??[]).filter(Je=>Je.id!==sr.tabId?!1:!sr.src||Je.src===sr.src);if(Gt.length===0){sr.src?console.error("Received sync request but the requesting tab ID "+sr.tabId+" with src "+sr.src+" was not found"):console.error("Received sync request but the requesting tab ID "+sr.tabId+" was not found");return}const _r=Gt[0];let rn,he=!1;if(sr.data.command==="sync"){const Je=sr.data;rn=[new File([await(await fetch("data:text/plain;base64,"+Je.subtitles.base64)).blob()],Je.subtitles.name)]}else if(sr.data.command==="syncv2"){const Je=sr.data;rn=await Promise.all(Je.subtitles.map(async at=>new File([await(await fetch("data:text/plain;base64,"+at.base64)).blob()],at.name))),he=Je.flatten??!1}else{console.error("Unknown message "+sr.data.command);return}et.videoFileUrl&&dr(et.videoFileUrl),Ir({files:rn,flattenSubtitleFiles:he}),ir(_r)}else sr.data.command==="edit-keyboard-shortcuts"?(Et(!0),fe("keyboard-shortcuts")):sr.data.command==="open-asbplayer-settings"?Et(!0):sr.data.command==="show-anki-ui"&&xr(sr.data)}const Ht=l.subscribe(Ve);return l.videoPlayer=!1,l.loadedSubtitles=b.length>0,l.syncedVideoElement=qt,l.startHeartbeat(),Ht},[l,b,R,et.videoFileUrl,qt,Ir,xr,dr]),x.useEffect(()=>{if(!R)return l.subscribe(Ve=>{if(Ve.data.command==="jump-to-subtitle"){const Ht=Ve.data;bn(Ht.subtitle,Ht.subtitleFileName)}})},[l,R,bn]),x.useEffect(()=>{if(!R)return l.subscribe(Ve=>{Ve.data.command==="download-image"&&Lr(Ve.data)})},[l,R,Lr]),x.useEffect(()=>{if(!R)return l.subscribe(Ve=>{Ve.data.command==="download-audio"&&Tr(Ve.data)})},[l,R,Tr]);const lt=x.useCallback((Ve,Ht)=>{switch(Ht){case Yr.autoPause:ue(g("info.enabledAutoPause"));break;case Yr.condensed:ue(g("info.enabledCondensedPlayback"));break;case Yr.fastForward:ue(g("info.enabledFastForwardPlayback"));break;case Yr.repeat:ue(g("info.enabledRepeatPlayback"));break;case Yr.normal:Ve===Yr.autoPause?ue(g("info.disabledAutoPause")):Ve===Yr.condensed?ue(g("info.disabledCondensedPlayback")):Ve===Yr.fastForward?ue(g("info.disabledFastForwardPlayback")):Ve===Yr.repeat&&ue(g("info.disabledRepeatPlayback"));break}ut("info"),ye(!0)},[g]),Er=x.useCallback(Ve=>{if(Se)return;if(Ve.preventDefault(),R){St(g("error.videoPlayerDragAndDropNotAllowed"));return}je(!1),qe.current=null;function Ht(sr){for(let Gt=0;Gt<sr.length;++Gt)if(!sr[Gt].webkitGetAsEntry()?.isDirectory)return!1;return!0}Ve.dataTransfer.items&&Ve.dataTransfer.items.length>0&&Ht(Ve.dataTransfer.items)?gn(Ve.dataTransfer.items):Ve.dataTransfer.files&&Ve.dataTransfer.files.length>0&&Ir({files:Ve.dataTransfer.files})},[R,St,Ir,gn,Se,g]),Wt=x.useCallback(()=>{const Ve=At.current?.files;Ve&&Ve.length>0&&(Ir({files:Ve}),At.current.value="")},[Ir]),Ke=x.useCallback(()=>At.current?.click(),[]),mt=x.useCallback(async Ve=>{const{id:Ht,synced:sr,src:Gt}=Ve;if(sr){const _r=await l.requestSubtitles(Ht,Gt);if(_r!==void 0){const{subtitles:rn,subtitleFileNames:he}=_r;if(he.length>0){const Je=he[0];ot(Je.substring(0,Je.lastIndexOf(".")));const at=rn.length>0?rn[rn.length-1].end:0;v(rn.map((gr,fr)=>({...gr,displayTime:op(gr.start,at),index:fr}))),ir(Ve)}}}else l.loadSubtitles(Ht,Gt)},[l]),$t=x.useCallback(async()=>{if(et.subtitleFiles===void 0)return;const Ve=et.subtitleFiles.filter(Ht=>!Ht.name.endsWith(".sup"));Ve.length!==0&&Xu(new Blob([await p.filesToSrt(Ve)],{type:"text/plain"}),`${Oe}.srt`)},[Oe,et.subtitleFiles,p]),Yt=x.useCallback(Ve=>{Se||Ve.preventDefault()},[Se]),Ar=x.useCallback(Ve=>{Se||(Ve.preventDefault(),Ve.stopPropagation(),R||(qe.current=Ve.target,je(!0)))},[R,Se]),Dr=x.useCallback(Ve=>{Ve.nativeEvent.preventDefault(),Ve.nativeEvent.stopPropagation(),!R&&qe.current===Ve.target&&je(!1)},[R]),en=x.useCallback(Ve=>{_t(Ht=>Ht?.filter(sr=>{for(const Gt of Ve)if(Gt===sr)return!1;return!0}))},[]);x.useEffect(()=>{var Ve=w.get("view");if(Ve==="settings"&&(Et(!0),location.hash&&location.hash.startsWith("#"))){const Ht=location.hash.substring(1,location.hash.length);fe(Ht)}},[w]),x.useEffect(()=>{et.videoFile&&rt&&we&&Le&&(V.current?.alert(we,Le),ye(!1))},[et.videoFile,we,Le,rt]);const ji=x.useCallback(Ve=>{navigator.clipboard.write([new ClipboardItem({[Ve.type]:Ve})]).catch(console.error)},[]);x.useEffect(()=>j?.bindToggleSidePanel(()=>{wr()},()=>Se||!l.supportsSidePanel,!1),[l,j,wr,Se]);const xn=x.useCallback(async(Ve,Ht)=>await B_.encode(Ve,()=>new jS),[]);x.useEffect(()=>{document.title=i.tabName},[i.tabName]);const{initialized:po}=IX({language:i.language}),ko=x.useCallback(()=>{f({ftueHasSeenAnkiDialogQuickSelectV2:!0})},[f]),ho=!Qi.isMobile&&a?.ftueHasSeenAnkiDialogQuickSelectV2===!1,[Ni,ii]=x.useState(!1),Ra=x.useCallback(()=>ii(!0),[]),Co=x.useCallback(()=>ii(!1),[]),tn=x.useCallback(()=>{},[]),{doUpdate:oa}=YX({onNeedRefresh:Ra,onOfflineReady:tn});if(!po)return null;const Io=Bt.length!==0,Oa=qt===void 0&&(Io&&!$.current||et.subtitleFiles.length===0&&!et.videoFile),Kn=et.videoFile!==void 0&&(ie&&!Q||O),Vi=ee&&!O,to=!l.installed||l.supportsLastSelectedAnkiExportModeSetting?i.lastSelectedAnkiExportMode:"default";return m.jsx(W$,{injectFirst:!0,children:m.jsxs(O5,{theme:T,children:[m.jsx(PG,{}),m.jsxs("div",{onDrop:Er,onDragOver:Yt,onDragEnter:Ar,onDragLeave:Dr,children:[!et.videoFile&&m.jsx(Y_,{open:rt,onClose:Ct,autoHideDuration:3e3,severity:Le,children:we}),R?m.jsxs(m.Fragment,{children:[m.jsx(rZ,{searchParams:w,settings:i,extension:l,miningContext:$e,ankiDialogOpen:Se,seekRequest:N,onSettingsChanged:d,onAnkiDialogRequest:Ft,onAnkiDialogRewind:ar,onError:St,onPlayModeChangedViaBind:lt}),le&&m.jsx(UR,{open:Se,disabled:Pt,card:le,anki:A,settings:i,lastSelectedExportMode:to,onCancel:mr,onProceed:Nr,onCopyToClipboard:ji,mp3Encoder:xn,showQuickSelectFtue:ho,onDismissShowQuickSelectFtue:ko,...h})]}):m.jsxs(Ei,{square:!0,children:[m.jsx(m7,{items:X,open:Vi,drawerWidth:G,onClose:Pr,onDelete:Z,onDeleteAll:D,onClipAudio:Tr,onDownloadImage:Lr,onDownloadSectionAsSrt:br,onSelect:Sn,onAnki:xr}),le&&m.jsx(UR,{open:Se,disabled:Pt,card:le,anki:A,settings:i,lastSelectedExportMode:to,onCancel:mr,onProceed:Nr,onOpenSettings:We,onCopyToClipboard:ji,mp3Encoder:xn,showQuickSelectFtue:ho,onDismissShowQuickSelectFtue:ko,...h}),m.jsx(OY,{anki:A,extension:l,open:Xt,onSettingsChanged:d,onClose:cr,dictionaryProvider:r,settings:i,activeProfile:h.activeProfile,scrollToId:yr,...h}),m.jsx(XX,{open:Ni,onRefresh:oa,onClose:Co}),m.jsx(WV,{title:Oe||"asbplayer",drawerWidth:G,drawerOpen:Vi,hidden:Kn,subtitleFiles:et.subtitleFiles,onOpenCopyHistory:wr,onDownloadSubtitleFilesAsSrt:$t,onOpenSettings:We,lastError:jt,onCopyLastError:kt}),m.jsx("input",{ref:At,onChange:Wt,type:"file",accept:JX,multiple:!0,hidden:!0}),m.jsxs(nZ,{drawerWidth:G,drawerOpen:Vi,children:[m.jsxs(Ei,{square:!0,style:{width:"100%",height:"100%",position:"relative"},children:[Oa&&m.jsx(k7,{latestExtensionVersion:ZX,extensionUrl:QX,extension:l,loading:Io,dragging:it,appBarHidden:Kn,videoElements:zt??[],onFileSelector:Ke,onVideoElementSelected:mt}),m.jsx(EV,{dragging:it,appBarHidden:Kn,logoUrl:e,loading:Io})]}),m.jsx(wW,{origin:t,subtitleReader:p,subtitles:b,settings:i,dictionaryProvider:r,settingsProvider:n,playbackPreferences:k,onCopy:$r,onError:St,onUnloadVideo:dr,onLoaded:en,onTabSelected:an,onAnkiDialogRequest:Ut,onAnkiDialogRewind:ei,onAppBarToggle:Hr,onHideSubtitlePlayer:Kr,onVideoPopOut:Ue,onPlayModeChangedViaBind:lt,onSubtitles:v,onLoadFiles:Ke,tab:qt,availableTabs:zt??[],sources:et,jumpToSubtitle:Be,rewindSubtitle:Ot,videoFrameRef:$,videoChannelRef:V,extension:l,drawerOpen:Vi,appBarHidden:Kn,showCopyButton:qt===void 0,videoFullscreen:O,hideSubtitlePlayer:ke||O,videoPopOut:Q,disableKeyEvents:xe,miningContext:$e,keyBinder:j,webSocketClient:S})]})]})]})]})})}const oZ=({dictionaryProvider:t,settingsProvider:e,onProfileChanged:r})=>{const[n,i]=x.useState([]),[a,l]=x.useState(),c=x.useCallback(()=>{e.profiles().then(i),e.activeProfile().then(g=>l(g?.name))},[e]);x.useEffect(()=>{c()},[c]);const d=x.useCallback(g=>e.addProfile(g).then(()=>e.profiles().then(i)).then(()=>e.setActiveProfile(g)).then(()=>l(g)).then(()=>r()),[e,r]),f=x.useCallback(async g=>{await t.deleteProfile(g),g===a&&(await e.setActiveProfile(void 0),l(void 0),r()),e.removeProfile(g).then(()=>e.profiles().then(i))},[t,e,a,r]),h=x.useCallback(g=>e.setActiveProfile(g).then(()=>l(g)).then(()=>r()),[e,r]);return{profiles:n,activeProfile:a,onNewProfile:d,onRemoveProfile:f,onSetActiveProfile:h,refreshProfileContext:c}},WP=5*60*1e3,Nu=-1;class aZ extends lp{meta;tokens;ankiCards;constructor(){super("DictionaryDatabase"),this.version(1).stores({meta:"[profile+track]",tokens:"[token+source+track+profile],[profile+token],*lemmas,*cardIds",ankiCards:"[cardId+track+profile],[profile+noteId]"})}}function Cf(t,e){return t.dictionaryAnkiDecks.length?t.dictionaryAnkiDecks.some(r=>r===e||e.startsWith(`${r}::`)):!0}function dg(t,e){return e.some(r=>t.dictionaryAnkiWordFields.includes(r)||t.dictionaryAnkiSentenceFields.includes(r))}class sZ{db;constructor(){this.db=new aZ}_getProfile(e){return e??"Default"}async getBulk(e,r,n){if(!n.length)return{};const i=this._getProfile(e);return this.db.transaction("r",this.db.tokens,this.db.ankiCards,async()=>this.db.tokens.where("[profile+token]").anyOf(n.map(a=>[i,a])).filter(a=>a.track===r||a.track===Nu).toArray().then(async a=>{if(!a.length)return{};const l=new Map;for(const f of a){const h=l.get(f.token);h?h.push(f):l.set(f.token,[f])}const c={};for(const[f,h]of l.entries())for(const g of h)if(g.source===pn.LOCAL){c[f]={source:g.source,statuses:[{status:g.status,suspended:!1}],states:g.states},l.delete(f);break}if(!l.size)return c;const d=await this.db.ankiCards.where("[cardId+track+profile]").anyOf(Array.from(new Set(Array.from(l.values()).flatMap(f=>f.flatMap(h=>h.cardIds)))).map(f=>[f,r,i])).toArray().then(f=>{if(!f.length)return new Map;const h=new Map;for(const g of f)h.set(g.cardId,{status:g.status,suspended:g.suspended});return h});for(const[f,h]of l.entries())for(const g of h){if(g.source!==pn.ANKI_WORD)continue;const p=[];for(const S of g.cardIds)p.push(d.get(S));c[f]={source:g.source,statuses:p,states:g.states},l.delete(f);break}if(!l.size)return c;for(const[f,h]of l.entries())for(const g of h){if(g.source!==pn.ANKI_SENTENCE)continue;const p=[];for(const S of g.cardIds)p.push(d.get(S));c[f]={source:g.source,statuses:p,states:g.states},l.delete(f);break}return c}))}async getByLemmaBulk(e,r,n){if(!n.length)return{};const i=new Set(n),a=this._getProfile(e);return this.db.transaction("r",this.db.tokens,this.db.ankiCards,async()=>this.db.tokens.where("lemmas").anyOf(n).distinct().filter(l=>(l.track===r||l.track===Nu)&&l.profile===a).toArray().then(async l=>{if(!l.length)return{};const c=new Map;for(const h of l)for(const g of h.lemmas){if(!i.has(g))continue;const p=c.get(g);p?p.push(h):c.set(g,[h])}const d={};for(const[h,g]of c.entries())for(const p of g){if(p.source!==pn.LOCAL)continue;let S=d[h];S||(S=[],d[h]=S),S.push({token:p.token,source:p.source,statuses:[{status:p.status,suspended:!1}],states:p.states}),c.delete(h)}if(!c.size)return d;const f=await this.db.ankiCards.where("[cardId+track+profile]").anyOf(Array.from(new Set(Array.from(c.values()).flatMap(h=>h.flatMap(g=>g.cardIds)))).map(h=>[h,r,a])).toArray().then(h=>{if(!h.length)return new Map;const g=new Map;for(const p of h)g.set(p.cardId,{status:p.status,suspended:p.suspended});return g});for(const[h,g]of c.entries())for(const p of g){if(p.source!==pn.ANKI_WORD)continue;let S=d[h];S||(S=[],d[h]=S);const b=[];for(const v of p.cardIds)b.push(f.get(v));S.push({token:p.token,source:p.source,statuses:b,states:p.states}),c.delete(h)}if(!c.size)return d;for(const[h,g]of c.entries())for(const p of g){if(p.source!==pn.ANKI_SENTENCE)continue;const S=[];for(const v of p.cardIds)S.push(f.get(v));const b=d[h];b?b.push({token:p.token,source:p.source,statuses:S,states:p.states}):d[h]=[{token:p.token,source:p.source,statuses:S,states:p.states}],c.delete(h)}return d}))}async saveRecordLocalBulk(e,r,n){if(!r.length)return{savedTokens:[],deletedTokens:[]};const i=this._getProfile(e);return this.db.transaction("rw",this.db.tokens,async()=>{const a=await this._getFromSourceBulk(i,Nu,pn.LOCAL,r.map(f=>f.token)),l=[],c=[];for(const f of r){if(!Ia.test(f.token))return console.error(`Cannot save local token with invalid token: "${f.token}"`),{savedTokens:[],deletedTokens:[]};const h=a.get(f.token);if(h){f.status==null&&(f.status=h.status);for(const g of h.lemmas)f.lemmas.includes(g)||f.lemmas.push(g);switch(n){case us.ADD:for(const g of h.states)f.states.includes(g)||f.states.push(g);break;case us.REMOVE:f.states=h.states.filter(g=>!f.states.includes(g));break;case us.REPLACE:break;case us.TOGGLE:for(const g of h.states){const p=f.states.indexOf(g);p!==-1?f.states.splice(p,1):f.states.push(g)}break;default:return console.error(`Unsupported applyStates value: "${n}"`),{savedTokens:[],deletedTokens:[]}}}else f.status==null&&(f.status=Wn.UNCOLLECTED);if(f.lemmas=f.lemmas.filter(g=>Ia.test(g)),!f.lemmas.length)return console.error(`Cannot save local token with no lemmas: "${f.token}"`),{savedTokens:[],deletedTokens:[]};if(f.status===Wn.UNCOLLECTED&&!f.states.length)if(h){c.push(f.token);continue}else return console.error(`Cannot save local token with uncollected status and no states: "${f.token}"`),{savedTokens:[],deletedTokens:[]};l.push({profile:i,track:Nu,source:pn.LOCAL,token:f.token,status:f.status,lemmas:f.lemmas,states:f.states,cardIds:[]})}const d=await Promise.all([this._saveRecordBulk(l),this.deleteRecordLocalBulk(e,c)]);return{savedTokens:d[0],deletedTokens:d[1].deletedTokens}})}async deleteRecordLocalBulk(e,r){if(!r.length)return{deletedTokens:[]};const n=this._getProfile(e);return this.db.transaction("rw",this.db.tokens,async()=>{const i=await this.db.tokens.where("[token+source+track+profile]").anyOf(r.map(a=>[a,pn.LOCAL,Nu,n])).primaryKeys();return await this.db.tokens.bulkDelete(i),{deletedTokens:i}})}async exportRecordLocalBulk(){return this.db.tokens.filter(e=>e.source===pn.LOCAL).toArray().then(e=>({exportedRecords:e.map(r=>({profile:r.profile,token:r.token,status:r.status,lemmas:r.lemmas.length?r.lemmas:void 0,states:r.states.length?r.states:void 0}))}))}async importRecordLocalBulk(e,r){const n=this._getProfile(void 0);r.includes(n)||r.unshift(n);const i=Zu();return this.db.transaction("rw",this.db.tokens,async()=>{const a=new Map;await this.db.tokens.filter(c=>c.source===pn.LOCAL).each(c=>{let d=a.get(c.profile);d||(d=new Map,a.set(c.profile,d)),d.set(c.token,{token:c.token,status:c.status,lemmas:c.lemmas,states:c.states})});const l=[];for(const c of e){if(!c.token||!Ia.test(c.token)||!c.profile||!r.includes(c.profile))continue;c.lemmas||(c.lemmas=[]),c.states||(c.states=[]);const d=a.get(c.profile)?.get(c.token);if(d){c.status=Math.max(c.status??Wn.UNCOLLECTED,d.status);for(const h of d.lemmas)c.lemmas.includes(h)||c.lemmas.push(h);c.states=d.states}if(c.lemmas=c.lemmas.filter(h=>Ia.test(h)),!c.lemmas.length)continue;let f=c.status;if(c.status==null||c.status<Wn.UNKNOWN){if(!c.states.length)continue;f==null&&(f=Wn.UNCOLLECTED)}else c.status>i&&(f=i);l.push({profile:c.profile,track:Nu,source:pn.LOCAL,token:c.token,status:f,lemmas:c.lemmas,states:c.states,cardIds:[]})}return{importedTokens:await this._saveRecordBulk(l)}})}async deleteProfile(e){return this.db.transaction("rw",this.db.meta,this.db.tokens,this.db.ankiCards,async()=>{const r=await this.db.meta.where("profile").equals(e).primaryKeys(),n=await this.db.tokens.where("profile").equals(e).primaryKeys(),i=await this.db.ankiCards.where("profile").equals(e).primaryKeys();return await Promise.all([this.db.meta.bulkDelete(r),this.db.tokens.bulkDelete(n),this.db.ankiCards.bulkDelete(i)]),{deletedMetas:r,deletedTokens:n,deletedAnkiCards:i}})}async _getFromSourceBulk(e,r,n,i){return i.length?this.db.tokens.where("[token+source+track+profile]").anyOf(i.map(a=>[a,n,r,e])).toArray().then(a=>{if(!a.length)return new Map;const l=new Map;for(const c of a)l.set(c.token,c);return l}):new Map}async _getAnkiCardKeys(e){return this.db.ankiCards.where("profile").equals(e).primaryKeys()}async _getAnkiCardsByNoteIdBulk(e,r){return r.length?this.db.ankiCards.where("[profile+noteId]").anyOf(r.map(n=>[e,n])).toArray().then(n=>{if(!n.length)return new Map;const i=new Map;for(const a of n){const l=i.get(a.noteId);l?l.push(a):i.set(a.noteId,[a])}return i}):new Map}async _saveRecordBulk(e){return e.length?this.db.tokens.bulkPut(e,{allKeys:!0}):[]}async _deleteCardBulk(e,r,n){for(const[i,a]of r.entries())a.length||r.delete(i);if(r.size)return this.db.transaction("rw",this.db.tokens,this.db.ankiCards,async()=>{await lI(Array.from(r.entries()),([i,a])=>{const l=new Set(a);return Promise.all([this.db.tokens.where("cardIds").anyOf(a).distinct().filter(c=>c.track===i&&c.profile===e).modify((c,d)=>{const f=c.cardIds.filter(h=>!l.has(h));if(f.length!==c.cardIds.length){n.add(c.token);for(const h of c.lemmas)n.add(h);f.length?c.cardIds=f:delete d.value}}),this.db.ankiCards.where("[cardId+track+profile]").anyOf(a.map(c=>[c,i,e])).delete()])})})}async _orphanAllCardIds(e,r){if(!r.length)return new Map;const n=new Map(r.map(i=>[i,[]]));return this._getAnkiCardKeys(e).then(i=>{for(const[a,l]of i){const c=n.get(l);c&&c.push(a)}return n})}async _ensureBuildId(e,r,n){return this.db.transaction("rw",this.db.meta,async()=>{const i=await this.db.meta.where("[profile+track]").equals(e).first();if(!n?.buildTs)return i?.buildId===r;const{buildTs:a}=n,l=a+WP;if(!i)return await this.db.meta.add({profile:e[0],track:e[1],lastBuildStartedAt:a,lastBuildExpiresAt:l,buildId:r,settings:null}),!0;if(i.buildId&&i.buildId!==r){if(a<i.lastBuildExpiresAt)return!1;console.warn(`Stale buildId ${i.buildId} which expired at ${new Date(i.lastBuildExpiresAt).toISOString()} detected for track ${e[1]+1}, ignoring.`)}return await this.db.meta.update(e,{lastBuildStartedAt:a,lastBuildExpiresAt:l,buildId:r}),!0})}async _buildIdHealthCheck(e,r){for(const n of r)if(!await this._ensureBuildId(n,e))throw new Error(`buildId was corrupted for track ${n[1]+1}`)}async _clearBuildId(e,r){return this.db.transaction("rw",this.db.meta,async()=>{(await this.db.meta.where("[profile+track]").equals(e).first())?.buildId===r&&await this.db.meta.update(e,{buildId:null})})}async buildAnkiCache(e,r,n){const i=new Set,a=new Fm(r);try{const g=(await a.requestPermission()).permission;if(g!=="granted")throw new Error(`permission ${g}`)}catch(g){console.error(g),n({type:Di.error,body:{code:Go.noAnki,msg:g instanceof Error?g.message:String(g),modifiedTokens:Array.from(i)}});return}const l=this._getProfile(e),c=En(),d=Date.now(),f=[];let h=!0;try{const g=new Map,p=[],S=[];for(const[A,w]of r.dictionaryTracks.entries()){const R=[l,A];let O=null;const M=await this.db.transaction("rw",this.db.meta,async()=>{if(await this._ensureBuildId(R,c,{buildTs:d})){O=(await this.db.meta.get(R)).settings;return}return await this.db.meta.where("[profile+track]").equals(R).first()});if(M!==void 0){console.warn(`Build already in progress - expires at ${M.lastBuildExpiresAt}}`),n({type:Di.error,body:{code:Go.concurrentBuild,modifiedTokens:Array.from(i),data:{expiration:M.lastBuildExpiresAt}}});return}if(f.push(R),!Rg(w))continue;if(!w.dictionaryAnkiWordFields.length&&!w.dictionaryAnkiSentenceFields.length){S.push(A);continue}const j=new Gu(w);try{await j.version()}catch(N){console.error(N),n({type:Di.error,body:{code:Go.noYomitan,msg:N instanceof Error?N.message:String(N),data:{track:A},modifiedTokens:Array.from(i)}});return}g.set(A,{dt:w,yomitan:j});const $={ankiConnectUrl:r.ankiConnectUrl,dictionaryYomitanUrl:w.dictionaryYomitanUrl,dictionaryYomitanScanLength:w.dictionaryYomitanScanLength,dictionaryAnkiDecks:w.dictionaryAnkiDecks,dictionaryAnkiWordFields:w.dictionaryAnkiWordFields,dictionaryAnkiSentenceFields:w.dictionaryAnkiSentenceFields,dictionaryAnkiMatureCutoff:w.dictionaryAnkiMatureCutoff},V=JSON.stringify($);V!==O&&(p.push({key:R,changes:{settings:V}}),S.push(A))}let b=0;if(S.length){const A=await this._orphanAllCardIds(l,S);if(b=Array.from(A.values()).reduce((w,R)=>w+R.length,0),await this.db.transaction("rw",this.db.tokens,this.db.ankiCards,this.db.meta,async()=>{await this._buildIdHealthCheck(c,f),await this._deleteCardBulk(l,A,i),await this._gatherModifiedTokens(l,i),p.length&&await this.db.meta.bulkUpdate(p)}),!g.size){n({type:Di.stats,body:{tracksToClear:S,orphanedCards:b,modifiedTokens:Array.from(i)}});return}}else if(!g.size){n({type:Di.stats,body:{modifiedTokens:Array.from(i)}});return}const v=new Map,k=new Map;let T=0;try{T=await this._syncTrackStatesWithAnki(l,g,v,k,a);for(const[A,w]of g.entries())await this._buildAnkiCardStatuses(A,w,v,a)}catch(A){console.error(A),n({type:Di.error,body:{msg:A instanceof Error?A.message:String(A),code:Go.failedToSyncTrackStates,modifiedTokens:Array.from(i)}});return}this._processTracks(l,c,g,v,k,S,b,i,f,T,d,n),h=!1,n({type:Di.stats,body:{tracksToBuild:Array.from(g.keys()),modifiedCards:T,modifiedTokens:[]}})}catch(g){console.error(g),n({type:Di.error,body:{msg:g instanceof Error?g.message:String(g),code:Go.failedToBuild,modifiedTokens:Array.from(i)}})}finally{h&&await this._clearBuildIds(f,c)}}async _clearBuildIds(e,r){for(const n of e)try{await this._clearBuildId(n,r)}catch(i){console.error(`Error clearing Anki token build ID for track ${n[1]+1}: ${i}`)}}async _syncTrackStatesWithAnki(e,r,n,i,a){const l=Array.from(r.values()).some(w=>!w.dt.dictionaryAnkiDecks.length)?"":Array.from(new Set(Array.from(r.values()).flatMap(w=>w.dt.dictionaryAnkiDecks))).map(w=>`"deck:${XR(w)}"`).join(" OR "),c=Array.from(new Set(Array.from(r.values()).flatMap(w=>[...w.dt.dictionaryAnkiWordFields,...w.dt.dictionaryAnkiSentenceFields]))).map(w=>`"${wc(w)}:_*"`).join(" OR "),d=l.length?`(${l}) (${c})`:`${c}`,f=await a.findNotes(d);if(!f.length){for(const[w,R]of(await this._orphanAllCardIds(e,Array.from(r.keys()))).entries())i.set(w,R);return new Set(Array.from(i.values()).flat()).size}const h=await a.notesInfo(f);if(h.length!==f.length)throw new Error("Anki changed during cards record build, some notes info could not be retrieved.");const g=h.reduce((w,R)=>(w.set(R.noteId,R.mod),w),new Map),p=h.flatMap(w=>w.cards),S=(await a.cardsModTime(p)).reduce((w,R)=>(w.set(R.cardId,R.mod),w),new Map);if(S.size!==p.length)throw new Error("Anki changed during cards record build, some cards mod time could not be retrieved.");const b=await this._getAnkiCardsByNoteIdBulk(e,f),v=[],k=new Set;for(const w of h){const R=Math.max(g.get(w.noteId),...w.cards.map(j=>S.get(j)));let O=!1;const M=b.get(w.noteId);for(const[j,$]of r.entries()){if(!dg($.dt,Object.keys(w.fields)))continue;const V=M?.filter(N=>N.track===j)??[];if(V.some(N=>N.modifiedAt!==R)||!V.length&&w.cards.length){O=!0;break}}if(O){w.mod=R,v.push(w);for(const j of w.cards)k.add(j)}}const T=new Map;if(v.length){const w=Array.from(k);for(const O of await a.cardsInfo(w))T.set(O.cardId,O.deckName);const R=Array.from(r.values()).map(O=>O.dt);for(let O=v.length-1;O>=0;O--){let M=!1;for(const j of R)if(v[O].cards.some($=>Cf(j,T.get($)))&&dg(j,Object.keys(v[O].fields))){M=!0;break}if(!M){for(const j of v[O].cards)k.delete(j);v.splice(O,1)}}}if(v.length){const w=Array.from(k),R=new Set,O=await a.areSuspended(w);for(let M=0;M<w.length;M++)O[M]&&R.add(w[M]);for(const M of v){const j=new Map;for(const[$,{value:V}]of Object.entries(M.fields)){const N=V.trim();N.length&&j.set($,N)}for(const $ of M.cards)n.set($,{noteId:M.noteId,deckName:T.get($),fields:j,modifiedAt:M.mod,statuses:new Map,suspended:R.has($)})}}let A=k.size;for(const w of r.keys())i.set(w,[]);for(const[w,R]of await this._getAnkiCardKeys(e)){const O=r.get(R);if(!O)continue;if(!S.has(w)){i.get(R).push(w),A+=1;continue}if(!k.has(w))continue;const M=n.get(w);if(!Cf(O.dt,M.deckName)){i.get(R).push(w);continue}dg(O.dt,Array.from(M.fields.keys()))||i.get(R).push(w)}return A}async _buildAnkiCardStatuses(e,r,n,i){if(!n.size)return;const a=Array.from(new Set([...r.dt.dictionaryAnkiWordFields,...r.dt.dictionaryAnkiSentenceFields]));if(!a.length)return;const l=r.dt.dictionaryAnkiDecks.map(b=>`"deck:${XR(b)}"`).join(" OR "),c=a.map(b=>`"${wc(b)}:_*"`).join(" OR "),d=l.length?`(${l}) (${c})`:c,f=r.dt.dictionaryAnkiMatureCutoff,h=Math.ceil(f/2);let g=Array.from(n.values()).filter(b=>Cf(r.dt,b.deckName)&&dg(r.dt,Array.from(b.fields.keys()))).length;if(g=this._processAnkiCardStatuses(e,await i.findCards(`is:new (${d})`),n,Wn.UNKNOWN,g),g===0||(g=this._processAnkiCardStatuses(e,await i.findCards(`is:learn (${d})`),n,Wn.LEARNING,g),g===0))return;const p=["prop:s","prop:ivl"],S=(await i.findCards(`prop:s>=0 (${d})`)).length?0:1;for(let b=S;b<p.length;b++){const v=p[b];if(g=this._processAnkiCardStatuses(e,await i.findCards(`-is:new -is:learn ${v}<${h} (${d})`),n,Wn.GRADUATED,g),g===0||(g=this._processAnkiCardStatuses(e,await i.findCards(`-is:new -is:learn ${v}>=${h} ${v}<${f} (${d})`),n,Wn.YOUNG,g),g===0)||(g=this._processAnkiCardStatuses(e,await i.findCards(`-is:new -is:learn ${v}>=${f} (${d})`),n,Wn.MATURE,g),g===0))return}if(g!==0)throw new Error("Anki changed during status build, some cards statuses could not be determined.")}_processAnkiCardStatuses(e,r,n,i,a){for(const l of r){const c=n.get(l);if(!(!c||c.statuses.has(e))&&(c.statuses.set(e,i),--a===0))break}return a}async _updateBuildAnkiCacheProgress(e,r,n,i,a){const l=n.current/(Date.now()-n.startedAt),c=l?Math.ceil((n.total-n.current)/l):0;await this.db.transaction("rw",this.db.meta,async()=>{await this._buildIdHealthCheck(e,r);const d=Date.now()+Math.max(c,WP),f=[];for(const h of r)f.push({key:h,changes:{lastBuildExpiresAt:d}});await this.db.meta.bulkUpdate(f)}),a({type:Di.progress,body:{current:n.current,total:n.total,buildTimestamp:n.startedAt,modifiedTokens:i}})}async _processTracks(e,r,n,i,a,l,c,d,f,h,g,p){let S;const b={current:0,total:i.size,startedAt:Date.now()};try{await this.db.transaction("rw",this.db.meta,this.db.tokens,this.db.ankiCards,async()=>{await this._buildIdHealthCheck(r,f),await this._deleteCardBulk(e,a,d)}),await this._buildTokensForTracks(e,n,i,r,f,b,p)}catch(v){S=v,console.error(v)}finally{await this._clearBuildIds(f,r),(d.size||h||c||S)&&(await this._gatherModifiedTokens(e,d),p(S?{type:Di.error,body:{msg:S instanceof Error?S.message:String(S),code:Go.failedToBuild,modifiedTokens:Array.from(d)}}:{type:Di.stats,body:{tracksToBuild:Array.from(n.keys()),modifiedCards:h,orphanedCards:c,tracksToClear:l,buildTimestamp:g,modifiedTokens:Array.from(d)}}))}}async _buildTokensForTracks(e,r,n,i,a,l,c){if(!n.size)return;const d=null;await ZP(Array.from(n.entries()),async f=>{const h=new Map;for(const[k,T]of f)h.set(k,T);for(const k of r.values()){const T=[],A=new Set([...k.dt.dictionaryAnkiWordFields,...k.dt.dictionaryAnkiSentenceFields]);for(const w of h.values())if(Cf(k.dt,w.deckName))for(const R of A){const O=w.fields.get(R);O&&T.push(O)}await k.yomitan.tokenizeBulk(T)}const g=new Map,p=new Map;for(const[k,T]of r.entries())g.set(k,new Map([[pn.ANKI_WORD,new Map],[pn.ANKI_SENTENCE,new Map]])),p.set(k,new Map([[pn.ANKI_WORD,T.dt.dictionaryAnkiWordFields],[pn.ANKI_SENTENCE,T.dt.dictionaryAnkiSentenceFields]]));for(const[k,T]of r.entries()){const A=g.get(k),w=p.get(k);for(const[R,O]of h.entries())if(Cf(T.dt,O.deckName))for(const[M,j]of w.entries())for(const $ of j){const V=A.get(M),N=O.fields.get($);if(N)for(const W of await T.yomitan.tokenize(N)){const z=W.map(B=>B.text).join("").trim();if(!Ia.test(z))continue;let I=V.get(z);I||(I={lemmas:await T.yomitan.lemmatize(z),cardIds:new Set},V.set(z,I)),I.cardIds.add(R)}}T.yomitan.resetCache()}const S=[],b=[];for(const k of r.keys()){for(const[T,A]of g.get(k).entries()){const w=await this._getFromSourceBulk(e,k,T,Array.from(A.keys()));for(const[R,O]of A.entries()){const M=w.get(R),j=[];if(M){for(const $ of M.cardIds)h.has($)||O.cardIds.add($);for(const $ of M.states)j.includes($)||j.push($)}S.push({profile:e,track:k,source:T,token:R,status:d,lemmas:O.lemmas,states:j,cardIds:Array.from(O.cardIds)})}}for(const[T,A]of h.entries()){const w=A.statuses.get(k);w!==void 0&&b.push({profile:e,track:k,cardId:T,noteId:A.noteId,modifiedAt:A.modifiedAt,status:w,suspended:A.suspended})}}const v=new Set;await this.db.transaction("rw",this.db.meta,this.db.tokens,this.db.ankiCards,async()=>{await this._buildIdHealthCheck(i,a),await this._saveTokensForDB(e,r,S,b,h,g,v),await this._gatherModifiedTokens(e,v)}),l.current+=h.size,await this._updateBuildAnkiCacheProgress(i,a,l,Array.from(v),c)},{batchSize:100})}async _saveTokensForDB(e,r,n,i,a,l,c){for(const d of n){c.add(d.token);for(const f of d.lemmas)c.add(f)}return this.db.transaction("rw",this.db.tokens,this.db.ankiCards,async()=>{await Promise.all([this._saveRecordBulk(n),this.db.ankiCards.bulkPut(i)]),await this.db.tokens.where("cardIds").anyOf(Array.from(a.keys())).distinct().filter(d=>(d.source===pn.ANKI_WORD||d.source===pn.ANKI_SENTENCE)&&r.has(d.track)&&d.profile===e).modify((d,f)=>{if(l.get(d.track).get(d.source).has(d.token))return;const h=d.cardIds.filter(g=>!a.has(g));if(h.length!==d.cardIds.length){c.add(d.token);for(const g of d.lemmas)c.add(g);h.length?d.cardIds=h:delete f.value}})})}async _gatherModifiedTokens(e,r){if(r.size)return this.db.tokens.where("lemmas").anyOf(Array.from(r)).distinct().filter(n=>n.profile===e).toArray().then(n=>{for(const i of n){r.add(i.token);for(const a of i.lemmas)r.add(a)}})}}class lZ{_storage;constructor(e){this._storage=e}getBulk(e,r,n){return this._storage.getBulk(e,r,n)}getByLemmaBulk(e,r,n){return this._storage.getByLemmaBulk(e,r,n)}saveRecordLocalBulk(e,r,n){return this._storage.saveRecordLocalBulk(e,r,n)}deleteRecordLocalBulk(e,r){return this._storage.deleteRecordLocalBulk(e,r)}deleteProfile(e){return this._storage.deleteProfile(e)}async exportRecordLocalBulk(){Xu(new Blob([JSON.stringify((await this._storage.exportRecordLocalBulk()).exportedRecords)],{type:"application/json"}),`asbplayer-local-words-${YP()}.json`)}importRecordLocalBulk(e,r){return this._storage.importRecordLocalBulk(e,r)}buildAnkiCache(e,r,n){return this._storage.buildAnkiCache(e,r,n)}ankiCardWasModified(){return this._storage.ankiCardWasModified()}onAnkiCardModified(e){return this._storage.onAnkiCardModified(e)}onBuildAnkiCacheStateChange(e){return this._storage.onBuildAnkiCacheStateChange(e)}}const cZ=({extension:t,origin:e,logoUrl:r,dictionaryStorage:n,settingsStorage:i,globalStateProvider:a,fetcher:l})=>{const c=x.useMemo(()=>new lZ(n),[n]),d=x.useMemo(()=>new NI(i),[i]),[f,h]=x.useState(),[g,p]=x.useState();x.useEffect(()=>{d.getAll().then(h)},[d]);const S=x.useCallback(async A=>{h(w=>({...w,...A})),await d.set(A)},[d]),b=x.useCallback(()=>{d.getAll().then(h)},[d]),{refreshProfileContext:v,...k}=oZ({dictionaryProvider:c,settingsProvider:d,onProfileChanged:b});x.useEffect(()=>i.onSettingsUpdated(()=>{d.getAll().then(h),v()}),[t,d,i,v]),x.useEffect(()=>{a.getAll().then(p)},[a]);const T=x.useCallback(A=>{p(w=>{if(w!==void 0)return{...w,...A}}),a.set(A)},[a]);return f===void 0?null:m.jsx(iZ,{origin:e,logoUrl:r,dictionaryProvider:c,settingsProvider:d,settings:f,globalState:g,extension:t,fetcher:l,onSettingsChanged:S,onGlobalStateChanged:T,...k})};class uZ{_extension;buildAnkiCacheStateChangeCallbacks;buildAnkiCacheStateChange;ankiCardModifiedCallbacks;ankiCardModified;constructor(e){this._extension=e,this.buildAnkiCacheStateChangeCallbacks=[],this.ankiCardModifiedCallbacks=[]}getBulk(e,r,n){return this._extension.dictionaryGetBulk(e,r,n)}getByLemmaBulk(e,r,n){return this._extension.dictionaryGetByLemmaBulk(e,r,n)}saveRecordLocalBulk(e,r,n){return this._extension.dictionarySaveRecordLocalBulk(e,r,n)}deleteRecordLocalBulk(e,r){return this._extension.dictionaryDeleteRecordLocalBulk(e,r)}deleteProfile(e){return this._extension.dictionaryDeleteProfile(e)}exportRecordLocalBulk(){return this._extension.dictionaryExportRecordLocalBulk()}importRecordLocalBulk(e,r){return this._extension.dictionaryImportRecordLocalBulk(e,r)}buildAnkiCache(e,r){return this._extension.buildAnkiCache(e,r)}ankiCardWasModified(){window.parent.postMessage({sender:"asbplayer-dictionary",message:{command:"card-updated-dialog"}})}onAnkiCardModified(e){return this.ankiCardModifiedCallbacks.push(e),this.ankiCardModified||(this.ankiCardModified=r=>{if(r.type!=="message")return;const n=r.data;n.sender==="asbplayer-dictionary"&&(n.message.command!=="card-updated-dialog"&&n.message.command!=="card-exported-dialog"||this.ankiCardModifiedCallbacks.forEach(i=>i()))},window.parent.addEventListener("message",this.ankiCardModified)),()=>{this._removeCallback(e,this.ankiCardModifiedCallbacks),!this.ankiCardModifiedCallbacks.length&&this.ankiCardModified&&(window.parent.removeEventListener("message",this.ankiCardModified),this.ankiCardModified=void 0)}}onBuildAnkiCacheStateChange(e){return this.buildAnkiCacheStateChangeCallbacks.push(e),this.buildAnkiCacheStateChange||(this.buildAnkiCacheStateChange=r=>{if(r.type!=="message")return;const n=r.data;n.sender==="asbplayer-extension-to-player"&&n.message.command==="dictionary-build-anki-cache-state"&&this.buildAnkiCacheStateChangeCallbacks.forEach(i=>i(n.message))},window.parent.addEventListener("message",this.buildAnkiCacheStateChange)),()=>{this._removeCallback(e,this.buildAnkiCacheStateChangeCallbacks),!this.buildAnkiCacheStateChangeCallbacks.length&&this.buildAnkiCacheStateChange&&(window.parent.removeEventListener("message",this.buildAnkiCacheStateChange),this.buildAnkiCacheStateChange=void 0)}}_removeCallback(e,r){for(let n=r.length-1;n>=0;--n)if(e===r[n]){r.splice(n,1);break}}}class dZ{_extension;_settingsUpdatedCallbacks=[];_unsubscribeExtension;constructor(e){this._extension=e}get(e){return this._extension.getSettings(e)}set(e){return this._extension.setSettings(e)}activeProfile(){return this._extension.activeSettingsProfile()}setActiveProfile(e){return this._extension.setActiveSettingsProfile(e)}profiles(){return this._extension.settingsProfiles()}addProfile(e){return this._extension.addSettingsProfile(e)}removeProfile(e){return this._extension.removeSettingsProfile(e)}onSettingsUpdated(e){return this._settingsUpdatedCallbacks.length===0&&(this._unsubscribeExtension=this._extension.subscribe(r=>{if(r.data.command==="settings-updated")for(const n of this._settingsUpdatedCallbacks)n()})),this._settingsUpdatedCallbacks.push(e),()=>this._unsubscribeCallback(e)}_unsubscribeCallback(e){for(let r=this._settingsUpdatedCallbacks.length-1;r>=0;--r)if(e===this._settingsUpdatedCallbacks[r]){this._settingsUpdatedCallbacks.splice(r,1);break}this._settingsUpdatedCallbacks.length===0&&this._unsubscribeExtension?.()}}const NS={ftueHasSeenAnkiDialogQuickSelectV2:!1,ftueHasSeenSubtitleTrackSelector:!1};class fZ{_extension;constructor(e){this._extension=e}async getAll(){return this._extension.supportsGlobalState?this._extension.getGlobalState():this._getFromLocalStorage(Object.keys(NS))}async get(e){return this._extension.supportsGlobalState?this._extension.getSomeGlobalState(e):this._getFromLocalStorage(e)}_getFromLocalStorage(e){try{const r={};for(const n of e){const i=localStorage.getItem(n);r[n]=i===null?NS[n]:JSON.parse(i)}return r}catch(r){return console.error(r),Object.fromEntries(e.map(n=>[n,NS[n]]))}}async set(e){if(this._extension.supportsGlobalState)return this._extension.setGlobalState(e);for(const r of Object.keys(e))localStorage.setItem(r,JSON.stringify(e[r]))}}class pZ{dictionaryDB;buildAnkiCacheStateChangeCallbacks;buildAnkiCacheStateChange;ankiCardModifiedCallbacks;ankiCardModified;constructor(){this.dictionaryDB=new sZ,this.buildAnkiCacheStateChangeCallbacks=[],this.ankiCardModifiedCallbacks=[]}getBulk(e,r,n){return this.dictionaryDB.getBulk(e,r,n)}getByLemmaBulk(e,r,n){return this.dictionaryDB.getByLemmaBulk(e,r,n)}saveRecordLocalBulk(e,r,n){return this.dictionaryDB.saveRecordLocalBulk(e,r,n)}deleteRecordLocalBulk(e,r){return this.dictionaryDB.deleteRecordLocalBulk(e,r)}deleteProfile(e){return this.dictionaryDB.deleteProfile(e)}exportRecordLocalBulk(){return this.dictionaryDB.exportRecordLocalBulk()}importRecordLocalBulk(e,r){return this.dictionaryDB.importRecordLocalBulk(e,r)}buildAnkiCache(e,r){return this.dictionaryDB.buildAnkiCache(e,r,n=>{const i={sender:"asbplayer-extension-to-player",message:{command:"dictionary-build-anki-cache-state",...n}};window.parent.postMessage(i)})}ankiCardWasModified(){window.parent.postMessage({sender:"asbplayer-dictionary",message:{command:"card-updated-dialog"}})}onAnkiCardModified(e){return this.ankiCardModifiedCallbacks.push(e),this.ankiCardModified||(this.ankiCardModified=r=>{if(r.type!=="message")return;const n=r.data;n.sender==="asbplayer-dictionary"&&(n.message.command!=="card-updated-dialog"&&n.message.command!=="card-exported-dialog"||this.ankiCardModifiedCallbacks.forEach(i=>i()))},window.parent.addEventListener("message",this.ankiCardModified)),()=>{this._removeCallback(e,this.ankiCardModifiedCallbacks),!this.ankiCardModifiedCallbacks.length&&this.ankiCardModified&&(window.parent.removeEventListener("message",this.ankiCardModified),this.ankiCardModified=void 0)}}onBuildAnkiCacheStateChange(e){return this.buildAnkiCacheStateChangeCallbacks.push(e),this.buildAnkiCacheStateChange||(this.buildAnkiCacheStateChange=r=>{if(r.type!=="message")return;const n=r.data;n.sender==="asbplayer-extension-to-player"&&n.message.command==="dictionary-build-anki-cache-state"&&this.buildAnkiCacheStateChangeCallbacks.forEach(i=>i(n.message))},window.parent.addEventListener("message",this.buildAnkiCacheStateChange)),()=>{this._removeCallback(e,this.buildAnkiCacheStateChangeCallbacks),!this.buildAnkiCacheStateChangeCallbacks.length&&this.buildAnkiCacheStateChange&&(window.parent.removeEventListener("message",this.buildAnkiCacheStateChange),this.buildAnkiCacheStateChange=void 0)}}_removeCallback(e,r){for(let n=r.length-1;n>=0;--n)if(e===r[n]){r.splice(n,1);break}}}const Ho=new Fx,IS="activeSettingsProfile",LS="settingsProfiles";class hZ{_settingsUpdatedCallbacks=[];_storageListener;async get(e){const r=this._activeProfile();return this._get(e,r)}_get(e,r){const n={},i=r===void 0?e:Yb(e,r.name);for(const[a,l]of Object.entries(i)){const c=Ho.get(a),d=r===void 0?a:LI(a,r.name);c===null?n[d]=l:n[d]=PT[d](c)}return n}async getStored(e){const r=this._activeProfile();return this._getStored(e,r)}_getStored(e,r){const n={};for(const i of e){const a=r===void 0?i:c2(i,r.name),l=Ho.get(a);l!==null&&(n[i]=PT[i](l))}return n}async set(e){const r=this._activeProfile();this._set(e,r)}_set(e,r){const n=r===void 0?e:Yb(e,r.name);for(const[i,a]of Object.entries(n))typeof a=="object"?Ho.set(i,JSON.stringify(a)):Ho.set(i,String(a))}async activeProfile(){return this._activeProfile()}_activeProfile(){const e=Ho.get(IS)??void 0;return e===void 0?void 0:this._profiles().find(n=>n.name===e)}async setActiveProfile(e){if(e===void 0)Ho.delete(IS);else{if(!(this._profiles().find(i=>i.name===e)!==void 0))throw new Error(`Cannot set active profile to non-existant profile ${e}`);Ho.set(IS,e)}}async profiles(){return this._profiles()}_profiles(){const e=Ho.get(LS);return e===null?[]:JSON.parse(e)}async addProfile(e){const r=this._profiles(),n=r.find(l=>l.name===e),i={name:e};n===void 0&&r.push(i),Ho.set(LS,JSON.stringify(r));const a=this._getStored(Object.keys(lo));this._set(a,i)}async removeProfile(e){const r=this._profiles(),n=this._activeProfile();if(e===n?.name)throw new Error("Cannot remove active profile");const i=r.filter(l=>l.name!==e),a=Object.keys(Yb(lo,e));for(const l of a)Ho.delete(l);Ho.set(LS,JSON.stringify(i))}onSettingsUpdated(e){return this._settingsUpdatedCallbacks.length===0&&(this._storageListener=r=>{if(r.key!==null&&r.key in lo){Ho.bustCache();for(const n of this._settingsUpdatedCallbacks)n()}},window.addEventListener("storage",this._storageListener)),this._settingsUpdatedCallbacks.push(e),()=>this._unsubscribe(e)}_unsubscribe(e){for(let r=this._settingsUpdatedCallbacks.length-1;r>=0;--r)if(e===this._settingsUpdatedCallbacks[r]){this._settingsUpdatedCallbacks.splice(r,1);break}this._settingsUpdatedCallbacks.length===0&&this._storageListener!==void 0&&window.removeEventListener("storage",this._storageListener)}clear(){Ho.bustCache(),localStorage.clear()}}const gZ=t=>{const e=_L({component:"application"}),r=x.useMemo(()=>e.supportsDictionary?new uZ(e):new pZ,[e]),n=x.useMemo(()=>e.supportsAppIntegration?new dZ(e):new hZ,[e]),i=x.useMemo(()=>new fZ(e),[e]);return m.jsx(cZ,{...t,extension:e,dictionaryStorage:r,settingsStorage:n,globalStateProvider:i})},mZ=new Ix;KN.createRoot(document.querySelector("#root")).render(m.jsx(gZ,{origin:location.pathname,logoUrl:`${location.pathname==="/"?"":location.pathname}/background-colored.png`,fetcher:mZ}));
